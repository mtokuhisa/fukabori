<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç·Šæ€¥ä¿®æ­£å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ - æ·±å €ãã‚“v2.0</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .test-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
        }
        .status-pass { background: #4CAF50; box-shadow: 0 0 10px #4CAF50; }
        .status-fail { background: #f44336; box-shadow: 0 0 10px #f44336; }
        .status-pending { background: #ff9800; box-shadow: 0 0 10px #ff9800; }
        .test-step {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #4CAF50;
        }
        .test-step.fail { border-left-color: #f44336; }
        .test-step.pending { border-left-color: #ff9800; }
        .button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
        }
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        .button.danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }
        .button.danger:hover {
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
        }
        .code-output {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
        .info { color: #2196F3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš¨ ç·Šæ€¥ä¿®æ­£å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ</h1>
        <p>ç·¨é›†é–‹å§‹ä¸å¯å•é¡Œã®ä¿®æ­£ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p>

        <!-- å•é¡Œæ¦‚è¦ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ› ä¿®æ­£å¯¾è±¡å•é¡Œ
            </div>
            <div class="test-step">
                <strong>ã‚¨ãƒ©ãƒ¼:</strong> <code>TypeError: window.unifiedStateManager?.getCompleteState is not a function</code><br>
                <strong>åŸå› :</strong> UnifiedStateManagerã®æœªå®Ÿè£…ãƒ¡ã‚½ãƒƒãƒ‰ã¨å‘½åä¸æ•´åˆ<br>
                <strong>å½±éŸ¿:</strong> æ–‡å­—èµ·ã“ã—ç·¨é›†é–‹å§‹ä¸å¯
            </div>
        </div>

        <!-- ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ -->
        <div class="test-panel">
            <div class="test-title">
                <span class="status-indicator" id="dependency-status"></span>
                ğŸ” ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯
            </div>
            <div id="dependency-results"></div>
            <button class="button" onclick="checkDependencies()">ä¾å­˜é–¢ä¿‚ç¢ºèª</button>
        </div>

        <!-- UnifiedStateManagerãƒ†ã‚¹ãƒˆ -->
        <div class="test-panel">
            <div class="test-title">
                <span class="status-indicator" id="unified-status"></span>
                ğŸ—ï¸ UnifiedStateManagerå‹•ä½œãƒ†ã‚¹ãƒˆ
            </div>
            <div id="unified-results"></div>
            <button class="button" onclick="testUnifiedStateManager()">ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨ç¢ºèª</button>
            <button class="button" onclick="testStateBackupRestore()">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒãƒ†ã‚¹ãƒˆ</button>
        </div>

        <!-- EmergencySystemManagerãƒ†ã‚¹ãƒˆ -->
        <div class="test-panel">
            <div class="test-title">
                <span class="status-indicator" id="emergency-status"></span>
                ğŸ†˜ EmergencySystemManagerå‹•ä½œãƒ†ã‚¹ãƒˆ
            </div>
            <div id="emergency-results"></div>
            <button class="button" onclick="testEmergencyBackup()">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆãƒ†ã‚¹ãƒˆ</button>
            <button class="button" onclick="testEmergencyRollback()">ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ</button>
        </div>

        <!-- ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ -->
        <div class="test-panel">
            <div class="test-title">
                <span class="status-indicator" id="edit-status"></span>
                âœï¸ ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            </div>
            <div id="edit-results"></div>
            <button class="button" onclick="simulateEditStart()">ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button>
            <button class="button danger" onclick="clearAllTests()">ãƒ†ã‚¹ãƒˆçµæœã‚¯ãƒªã‚¢</button>
        </div>

        <!-- ç·åˆçµæœ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ“Š ç·åˆãƒ†ã‚¹ãƒˆçµæœ
            </div>
            <div id="overall-results"></div>
            <button class="button" onclick="runAllTests()">å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
        </div>
    </div>

    <script>
        // =================================================================================
        // ç·Šæ€¥ä¿®æ­£å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ 
        // =================================================================================

        let testResults = {
            dependencies: null,
            unified: null,
            emergency: null,
            edit: null
        };

        /**
         * ãƒ­ã‚°å‡ºåŠ›ãƒ˜ãƒ«ãƒ‘ãƒ¼
         */
        function createLogEntry(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const typeClass = type === 'success' ? 'success' : 
                             type === 'error' ? 'error' : 
                             type === 'warning' ? 'warning' : 'info';
            return `<div class="${typeClass}">[${timestamp}] ${message}</div>`;
        }

        /**
         * çŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼æ›´æ–°
         */
        function updateStatusIndicator(elementId, status) {
            const indicator = document.getElementById(elementId);
            indicator.className = `status-indicator status-${status}`;
        }

        /**
         * ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯
         */
        function checkDependencies() {
            const results = document.getElementById('dependency-results');
            let output = '';
            let allPassed = true;

            const dependencies = [
                { name: 'window.AppState', object: window.AppState },
                { name: 'window.UnifiedStateManager', object: window.UnifiedStateManager },
                { name: 'window.TranscriptProtectionManager', object: window.TranscriptProtectionManager },
                { name: 'window.StateUpdateController', object: window.StateUpdateController },
                { name: 'window.EmergencySystemManager', object: window.EmergencySystemManager },
                { name: 'window.transcriptEditManager', object: window.transcriptEditManager }
            ];

            dependencies.forEach(dep => {
                const exists = !!dep.object;
                output += createLogEntry(
                    `${dep.name}: ${exists ? 'âœ… å­˜åœ¨' : 'âŒ æœªå­˜åœ¨'}`,
                    exists ? 'success' : 'error'
                );
                if (!exists) allPassed = false;
            });

            testResults.dependencies = allPassed;
            updateStatusIndicator('dependency-status', allPassed ? 'pass' : 'fail');
            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * UnifiedStateManagerå‹•ä½œãƒ†ã‚¹ãƒˆ
         */
        function testUnifiedStateManager() {
            const results = document.getElementById('unified-results');
            let output = '';
            let allPassed = true;

            try {
                // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å­˜åœ¨ç¢ºèª
                if (!window.UnifiedStateManager) {
                    output += createLogEntry('âŒ UnifiedStateManagerãŒå­˜åœ¨ã—ã¾ã›ã‚“', 'error');
                    allPassed = false;
                } else {
                    output += createLogEntry('âœ… UnifiedStateManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª', 'success');

                    // getCompleteStateãƒ¡ã‚½ãƒƒãƒ‰ç¢ºèª
                    if (typeof window.UnifiedStateManager.getCompleteState === 'function') {
                        output += createLogEntry('âœ… getCompleteState()ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨ç¢ºèª', 'success');
                        
                        // å®Ÿéš›ã«å‘¼ã³å‡ºã—ãƒ†ã‚¹ãƒˆ
                        try {
                            const state = window.UnifiedStateManager.getCompleteState();
                            output += createLogEntry('âœ… getCompleteState()å®Ÿè¡ŒæˆåŠŸ', 'success');
                            output += createLogEntry(`çŠ¶æ…‹å–å¾—çµæœ: ${Object.keys(state).length}å€‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³`, 'info');
                        } catch (error) {
                            output += createLogEntry(`âŒ getCompleteState()å®Ÿè¡Œã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                            allPassed = false;
                        }
                    } else {
                        output += createLogEntry('âŒ getCompleteState()ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—ã¾ã›ã‚“', 'error');
                        allPassed = false;
                    }

                    // restoreCompleteStateãƒ¡ã‚½ãƒƒãƒ‰ç¢ºèª
                    if (typeof window.UnifiedStateManager.restoreCompleteState === 'function') {
                        output += createLogEntry('âœ… restoreCompleteState()ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨ç¢ºèª', 'success');
                    } else {
                        output += createLogEntry('âŒ restoreCompleteState()ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—ã¾ã›ã‚“', 'error');
                        allPassed = false;
                    }
                }
            } catch (error) {
                output += createLogEntry(`âŒ UnifiedStateManagerãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                allPassed = false;
            }

            testResults.unified = allPassed;
            updateStatusIndicator('unified-status', allPassed ? 'pass' : 'fail');
            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * çŠ¶æ…‹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒãƒ†ã‚¹ãƒˆ
         */
        function testStateBackupRestore() {
            const results = document.getElementById('unified-results');
            let output = results.innerHTML || '';
            let testPassed = true;

            try {
                if (window.UnifiedStateManager && 
                    typeof window.UnifiedStateManager.getCompleteState === 'function' &&
                    typeof window.UnifiedStateManager.restoreCompleteState === 'function') {
                    
                    // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
                    const originalState = window.UnifiedStateManager.getCompleteState();
                    output += createLogEntry('ğŸ“„ å…ƒã®çŠ¶æ…‹ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—', 'info');

                    // çŠ¶æ…‹å¤‰æ›´
                    if (originalState.ui) {
                        originalState.ui.testFlag = 'TEST_MODIFICATION';
                    }

                    // å¾©å…ƒãƒ†ã‚¹ãƒˆ
                    const restored = window.UnifiedStateManager.restoreCompleteState(originalState);
                    if (restored) {
                        output += createLogEntry('âœ… çŠ¶æ…‹å¾©å…ƒãƒ†ã‚¹ãƒˆæˆåŠŸ', 'success');
                    } else {
                        output += createLogEntry('âŒ çŠ¶æ…‹å¾©å…ƒãƒ†ã‚¹ãƒˆå¤±æ•—', 'error');
                        testPassed = false;
                    }
                } else {
                    output += createLogEntry('âš ï¸ å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒä¸è¶³ã—ã¦ã„ã‚‹ãŸã‚ã‚¹ã‚­ãƒƒãƒ—', 'warning');
                }
            } catch (error) {
                output += createLogEntry(`âŒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                testPassed = false;
            }

            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * EmergencySystemManagerãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ
         */
        function testEmergencyBackup() {
            const results = document.getElementById('emergency-results');
            let output = '';
            let testPassed = true;

            try {
                if (!window.EmergencySystemManager) {
                    output += createLogEntry('âŒ EmergencySystemManagerãŒå­˜åœ¨ã—ã¾ã›ã‚“', 'error');
                    testPassed = false;
                } else {
                    // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆãƒ†ã‚¹ãƒˆ
                    const backupId = window.EmergencySystemManager.createFullSystemBackup('test-fix');
                    if (backupId) {
                        output += createLogEntry(`âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆæˆåŠŸ (ID: ${backupId})`, 'success');
                        
                        // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´ç¢ºèª
                        const historyCount = window.EmergencySystemManager.backupHistory?.length || 0;
                        output += createLogEntry(`ğŸ“Š ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´: ${historyCount}ä»¶`, 'info');
                    } else {
                        output += createLogEntry('âŒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå¤±æ•—', 'error');
                        testPassed = false;
                    }
                }
            } catch (error) {
                output += createLogEntry(`âŒ EmergencySystemManagerãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                testPassed = false;
            }

            testResults.emergency = testPassed;
            updateStatusIndicator('emergency-status', testPassed ? 'pass' : 'fail');
            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
         */
        function testEmergencyRollback() {
            const results = document.getElementById('emergency-results');
            let output = results.innerHTML || '';
            let testPassed = true;

            try {
                if (window.EmergencySystemManager && window.EmergencySystemManager.backupHistory.length > 0) {
                    const rollbackSuccess = window.EmergencySystemManager.emergencyRollback();
                    if (rollbackSuccess) {
                        output += createLogEntry('âœ… ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆæˆåŠŸ', 'success');
                    } else {
                        output += createLogEntry('âŒ ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå¤±æ•—', 'error');
                        testPassed = false;
                    }
                } else {
                    output += createLogEntry('âš ï¸ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã‚¹ã‚­ãƒƒãƒ—', 'warning');
                }
            } catch (error) {
                output += createLogEntry(`âŒ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                testPassed = false;
            }

            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
         */
        function simulateEditStart() {
            const results = document.getElementById('edit-results');
            let output = '';
            let testPassed = true;

            try {
                output += createLogEntry('ğŸ¬ ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹', 'info');

                // 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                if (window.EmergencySystemManager) {
                    try {
                        const backupId = window.EmergencySystemManager.createFullSystemBackup('edit-start-test');
                        output += createLogEntry('âœ… Step 1: ç·¨é›†é–‹å§‹å‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆæˆåŠŸ', 'success');
                    } catch (error) {
                        output += createLogEntry(`âŒ Step 1: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå¤±æ•— - ${error.message}`, 'error');
                        testPassed = false;
                    }
                } else {
                    output += createLogEntry('âŒ Step 1: EmergencySystemManagerãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    testPassed = false;
                }

                // 2. ç·¨é›†ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®ç¢ºèª
                if (window.transcriptEditManager) {
                    if (typeof window.transcriptEditManager.startEditing === 'function') {
                        output += createLogEntry('âœ… Step 2: TranscriptEditManager.startEditing()å­˜åœ¨ç¢ºèª', 'success');
                    } else {
                        output += createLogEntry('âŒ Step 2: startEditing()ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—ã¾ã›ã‚“', 'error');
                        testPassed = false;
                    }
                } else {
                    output += createLogEntry('âš ï¸ Step 2: TranscriptEditManagerãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'warning');
                }

                // 3. çµ±åˆãƒ†ã‚¹ãƒˆ
                if (testPassed) {
                    output += createLogEntry('ğŸ‰ ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: å…¨ãƒã‚§ãƒƒã‚¯é€šé', 'success');
                    output += createLogEntry('âœ… ä¿®æ­£ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™', 'success');
                } else {
                    output += createLogEntry('âš ï¸ ç·¨é›†é–‹å§‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ä¸€éƒ¨å•é¡ŒãŒã‚ã‚Šã¾ã™', 'warning');
                }

            } catch (error) {
                output += createLogEntry(`âŒ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                testPassed = false;
            }

            testResults.edit = testPassed;
            updateStatusIndicator('edit-status', testPassed ? 'pass' : 'fail');
            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
         */
        function runAllTests() {
            console.log('ğŸš€ å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œé–‹å§‹');
            checkDependencies();
            setTimeout(() => testUnifiedStateManager(), 500);
            setTimeout(() => testStateBackupRestore(), 1000);
            setTimeout(() => testEmergencyBackup(), 1500);
            setTimeout(() => testEmergencyRollback(), 2000);
            setTimeout(() => simulateEditStart(), 2500);
            setTimeout(() => updateOverallResults(), 3000);
        }

        /**
         * ç·åˆçµæœæ›´æ–°
         */
        function updateOverallResults() {
            const results = document.getElementById('overall-results');
            const passCount = Object.values(testResults).filter(r => r === true).length;
            const totalCount = Object.values(testResults).filter(r => r !== null).length;
            
            let output = '';
            output += createLogEntry(`ğŸ“Š ãƒ†ã‚¹ãƒˆå®Œäº†: ${passCount}/${totalCount} åˆæ ¼`, passCount === totalCount ? 'success' : 'warning');
            
            if (passCount === totalCount && totalCount > 0) {
                output += createLogEntry('ğŸ‰ ä¿®æ­£å®Œäº†ï¼ç·¨é›†æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã—ã¾ã™', 'success');
            } else {
                output += createLogEntry('âš ï¸ ä¸€éƒ¨ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ã„ã¾ã™ã€‚è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'warning');
            }

            results.innerHTML = `<div class="code-output">${output}</div>`;
        }

        /**
         * ãƒ†ã‚¹ãƒˆçµæœã‚¯ãƒªã‚¢
         */
        function clearAllTests() {
            const resultIds = ['dependency-results', 'unified-results', 'emergency-results', 'edit-results', 'overall-results'];
            resultIds.forEach(id => {
                document.getElementById(id).innerHTML = '';
            });
            
            testResults = { dependencies: null, unified: null, emergency: null, edit: null };
            
            const statusIds = ['dependency-status', 'unified-status', 'emergency-status', 'edit-status'];
            statusIds.forEach(id => {
                updateStatusIndicator(id, 'pending');
            });
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ§ª ç·Šæ€¥ä¿®æ­£å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
            
            // 3ç§’å¾Œã«è‡ªå‹•ãƒ†ã‚¹ãƒˆé–‹å§‹
            setTimeout(() => {
                console.log('â° è‡ªå‹•ãƒ†ã‚¹ãƒˆé–‹å§‹');
                runAllTests();
            }, 3000);
        });
    </script>
</body>
</html> 