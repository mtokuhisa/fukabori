<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shift+Enterç·¨é›†çµ‚äº†æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ - æ·±å €ãã‚“v2.0</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .test-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .test-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .demo-transcript {
            background: rgba(255, 255, 255, 0.4);
            border: 4px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            min-height: 60px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .demo-transcript:hover {
            background: rgba(255, 255, 255, 0.6);
        }
        .instruction {
            background: rgba(52, 152, 219, 0.2);
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .test-step {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #4CAF50;
        }
        .result-log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
        }
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        .button.secondary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }
        .button.secondary:hover {
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }
        .key-demo {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin: 0 5px;
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
        .info { color: #2196F3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>âŒ¨ï¸ Shift+Enterç·¨é›†çµ‚äº†æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>
        <p>æ—¥æœ¬èªIMEæ¼¢å­—å¤‰æ›å•é¡Œã‚’è§£æ±ºã™ã‚‹Shift+Enteræ©Ÿèƒ½ã®å‹•ä½œç¢ºèª</p>

        <!-- æ©Ÿèƒ½èª¬æ˜ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ“– å®Ÿè£…ã—ãŸæ©Ÿèƒ½
            </div>
            <div class="test-step">
                <strong>âœ… ä¿®æ­£å‰:</strong> Enterå˜ä½“ â†’ ç·¨é›†çµ‚äº†ï¼ˆIMEæ¼¢å­—å¤‰æ›ã¨ç«¶åˆï¼‰<br>
                <strong>ğŸ”§ ä¿®æ­£å¾Œ:</strong> <span class="key-demo">Shift+Enter</span> â†’ ç·¨é›†çµ‚äº†ã€<span class="key-demo">Enter</span> â†’ IMEç¢ºå®šã®ã¿ï¼ˆç·¨é›†ç¶™ç¶šï¼‰
            </div>
            <div class="instruction">
                <strong>è¿½åŠ æ©Ÿèƒ½:</strong><br>
                â€¢ <span class="key-demo">Esc</span> ã‚­ãƒ¼ â†’ ç·¨é›†ã‚­ãƒ£ãƒ³ã‚»ãƒ«<br>
                â€¢ ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ â†’ ç·¨é›†ç¢ºå®š<br>
                â€¢ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹è¡¨ç¤º
            </div>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬æ“ä½œ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ§ª ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬æ“ä½œç¢ºèª
            </div>
            <div class="instruction">
                <strong>æ“ä½œæ‰‹é †:</strong><br>
                1. ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†é–‹å§‹<br>
                2. æ–‡å­—ã‚’å…¥åŠ›ã—ã€æ—¥æœ¬èªæ¼¢å­—å¤‰æ›ã§Enterã‚­ãƒ¼ã‚’æŠ¼ã™<br>
                3. ç·¨é›†ãŒç¶™ç¶šã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª<br>
                4. <span class="key-demo">Shift+Enter</span> ã§ç·¨é›†çµ‚äº†
            </div>
            <div class="demo-transcript" id="test1-transcript" onclick="startTest1()">
                ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆç”¨ã®ã‚µãƒ³ãƒ—ãƒ«æ–‡å­—èµ·ã“ã—ã§ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
            </div>
            <div class="result-log" id="test1-log"></div>
            <button class="button secondary" onclick="resetTest1()">ãƒ†ã‚¹ãƒˆ1ãƒªã‚»ãƒƒãƒˆ</button>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆ2: IMEå‹•ä½œç¢ºèª -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ‡¯ğŸ‡µ ãƒ†ã‚¹ãƒˆ2: æ—¥æœ¬èªIMEå‹•ä½œç¢ºèª
            </div>
            <div class="instruction">
                <strong>IMEãƒ†ã‚¹ãƒˆæ‰‹é †:</strong><br>
                1. ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†é–‹å§‹<br>
                2. ã€Œã‹ã‚“ã˜ã€ã¨å…¥åŠ›â†’<span class="key-demo">Enter</span>ã§ã€Œæ¼¢å­—ã€ã«å¤‰æ›<br>
                3. ç·¨é›†ãŒç¶™ç¶šã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª<br>
                4. ã•ã‚‰ã«æ–‡å­—ã‚’è¿½åŠ <br>
                5. <span class="key-demo">Shift+Enter</span> ã§ç·¨é›†çµ‚äº†
            </div>
            <div class="demo-transcript" id="test2-transcript" onclick="startTest2()">
                IMEãƒ†ã‚¹ãƒˆ: 
            </div>
            <div class="result-log" id="test2-log"></div>
            <button class="button secondary" onclick="resetTest2()">ãƒ†ã‚¹ãƒˆ2ãƒªã‚»ãƒƒãƒˆ</button>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆ3: ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ–±ï¸ ãƒ†ã‚¹ãƒˆ3: ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ç¢ºèª
            </div>
            <div class="instruction">
                <strong>ã‚¯ãƒªãƒƒã‚¯å¤–ç¢ºå®šãƒ†ã‚¹ãƒˆ:</strong><br>
                1. ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†é–‹å§‹<br>
                2. æ–‡å­—ã‚’ç·¨é›†<br>
                3. ã“ã®ãƒ‘ãƒãƒ«ã®ä»–ã®å ´æ‰€ã‚’ã‚¯ãƒªãƒƒã‚¯<br>
                4. ç·¨é›†ãŒè‡ªå‹•ç¢ºå®šã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
            </div>
            <div class="demo-transcript" id="test3-transcript" onclick="startTest3()">
                ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ãƒ†ã‚¹ãƒˆç”¨æ–‡ç« ã§ã™ã€‚
            </div>
            <div class="result-log" id="test3-log"></div>
            <button class="button secondary" onclick="resetTest3()">ãƒ†ã‚¹ãƒˆ3ãƒªã‚»ãƒƒãƒˆ</button>
        </div>

        <!-- ç·åˆçµæœ -->
        <div class="test-panel">
            <div class="test-title">
                ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœã¾ã¨ã‚
            </div>
            <div class="result-log" id="summary-log">
                ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­... ä¸Šã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
            </div>
            <button class="button" onclick="runAllTests()">å…¨ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œ</button>
            <button class="button secondary" onclick="clearAllLogs()">ãƒ­ã‚°ã‚¯ãƒªã‚¢</button>
        </div>
    </div>

    <!-- æ·±å €ãã‚“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿ -->
    <script src="../app/editable-transcript-ui.js"></script>
    <script src="../app/transcript-edit-manager.js"></script>
    <script src="../app/utils.js"></script>

    <script>
        // =================================================================================
        // Shift+Enterç·¨é›†çµ‚äº†æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ 
        // =================================================================================

        let testResults = {
            test1: null,
            test2: null,
            test3: null
        };

        let editableUIInstances = {};

        /**
         * ãƒ­ã‚°å‡ºåŠ›ãƒ˜ãƒ«ãƒ‘ãƒ¼
         */
        function log(testId, message, type = 'info') {
            const logElement = document.getElementById(`${testId}-log`);
            const timestamp = new Date().toLocaleTimeString();
            const typeClass = type === 'success' ? 'success' : 
                             type === 'error' ? 'error' : 
                             type === 'warning' ? 'warning' : 'info';
            
            const logEntry = `<div class="${typeClass}">[${timestamp}] ${message}</div>`;
            logElement.innerHTML += logEntry;
            logElement.scrollTop = logElement.scrollHeight;
        }

        /**
         * ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬æ“ä½œç¢ºèª
         */
        function startTest1() {
            const element = document.getElementById('test1-transcript');
            log('test1', 'ğŸš€ ãƒ†ã‚¹ãƒˆ1é–‹å§‹: åŸºæœ¬æ“ä½œç¢ºèª', 'info');
            
            // EditableTranscriptUI ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
            if (!editableUIInstances.test1) {
                editableUIInstances.test1 = new EditableTranscriptUI(element);
            }
            
            // ç·¨é›†é–‹å§‹
            const success = editableUIInstances.test1.enableEditing();
            if (success) {
                log('test1', 'âœ… ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹æˆåŠŸ', 'success');
                log('test1', 'ğŸ‘‰ æ–‡å­—ã‚’å…¥åŠ›ã—ã¦IMEå¤‰æ›â†’Enterã‚’è©¦ã—ã¦ãã ã•ã„', 'info');
                log('test1', 'ğŸ‘‰ ç·¨é›†ç¶™ç¶šã‚’ç¢ºèªå¾Œã€Shift+Enterã§çµ‚äº†ã—ã¦ãã ã•ã„', 'info');
                
                // ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
                element.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        if (event.shiftKey) {
                            log('test1', 'ğŸ¯ Shift+Enteræ¤œçŸ¥ â†’ ç·¨é›†çµ‚äº†å‡¦ç†', 'success');
                            testResults.test1 = true;
                            updateSummary();
                        } else {
                            log('test1', 'ğŸ“ Enterå˜ä½“æ¤œçŸ¥ â†’ IMEç¢ºå®šã®ã¿ï¼ˆç·¨é›†ç¶™ç¶šï¼‰', 'info');
                        }
                    } else if (event.key === 'Escape') {
                        log('test1', 'âŒ Escã‚­ãƒ¼æ¤œçŸ¥ â†’ ç·¨é›†ã‚­ãƒ£ãƒ³ã‚»ãƒ«', 'warning');
                    }
                });
                
                // ç·¨é›†çµ‚äº†ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
                element.addEventListener('blur', function() {
                    log('test1', 'ğŸ”„ ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é›¢è„± â†’ ç·¨é›†ç¢ºå®š', 'info');
                });
                
            } else {
                log('test1', 'âŒ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹å¤±æ•—', 'error');
                testResults.test1 = false;
            }
        }

        /**
         * ãƒ†ã‚¹ãƒˆ2: æ—¥æœ¬èªIMEå‹•ä½œç¢ºèª
         */
        function startTest2() {
            const element = document.getElementById('test2-transcript');
            log('test2', 'ğŸš€ ãƒ†ã‚¹ãƒˆ2é–‹å§‹: æ—¥æœ¬èªIMEå‹•ä½œç¢ºèª', 'info');
            
            if (!editableUIInstances.test2) {
                editableUIInstances.test2 = new EditableTranscriptUI(element);
            }
            
            const success = editableUIInstances.test2.enableEditing();
            if (success) {
                log('test2', 'âœ… ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹æˆåŠŸ', 'success');
                log('test2', 'ğŸ‡¯ğŸ‡µ ã€Œã‹ã‚“ã˜ã€â†’Enterâ†’ã€Œæ¼¢å­—ã€å¤‰æ›ã‚’ãŠè©¦ã—ãã ã•ã„', 'info');
                
                let imeActive = false;
                
                // IMEé–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
                element.addEventListener('compositionstart', function() {
                    imeActive = true;
                    log('test2', 'ğŸŒ IMEå¤‰æ›é–‹å§‹', 'info');
                });
                
                element.addEventListener('compositionend', function() {
                    imeActive = false;
                    log('test2', 'ğŸŒ IMEå¤‰æ›çµ‚äº†', 'info');
                });
                
                element.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        if (event.shiftKey) {
                            log('test2', 'ğŸ¯ Shift+Enteræ¤œçŸ¥ â†’ ç·¨é›†çµ‚äº†', 'success');
                            testResults.test2 = true;
                            updateSummary();
                        } else {
                            if (imeActive) {
                                log('test2', 'ğŸ“ IMEå¤‰æ›ä¸­ã®Enter â†’ å¤‰æ›ç¢ºå®šï¼ˆç·¨é›†ç¶™ç¶šï¼‰', 'success');
                            } else {
                                log('test2', 'ğŸ“ Enterå˜ä½“ â†’ ç·¨é›†ç¶™ç¶š', 'info');
                            }
                        }
                    }
                });
                
            } else {
                log('test2', 'âŒ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹å¤±æ•—', 'error');
                testResults.test2 = false;
            }
        }

        /**
         * ãƒ†ã‚¹ãƒˆ3: ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ç¢ºèª
         */
        function startTest3() {
            const element = document.getElementById('test3-transcript');
            log('test3', 'ğŸš€ ãƒ†ã‚¹ãƒˆ3é–‹å§‹: ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ç¢ºèª', 'info');
            
            if (!editableUIInstances.test3) {
                editableUIInstances.test3 = new EditableTranscriptUI(element);
            }
            
            const success = editableUIInstances.test3.enableEditing();
            if (success) {
                log('test3', 'âœ… ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹æˆåŠŸ', 'success');
                log('test3', 'ğŸ‘‰ æ–‡å­—ã‚’ç·¨é›†ã—ã¦ã‹ã‚‰ã€ã“ã®ãƒ‘ãƒãƒ«ã®ä»–ã®å ´æ‰€ã‚’ã‚¯ãƒªãƒƒã‚¯', 'info');
                
                // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é›¢è„±ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
                element.addEventListener('blur', function() {
                    log('test3', 'ğŸ–±ï¸ ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯æ¤œçŸ¥ â†’ è‡ªå‹•ç¢ºå®š', 'success');
                    testResults.test3 = true;
                    updateSummary();
                });
                
            } else {
                log('test3', 'âŒ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é–‹å§‹å¤±æ•—', 'error');
                testResults.test3 = false;
            }
        }

        /**
         * ãƒ†ã‚¹ãƒˆãƒªã‚»ãƒƒãƒˆé–¢æ•°ç¾¤
         */
        function resetTest1() {
            const element = document.getElementById('test1-transcript');
            if (editableUIInstances.test1) {
                editableUIInstances.test1.disableEditing();
            }
            element.textContent = 'ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆç”¨ã®ã‚µãƒ³ãƒ—ãƒ«æ–‡å­—èµ·ã“ã—ã§ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚';
            document.getElementById('test1-log').innerHTML = '';
            testResults.test1 = null;
            log('test1', 'ğŸ”„ ãƒ†ã‚¹ãƒˆ1ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ', 'info');
        }

        function resetTest2() {
            const element = document.getElementById('test2-transcript');
            if (editableUIInstances.test2) {
                editableUIInstances.test2.disableEditing();
            }
            element.textContent = 'IMEãƒ†ã‚¹ãƒˆ: ';
            document.getElementById('test2-log').innerHTML = '';
            testResults.test2 = null;
            log('test2', 'ğŸ”„ ãƒ†ã‚¹ãƒˆ2ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ', 'info');
        }

        function resetTest3() {
            const element = document.getElementById('test3-transcript');
            if (editableUIInstances.test3) {
                editableUIInstances.test3.disableEditing();
            }
            element.textContent = 'ç·¨é›†ã‚¨ãƒªã‚¢å¤–ã‚¯ãƒªãƒƒã‚¯ãƒ†ã‚¹ãƒˆç”¨æ–‡ç« ã§ã™ã€‚';
            document.getElementById('test3-log').innerHTML = '';
            testResults.test3 = null;
            log('test3', 'ğŸ”„ ãƒ†ã‚¹ãƒˆ3ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ', 'info');
        }

        /**
         * ç·åˆçµæœæ›´æ–°
         */
        function updateSummary() {
            const summaryLog = document.getElementById('summary-log');
            const passCount = Object.values(testResults).filter(r => r === true).length;
            const totalCount = Object.values(testResults).filter(r => r !== null).length;
            
            let summary = `<div class="info">ğŸ“Š ãƒ†ã‚¹ãƒˆé€²è¡ŒçŠ¶æ³: ${passCount}/${totalCount} åˆæ ¼</div>`;
            
            if (testResults.test1 === true) {
                summary += `<div class="success">âœ… ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬æ“ä½œ - åˆæ ¼</div>`;
            } else if (testResults.test1 === false) {
                summary += `<div class="error">âŒ ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬æ“ä½œ - ä¸åˆæ ¼</div>`;
            }
            
            if (testResults.test2 === true) {
                summary += `<div class="success">âœ… ãƒ†ã‚¹ãƒˆ2: IMEå‹•ä½œ - åˆæ ¼</div>`;
            } else if (testResults.test2 === false) {
                summary += `<div class="error">âŒ ãƒ†ã‚¹ãƒˆ2: IMEå‹•ä½œ - ä¸åˆæ ¼</div>`;
            }
            
            if (testResults.test3 === true) {
                summary += `<div class="success">âœ… ãƒ†ã‚¹ãƒˆ3: å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ - åˆæ ¼</div>`;
            } else if (testResults.test3 === false) {
                summary += `<div class="error">âŒ ãƒ†ã‚¹ãƒˆ3: å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ - ä¸åˆæ ¼</div>`;
            }
            
            if (passCount > 0 && passCount === totalCount) {
                summary += `<div class="success">ğŸ‰ å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼Shift+Enteræ©Ÿèƒ½ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™</div>`;
            }
            
            summaryLog.innerHTML = summary;
        }

        /**
         * å…¨ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œ
         */
        function runAllTests() {
            log('summary', 'ğŸ¯ å…¨ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œé–‹å§‹', 'info');
            
            // å„ãƒ†ã‚¹ãƒˆã‚’é †ç•ªã«å®Ÿè¡Œ
            startTest1();
            setTimeout(() => startTest2(), 1000);
            setTimeout(() => startTest3(), 2000);
            
            setTimeout(() => {
                log('summary', 'â° æ‰‹å‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚’ãŠé¡˜ã„ã—ã¾ã™', 'warning');
                updateSummary();
            }, 3000);
        }

        /**
         * ãƒ­ã‚°ã‚¯ãƒªã‚¢
         */
        function clearAllLogs() {
            document.getElementById('test1-log').innerHTML = '';
            document.getElementById('test2-log').innerHTML = '';
            document.getElementById('test3-log').innerHTML = '';
            document.getElementById('summary-log').innerHTML = 'ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚';
            testResults = { test1: null, test2: null, test3: null };
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ§ª Shift+Enterç·¨é›†çµ‚äº†æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
            updateSummary();
        });
    </script>
</body>
</html> 