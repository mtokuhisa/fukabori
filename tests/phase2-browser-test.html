<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 2: AIä¼šè©±ç¶™ç¶šæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ - æ·±å €ãã‚“v2.0</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #4a5568;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        
        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .test-section {
            background: #f8fafc;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #4299e1;
        }
        
        .test-button {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 10px 10px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.3);
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(66, 153, 225, 0.4);
        }
        
        .test-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            margin: 10px 0;
            transition: border-color 0.3s ease;
        }
        
        .test-input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }
        
        .results {
            background: #1a202c;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
        .status {
            padding: 10px 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status.success { background: #c6f6d5; color: #22543d; }
        .status.warning { background: #fefcbf; color: #744210; }
        .status.error { background: #fed7d7; color: #742a2a; }
        
        .phase-info {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }
        
        .footer {
            text-align: center;
            color: #718096;
            margin-top: 40px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ Phase 2: AIä¼šè©±ç¶™ç¶šæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>
        <p class="subtitle">æ·±å €ãã‚“v2.0 - éŸ³å£°èªè­˜ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
        
        <div class="phase-info">
            <h3>ğŸ“‹ Phase 2å®Ÿè£…å†…å®¹</h3>
            <p><strong>âœ… ãƒ†ãƒ¼ãƒå¤‰æ›´è¦æœ›æ¤œå‡ºãƒ»ä¼é”ã‚·ã‚¹ãƒ†ãƒ </strong><br>
            ã€Œãƒ†ãƒ¼ãƒå¤‰æ›´ã€ã‚‚ã£ã¨æŠ€è¡“çš„ã«ã€ç­‰ã®è¦æœ›ã‚’AI promptã«çµ„ã¿è¾¼ã¿</p>
            <p><strong>âœ… è³ªå•å¤‰æ›´è¦æœ›æ¤œå‡ºãƒ»ä¼é”ã‚·ã‚¹ãƒ†ãƒ </strong><br>
            ã€Œè³ªå•å¤‰æ›´ã€ã‚‚ã£ã¨å…·ä½“çš„ã«ã€ç­‰ã®è¦æœ›ã‚’AI promptã«çµ„ã¿è¾¼ã¿</p>
            <p><strong>âœ… AI promptçµ„ã¿è¾¼ã¿æ©Ÿèƒ½</strong><br>
            æ—¢å­˜ã®handleThemeChange(), handleQuestionChange()ã¨ã®å®‰å…¨ãªçµ±åˆ</p>
        </div>
        
        <!-- Phase 2æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h3>ğŸ§ª Phase 2æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <p>Phase 2ã§å®Ÿè£…ã•ã‚ŒãŸè¦æœ›æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p>
            <button class="test-button" onclick="runPhase2Test()">ğŸ¯ Phase 2ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="phase2Results" class="results" style="display: none;"></div>
        </div>
        
        <!-- çµ±åˆãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h3>ğŸ”— çµ±åˆãƒ†ã‚¹ãƒˆ</h3>
            <p>å®Ÿéš›ã®éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p>
            <button class="test-button" onclick="runIntegrationTest()">ğŸš€ çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="integrationResults" class="results" style="display: none;"></div>
        </div>
        
        <!-- ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h3>ğŸ¨ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆ</h3>
            <p>ä»»æ„ã®éŸ³å£°å…¥åŠ›ã§ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚</p>
            <input type="text" id="customInput" class="test-input" placeholder="ä¾‹: ãƒ†ãƒ¼ãƒå¤‰æ›´ã€ã‚‚ã£ã¨å®Ÿè·µçš„ã«" />
            <button class="test-button" onclick="runCustomTest()">ğŸ§ª ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="customResults" class="results" style="display: none;"></div>
        </div>
        
        <!-- å…¨ä½“çµ±è¨ˆ -->
        <div class="test-section">
            <h3>ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ</h3>
            <button class="test-button" onclick="showSystemStats()">ğŸ“ˆ çµ±è¨ˆæƒ…å ±è¡¨ç¤º</button>
            <button class="test-button" onclick="resetStats()">ğŸ”„ çµ±è¨ˆãƒªã‚»ãƒƒãƒˆ</button>
            <div id="statsResults" class="results" style="display: none;"></div>
        </div>
        
        <div id="status" class="status" style="display: none;"></div>
        
        <div class="footer">
            <p><strong>âš ï¸ æ³¨æ„</strong>: ã“ã®ãƒ†ã‚¹ãƒˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼ˆhttp://localhost:8000ï¼‰ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>
            <p>Phase 1ã®æˆæœã‚’å®Œå…¨ä¿è­·ã—ãªãŒã‚‰ã€Phase 2æ©Ÿèƒ½ã‚’å®‰å…¨ã«ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</p>
        </div>
    </div>

    <!-- VoiceProcessingManagerèª­ã¿è¾¼ã¿ -->
    <script src="app/voice-processing-manager.js"></script>
    
    <script>
        let voiceManager = null;
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            showStatus('info', 'ğŸš€ Phase 2ãƒ†ã‚¹ãƒˆç’°å¢ƒåˆæœŸåŒ–ä¸­...');
            
            try {
                // VoiceProcessingManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
                voiceManager = new window.VoiceProcessingManager();
                await voiceManager.initialize();
                
                // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«è¨­å®šï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
                window.voiceProcessingManagerInstance = voiceManager;
                
                showStatus('success', 'âœ… Phase 2ãƒ†ã‚¹ãƒˆç’°å¢ƒåˆæœŸåŒ–å®Œäº†ï¼ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã§ãã¾ã™ã€‚');
                
            } catch (error) {
                showStatus('error', `âŒ åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error('åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
            }
        });
        
        // Phase 2æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
        async function runPhase2Test() {
            if (!voiceManager) {
                showStatus('error', 'âŒ VoiceProcessingManagerãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            const resultsDiv = document.getElementById('phase2Results');
            resultsDiv.style.display = 'block';
            resultsDiv.textContent = 'ğŸ§ª Phase 2æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...\n\n';
            
            try {
                const debug = window.VoiceProcessingManagerDebug;
                if (debug && debug.runPhase2Test) {
                    const results = await debug.runPhase2Test();
                    
                    if (results) {
                        resultsDiv.textContent += `ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœ:\n`;
                        resultsDiv.textContent += `æˆåŠŸç‡: ${results.successCount}/${results.totalCount} (${results.successRate}%)\n\n`;
                        
                        if (results.successRate >= 90) {
                            showStatus('success', `ğŸ‰ Phase 2ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼æˆåŠŸç‡: ${results.successRate}%`);
                        } else if (results.successRate >= 70) {
                            showStatus('warning', `âš ï¸ Phase 2ãƒ†ã‚¹ãƒˆéƒ¨åˆ†åˆæ ¼: ${results.successRate}%`);
                        } else {
                            showStatus('error', `âŒ Phase 2ãƒ†ã‚¹ãƒˆä¸åˆæ ¼: ${results.successRate}%`);
                        }
                        
                        // è©³ç´°çµæœè¡¨ç¤º
                        resultsDiv.textContent += 'è©³ç´°çµæœ:\n';
                        results.results.forEach((result, index) => {
                            resultsDiv.textContent += `${index + 1}. ${result.description}\n`;
                            resultsDiv.textContent += `   å…¥åŠ›: "${result.input}"\n`;
                            resultsDiv.textContent += `   æœŸå¾…: ${result.expected}\n`;
                            resultsDiv.textContent += `   å®Ÿéš›: ${result.actual}\n`;
                            if (result.request) {
                                resultsDiv.textContent += `   è¦æœ›: "${result.request}"\n`;
                            }
                            resultsDiv.textContent += `   çµæœ: ${result.success ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}\n\n`;
                        });
                    }
                } else {
                    showStatus('error', 'âŒ Phase 2ãƒ†ã‚¹ãƒˆé–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
            } catch (error) {
                resultsDiv.textContent += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                showStatus('error', `âŒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // çµ±åˆãƒ†ã‚¹ãƒˆ
        async function runIntegrationTest() {
            if (!voiceManager) {
                showStatus('error', 'âŒ VoiceProcessingManagerãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            const resultsDiv = document.getElementById('integrationResults');
            resultsDiv.style.display = 'block';
            resultsDiv.textContent = 'ğŸ”— çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...\n\n';
            
            try {
                const debug = window.VoiceProcessingManagerDebug;
                if (debug && debug.runPhase2IntegrationTest) {
                    const results = await debug.runPhase2IntegrationTest();
                    
                    if (results) {
                        const successCount = results.filter(r => r.success).length;
                        const totalCount = results.length;
                        const successRate = Math.round((successCount / totalCount) * 100);
                        
                        resultsDiv.textContent += `ğŸ“Š çµ±åˆãƒ†ã‚¹ãƒˆçµæœ:\n`;
                        resultsDiv.textContent += `æˆåŠŸç‡: ${successCount}/${totalCount} (${successRate}%)\n\n`;
                        
                        results.forEach((result, index) => {
                            resultsDiv.textContent += `${index + 1}. "${result.input}"\n`;
                            resultsDiv.textContent += `   çµæœ: ${result.success ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}\n`;
                            resultsDiv.textContent += `   å®Ÿè¡Œæ™‚é–“: ${result.duration || 'N/A'}\n`;
                            if (result.error) {
                                resultsDiv.textContent += `   ã‚¨ãƒ©ãƒ¼: ${result.error}\n`;
                            }
                            resultsDiv.textContent += '\n';
                        });
                        
                        if (successRate >= 90) {
                            showStatus('success', `ğŸ‰ çµ±åˆãƒ†ã‚¹ãƒˆåˆæ ¼ï¼æˆåŠŸç‡: ${successRate}%`);
                        } else {
                            showStatus('warning', `âš ï¸ çµ±åˆãƒ†ã‚¹ãƒˆ: ${successRate}%`);
                        }
                    }
                }
            } catch (error) {
                resultsDiv.textContent += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                showStatus('error', `âŒ çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆ
        async function runCustomTest() {
            const input = document.getElementById('customInput').value.trim();
            if (!input) {
                showStatus('warning', 'âš ï¸ ãƒ†ã‚¹ãƒˆç”¨ã®éŸ³å£°å…¥åŠ›ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            if (!voiceManager) {
                showStatus('error', 'âŒ VoiceProcessingManagerãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            const resultsDiv = document.getElementById('customResults');
            resultsDiv.style.display = 'block';
            resultsDiv.textContent = `ğŸ¨ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­: "${input}"\n\n`;
            
            try {
                const startTime = performance.now();
                
                // è¦æœ›æ¤œå‡ºãƒ†ã‚¹ãƒˆ
                const themeRequest = voiceManager.detectThemeChangeRequest(input);
                const questionRequest = voiceManager.detectQuestionChangeRequest(input);
                
                const duration = performance.now() - startTime;
                
                resultsDiv.textContent += `ğŸ“Š æ¤œå‡ºçµæœ (${duration.toFixed(2)}ms):\n\n`;
                
                if (themeRequest) {
                    resultsDiv.textContent += `ğŸ¯ ãƒ†ãƒ¼ãƒå¤‰æ›´è¦æœ›æ¤œå‡º:\n`;
                    resultsDiv.textContent += `   ã‚¿ã‚¤ãƒ—: ${themeRequest.type}\n`;
                    resultsDiv.textContent += `   è¦æœ›å†…å®¹: ${themeRequest.request || 'ï¼ˆãªã—ï¼‰'}\n\n`;
                } else if (questionRequest) {
                    resultsDiv.textContent += `â“ è³ªå•å¤‰æ›´è¦æœ›æ¤œå‡º:\n`;
                    resultsDiv.textContent += `   ã‚¿ã‚¤ãƒ—: ${questionRequest.type}\n`;
                    resultsDiv.textContent += `   è¦æœ›å†…å®¹: ${questionRequest.request || 'ï¼ˆãªã—ï¼‰'}\n\n`;
                } else {
                    resultsDiv.textContent += `ğŸ“ é€šå¸¸ã®éŸ³å£°å…¥åŠ›ã¨ã—ã¦å‡¦ç†\n`;
                    resultsDiv.textContent += `   å¾“æ¥ã®processFinalTranscriptã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n`;
                }
                
                // çµ±è¨ˆæƒ…å ±æ›´æ–°
                const stats = voiceManager.getStats();
                resultsDiv.textContent += `ğŸ“ˆ ç¾åœ¨ã®çµ±è¨ˆ:\n`;
                resultsDiv.textContent += `   ç·å‡¦ç†æ•°: ${stats.totalProcessed}\n`;
                resultsDiv.textContent += `   ãƒ†ãƒ¼ãƒå¤‰æ›´è¦æœ›: ${stats.themeChangeRequests}\n`;
                resultsDiv.textContent += `   è³ªå•å¤‰æ›´è¦æœ›: ${stats.questionChangeRequests}\n`;
                
                showStatus('success', 'âœ… ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆå®Œäº†');
                
            } catch (error) {
                resultsDiv.textContent += `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                showStatus('error', `âŒ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆè¡¨ç¤º
        function showSystemStats() {
            if (!voiceManager) {
                showStatus('error', 'âŒ VoiceProcessingManagerãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            const resultsDiv = document.getElementById('statsResults');
            resultsDiv.style.display = 'block';
            
            try {
                const debug = window.VoiceProcessingManagerDebug;
                if (debug && debug.showDebugInfo) {
                    const info = debug.showDebugInfo();
                    if (info) {
                        resultsDiv.textContent = `ğŸ“Š VoiceProcessingManager ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ:\n\n`;
                        resultsDiv.textContent += `ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${info.version}\n`;
                        resultsDiv.textContent += `åˆæœŸåŒ–çŠ¶æ…‹: ${info.initialized ? 'âœ…' : 'âŒ'}\n`;
                        resultsDiv.textContent += `ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰: ${info.debugMode ? 'âœ…' : 'âŒ'}\n\n`;
                        
                        resultsDiv.textContent += `ğŸ“ˆ å‡¦ç†çµ±è¨ˆ:\n`;
                        resultsDiv.textContent += `   ç·å‡¦ç†æ•°: ${info.stats.totalProcessed}\n`;
                        resultsDiv.textContent += `   ãƒ†ãƒ¼ãƒå¤‰æ›´è¦æœ›: ${info.stats.themeChangeRequests}\n`;
                        resultsDiv.textContent += `   è³ªå•å¤‰æ›´è¦æœ›: ${info.stats.questionChangeRequests}\n`;
                        resultsDiv.textContent += `   ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‘¼ã³å‡ºã—: ${info.stats.fallbackCalls}\n`;
                        resultsDiv.textContent += `   ã‚¨ãƒ©ãƒ¼æ•°: ${info.stats.errorCount}\n`;
                        resultsDiv.textContent += `   ç¨¼åƒæ™‚é–“: ${Math.round(info.stats.runtime / 1000)}ç§’\n`;
                        resultsDiv.textContent += `   å¹³å‡å‡¦ç†æ™‚é–“: ${info.stats.averageProcessingTime.toFixed(2)}ms\n\n`;
                        
                        if (info.recentLogs && info.recentLogs.length > 0) {
                            resultsDiv.textContent += `ğŸ“ æœ€æ–°ãƒ­ã‚° (ç›´è¿‘${info.recentLogs.length}ä»¶):\n`;
                            info.recentLogs.forEach((log, index) => {
                                const time = new Date(log.timestamp).toLocaleTimeString();
                                resultsDiv.textContent += `   ${time} [${log.level.toUpperCase()}] ${log.message}\n`;
                            });
                        }
                    }
                }
                
                showStatus('success', 'âœ… ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆè¡¨ç¤ºå®Œäº†');
                
            } catch (error) {
                resultsDiv.textContent = `âŒ çµ±è¨ˆå–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}\n`;
                showStatus('error', `âŒ çµ±è¨ˆå–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // çµ±è¨ˆãƒªã‚»ãƒƒãƒˆ
        function resetStats() {
            try {
                const debug = window.VoiceProcessingManagerDebug;
                if (debug && debug.resetStats) {
                    const result = debug.resetStats();
                    if (result) {
                        showStatus('success', 'âœ… ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
                        
                        // çµ±è¨ˆè¡¨ç¤ºã‚’æ›´æ–°
                        showSystemStats();
                    } else {
                        showStatus('error', 'âŒ çµ±è¨ˆãƒªã‚»ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ');
                    }
                } else {
                    showStatus('error', 'âŒ çµ±è¨ˆãƒªã‚»ãƒƒãƒˆé–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
            } catch (error) {
                showStatus('error', `âŒ çµ±è¨ˆãƒªã‚»ãƒƒãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
        function showStatus(type, message) {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status ${type}`;
            statusDiv.textContent = message;
            statusDiv.style.display = 'block';
            
            // 5ç§’å¾Œã«éè¡¨ç¤º
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html> 