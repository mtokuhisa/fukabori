# ã‚¹ãƒ†ãƒƒãƒ—1.1: ç¾çŠ¶è©³ç´°èª¿æŸ»çµæœ

## 1.1.1 HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã®èª­ã¿è¾¼ã¿çŠ¶æ³

### ç¢ºèªçµæœ: âœ… æ­£å¸¸
```html
<!-- æ·±å €ãã‚“.html ã§ã®èª­ã¿è¾¼ã¿é †åº -->
<script src="app/utils.js"></script>          <!-- 1ç•ªç›®: åŸºç¤ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ -->
<script src="app/file-processing.js"></script> <!-- 2ç•ªç›®: ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç† -->
<script src="app/knowledge-management.js"></script> <!-- 3ç•ªç›®: çŸ¥è¦‹ç®¡ç† -->
<script src="app/api-key-setup.js"></script>  <!-- 4ç•ªç›®: APIã‚­ãƒ¼è¨­å®š -->
<script src="app/script.js"></script>         <!-- 5ç•ªç›®: ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
```

**åˆ¤å®š**: èª­ã¿è¾¼ã¿é †åºã¯æ­£ã—ã„ã€‚utils.jsãŒæœ€åˆã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã€‚

## 1.1.2 é–¢æ•°å®šç¾©ã®ç¢ºèª

### utils.js ã®é–¢æ•°å®šç¾©çŠ¶æ³: âœ… æ­£å¸¸

#### showMessageé–¢æ•°
- **å®šç¾©**: line 13-32
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«éœ²å‡º**: 
  - `window.FukaboriUtils.showMessage` (line 58)
  - `window.showMessage` (line 60) â† ç›´æ¥å‚ç…§ç”¨

#### hashPasswordé–¢æ•°
- **å®šç¾©**: line 106-115
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«éœ²å‡º**:
  - `window.FukaboriUtils.hashPassword` (line 119)
  - `window.hashPassword` (line 123) â† ç›´æ¥å‚ç…§ç”¨

#### ãã®ä»–ã®é–¢æ•°
- `downloadTextFile`: æ­£å¸¸ã«å®šç¾©ãƒ»éœ²å‡º
- `encryptApiKey`: æ­£å¸¸ã«å®šç¾©ãƒ»éœ²å‡º
- `decryptApiKey`: æ­£å¸¸ã«å®šç¾©ãƒ»éœ²å‡º

**åˆ¤å®š**: é–¢æ•°å®šç¾©ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«éœ²å‡ºã¯æ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã€‚

## 1.1.3 é–¢æ•°å‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è©³ç´°

### script.js ã§ã®å‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³

#### showMessageé–¢æ•°: ğŸš¨ å•é¡Œç™ºè¦‹
- **ç›´æ¥å‘¼ã³å‡ºã—**: 85å›ï¼ˆå…¨ã¦ `showMessage()` å½¢å¼ï¼‰
- **windowçµŒç”±å‘¼ã³å‡ºã—**: 0å›
- **å•é¡Œ**: å…¨ã¦ç›´æ¥å‘¼ã³å‡ºã—ã§ã€windowçµŒç”±ã®å‚ç…§ãŒãªã„

**å…·ä½“ä¾‹**:
```javascript
// line 616: showMessage('info', 'é•·æ™‚é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šå†é–‹ã—ã¾ã™...');
// line 2103: showMessage('error', message);
// line 5127: showMessage('error', `éŸ³å£°ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
```

#### hashPasswordé–¢æ•°: ğŸš¨ å•é¡Œç™ºè¦‹
- **ç›´æ¥å‘¼ã³å‡ºã—**: 6å›ï¼ˆå…¨ã¦ `hashPassword()` å½¢å¼ï¼‰
- **windowçµŒç”±å‘¼ã³å‡ºã—**: 0å›
- **ä½¿ç”¨ç®‡æ‰€**:
  - line 4037: `const passwordHash = hashPassword(password);`
  - line 4049: `const passwordHash = hashPassword(password);`
  - line 4075: `const passwordHash = hashPassword(password);`
  - line 4651: `const passwordHash = hashPassword(password);`
  - line 4693: `const passwordHash = hashPassword(password);`
  - line 4788: `const oldPasswordHash = hashPassword(currentPassword);`

### ä»–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®å‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³

#### file-processing.js: ğŸš¨ æ··åœ¨å•é¡Œç™ºè¦‹
- **ç‹¬è‡ªå®Ÿè£…**: line 57 `showMessage(type, message);`
- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±**: line 1232, 1452, 1501 `FileProcessingInterface.showMessage()`
- **å•é¡Œ**: ç‹¬è‡ªå®Ÿè£…ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã®æ··åœ¨

#### api-key-setup.js: âœ… æ­£å¸¸
- **windowçµŒç”±**: 4å›ï¼ˆå…¨ã¦ `window.showMessage()` å½¢å¼ï¼‰
- **å•é¡Œãªã—**: æ­£ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã§çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹

#### knowledge-management.js: ğŸš¨ å•é¡Œç™ºè¦‹
- **ç›´æ¥å‘¼ã³å‡ºã—**: `showMessage()` å½¢å¼
- **windowçµŒç”±**: `window.downloadTextFile()` å½¢å¼
- **å•é¡Œ**: åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§å‚ç…§æ–¹æ³•ãŒæ··åœ¨

## å•é¡Œã®æ ¹æœ¬åŸå› 

### 1. å‚ç…§æ–¹æ³•ã®ä¸çµ±ä¸€
- **script.js**: å…¨ã¦ç›´æ¥å‘¼ã³å‡ºã—ï¼ˆ85å›ï¼‰
- **api-key-setup.js**: å…¨ã¦windowçµŒç”±ï¼ˆæ­£ã—ã„ï¼‰
- **knowledge-management.js**: æ··åœ¨
- **file-processing.js**: ç‹¬è‡ªå®Ÿè£… + ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±

### 2. ã‚¹ã‚³ãƒ¼ãƒ—ã®å•é¡Œ
ç›´æ¥å‘¼ã³å‡ºã— `showMessage()` ã¯ã€ä»¥ä¸‹ã®æ¡ä»¶ã§å‹•ä½œã™ã‚‹ï¼š
- é–¢æ•°ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«å­˜åœ¨ã™ã‚‹
- ã¾ãŸã¯ã€åŒä¸€ã‚¹ã‚³ãƒ¼ãƒ—å†…ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹

ç¾åœ¨ã®ã‚¨ãƒ©ãƒ¼ã¯ã€ç›´æ¥å‘¼ã³å‡ºã—ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§é–¢æ•°ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã„ã“ã¨ãŒåŸå› ã€‚

### 3. ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å•é¡Œ
utils.jsã®èª­ã¿è¾¼ã¿ã¯æ­£ã—ã„ãŒã€é–¢æ•°ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã‚‹å¯èƒ½æ€§ã€‚

## è§£æ±ºç­–ã®æ–¹å‘æ€§

### æœ€å„ªå…ˆå¯¾å¿œ
1. **script.js**: 85å›ã® `showMessage()` â†’ `window.showMessage()` ã«å¤‰æ›´
2. **script.js**: 6å›ã® `hashPassword()` â†’ `window.hashPassword()` ã«å¤‰æ›´
3. **file-processing.js**: ç‹¬è‡ªshowMessageå®Ÿè£…ã®å‰Šé™¤
4. **knowledge-management.js**: ç›´æ¥å‘¼ã³å‡ºã—ã‚’windowçµŒç”±ã«çµ±ä¸€

### çµ±ä¸€ãƒ«ãƒ¼ãƒ«
**å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: `window.é–¢æ•°å()` å½¢å¼ã§çµ±ä¸€

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
ã‚¹ãƒ†ãƒƒãƒ—1.2: å‚ç…§æ–¹æ³•ã®çµ±ä¸€ï¼ˆä¿®æ­£ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®å®Ÿè¡Œæº–å‚™å®Œäº† 