<!DOCTYPE html>
<html lang="ja">
<head>
<!-- 
üöÄ Ê∑±Â†Ä„Åè„Çì SharePointÈÖçÂ∏ÉÁâà Ëá™ÂãïÁîüÊàê„Éï„Ç°„Ç§„É´
üì¶ „Éê„Éº„Ç∏„Éß„É≥: v0.7.6
üïê „Éì„É´„ÉâÊó•ÊôÇ: 2025Âπ¥07Êúà26Êó• 19:21:40
üìä Áµ±Ë®à:
   - CSS files: 2
   - JS files: 35
   - Images: 7
   - PWA refs removed: 4
   - Test refs removed: 0
üîß „Åì„ÅÆ„Éï„Ç°„Ç§„É´„ÅØËá™ÂãïÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÁ∑®ÈõÜ„Åô„ÇãÂ†¥Âêà„ÅØÂÖÉ„ÅÆ„ÇΩ„Éº„Çπ„Éï„Ç°„Ç§„É´„Çí‰øÆÊ≠£„Åó„Å¶„É™„Éì„É´„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ê∑±Â†Ä„Åè„Çì - "„Å≠„Åª„Çä„Éº„ÅÆ""„ÅØ„Åª„Çä„Éº„ÅÆ"„Å´„ÅÇ„Å™„ÅüÈÅî„ÅÆÁü•Ë¶ã„ÇíËÅû„Åã„Åõ„Å¶</title>
<!-- üîÑ „Ç≠„É£„ÉÉ„Ç∑„É•ÁÑ°ÂäπÂåñ - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Êõ¥Êñ∞ÂØæÂøú -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<!-- PWA „É°„Çø„Çø„Ç∞ -->
<meta name="theme-color" content="#2196F3">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Ê∑±Â†Ä„Åè„Çì">
<meta name="description" content="„Å≠„Åª„Çä„Éº„ÅÆ„Éª„ÅØ„Åª„Çä„Éº„ÅÆ„Åå„ÅÇ„Å™„Åü„ÅÆÁü•Ë¶ã„ÇíÊ∑±Êéò„Çä">
<!-- PWA „Éû„Éã„Éï„Çß„Çπ„Éà -->
<!-- „Éï„Ç°„Éì„Ç≥„É≥ -->
<link rel="icon" href="./favicon.ico" type="image/x-icon">
<!-- üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† „Çπ„Çø„Ç§„É´ -->
<style>
/* === style.css === */
/**
* Ê∑±Â†Ä„Åè„Çì - Áµ±Âêà„Çπ„Çø„Ç§„É´„Éï„Ç°„Ç§„É´
* ÂÖ®„Å¶„ÅÆCSS„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ
* Version: v0.6.5
*/
/* „Éá„Ç∂„Ç§„É≥„ÉÜ„Éº„Éû */
:root {
--primary-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
--glass-bg: rgba(255, 255, 255, 0.25);
--glass-border: rgba(255, 255, 255, 0.18);
--text-primary: #333;
--text-secondary: #666;
--accent-color: #667eea;
}
.theme-white {
--primary-gradient: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
--glass-bg: rgba(255, 255, 255, 0.4);
--glass-border: rgba(0, 0, 0, 0.1);
--text-primary: #333;
--text-secondary: #666;
--accent-color: #007bff;
}
.theme-blue {
--primary-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
--glass-bg: rgba(255, 255, 255, 0.25);
--glass-border: rgba(255, 255, 255, 0.18);
--text-primary: #333;
--text-secondary: #666;
--accent-color: #667eea;
}
.theme-dark {
--primary-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
--glass-bg: rgba(255, 255, 255, 0.1);
--glass-border: rgba(255, 255, 255, 0.2);
--text-primary: #ecf0f1;
--text-secondary: #bdc3c7;
--accent-color: #3498db;
}
.theme-colorful {
--primary-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
--glass-bg: rgba(255, 255, 255, 0.3);
--glass-border: rgba(255, 255, 255, 0.3);
--text-primary: #2c3e50;
--text-secondary: #34495e;
--accent-color: #e74c3c;
}
/* Âü∫Êú¨„É™„Çª„ÉÉ„Éà */
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
/* „Éô„Éº„Çπ„Çπ„Çø„Ç§„É´ */
body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background: var(--primary-gradient);
min-height: 100vh;
color: var(--text-primary);
overflow-x: hidden;
overflow-y: auto;
transition: all 0.3s ease;
}
/* „Ç¨„É©„Çπ„É¢„É´„Éï„Ç£„Ç∫„É†Âü∫Êú¨„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà */
.glass-panel {
background: var(--glass-bg);
backdrop-filter: blur(10px);
border-radius: 20px;
border: 1px solid var(--glass-border);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}
.glass-button {
background: var(--glass-bg);
backdrop-filter: blur(10px);
border: 1px solid var(--glass-border);
border-radius: 15px;
padding: 12px 24px;
color: var(--text-primary);
font-weight: 500;
cursor: pointer;
transition: all 0.3s ease;
font-size: 14px;
}
.glass-button:hover {
background: rgba(255, 255, 255, 0.35);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}
.glass-button:disabled {
opacity: 0.5;
cursor: not-allowed;
transform: none;
}
.glass-button.danger {
background: rgba(255, 99, 99, 0.2);
border-color: rgba(255, 99, 99, 0.3);
}
.glass-button.danger:hover {
background: rgba(255, 99, 99, 0.35);
}
/* „É¨„Ç§„Ç¢„Ç¶„Éà */
.main-container {
max-width: 100%;
margin: 0 auto;
padding: 20px;
display: grid;
grid-template-columns: 1fr;
gap: 20px;
min-height: 100vh;
width: 100%;
}
.header {
text-align: center;
padding: 24px;
margin-bottom: 16px;
}
.header-with-avatars {
display: flex;
align-items: center;
justify-content: center;
gap: 30px;
flex-wrap: wrap;
}
.header h1 {
font-size: 2.5rem;
font-weight: 700;
color: #2c3e50;
margin-bottom: 10px;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
display: flex;
flex-direction: column;
align-items: center;
gap: 15px;
}
.header p {
font-size: 1.1rem;
color: #7f8c8d;
margin-bottom: 20px;
}
/* „É≠„Ç¥ÁîªÂÉè */
.logo-image {
max-height: 80px;
max-width: 250px;
filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
margin-bottom: 10px;
}
/* „É°„Ç§„É≥„Çø„Ç§„Éà„É´ - „É≠„Ç¥ÁîªÂÉè„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÊñáÂ≠ó„ÇíÈùûË°®Á§∫ */
#mainTitle {
background-image: url(data:image/png;base64,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);
background-size: contain;
background-repeat: no-repeat;
background-position: center;
color: transparent;
text-shadow: none;
height: 80px;
display: flex;
align-items: center;
justify-content: center;
}
#mainTitle.no-image {
background-image: none;
color: #2c3e50;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
height: auto;
}
/* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éë„Éç„É´ */
.setup-panel {
padding: 16px;
margin-bottom: 12px;
}
.setup-section {
background: rgba(255, 255, 255, 0.1);
border-radius: 15px;
padding: 16px;
margin-bottom: 8px;
}
.setup-row {
display: flex;
gap: 15px;
margin-bottom: 12px;
align-items: center;
flex-wrap: wrap;
}
.setup-input {
flex: 1;
min-width: 200px;
padding: 12px 16px;
border: 2px solid var(--glass-border);
border-radius: 10px;
background: var(--glass-bg);
backdrop-filter: blur(5px);
font-size: 14px;
color: var(--text-primary);
}
.setup-input:focus {
outline: none;
border-color: var(--accent-color);
box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
}
.setup-input[type="file"] {
padding: 8px 12px;
font-size: 13px;
}
.setup-note {
font-size: 12px;
color: var(--text-secondary);
margin-left: 10px;
font-style: italic;
}
/* 3„Éö„Ç§„É≥„É¨„Ç§„Ç¢„Ç¶„Éà */
.chat-area {
display: flex;
width: 100%;
min-height: 700px;
height: calc(100vh - 40px);
gap: 20px;
position: relative;
overflow: visible;
}
/* Â∑¶„Éö„Ç§„É≥: ÂèØÂ§âÂπÖ 0‚Üí280px */
.voice-guide-panel {
width: 280px;
min-width: 0;
flex-shrink: 0;
transition: width 0.3s ease, min-width 0.3s ease;
overflow: hidden;
writing-mode: horizontal-tb !important;
text-orientation: mixed !important;
}
/* Â∑¶„Éö„Ç§„É≥ÂÜÖ„ÅÆ„Åô„Åπ„Å¶„ÅÆË¶ÅÁ¥†„ÇíÂº∑Âà∂ÁöÑ„Å´Ê®™Êõ∏„Åç„Å´ */
.voice-guide-panel *,
.voice-guide-panel *::before,
.voice-guide-panel *::after {
writing-mode: horizontal-tb !important;
text-orientation: mixed !important;
}
/* „Éò„É´„ÉóË°®Á§∫„Éú„Çø„É≥„ÅÆ„ÅøÁ∏¶Êõ∏„Åç„ÇíÁ∂≠ÊåÅ */
.main-guide-toggle {
writing-mode: vertical-rl !important;
text-orientation: mixed !important;
}
.voice-guide-panel.hidden {
width: 0;
min-width: 0;
padding: 0;
border: none;
}
/* ‰∏≠Â§Æ„Éö„Ç§„É≥: Ëá™ÂãïÊã°Âºµ */
.conversation-panel {
flex: 1;
min-width: 400px;
display: flex;
flex-direction: column;
height: 100%;
overflow: hidden;
}
/* Âè≥„Éö„Ç§„É≥: Âõ∫ÂÆö300px */
.status-panel {
width: 300px;
flex-shrink: 0;
display: flex;
flex-direction: column;
gap: 15px;
height: 100%;
overflow-y: auto;
}
/* „Ç¨„Ç§„ÉâÈùûË°®Á§∫ÊôÇ„ÅÆ„Éò„É´„ÉóË°®Á§∫„Éú„Çø„É≥ */
.main-guide-toggle {
position: absolute;
left: -15px;
top: 50%;
transform: translateY(-50%);
width: 35px;
height: 140px;
background: var(--glass-bg);
backdrop-filter: blur(10px);
border-radius: 15px;
border: 1px solid var(--glass-border);
display: none;
align-items: center;
justify-content: center;
cursor: pointer;
font-size: 13px;
font-weight: 600;
color: var(--text-primary);
writing-mode: vertical-rl;
text-orientation: mixed;
transition: all 0.3s ease;
z-index: 1000;
padding: 15px 5px;
letter-spacing: 3px;
line-height: 1.8;
}
.main-guide-toggle.show {
display: flex;
}
.main-guide-toggle:hover {
background: rgba(255, 255, 255, 0.35);
transform: translateY(-50%) scale(1.05);
width: 40px;
}
/* ‰∏≠Â§Æ„ÉÅ„É£„ÉÉ„Éà„Ç®„É™„Ç¢„ÅÆËá™Âãï„Çπ„ÇØ„É≠„Éº„É´Âº∑Âåñ */
.messages-container {
flex: 1;
overflow-y: auto;
overflow-x: hidden;
margin-bottom: 20px;
padding-right: 10px;
scroll-behavior: smooth;
}
.messages-container::-webkit-scrollbar {
width: 6px;
}
.messages-container::-webkit-scrollbar-track {
background: rgba(255, 255, 255, 0.1);
border-radius: 3px;
}
.messages-container::-webkit-scrollbar-thumb {
background: rgba(255, 255, 255, 0.3);
border-radius: 3px;
}
.messages-container::-webkit-scrollbar-thumb:hover {
background: rgba(255, 255, 255, 0.5);
}
/* ÂàùÂõû„Ç¨„Ç§„ÉÄ„É≥„ÇπÈñ¢ÈÄ£„Çπ„Çø„Ç§„É´ */
.first-time-guide {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.8);
z-index: 1000;
display: flex;
align-items: center;
justify-content: center;
backdrop-filter: blur(5px);
}
.guide-panel {
background: var(--glass-bg);
backdrop-filter: blur(15px);
border-radius: 25px;
border: 2px solid var(--glass-border);
padding: 40px;
max-width: 600px;
width: 90%;
text-align: center;
position: relative;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}
.guide-progress {
display: flex;
justify-content: center;
gap: 15px;
margin-bottom: 30px;
}
.progress-dot {
width: 12px;
height: 12px;
border-radius: 50%;
background: rgba(255, 255, 255, 0.3);
transition: all 0.3s ease;
}
.progress-dot.active {
background: var(--accent-color);
transform: scale(1.2);
}
.guide-step h2 {
color: var(--text-primary);
margin-bottom: 20px;
font-size: 1.8rem;
}
.guide-step p {
color: var(--text-secondary);
margin-bottom: 20px;
font-size: 1.1rem;
line-height: 1.6;
}
.guide-example {
background: rgba(255, 255, 255, 0.1);
border-radius: 15px;
padding: 20px;
margin: 20px 0;
border-left: 4px solid var(--accent-color);
font-size: 0.95rem;
line-height: 1.5;
}
.guide-buttons {
display: flex;
gap: 15px;
justify-content: center;
margin-top: 30px;
}
/* Èü≥Â£∞„Ç¨„Ç§„Éâ„Éë„Éç„É´ÂÜÖ„ÅÆ„Çπ„Çø„Ç§„É´ */
.guide-toggle-btn {
position: absolute;
top: 15px;
right: 15px;
background: rgba(255, 255, 255, 0.2);
border: none;
border-radius: 50%;
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
font-size: 14px;
color: var(--text-primary);
transition: all 0.3s ease;
}
.guide-toggle-btn:hover {
background: rgba(255, 255, 255, 0.3);
transform: scale(1.1);
}
.guide-section {
background: rgba(255, 255, 255, 0.1);
border-radius: 12px;
padding: 15px;
margin-bottom: 15px;
writing-mode: horizontal-tb;
text-orientation: mixed;
}
.guide-section h3 {
font-size: 0.9rem;
margin-bottom: 10px;
color: var(--text-primary);
font-weight: 600;
}
.guide-content {
font-size: 0.8rem;
line-height: 1.4;
color: var(--text-secondary);
writing-mode: horizontal-tb;
text-orientation: mixed;
}
.command-list {
list-style: none;
padding: 0;
}
.command-list li {
display: flex;
justify-content: space-between;
align-items: center;
padding: 5px 0;
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
font-size: 0.75rem;
}
.command-list li:last-child {
border-bottom: none;
}
.command-key {
background: rgba(255, 255, 255, 0.15);
padding: 2px 6px;
border-radius: 4px;
font-weight: 600;
font-size: 0.65rem;
}
.status-indicator {
display: inline-block;
width: 8px;
height: 8px;
border-radius: 50%;
margin-right: 8px;
}
.status-waiting {
background: #ffa500;
animation: pulse-waiting 2s infinite;
}
.status-active {
background: #4caf50;
animation: pulse-active 1.5s infinite;
}
@keyframes pulse-waiting {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}
@keyframes pulse-active {
0%, 100% { opacity: 1; transform: scale(1); }
50% { opacity: 0.7; transform: scale(1.2); }
}
.progress-steps {
display: flex;
flex-direction: column;
gap: 8px;
}
.progress-step {
display: flex;
align-items: center;
gap: 10px;
font-size: 0.7rem;
}
.step-icon {
width: 20px;
height: 20px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 0.6rem;
font-weight: bold;
}
.step-pending {
background: rgba(255, 255, 255, 0.2);
color: var(--text-secondary);
}
.step-current {
background: var(--accent-color);
color: white;
animation: pulse 1.5s infinite;
}
.step-completed {
background: #4caf50;
color: white;
}
.step-active {
background: var(--accent-color);
color: white;
animation: pulse 2s infinite;
}
@keyframes pulse {
0% { transform: scale(1); }
50% { transform: scale(1.1); }
100% { transform: scale(1); }
}
.ai-avatars {
display: flex;
justify-content: space-around;
margin: 15px 0;
gap: 10px;
}
.avatar {
width: 60px;
height: 80px;
border-radius: 12px;
display: flex;
align-items: center;
justify-content: center;
font-size: 24px;
font-weight: bold;
color: white;
position: relative;
transition: all 0.3s ease;
background-size: contain;
background-position: center;
background-repeat: no-repeat;
overflow: hidden;
}
.avatar.setup {
width: 80px;
height: 100px;
background-size: contain;
background-position: center;
background-repeat: no-repeat;
border-radius: 15px;
border: 2px solid rgba(255, 255, 255, 0.3);
display: flex;
align-items: center;
justify-content: center;
font-size: 32px;
font-weight: bold;
color: white;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
.avatar.nehori {
background: linear-gradient(135deg, #8b5cf6, #7c3aed);
background-image: url(data:image/png;base64,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);
background-size: cover;
background-position: center;
color: transparent;
text-shadow: none;
}
.avatar.nehori.no-image {
color: white;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
background-image: none;
}
.avatar.hahori {
background: linear-gradient(135deg, #06b6d4, #0891b2);
background-image: url(data:image/png;base64,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);
background-size: cover;
background-position: center;
color: transparent;
text-shadow: none;
}
.avatar.hahori.no-image {
color: white;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
background-image: none;
}
.avatar.speaking {
transform: scale(1.1);
box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
animation: speaking 1s infinite alternate;
}
/* ÁîªÂÉè„ÅåË™≠„ÅøËæº„Åæ„Çå„ÅüÂ†¥Âêà„ÅÆ„Çπ„Çø„Ç§„É´ */
.avatar.has-image {
font-size: 0;
text-shadow: none;
background-size: cover;
background-position: center center;
}
@keyframes speaking {
0% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
100% { box-shadow: 0 0 30px rgba(139, 92, 246, 0.8); }
}
.message {
margin-bottom: 20px;
padding: 15px 20px;
border-radius: 18px;
max-width: 80%;
word-wrap: break-word;
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
animation: fadeInUp 0.3s ease;
}
.message.nehori {
background: linear-gradient(135deg, #e8e2ff 0%, #d6c9ff 100%);
color: #5b2c87;
align-self: flex-start;
border-left: 4px solid #8b5cf6;
margin-left: 10px;
}
.message.hahori {
background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
color: #1e3a8a;
align-self: flex-start;
border-left: 4px solid #06b6d4;
margin-left: 10px;
}
.message.user {
background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
color: #1e40af;
align-self: flex-end;
border-right: 4px solid #3b82f6;
margin-left: auto;
}
.message-header {
font-weight: 600;
font-size: 12px;
opacity: 0.8;
margin-bottom: 5px;
text-transform: uppercase;
letter-spacing: 0.5px;
}
.message-content {
font-size: 15px;
line-height: 1.5;
}
/* üé® „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„Éë„Éç„É´ - Step 2„ÅßÊúâÂäπÂåñ */
.transcript-panel {
position: fixed;
bottom: 20px; /* „Çà„ÇäË¶ã„ÇÑ„Åô„ÅÑ‰ΩçÁΩÆ„Å´Ë™øÊï¥ */
left: 50%;
transform: translateX(-50%);
width: 90%;
max-width: 800px;
max-height: 200px; /* È´ò„ÅïÂà∂Èôê„ÇíËøΩÂä† */
z-index: 1500; /* „Çà„ÇäÈ´ò„ÅÑz-index„ÅßÁ¢∫ÂÆü„Å´Ë°®Á§∫ */
border-radius: 15px;
backdrop-filter: blur(10px);
background: rgba(255, 255, 255, 0.95);
border: 2px solid rgba(255, 255, 255, 0.8);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
overflow-y: auto; /* „Çπ„ÇØ„É≠„Éº„É´ÂèØËÉΩ„Å´„Åô„Çã */
}
/* üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: transcript-panel„ÅÆÈùûË°®Á§∫Âà∂Âæ° */
.transcript-panel.hidden {
display: none !important;
}
/* üéØ „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òË°®Á§∫Ôºà‰∏≠Â§Æ„Éö„Ç§„É≥ÂÜÖ„ÄÅ‰∏ãÈÉ®„Éú„Çø„É≥„Ç®„É™„Ç¢„ÅÆ‰∏äÔºâ */
.realtime-transcript-area {
margin: 5px 0;
padding: 0;
border-top: 3px solid rgba(255, 255, 255, 0.2);
}
/* üé® Èü≥Â£∞Ë™çË≠òË°®Á§∫ - ‰∏≠Â§Æ„Éö„Ç§„É≥ÂÜÖÈÖçÁΩÆ */
.transcript-display {
background: rgba(255, 255, 255, 0.4);
border-radius: 12px;
padding: 15px;
margin: 0;
min-height: 80px;
max-height: 150px;
overflow-y: auto;
overflow-x: hidden;
font-style: italic;
color: #666;
border-left: 4px solid #3498db;
line-height: 1.6;
word-wrap: break-word;
white-space: pre-wrap;
font-size: 16px;
font-weight: 500;
}
/* üé® „Ç≠„É£„É©„ÇØ„Çø„ÉºÁîªÂÉè„ÅÆÁ∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú */
.avatar {
position: relative;
transition: all 0.3s ease;
}
.avatar::before {
content: '';
position: absolute;
top: -30px;
left: 50%;
transform: translateX(-50%);
width: 100px;
height: 140px;
background: transparent;
border-radius: 50%;
transition: all 0.3s ease;
opacity: 0;
filter: blur(10px);
z-index: -1;
}
/* „Å≠„Åª„Çä„ÉºÁô∫Ë©±ÊôÇ: ËñÑ„ÅÑÁ¥´„ÅÆÁ∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ */
.avatar.nehori-speaking::before {
background: radial-gradient(ellipse 80px 150px at center,
rgba(170, 150, 255, 0.8) 0%,
rgba(170, 150, 255, 0.4) 40%,
rgba(170, 150, 255, 0.2) 70%,
transparent 100%);
opacity: 1;
animation: avatarPulse 2s ease-in-out infinite;
}
/* „ÅØ„Åª„Çä„ÉºÁô∫Ë©±ÊôÇ: ËñÑ„ÅÑ„Éñ„É´„Éº„ÅÆÁ∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ */
.avatar.hahori-speaking::before {
background: radial-gradient(ellipse 80px 150px at center,
rgba(150, 200, 255, 0.8) 0%,
rgba(150, 200, 255, 0.4) 40%,
rgba(150, 200, 255, 0.2) 70%,
transparent 100%);
opacity: 1;
animation: avatarPulse 2s ease-in-out infinite;
}
/* ËÑàÂãï„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
@keyframes avatarPulse {
0% {
transform: translateX(-50%) scale(0.9);
opacity: 0.7;
}
50% {
transform: translateX(-50%) scale(1.1);
opacity: 1;
}
100% {
transform: translateX(-50%) scale(0.9);
opacity: 0.7;
}
}
.transcript-display {
background: transparent; /* üé® ËÉåÊôØ„Çí„Éë„Éç„É´„Å´ÂßîË≠≤ */
border-radius: 12px;
padding: 20px;
margin: 0; /* üé® „Éû„Éº„Ç∏„É≥ÂâäÈô§Ôºà„Éë„Éç„É´ÂÜÖ„Å™„ÅÆ„ÅßÔºâ */
min-height: 120px; /* üé® ‰ª•Ââç„ÅÆÂ§ß„Åç„Åï„Å´Âæ©ÂÖÉ */
max-height: 300px; /* üé® È´ò„ÅïÂà∂Èôê„ÇíÁ∑©Âíå„Åó„ÄÅÈï∑„ÅÑÁô∫Â£∞„Å´ÂØæÂøú */
overflow-y: auto;
overflow-x: hidden;
font-style: italic;
color: #666;
border: none; /* üé® „Éú„Éº„ÉÄ„Éº„Çí„Éë„Éç„É´„Å´ÂßîË≠≤ */
line-height: 1.6;
word-wrap: break-word;
white-space: pre-wrap;
font-size: 16px;
font-weight: 500;
}
/* üé® Èü≥Â£∞„Ç≥„É≥„Éà„É≠„Éº„É´: ‰ºöË©±„ÅÆÈÇ™È≠î„Çí„Åó„Å™„ÅÑÁµ±Âêà„Éê„ÉºÔºàÊîπËâØÁâà„É¨„Ç§„Ç¢„Ç¶„ÉàÔºâ */
.voice-controls {
display: flex;
flex-direction: row;
align-items: center;
justify-content: space-between;
padding: 12px 20px;
max-height: 80px;
background: rgba(255, 255, 255, 0.1);
border-radius: 8px;
backdrop-filter: blur(5px);
margin-top: 10px;
}
/* Èü≥Â£∞Áä∂ÊÖãË°®Á§∫ÔºàÂ∑¶Á´Ø„ÉªÊéß„Åà„ÇÅÔºâ */
.voice-state-compact {
display: flex;
align-items: center;
gap: 8px;
font-size: 14px;
color: #666;
padding: 4px 0;
flex: 1;
text-align: left;
}
/* Êìç‰Ωú„Éú„Çø„É≥ÔºàÂè≥Á´ØÔºâ */
.voice-controls-buttons {
display: flex;
gap: 20px;
margin-left: auto;
}
.state-icon {
font-size: 16px;
transition: all 0.3s ease;
}
.state-text {
font-weight: 500;
letter-spacing: 0.3px;
white-space: nowrap;
}
/* 6„Å§„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆËâ≤ÂàÜ„Åë */
.voice-state-compact.starting .state-icon { color: #6c757d; }
.voice-state-compact.active .state-icon { color: #28a745; }
.voice-state-compact.stopping .state-icon { color: #ffc107; }
.voice-state-compact.error .state-icon { color: #dc3545; }
.voice-state-compact.network-error .state-icon { color: #dc3545; }
.voice-state-compact.permission-denied .state-icon { color: #dc3545; }
.voice-state-compact.idle .state-icon { color: #6c757d; }
/* Êìç‰Ωú„Éú„Çø„É≥Ë°å */
.voice-controls .glass-button {
margin: 0;
}
/* üé® 700px„É´„Éº„É´ÈÅµÂÆà: Èü≥Â£∞„Ç≥„É≥„Éà„É≠„Éº„É´„ÅÆ„É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
@media (max-width: 700px) {
.voice-controls {
flex-direction: column;
gap: 8px;
padding: 8px 15px;
max-height: none;
}
.voice-state-compact {
width: 100%;
justify-content: center;
text-align: center;
}
.voice-controls-buttons {
margin-left: 0;
justify-content: center;
}
.voice-controls .glass-button {
flex: 1;
min-width: 70px;
font-size: 12px;
}
/* üéØ „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òË°®Á§∫: „É¢„Éê„Ç§„É´ÂØæÂøú */
.realtime-transcript-area {
margin: 3px 0;
}
.transcript-display {
padding: 10px;
min-height: 60px;
max-height: 120px;
font-size: 14px;
}
}
@keyframes pulse {
0% { transform: scale(1); }
50% { transform: scale(1.1); }
100% { transform: scale(1); }
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
@keyframes fadeInUp {
from {
opacity: 0;
transform: translateY(20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
/* üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ: Ë©±ËÄÖ„Å´„Çà„ÇãËñÑ„ÅÑËÉåÊôØÂ§âÂåñÔºà!important‰∏ç‰ΩøÁî®Ôºâ */
.status-panel.speaker-nehori {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.05),
rgba(139, 92, 246, 0.02));
transition: background 0.3s ease;
}
.status-panel.speaker-hahori {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.05),
rgba(6, 182, 212, 0.02));
transition: background 0.3s ease;
}
.status-panel.speaker-user {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.05),
rgba(34, 197, 94, 0.02));
transition: background 0.3s ease;
}
.status-panel.speaker-nehori.pulse-animation {
animation: nehori-pulse 2s infinite;
}
.status-panel.speaker-hahori.pulse-animation {
animation: hahori-pulse 2s infinite;
}
.status-panel.speaker-user.pulse-animation {
animation: user-pulse 2s infinite;
}
@keyframes nehori-pulse {
0%, 100% {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.05),
rgba(139, 92, 246, 0.02));
}
50% {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.1),
rgba(139, 92, 246, 0.05));
}
}
@keyframes hahori-pulse {
0%, 100% {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.05),
rgba(6, 182, 212, 0.02));
}
50% {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.1),
rgba(6, 182, 212, 0.05));
}
}
@keyframes user-pulse {
0%, 100% {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.05),
rgba(34, 197, 94, 0.02));
}
50% {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.1),
rgba(34, 197, 94, 0.05));
}
}
.status-title {
font-weight: 600;
margin-bottom: 10px;
color: #2c3e50;
font-size: 14px;
}
.status-content {
font-size: 13px;
color: #555;
line-height: 1.4;
}
.progress-bar {
width: 100%;
height: 4px;
background: rgba(255, 255, 255, 0.3);
border-radius: 2px;
overflow: hidden;
margin: 10px 0;
}
.progress-fill {
height: 100%;
background: linear-gradient(90deg, #4ecdc4, #44a08d);
width: 0%;
transition: width 0.3s ease;
}
.hidden {
display: none !important;
}
.chat-area.hidden {
display: none !important;
}
.error-message, .success-message {
position: fixed;
top: 20px;
right: 20px;
z-index: 1000;
max-width: 400px;
padding: 15px;
border-radius: 10px;
margin: 10px 0;
}
.error-message {
background: linear-gradient(135deg, #fee, #fdd);
color: #c53030;
border-left: 4px solid #e53e3e;
}
.success-message {
background: linear-gradient(135deg, #eff, #dfd);
color: #2f855a;
border-left: 4px solid #38a169;
}
.voice-settings {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 10px;
margin: 10px 0;
}
.voice-setting {
display: flex;
flex-direction: column;
gap: 5px;
}
.voice-setting label {
font-size: 14px;
font-weight: 700;
color: var(--text-primary);
text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
margin-bottom: 8px;
}
.voice-setting select,
.voice-setting input[type="range"] {
padding: 5px;
border-radius: 5px;
border: 1px solid rgba(255, 255, 255, 0.3);
background: rgba(255, 255, 255, 0.2);
}
.tts-test-panel {
background: rgba(255, 255, 255, 0.1);
border-radius: 10px;
padding: 15px;
margin: 10px 0;
}
/* È´òÂ∫¶Ë®≠ÂÆö„Çπ„Çø„Ç§„É´ */
.settings-section {
background: rgba(255, 255, 255, 0.1);
border-radius: 15px;
padding: 20px;
margin-bottom: 20px;
}
/* „ÉÜ„Éº„ÉûÈÅ∏Êäû„É¢„Éº„ÉÄ„É´ */
.theme-selection-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.9);
z-index: 1001;
display: flex;
align-items: center;
justify-content: center;
backdrop-filter: blur(5px);
}
.theme-selection-panel {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(15px);
border-radius: 25px;
border: 2px solid var(--glass-border);
padding: 30px;
max-width: 700px;
width: 90%;
max-height: 80vh;
overflow-y: auto;
position: relative;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
color: #333;
}
.theme-selection-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 25px;
padding-bottom: 15px;
border-bottom: 1px solid var(--glass-border);
}
.theme-selection-title {
font-size: 1.5rem;
font-weight: 700;
color: #333;
margin: 0;
}
.analysis-progress {
text-align: center;
padding: 40px;
}
.progress-spinner {
width: 50px;
height: 50px;
border: 4px solid rgba(255, 255, 255, 0.3);
border-top: 4px solid var(--accent-color);
border-radius: 50%;
animation: spin 1s linear infinite;
margin: 0 auto 20px;
}
.progress-text {
font-size: 1.1rem;
color: #333;
margin-bottom: 10px;
font-weight: 600;
}
.progress-detail {
font-size: 0.9rem;
color: #666;
}
.theme-list {
margin: 20px 0;
}
.theme-item {
background: rgba(255, 255, 255, 0.1);
border-radius: 15px;
padding: 20px;
margin-bottom: 15px;
border: 2px solid transparent;
transition: all 0.3s ease;
position: relative;
}
.theme-item:hover {
background: rgba(255, 255, 255, 0.15);
transform: translateY(-2px);
}
.theme-item.recommended {
border-color: var(--accent-color);
background: rgba(102, 126, 234, 0.1);
}
.theme-item.recommended::before {
content: "üî• Êé®Â•®";
position: absolute;
top: -8px;
right: 15px;
background: var(--accent-color);
color: white;
padding: 4px 12px;
border-radius: 12px;
font-size: 0.7rem;
font-weight: 600;
}
.theme-checkbox-container {
display: flex;
align-items: flex-start;
gap: 15px;
}
.theme-checkbox {
margin-top: 3px;
width: 18px;
height: 18px;
accent-color: var(--accent-color);
}
.theme-content {
flex: 1;
}
.theme-title {
font-size: 1.1rem;
font-weight: 600;
color: var(--text-primary);
margin-bottom: 8px;
display: flex;
align-items: center;
gap: 10px;
}
.theme-description {
color: var(--text-primary);
opacity: 0.85;
line-height: 1.5;
margin-bottom: 10px;
font-weight: 500;
}
.theme-meta {
display: flex;
gap: 15px;
font-size: 0.8rem;
color: var(--text-primary);
opacity: 0.75;
}
.theme-priority {
padding: 2px 8px;
border-radius: 12px;
}
.theme-points {
margin-top: 8px;
display: flex;
flex-direction: column;
gap: 4px;
}
.theme-point {
color: var(--text-primary);
opacity: 0.8;
font-size: 0.85rem;
font-weight: 500;
}
.priority-high {
background: rgba(255, 107, 107, 0.2);
color: #ff6b6b;
}
.priority-medium {
background: rgba(255, 193, 7, 0.2);
color: #ffc107;
}
.priority-low {
background: rgba(40, 167, 69, 0.2);
color: #28a745;
}
.theme-key-points {
margin-top: 10px;
}
.theme-key-points li {
color: var(--text-secondary);
font-size: 0.85rem;
margin-bottom: 3px;
}
.document-summary {
background: rgba(255, 255, 255, 0.05);
border-radius: 10px;
padding: 15px;
margin: 20px 0;
border-left: 3px solid var(--accent-color);
}
.document-summary h4 {
color: var(--text-primary);
margin-bottom: 8px;
font-size: 1rem;
}
.document-summary p {
color: var(--text-secondary);
font-size: 0.9rem;
line-height: 1.4;
}
.theme-selection-actions {
display: flex;
justify-content: space-between;
align-items: center;
margin-top: 30px;
padding-top: 20px;
border-top: 1px solid var(--glass-border);
gap: 15px;
flex-wrap: wrap;
}
.selected-count {
font-size: 0.9rem;
color: var(--text-secondary);
background: rgba(255, 255, 255, 0.1);
padding: 8px 15px;
border-radius: 20px;
border: 1px solid var(--glass-border);
}
/* „Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞ÈÅ∏Êäû„Éë„Éç„É´ */
.floating-selection-panel {
position: sticky;
top: 0;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: 10px;
padding: 15px;
margin-bottom: 20px;
display: flex;
align-items: center;
justify-content: space-between;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
z-index: 100;
}
.selection-status {
display: flex;
flex-direction: column;
align-items: flex-start;
color: var(--text-primary);
}
.selection-guidance {
color: var(--text-secondary);
font-size: 0.9rem;
margin-top: 5px;
}
.floating-complete-btn {
padding: 12px 24px;
font-weight: 700;
min-width: 120px;
}
/* „ÉÄ„Éº„ÇØ„ÉÜ„Éº„ÉûÂØæÂøú */
[data-theme="dark"] .floating-selection-panel {
background: rgba(30, 30, 30, 0.95);
border: 1px solid rgba(255, 255, 255, 0.1);
}
/* Áü•Ë¶ãË°®Á§∫Èñ¢ÈÄ£ */
.knowledge-item {
background: rgba(255, 255, 255, 0.1);
border-radius: 10px;
padding: 12px;
margin-bottom: 10px;
border-left: 3px solid var(--accent-color);
transition: all 0.3s ease;
}
.knowledge-item:hover {
background: rgba(255, 255, 255, 0.15);
transform: translateX(5px);
}
.knowledge-item:last-child {
margin-bottom: 0;
}
.knowledge-title {
font-weight: 600;
color: var(--text-primary);
font-size: 0.85rem;
margin-bottom: 5px;
display: -webkit-box;
-webkit-line-clamp: 2;
-webkit-box-orient: vertical;
overflow: hidden;
}
.knowledge-meta {
font-size: 0.7rem;
color: var(--text-secondary);
margin-bottom: 8px;
}
.knowledge-summary {
font-size: 0.75rem;
color: var(--text-secondary);
line-height: 1.4;
display: -webkit-box;
-webkit-line-clamp: 3;
-webkit-box-orient: vertical;
overflow: hidden;
}
.knowledge-list-empty {
text-align: center;
color: var(--text-secondary);
font-style: italic;
padding: 20px;
}
.theme-button {
background: var(--glass-bg);
backdrop-filter: blur(10px);
border: 2px solid var(--glass-border);
border-radius: 15px;
padding: 15px;
color: var(--text-primary);
font-weight: 500;
cursor: pointer;
transition: all 0.3s ease;
text-align: center;
}
.theme-button:hover {
background: rgba(255, 255, 255, 0.35);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}
/* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
@media (max-width: 1200px) {
.chat-area {
gap: 15px;
}
.voice-guide-panel {
width: 250px;
}
.status-panel {
width: 250px;
}
.conversation-panel {
min-width: 350px;
}
}
@media (max-width: 768px) {
.chat-area {
flex-direction: column;
height: auto;
min-height: 100vh;
gap: 15px;
padding: 10px;
}
.voice-guide-panel {
width: 100%;
order: 3;
}
.voice-guide-panel.hidden {
display: none;
}
.conversation-panel {
width: 100%;
min-width: auto;
order: 1;
min-height: 400px;
}
.status-panel {
width: 100%;
order: 2;
max-height: 300px;
}
.main-container {
padding: 10px;
}
.header h1 {
font-size: 2rem;
}
.message {
max-width: 95%;
}
#advancedSettingsModal .glass-panel {
width: 95%;
max-width: none;
margin: 20px;
}
.header-with-avatars {
flex-direction: column;
gap: 20px;
}
.avatar.setup {
width: 60px;
height: 75px;
font-size: 24px;
}
.main-guide-toggle {
position: fixed;
top: 20px;
left: 20px;
width: auto;
height: auto;
writing-mode: initial;
padding: 10px 15px;
}
.theme-selection-panel {
width: 95%;
margin: 20px;
padding: 20px;
}
.theme-selection-actions {
flex-direction: column;
align-items: stretch;
}
.theme-selection-actions .glass-button {
width: 100%;
margin-bottom: 10px;
}
/* „Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞„Éë„Éç„É´„ÅÆ„É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
.floating-selection-panel {
flex-direction: column;
gap: 10px;
text-align: center;
}
.selection-status {
align-items: center;
}
.floating-complete-btn {
width: 100%;
}
/* üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: transcript-panel„ÅÆ„É¢„Éê„Ç§„É´ÂØæÂøú */
.transcript-panel {
bottom: 120px; /* „É¢„Éê„Ç§„É´„ÅßVoiceUIManager„Å®„ÅÆÈñìÈöî„ÇíË™øÊï¥ */
width: 95%;
left: 2.5%;
right: 2.5%;
transform: none;
}
.transcript-display {
padding: 15px;
min-height: 50px;
max-height: 100px;
font-size: 14px;
}
}
/* =================================================================================
CUSTOM FILE INPUT - „Ç´„Çπ„Çø„É†„Éï„Ç°„Ç§„É´ÂÖ•Âäõ
================================================================================= */
.custom-file-input {
position: relative;
display: inline-block;
width: 100%;
}
.file-input-hidden {
position: absolute;
left: -9999px;
opacity: 0;
pointer-events: none;
}
.file-input-display {
display: flex;
align-items: center;
justify-content: space-between;
padding: 12px 16px;
border: 2px solid var(--glass-border);
border-radius: 12px;
background: var(--glass-bg);
backdrop-filter: blur(10px);
cursor: pointer;
transition: all 0.3s ease;
height: auto;
}
.file-input-display:hover {
border-color: var(--accent-color);
background: rgba(255, 255, 255, 0.35);
}
.file-input-display.disabled {
cursor: not-allowed;
opacity: 0.5;
background: rgba(200, 200, 200, 0.2);
pointer-events: none;
}
.file-input-display.disabled:hover {
border-color: var(--glass-border);
background: rgba(200, 200, 200, 0.2);
}
.file-input-text {
flex: 1;
color: var(--text-primary);
font-size: 14px;
text-overflow: ellipsis;
overflow: hidden;
white-space: nowrap;
}
.file-input-text.placeholder {
color: var(--text-secondary);
font-style: italic;
}
.file-input-button {
background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8));
color: white;
padding: 8px 16px;
border-radius: 8px;
font-size: 12px;
font-weight: 600;
white-space: nowrap;
margin-left: 10px;
transition: all 0.3s ease;
}
.file-input-display:hover .file-input-button {
background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), var(--accent-color));
transform: translateY(-1px);
}
.file-input-display.disabled .file-input-button {
background: #ccc;
transform: none;
}
/* „Ç®„É©„ÉºË°®Á§∫„É¢„Éº„ÉÄ„É´ */
.error-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.5);
display: flex;
justify-content: center;
align-items: center;
z-index: 10000;
}
.error-modal-content {
background: var(--glass-bg);
backdrop-filter: blur(15px);
border-radius: 20px;
border: 1px solid var(--glass-border);
padding: 30px;
max-width: 500px;
width: 90%;
text-align: center;
box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
}
.error-modal-title {
font-size: 1.5rem;
color: #e74c3c;
margin-bottom: 15px;
display: flex;
align-items: center;
justify-content: center;
gap: 10px;
}
.error-modal-message {
font-size: 1rem;
color: var(--text-primary);
margin-bottom: 25px;
line-height: 1.6;
}
.error-modal-actions {
display: flex;
justify-content: center;
gap: 15px;
}
.error-modal-button {
background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8));
color: white;
border: none;
border-radius: 12px;
padding: 12px 24px;
font-size: 14px;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}
.error-modal-button:hover {
background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), var(--accent-color));
transform: translateY(-2px);
}
.error-modal-button.secondary {
background: var(--glass-bg);
color: var(--text-primary);
border: 1px solid var(--glass-border);
}
.error-modal-button.secondary:hover {
background: rgba(255, 255, 255, 0.35);
}
/* =================================================================================
SPEECH SHORTENING UI - Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆöUI
================================================================================= */
/* Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆöÁî®„Çπ„Ç§„ÉÉ„ÉÅ */
.switch {
position: relative;
display: inline-block;
width: 50px;
height: 24px;
}
.switch input {
opacity: 0;
width: 0;
height: 0;
}
.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: #ccc;
transition: 0.4s;
border-radius: 24px;
}
.slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 3px;
bottom: 3px;
background-color: white;
transition: 0.4s;
border-radius: 50%;
}
input:checked + .slider {
background-color: #ffa500;
}
input:checked + .slider:before {
transform: translateX(26px);
}
.slider.round {
border-radius: 24px;
}
.slider.round:before {
border-radius: 50%;
}
/* Phase 1: Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„ÅÆ„Çπ„Çø„Ç§„É´ */
.shortening-setting {
margin-bottom: 15px;
}
.shortening-toggle {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 15px;
}
.shortening-slider {
margin-bottom: 10px;
}
.shortening-options {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 10px;
margin-bottom: 15px;
}
.shortening-option {
display: flex;
gap: 10px;
margin-bottom: 10px;
}
/* „Éá„Éê„ÉÉ„Ç∞„Éª‰øÆÂæ©Ê©üËÉΩ„ÅÆ„Çπ„Çø„Ç§„É´ */
.shortening-debug-section {
margin-top: 20px;
padding: 15px;
border: 2px dashed #007bff;
border-radius: 8px;
background-color: rgba(0, 123, 255, 0.05);
}
.shortening-debug-section h4 {
margin: 0 0 15px 0;
color: #007bff;
font-size: 14px;
}
.debug-button {
background-color: #17a2b8 !important;
border-color: #17a2b8 !important;
}
.debug-button:hover {
background-color: #138496 !important;
border-color: #117a8b !important;
}
.fix-button {
background-color: #fd7e14 !important;
border-color: #fd7e14 !important;
}
.fix-button:hover {
background-color: #e55a0d !important;
border-color: #dc5202 !important;
}
.clear-button {
background-color: #6c757d !important;
border-color: #6c757d !important;
}
.clear-button:hover {
background-color: #5a6268 !important;
border-color: #545b62 !important;
}
.debug-info-display {
margin-top: 15px;
padding: 10px;
background-color: #f8f9fa;
border: 1px solid #dee2e6;
border-radius: 4px;
max-height: 300px;
overflow-y: auto;
}
.debug-info-display h5 {
margin: 0 0 10px 0;
font-size: 12px;
color: #495057;
}
.debug-info-display pre {
margin: 0;
font-size: 11px;
font-family: 'Courier New', monospace;
white-space: pre-wrap;
word-wrap: break-word;
}
/* =================================================================================
Phase 2: Áô∫Â£∞Áü≠Á∏ÆÂÆüÁî®Êã°Âºµ „Çπ„Çø„Ç§„É´
================================================================================= */
/* Phase 2„Çª„ÇØ„Ç∑„Éß„É≥ */
.shortening-phase2-section {
background: rgba(255, 255, 255, 0.08);
border: 1px solid rgba(255, 255, 255, 0.2);
border-radius: 12px;
padding: 20px;
margin-top: 20px;
}
.shortening-phase2-section h4 {
color: #ff6b35;
font-size: 16px;
margin-bottom: 15px;
font-weight: 600;
display: flex;
align-items: center;
gap: 8px;
}
/* Phase 2Áµ±Ë®àË°®Á§∫ */
.phase2-stats-container {
background: rgba(255, 107, 53, 0.1);
border: 1px solid rgba(255, 107, 53, 0.3);
border-radius: 8px;
padding: 15px;
margin-bottom: 15px;
}
.phase2-title {
font-size: 14px;
font-weight: 600;
color: #ff6b35;
margin-bottom: 10px;
display: flex;
align-items: center;
gap: 6px;
}
.phase2-stats {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 8px;
}
.stats-item {
display: flex;
justify-content: space-between;
align-items: center;
font-size: 12px;
background: rgba(255, 255, 255, 0.05);
padding: 6px 10px;
border-radius: 6px;
border: 1px solid rgba(255, 255, 255, 0.1);
}
.stats-label {
color: var(--text-secondary);
font-weight: 500;
}
.stats-value {
color: #ff6b35;
font-weight: 600;
font-size: 13px;
}
/* Phase 2„ÉÜ„Çπ„Éà„Éú„Çø„É≥„Çπ„Çø„Ç§„É´ */
.shortening-phase2-section .advanced-button.test-button {
background: rgba(255, 107, 53, 0.2);
border: 1px solid #ff6b35;
color: #ff6b35;
}
.shortening-phase2-section .advanced-button.test-button:hover {
background: rgba(255, 107, 53, 0.3);
transform: translateY(-2px);
}
/* „Çπ„Ç§„ÉÉ„ÉÅ„Ç≥„É≥„Éà„É≠„Éº„É´ - Phase 2Â∞ÇÁî® */
.shortening-phase2-section .switch {
position: relative;
display: inline-block;
width: 44px;
height: 24px;
}
.shortening-phase2-section .switch input {
opacity: 0;
width: 0;
height: 0;
}
.shortening-phase2-section .slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(255, 255, 255, 0.2);
border: 1px solid rgba(255, 255, 255, 0.3);
transition: 0.3s;
border-radius: 24px;
}
.shortening-phase2-section .slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 2px;
bottom: 2px;
background-color: white;
transition: 0.3s;
border-radius: 50%;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}
.shortening-phase2-section input:checked + .slider {
background-color: rgba(255, 107, 53, 0.8);
border-color: #ff6b35;
}
.shortening-phase2-section input:checked + .slider:before {
transform: translateX(20px);
background-color: #fff;
}
/* Phase 2„Ç™„Éó„Ç∑„Éß„É≥Ë°å */
.shortening-phase2-section .shortening-option {
margin-bottom: 12px;
padding: 8px 0;
}
.shortening-phase2-section .shortening-option:last-child {
margin-bottom: 0;
}
.shortening-phase2-section .shortening-option label {
font-size: 13px;
color: var(--text-primary);
font-weight: 500;
}
/* Phase 2„Éú„Çø„É≥„Ç∞„É´„Éº„ÉóÈÖçÁΩÆ */
.shortening-phase2-section .shortening-option button {
margin-right: 8px;
margin-bottom: 8px;
min-width: 120px;
}
.shortening-phase2-section .shortening-option button:last-child {
margin-right: 0;
}
/* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
@media (max-width: 768px) {
.phase2-stats {
grid-template-columns: 1fr;
}
.shortening-phase2-section .shortening-option button {
width: 100%;
margin-right: 0;
margin-bottom: 8px;
}
.shortening-phase2-section .shortening-option label {
flex-direction: column;
align-items: flex-start;
gap: 8px;
}
.shortening-phase2-section .switch {
align-self: flex-end;
}
}
.shortening-phase2-section .switch {
transform: scale(0.8);
}
#advancedSettingsModal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.5);
z-index: 1000;
display: flex;
align-items: center;
justify-content: center;
}
/* ==========================================================================
Advanced Settings Modal
========================================================================== */
#advancedSettingsModal .glass-panel {
width: 90%;
max-width: 800px;
max-height: 90%;
overflow-y: auto;
padding: 30px;
}
#advancedSettingsModal .modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}
#advancedSettingsModal .modal-header h2 {
color: var(--text-primary);
margin: 0;
}
#advancedSettingsModal .modal-close-btn {
padding: 8px 16px;
}
#advancedSettingsModal .settings-section {
background: rgba(255, 255, 255, 0.1);
border-radius: 15px;
padding: 20px;
margin-bottom: 20px;
}
#advancedSettingsModal .settings-section h3 {
margin-bottom: 15px;
color: var(--text-primary);
}
#advancedSettingsModal .setup-row {
margin-bottom: 15px;
}
#advancedSettingsModal #apiKeyInput {
flex: 1;
}
#advancedSettingsModal #apiPasswordInput {
min-width: 150px;
}
#advancedSettingsModal .voice-preset-controls {
margin-bottom: 20px;
}
#advancedSettingsModal .voice-preset-controls label {
font-weight: 600;
margin-bottom: 10px;
display: block;
}
#advancedSettingsModal #voicePresetSelect {
margin-bottom: 10px;
}
#advancedSettingsModal .voice-preset-controls .glass-button {
margin-right: 10px;
}
#advancedSettingsModal .character-voice-settings {
margin-bottom: 25px;
border: 1px solid; /* Color is set by specific class */
border-radius: 10px;
padding: 15px;
}
#advancedSettingsModal .nehori-settings {
border-color: #8b5cf6;
}
#advancedSettingsModal .hahori-settings {
border-color: #06b6d4;
}
#advancedSettingsModal .character-voice-settings h4 {
margin-bottom: 15px;
}
#advancedSettingsModal .nehori-settings h4 {
color: #8b5cf6;
}
#advancedSettingsModal .hahori-settings h4 {
color: #06b6d4;
}
#advancedSettingsModal .voice-settings {
gap: 15px;
}
#advancedSettingsModal .custom-prompt-area {
margin-top: 15px;
}
#advancedSettingsModal .custom-prompt-area textarea {
width: 100%;
margin-top: 5px;
}
#advancedSettingsModal .test-voice-btn {
margin-top: 10px;
}
#advancedSettingsModal .shortening-phase1-header {
background: #ffa500;
color: white;
padding: 2px 8px;
border-radius: 10px;
font-size: 0.7rem;
margin-left: 10px;
}
#advancedSettingsModal .shortening-toggle-section {
margin-bottom: 20px;
padding: 15px;
border: 1px solid #ffa500;
border-radius: 10px;
background: rgba(255, 165, 0, 0.1);
}
#advancedSettingsModal .shortening-toggle-header {
display: flex;
align-items: center;
justify-content: space-between;
margin-bottom: 10px;
}
#advancedSettingsModal .shortening-toggle-label {
font-weight: 600;
color: #ffa500;
}
/* ==========================================================================
Setup Panel Overrides
========================================================================== */
.setup-header-override {
text-align: center;
margin-bottom: 6px;
padding: 0; /* Override default header padding */
}
.logo-container {
margin-bottom: 10px;
}
.setup-logo {
max-width: 480px;
max-height: 192px;
object-fit: contain;
}
.setup-title-fallback {
/* `display: none;` is kept inline as it's controlled by JS */
margin: 0;
font-size: 2rem;
color: var(--text-primary);
}
/* ==========================================================================
Theme Selection Modal Overrides
========================================================================== */
#themeModalCloseBtn {
padding: 8px 16px;
}
#floatingCompleteBtn {
background: linear-gradient(135deg, #2196f3, #1976d2);
color: white;
}
/* This is a more specific override than the general .danger class */
.theme-selection-actions .glass-button.danger {
background: linear-gradient(135deg, #ff5722, #d32f2f);
color: white;
}
#confirmThemeBtn {
background: linear-gradient(135deg, #4caf50, #45a049);
color: white;
}
/* =================================================================================
First Time Guide Overrides
========================================================================== */
#guideStep4 .glass-button {
background: linear-gradient(135deg, #4caf50, #45a049);
color: white;
}
/* =================================================================================
„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„É°„ÉÉ„Çª„Éº„Ç∏ÂâäÈô§
================================================================================= */
/* üóëÔ∏è „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„ÇπÈñ¢ÈÄ£„ÅÆË¶ÅÁ¥†„ÇíÂÆåÂÖ®„Å´ÂâäÈô§ */
.user-guidance-display,
#user-guidance-display,
.unified-status-display,
#unified-status-display,
.guidance-content,
.user-message,
.available-actions {
display: none !important;
visibility: hidden !important;
opacity: 0 !important;
pointer-events: none !important;
}
/* Âè≥„Éö„Ç§„É≥: „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÊ¥óÁ∑¥„Åï„Çå„Åü„Éá„Ç∂„Ç§„É≥ */
.session-info-grid {
display: grid;
grid-template-columns: 1fr;
gap: 8px;
padding: 5px 0;
}
.session-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 6px 10px;
background: rgba(255, 255, 255, 0.1);
border-radius: 6px;
border-left: 3px solid transparent;
transition: all 0.3s ease;
}
.session-item:hover {
background: rgba(255, 255, 255, 0.15);
border-left-color: var(--accent-color);
}
.session-label {
font-size: 11px;
color: #999;
font-weight: 500;
letter-spacing: 0.3px;
}
.session-value {
font-size: 12px;
font-weight: 600;
color: var(--text-primary);
text-align: right;
max-width: 120px;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
}
.session-value.active {
color: #28a745;
}
.session-value.warning {
color: #ffc107;
}
.session-value.error {
color: #dc3545;
}
/* „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å„ÅÆÁâπÂà•„Å™„Çπ„Çø„Ç§„É´ */
#sessionState.active {
color: #28a745;
font-weight: 700;
}
#sessionPhase.active {
color: #06b6d4;
font-weight: 700;
}
#sessionDuration.active {
color: #8b5cf6;
font-weight: 700;
}
#currentTheme:not(:empty) {
color: #3b82f6;
font-weight: 700;
}
/* === styles.css === */
/**
* Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - „Çπ„Çø„Ç§„É´
* „É¶„Éº„Ç∂„ÉºÂêë„ÅëÁä∂ÊÖãË°®Á§∫„Å®„Ç¨„Ç§„ÉÄ„É≥„Çπ„ÅÆ„Çπ„Çø„Ç§„É´
*/
/* =================================================================================
Âü∫Êú¨„É¨„Ç§„Ç¢„Ç¶„Éà
================================================================================= */
.unified-status-display {
position: fixed;
top: 20px;
right: 20px;
width: 300px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
border-radius: 12px;
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
border: 1px solid rgba(255, 255, 255, 0.2);
z-index: 1000;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
font-size: 14px;
transition: all 0.3s ease;
}
.unified-status-display:hover {
transform: translateY(-2px);
box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}
.user-guidance-display {
position: fixed;
bottom: 20px;
left: 50%;
transform: translateX(-50%);
width: 90%;
max-width: 600px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
border-radius: 16px;
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
border: 1px solid rgba(255, 255, 255, 0.2);
z-index: 1000;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
transition: all 0.3s ease;
}
/* =================================================================================
„Çπ„ÉÜ„Éº„Çø„ÇπË°®Á§∫
================================================================================= */
.status-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 16px 20px;
border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}
.status-header h3 {
margin: 0;
font-size: 16px;
font-weight: 600;
color: #333;
}
.status-toggle {
background: none;
border: none;
font-size: 16px;
cursor: pointer;
color: #666;
padding: 4px;
border-radius: 4px;
transition: all 0.2s ease;
}
.status-toggle:hover {
background: rgba(0, 0, 0, 0.05);
color: #333;
}
.status-content {
padding: 16px 20px;
}
.status-section {
display: flex;
flex-direction: column;
gap: 12px;
padding: 15px;
border-radius: 12px;
background: rgba(255, 255, 255, 0.3);
transition: all 0.3s ease;
}
/* üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÔºàË©±ËÄÖ„Å´„Çà„ÇãËâ≤Â§âÂåñ + ËÑàÂãïÂäπÊûúÔºâ */
.status-section.nehori-speaking {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.2) 0%,
rgba(139, 92, 246, 0.1) 50%,
rgba(139, 92, 246, 0.05) 100%
) !important;
animation: pulse-nehori 2s ease-in-out infinite;
}
.status-section.hahori-speaking {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.2) 0%,
rgba(6, 182, 212, 0.1) 50%,
rgba(6, 182, 212, 0.05) 100%
) !important;
animation: pulse-hahori 2s ease-in-out infinite;
}
.status-section.user-speaking {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.2) 0%,
rgba(34, 197, 94, 0.1) 50%,
rgba(34, 197, 94, 0.05) 100%
) !important;
animation: pulse-user 2s ease-in-out infinite;
}
@keyframes pulse-nehori {
0%, 100% {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.2) 0%,
rgba(139, 92, 246, 0.1) 50%,
rgba(139, 92, 246, 0.05) 100%
) !important;
}
50% {
background: linear-gradient(135deg,
rgba(139, 92, 246, 0.35) 0%,
rgba(139, 92, 246, 0.25) 50%,
rgba(139, 92, 246, 0.15) 100%
) !important;
}
}
@keyframes pulse-hahori {
0%, 100% {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.2) 0%,
rgba(6, 182, 212, 0.1) 50%,
rgba(6, 182, 212, 0.05) 100%
) !important;
}
50% {
background: linear-gradient(135deg,
rgba(6, 182, 212, 0.35) 0%,
rgba(6, 182, 212, 0.25) 50%,
rgba(6, 182, 212, 0.15) 100%
) !important;
}
}
@keyframes pulse-user {
0%, 100% {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.2) 0%,
rgba(34, 197, 94, 0.1) 50%,
rgba(34, 197, 94, 0.05) 100%
) !important;
}
50% {
background: linear-gradient(135deg,
rgba(34, 197, 94, 0.35) 0%,
rgba(34, 197, 94, 0.25) 50%,
rgba(34, 197, 94, 0.15) 100%
) !important;
}
}
.status-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 8px 0;
}
.status-item label {
font-weight: 500;
color: #555;
}
.status-value {
padding: 4px 8px;
border-radius: 6px;
font-size: 12px;
font-weight: 500;
text-align: center;
min-width: 60px;
transition: all 0.2s ease;
}
/* „Çπ„ÉÜ„Éº„Çø„ÇπÂÄ§„ÅÆËâ≤ÂàÜ„Åë */
.status-value.active {
background: #10b981;
color: white;
}
.status-value.inactive {
background: #6b7280;
color: white;
}
.status-value.loading {
background: #f59e0b;
color: white;
animation: pulse 1.5s infinite;
}
.status-value.error {
background: #ef4444;
color: white;
}
.status-value.idle {
background: #e5e7eb;
color: #374151;
}
.status-value.paused {
background: #8b5cf6;
color: white;
}
.status-value.online {
background: #10b981;
color: white;
}
.status-value.offline {
background: #ef4444;
color: white;
}
/* =================================================================================
„É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„Çπ
================================================================================= */
.guidance-content {
padding: 20px;
}
.user-message {
display: flex;
align-items: flex-start;
gap: 16px;
margin-bottom: 20px;
}
.message-icon {
font-size: 24px;
flex-shrink: 0;
margin-top: 2px;
}
.message-text {
flex: 1;
}
#user-message-text {
font-size: 18px;
font-weight: 600;
color: #111827;
margin-bottom: 8px;
line-height: 1.4;
}
.action-text {
font-size: 14px;
color: #6b7280;
line-height: 1.5;
}
.available-actions {
display: flex;
flex-wrap: wrap;
gap: 12px;
justify-content: center;
}
.action-button {
padding: 12px 24px;
border: none;
border-radius: 8px;
font-size: 14px;
font-weight: 500;
cursor: pointer;
transition: all 0.2s ease;
background: #3b82f6;
color: white;
box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}
.action-button:hover {
background: #2563eb;
transform: translateY(-1px);
box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}
.action-button:active {
transform: translateY(0);
}
.action-button:disabled {
background: #9ca3af;
cursor: not-allowed;
transform: none;
box-shadow: none;
}
/* ÁâπÂÆö„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥„ÅÆ„Çπ„Çø„Ç§„É´ */
.action-button[id*="start"] {
background: #10b981;
box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}
.action-button[id*="start"]:hover {
background: #059669;
box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}
.action-button[id*="stop"] {
background: #ef4444;
box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
}
.action-button[id*="stop"]:hover {
background: #dc2626;
box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}
.action-button[id*="pause"] {
background: #8b5cf6;
box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}
.action-button[id*="pause"]:hover {
background: #7c3aed;
box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}
.action-button[id*="resume"] {
background: #06b6d4;
box-shadow: 0 2px 8px rgba(6, 182, 212, 0.3);
}
.action-button[id*="resume"]:hover {
background: #0891b2;
box-shadow: 0 4px 12px rgba(6, 182, 212, 0.4);
}
/* =================================================================================
ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†
================================================================================= */
.notification-container {
position: fixed;
top: 20px;
left: 20px;
width: 320px;
z-index: 1100;
pointer-events: none;
}
.notification {
background: white;
border-radius: 12px;
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
border: 1px solid rgba(0, 0, 0, 0.1);
margin-bottom: 12px;
opacity: 0;
transform: translateX(-100%);
transition: all 0.3s ease;
pointer-events: auto;
}
.notification.show {
opacity: 1;
transform: translateX(0);
}
.notification.hide {
opacity: 0;
transform: translateX(-100%);
}
.notification-content {
display: flex;
align-items: flex-start;
padding: 16px;
gap: 12px;
}
.notification-icon {
font-size: 20px;
flex-shrink: 0;
}
.notification-message {
flex: 1;
font-size: 14px;
line-height: 1.4;
color: #374151;
}
.notification-close {
background: none;
border: none;
font-size: 18px;
cursor: pointer;
color: #9ca3af;
padding: 0;
width: 20px;
height: 20px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 4px;
transition: all 0.2s ease;
}
.notification-close:hover {
background: rgba(0, 0, 0, 0.05);
color: #374151;
}
/* ÈÄöÁü•„Çø„Ç§„ÉóÂà•„ÅÆ„Çπ„Çø„Ç§„É´ */
.notification-info {
border-left: 4px solid #3b82f6;
}
.notification-success {
border-left: 4px solid #10b981;
}
.notification-warning {
border-left: 4px solid #f59e0b;
}
.notification-error {
border-left: 4px solid #ef4444;
}
/* =================================================================================
„É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥
================================================================================= */
@media (max-width: 768px) {
.unified-status-display {
position: static;
width: 100%;
margin: 10px;
border-radius: 8px;
}
.user-guidance-display {
position: static;
width: 100%;
margin: 10px;
border-radius: 8px;
transform: none;
}
.notification-container {
width: calc(100% - 40px);
left: 20px;
right: 20px;
}
.available-actions {
flex-direction: column;
}
.action-button {
width: 100%;
justify-content: center;
}
}
@media (max-width: 480px) {
.unified-status-display {
margin: 5px;
font-size: 12px;
}
.user-guidance-display {
margin: 5px;
}
.guidance-content {
padding: 15px;
}
#user-message-text {
font-size: 16px;
}
.action-text {
font-size: 13px;
}
.action-button {
padding: 10px 20px;
font-size: 13px;
}
}
/* =================================================================================
„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
================================================================================= */
@keyframes pulse {
0%, 100% {
opacity: 1;
}
50% {
opacity: 0.7;
}
}
@keyframes slideIn {
from {
opacity: 0;
transform: translateY(20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
@keyframes slideOut {
from {
opacity: 1;
transform: translateY(0);
}
to {
opacity: 0;
transform: translateY(-20px);
}
}
/* ÂàùÊúüË°®Á§∫ÊôÇ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
.unified-status-display,
.user-guidance-display {
animation: slideIn 0.5s ease;
}
/* =================================================================================
„ÉÄ„Éº„ÇØ„É¢„Éº„ÉâÂØæÂøú
================================================================================= */
@media (prefers-color-scheme: dark) {
.unified-status-display,
.user-guidance-display {
background: rgba(31, 41, 55, 0.95);
border: 1px solid rgba(255, 255, 255, 0.1);
}
.status-header h3 {
color: #f9fafb;
}
.status-toggle {
color: #9ca3af;
}
.status-toggle:hover {
background: rgba(255, 255, 255, 0.1);
color: #f9fafb;
}
.status-item label {
color: #d1d5db;
}
#user-message-text {
color: #f9fafb;
}
.action-text {
color: #9ca3af;
}
.notification {
background: #374151;
border: 1px solid rgba(255, 255, 255, 0.1);
}
.notification-message {
color: #d1d5db;
}
.notification-close {
color: #6b7280;
}
.notification-close:hover {
background: rgba(255, 255, 255, 0.1);
color: #d1d5db;
}
}
/* =================================================================================
„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£
================================================================================= */
@media (prefers-reduced-motion: reduce) {
* {
animation-duration: 0.01ms !important;
animation-iteration-count: 1 !important;
transition-duration: 0.01ms !important;
}
}
/* „Éï„Ç©„Éº„Ç´„ÇπË°®Á§∫„ÅÆÊîπÂñÑ */
.action-button:focus,
.status-toggle:focus,
.notification-close:focus {
outline: 2px solid #3b82f6;
outline-offset: 2px;
}
/* È´ò„Ç≥„É≥„Éà„É©„Çπ„Éà„É¢„Éº„Éâ */
@media (prefers-contrast: high) {
.unified-status-display,
.user-guidance-display {
border: 2px solid #000;
}
.action-button {
border: 2px solid #000;
}
}
</style>
</head>
<body>
<div class="main-container">
<!-- ÂàùÂõû„Ç¨„Ç§„ÉÄ„É≥„Çπ„É¢„Éº„ÉÄ„É´ -->
<div id="firstTimeGuide" class="first-time-guide hidden">
<div class="guide-panel">
<div class="guide-progress">
<div class="progress-dot active" id="dot1"></div>
<div class="progress-dot" id="dot2"></div>
<div class="progress-dot" id="dot3"></div>
<div class="progress-dot" id="dot4"></div>
</div>
<div id="guideStep1" class="guide-step">
<h2>üìã Ê∑±Â†Ä„Åè„Çì„Å∏„Çà„ÅÜ„Åì„ÅùÔºÅ (1/4)</h2>
<p>„Åæ„Åö„ÅØOpenAI API„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Çá„ÅÜ</p>
<div class="guide-example">
üîë „Äå„Åù„ÅÆ‰ªñË®≠ÂÆö„Äç‚Üí API„Ç≠„ÉºÂÖ•Âäõ<br>
‚Üí „Éë„Çπ„ÉØ„Éº„Éâ„ÇíÊ±∫„ÇÅ„Å¶ÊöóÂè∑Âåñ‰øùÂ≠ò
</div>
<div class="guide-buttons">
<button onclick="nextGuideStep()" class="glass-button">Ê¨°„Å∏</button>
<button onclick="skipGuide()" class="glass-button">„Çπ„Ç≠„ÉÉ„Éó</button>
</div>
</div>
<div id="guideStep2" class="guide-step hidden">
<h2>üéØ „ÉÜ„Éº„Éû„ÇíÊ±∫„ÇÅ„Çà„ÅÜÔºÅ (2/4)</h2>
<p>‰ªäÂõûÊ∑±Êéò„Çä„Åó„Åü„ÅÑ„ÉÜ„Éº„Éû„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Çá„ÅÜ</p>
<div class="guide-example">
üìù ‰æã: „Äå„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÁÆ°ÁêÜ„ÅÆÂ∑•Â§´„Äç<br>
„ÄåÂñ∂Ê•≠„ÅßÂ≠¶„Çì„Å†„Ç≥„ÉÑ„Äç<br>
„Äå„ÉÅ„Éº„É†„Éì„É´„Éá„Ç£„É≥„Ç∞„ÅÆÁµåÈ®ì„Äç
</div>
<div class="guide-buttons">
<button onclick="nextGuideStep()" class="glass-button">Ê¨°„Å∏</button>
<button onclick="prevGuideStep()" class="glass-button">Êàª„Çã</button>
</div>
</div>
<div id="guideStep3" class="guide-step hidden">
<h2>üé§ Èü≥Â£∞„Åß‰ºöË©±„Åó„Åæ„Åô (3/4)</h2>
<p>AI„Å®„ÅÆ‰ºöË©±„ÅØÈü≥Â£∞„ÅßË°å„ÅÑ„Åæ„Åô</p>
<div class="guide-example">
üó£Ô∏è ÊôÆÈÄö„Å´Ë©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ<br>
Ë©±„ÅóÁµÇ„Çè„Å£„Åü„Çâ„Äå„Å©„ÅÜ„Åû„Äç<br>
‚Üí AI„ÅåÂøúÁ≠î ‚Üí „Åæ„ÅüË©±„Åô
</div>
<div class="guide-buttons">
<button onclick="nextGuideStep()" class="glass-button">Ê¨°„Å∏</button>
<button onclick="prevGuideStep()" class="glass-button">Êàª„Çã</button>
</div>
</div>
<div id="guideStep4" class="guide-step hidden">
<h2>üöÄ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÔºÅ (4/4)</h2>
<p>Ê∫ñÂÇôÂÆå‰∫Ü„Åß„ÅôÔºÅÂ∑¶ÂÅ¥„Å´Èü≥Â£∞Êìç‰Ωú„Éò„É´„Éó„ÇíË°®Á§∫„Åó„Åæ„Åô</p>
<div class="guide-example">
‚ú® Âõ∞„Å£„Åü„Å®„Åç„ÅØÂ∑¶„ÅÆ„Ç¨„Ç§„Éâ„ÇíÂèÇËÄÉ„Å´<br>
Ëá™ÁÑ∂„Å´Ë©±„Åô„Å†„Åë„ÅßOK„Åß„Åô
</div>
<div class="guide-buttons">
<button onclick="completeGuide()" class="glass-button">„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã</button>
<button onclick="prevGuideStep()" class="glass-button">Êàª„Çã</button>
</div>
</div>
</div>
</div>
<!-- „ÉÜ„Éº„ÉûÈÅ∏Êäû„É¢„Éº„ÉÄ„É´ -->
<div id="themeSelectionModal" class="theme-selection-modal hidden" onclick="closeThemeSelection()">
<div class="theme-selection-panel" onclick="event.stopPropagation()">
<div class="theme-selection-header">
<h2 class="theme-selection-title" id="themeModalTitle">üìã „ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</h2>
<button onclick="closeThemeSelection()" class="glass-button" id="themeModalCloseBtn">‚úï Èñâ„Åò„Çã</button>
</div>
<!-- Ëß£Êûê‰∏≠Ë°®Á§∫ -->
<div id="analysisProgress" class="analysis-progress">
<div class="progress-spinner"></div>
<div class="progress-text" id="progressText">„Éï„Ç°„Ç§„É´„ÇíËß£Êûê‰∏≠...</div>
<div class="progress-detail" id="progressDetail">ÊñáÊõ∏„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...</div>
</div>
<!-- „ÉÜ„Éº„ÉûÈÅ∏ÊäûË°®Á§∫ -->
<div id="themeSelectionContent" class="hidden">
<!-- „Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞ÈÅ∏Êäû„Éë„Éç„É´ -->
<div id="floatingSelectionPanel" class="floating-selection-panel">
<div class="selection-status">
<span id="selectedCount">0‰ª∂„ÅÆ„ÉÜ„Éº„Éû„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åô</span>
</div>
<div class="selection-guidance">
<span id="selectionGuidance">‚¨áÔ∏è ‰ªñ„ÅÆ„ÉÜ„Éº„Éû„ÇÇÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ</span>
</div>
<button id="floatingCompleteBtn" onclick="scrollToConfirmation()" class="glass-button floating-complete-btn">ÈÅ∏ÊäûÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç</button>
</div>
<!-- ÊñáÊõ∏Ë¶ÅÁ¥Ñ -->
<div class="document-summary">
<h4>üìÑ ÊñáÊõ∏„ÅÆÊ¶ÇË¶Å</h4>
<p id="documentSummaryText"></p>
</div>
<!-- „ÉÜ„Éº„Éû„É™„Çπ„Éà -->
<div class="theme-list" id="themeList">
<!-- „ÉÜ„Éº„Éû„Ç¢„Ç§„ÉÜ„É†„ÅåÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Çã -->
</div>
<!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
<div class="theme-selection-actions">
<button onclick="cancelThemeSelection()" class="glass-button danger">‰∏≠Ê≠¢</button>
<button onclick="selectAllThemes()" class="glass-button">ÂÖ®„Å¶ÈÅ∏Êäû</button>
<button onclick="deselectAllThemes()" class="glass-button">ÂÖ®„Å¶Ëß£Èô§</button>
<button onclick="confirmThemeSelection()" class="glass-button" id="confirmThemeBtn">ÈÅ∏Êäû„Åó„Åü„ÉÜ„Éº„Éû„ÅßÈñãÂßã</button>
</div>
</div>
</div>
</div>
<!-- ÂàùÊúüË®≠ÂÆö„Éë„Éç„É´ -->
<div id="setupPanel" class="setup-panel glass-panel">
<!-- „É≠„Ç¥„Éò„ÉÉ„ÉÄ„Éº -->
<div class="header setup-header-override">
<div class="logo-container">
<img src="data:image/png;base64,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" alt="Ê∑±Â†Ä„Åè„Çì" class="setup-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
<h1 id="mainTitle" class="setup-title-fallback" style="display: none;">üîç Ê∑±Â†Ä„Åè„Çì</h1>
</div>
</div>
<!-- „Åù„ÅÆ‰ªñË®≠ÂÆö„É¢„Éº„ÉÄ„É´ -->
<div id="advancedSettingsModal" class="hidden" onclick="handleModalBackgroundClick(event)">
<div class="glass-panel" onclick="event.stopPropagation();">
<div class="modal-header">
<h2>‚öôÔ∏è „Åù„ÅÆ‰ªñË®≠ÂÆö</h2>
<button onclick="closeAdvancedSettings()" class="glass-button modal-close-btn">‚úï Èñâ„Åò„Çã</button>
</div>
<!-- API„Ç≠„ÉºÁÆ°ÁêÜ -->
<div class="settings-section">
<h3>üîë OpenAI API „Ç≠„ÉºÁÆ°ÁêÜ</h3>
<div class="setup-row">
<input type="password" id="apiKeyInput" class="setup-input" placeholder="sk-...„ÅßÂßã„Åæ„ÇãAPI„Ç≠„Éº„ÇíÂÖ•Âäõ">
<input type="password" id="apiPasswordInput" class="setup-input" placeholder="ÊöóÂè∑Âåñ„Éë„Çπ„ÉØ„Éº„Éâ">
<button onclick="setupApiKey()" class="glass-button">Ë®≠ÂÆö</button>
</div>
<div class="setup-row">
<button onclick="testApiKey()" class="glass-button" id="testApiButton" disabled>Êé•Á∂ö„ÉÜ„Çπ„Éà</button>
<button onclick="clearApiKey()" class="glass-button danger">ÂâäÈô§</button>
<button onclick="changePassword()" class="glass-button">„Éë„Çπ„ÉØ„Éº„ÉâÂ§âÊõ¥</button>
</div>
</div>
<!-- Èü≥Â£∞Ë®≠ÂÆö -->
<div class="settings-section">
<h3>üéµ Èü≥Â£∞Ë®≠ÂÆö</h3>
<!-- „Éó„É™„Çª„ÉÉ„ÉàÈÅ∏Êäû -->
<div class="voice-preset-controls">
<label>Èü≥Â£∞„Éó„É™„Çª„ÉÉ„Éà:</label>
<select id="voicePresetSelect" class="setup-input" onchange="loadVoicePreset()">
<option value="default">„Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö</option>
</select>
<button onclick="saveVoicePreset()" class="glass-button">ÁèæÂú®„ÅÆË®≠ÂÆö„Çí‰øùÂ≠ò</button>
<button onclick="deleteVoicePreset()" class="glass-button danger">ÈÅ∏Êäû„Åó„Åü„Éó„É™„Çª„ÉÉ„Éà„ÇíÂâäÈô§</button>
</div>
<!-- „Å≠„Åª„Çä„Éº„ÅÆË®≠ÂÆö -->
<div class="character-voice-settings nehori-settings">
<h4>„Å≠„Åª„Çä„Éº„ÅÆ (Ë≥™ÂïèÊãÖÂΩì)</h4>
<div class="voice-settings">
<div class="voice-setting">
<label>Voice:</label>
<select id="nehoriVoice" class="setup-input">
<option value="sage">Sage (Áü•ÁöÑ„ÉªËêΩ„Å°ÁùÄ„ÅÑ„Åü)</option>
<option value="nova">Nova („ÇØ„É™„Ç¢„ÉªÊòéÁû≠)</option>
<option value="shimmer">Shimmer (Ê∏©„Åã„ÅÑ„ÉªÂÑ™„Åó„ÅÑ)</option>
<option value="onyx">Onyx (Ê∑±„ÅÑ„ÉªÂÆâÂÆö)</option>
<option value="echo">Echo (Áî∑ÊÄß„Éª„Éï„É¨„É≥„Éâ„É™„Éº)</option>
<option value="fable">Fable (Ëã±ÂõΩ„Éª‰∏äÂìÅ)</option>
</select>
</div>
<div class="voice-setting">
<label>Speed: <span id="nehoriSpeedValue">1.2</span></label>
<input type="range" id="nehoriSpeed" min="0.5" max="2.0" step="0.1" value="1.2" class="setup-input">
</div>
<div class="voice-setting">
<label>Volume: <span id="nehoriVolumeValue">0.8</span></label>
<input type="range" id="nehoriVolume" min="0.1" max="1.0" step="0.1" value="0.8" class="setup-input">
</div>
</div>
<div class="custom-prompt-area">
<label>„Ç´„Çπ„Çø„É†„Éó„É≠„É≥„Éó„Éà:</label>
<textarea id="nehoriPrompt" class="setup-input" rows="3" placeholder="„Å≠„Åª„Çä„Éº„ÅÆ„ÅÆ„Ç≠„É£„É©„ÇØ„Çø„ÉºË®≠ÂÆö„Éó„É≠„É≥„Éó„Éà"></textarea>
</div>
<button onclick="testCharacterVoice('nehori')" class="glass-button test-voice-btn">„Å≠„Åª„Çä„Éº„ÅÆÈü≥Â£∞„ÉÜ„Çπ„Éà</button>
</div>
<!-- „ÅØ„Åª„Çä„Éº„ÅÆË®≠ÂÆö -->
<div class="character-voice-settings hahori-settings">
<h4>„ÅØ„Åª„Çä„Éº„ÅÆ (ÈÄ≤Ë°åÊãÖÂΩì)</h4>
<div class="voice-settings">
<div class="voice-setting">
<label>Voice:</label>
<select id="hahoriVoice" class="setup-input">
<option value="nova">Nova („ÇØ„É™„Ç¢„ÉªÊòéÁû≠)</option>
<option value="sage">Sage (Áü•ÁöÑ„ÉªËêΩ„Å°ÁùÄ„ÅÑ„Åü)</option>
<option value="shimmer">Shimmer (Ê∏©„Åã„ÅÑ„ÉªÂÑ™„Åó„ÅÑ)</option>
<option value="onyx">Onyx (Ê∑±„ÅÑ„ÉªÂÆâÂÆö)</option>
<option value="echo">Echo (Áî∑ÊÄß„Éª„Éï„É¨„É≥„Éâ„É™„Éº)</option>
<option value="fable">Fable (Ëã±ÂõΩ„Éª‰∏äÂìÅ)</option>
</select>
</div>
<div class="voice-setting">
<label>Speed: <span id="hahoriSpeedValue">1.1</span></label>
<input type="range" id="hahoriSpeed" min="0.5" max="2.0" step="0.1" value="1.1" class="setup-input">
</div>
<div class="voice-setting">
<label>Volume: <span id="hahoriVolumeValue">0.8</span></label>
<input type="range" id="hahoriVolume" min="0.1" max="1.0" step="0.1" value="0.8" class="setup-input">
</div>
</div>
<div class="custom-prompt-area">
<label>„Ç´„Çπ„Çø„É†„Éó„É≠„É≥„Éó„Éà:</label>
<textarea id="hahoriPrompt" class="setup-input" rows="3" placeholder="„ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆ„Ç≠„É£„É©„ÇØ„Çø„ÉºË®≠ÂÆö„Éó„É≠„É≥„Éó„Éà"></textarea>
</div>
<button onclick="testCharacterVoice('hahori')" class="glass-button test-voice-btn">„ÅØ„Åª„Çä„Éº„ÅÆÈü≥Â£∞„ÉÜ„Çπ„Éà</button>
</div>
</div>
<!-- Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö -->
<div class="settings-section">
<h3>üé§ Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö <span class="shortening-phase1-header">Phase 1</span></h3>
<!-- „É°„Ç§„É≥Âàá„ÇäÊõø„Åà„Çπ„Ç§„ÉÉ„ÉÅ -->
<div class="shortening-toggle-section">
<div class="shortening-toggle-header">
<label class="shortening-toggle-label">üîÑ Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„ÇíÊúâÂäπÂåñ (Ë©¶È®ìÊ©üËÉΩ)</label>
<label class="switch">
<input type="checkbox" id="speechShorteningEnabled" onchange="toggleSpeechShortening()">
<span class="slider round"></span>
</label>
</div>
<div class="shortening-toggle-description">
‚Äª ÊúâÂäπÂåñ„Åô„Çã„Å®„ÄÅÈï∑„ÅÑÁô∫Ë©±„ÅåËá™ÂãïÁöÑ„Å´Áü≠Á∏Æ„Åï„Çå„Å¶Èü≥Â£∞ÂÜçÁîü„Åï„Çå„Åæ„ÅôÔºàË°®Á§∫„ÅØÂÖÉ„ÅÆ„Åæ„ÅæÔºâ
</div>
</div>
<!-- Áü≠Á∏Æ„É¨„Éô„É´Ë®≠ÂÆö -->
<div id="shorteningSettings" style="opacity: 0.5; pointer-events: none;">
<div style="margin-bottom: 15px;">
<label style="font-weight: 600; margin-bottom: 10px; display: block;">Áü≠Á∏Æ„É¨„Éô„É´: <span id="shorteningLevelValue">3</span></label>
<input type="range" id="shorteningLevel" min="1" max="5" step="1" value="3" class="setup-input" onchange="updateShorteningLevel()">
<div style="display: flex; justify-content: space-between; font-size: 0.7rem; color: var(--text-secondary); margin-top: 5px;">
<span>ËªΩÂæÆ(1)</span>
<span>Ê®ôÊ∫ñ(3)</span>
<span>Âº∑Âäõ(5)</span>
</div>
</div>
<!-- ÂÄãÂà•Ë®≠ÂÆö -->
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
<label style="display: flex; align-items: center; gap: 5px;">
<input type="checkbox" id="shortenGreetings" checked>
<span style="font-size: 0.8rem;">Êå®Êã∂Áü≠Á∏Æ</span>
</label>
<label style="display: flex; align-items: center; gap: 5px;">
<input type="checkbox" id="shortenHonorific" checked>
<span style="font-size: 0.8rem;">Êï¨Ë™ûÁ∞°Á¥†Âåñ</span>
</label>
<label style="display: flex; align-items: center; gap: 5px;">
<input type="checkbox" id="shortenThemes" checked>
<span style="font-size: 0.8rem;">„ÉÜ„Éº„ÉûÂêçÁü≠Á∏Æ</span>
</label>
<label style="display: flex; align-items: center; gap: 5px;">
<input type="checkbox" id="removeRedundancy" checked>
<span style="font-size: 0.8rem;">ÈáçË§áË°®ÁèæÂâäÈô§</span>
</label>
</div>
<!-- ÊñáÂ≠óÊï∞Âà∂Èôê -->
<div style="margin-bottom: 15px;">
<label style="font-weight: 600; margin-bottom: 10px; display: block;">ÊúÄÂ§ßÊñáÂ≠óÊï∞: <span id="maxCharactersValue">150</span>ÊñáÂ≠ó</label>
<input type="range" id="maxCharacters" min="80" max="300" step="10" value="150" class="setup-input" onchange="updateMaxCharacters()">
</div>
<!-- „ÉÜ„Çπ„ÉàÊ©üËÉΩ -->
<div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
<button onclick="testSpeechShortening()" class="glass-button" style="background: rgba(255, 165, 0, 0.2); border: 1px solid #ffa500;">
üß™ Áü≠Á∏ÆÊ©üËÉΩ„ÉÜ„Çπ„Éà
</button>
<button onclick="resetShorteningSettings()" class="glass-button" style="margin-left: 10px;">
üîÑ Ë®≠ÂÆö„É™„Çª„ÉÉ„Éà
</button>
</div>
</div>
<!-- Phase 1: „Éá„Éê„ÉÉ„Ç∞„Éª‰øÆÂæ©Ê©üËÉΩ -->
<div class="shortening-debug-section">
<h4>üîß „Éá„Éê„ÉÉ„Ç∞„Éª‰øÆÂæ©Ê©üËÉΩ</h4>
<div class="shortening-option">
<button onclick="checkShorteningSync()" class="advanced-button debug-button">
üìä Ë®≠ÂÆöÂêåÊúüÁä∂Ê≥ÅÁ¢∫Ë™ç
</button>
<button onclick="forceShorteningSync()" class="advanced-button fix-button">
üîß Âº∑Âà∂ÂêåÊúü‰øÆÂæ©
</button>
</div>
<div class="shortening-option">
<button onclick="directShorteningTest()" class="advanced-button test-button">
üéØ „Ç®„É≥„Ç∏„É≥Áõ¥Êé•„ÉÜ„Çπ„Éà
</button>
<button onclick="clearShorteningCache()" class="advanced-button clear-button">
üóëÔ∏è „Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢
</button>
</div>
<div id="shorteningDebugInfo" class="debug-info-display" style="display: none;">
<h5>üìã „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±</h5>
<pre id="debugInfoContent"></pre>
</div>
</div>
<!-- üöÄ Phase 2: ÂÆüÁî®Êã°ÂºµÊ©üËÉΩ -->
<div class="shortening-phase2-section">
<h4>üöÄ Phase 2: ÂÆüÁî®Êã°ÂºµÊ©üËÉΩ</h4>
<!-- Áµ±Ë®àË°®Á§∫ -->
<div class="phase2-stats-container">
<div class="phase2-title">üìä Áµ±Ë®àÊÉÖÂ†±</div>
<div id="phase2StatsDisplay" class="phase2-stats">
<div class="stats-item">
<span class="stats-label">Á¥ØË®àÂá¶ÁêÜÊï∞:</span>
<span class="stats-value">0Âõû</span>
</div>
<div class="stats-item">
<span class="stats-label">Âπ≥ÂùáÁü≠Á∏ÆÁéá:</span>
<span class="stats-value">0%</span>
</div>
<div class="stats-item">
<span class="stats-label">ÊñáÂ≠óÊï∞ÂâäÊ∏õ:</span>
<span class="stats-value">0ÊñáÂ≠ó</span>
</div>
<div class="stats-item">
<span class="stats-label">„Çª„ÉÉ„Ç∑„Éß„É≥Êï∞:</span>
<span class="stats-value">0Âõû</span>
</div>
</div>
</div>
<!-- „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±ÂêàË®≠ÂÆö -->
<div class="shortening-option">
<label style="display: flex; align-items: center; justify-content: space-between;">
<span>ÂÆüÈöõ„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅßËá™ÂãïÈÅ©Áî®:</span>
<label class="switch" style="margin-left: 15px;">
<input type="checkbox" id="autoApplyToggle" checked onchange="toggleAutoApply()">
<span class="slider"></span>
</label>
</label>
</div>
<!-- Phase 2„ÉÜ„Çπ„ÉàÊ©üËÉΩ -->
<div class="shortening-option">
<button onclick="runPhase2Test()" class="advanced-button test-button">
üß™ ÂÆüÁî®„ÉÜ„Çπ„ÉàÂÆüË°å
</button>
<button onclick="showPhase2Statistics()" class="advanced-button debug-button">
üìä Áµ±Ë®àË©≥Á¥∞
</button>
<button onclick="resetPhase2Statistics()" class="advanced-button clear-button">
üîÑ Áµ±Ë®à„É™„Çª„ÉÉ„Éà
</button>
</div>
</div>
</div>
<!-- „Éá„Ç∂„Ç§„É≥„ÉÜ„Éº„Éû -->
<div class="settings-section" style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">üé® „Éá„Ç∂„Ç§„É≥„ÉÜ„Éº„Éû</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
<button onclick="changeTheme('white')" class="theme-button" data-theme="white" style="padding: 15px; border-radius: 10px; border: 2px solid transparent; background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); color: #333;">
‚ö™ „Éõ„ÉØ„Ç§„Éà
</button>
<button onclick="changeTheme('blue')" class="theme-button" data-theme="blue" style="padding: 15px; border-radius: 10px; border: 2px solid var(--accent-color); background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #333;">
üîµ „Éñ„É´„Éº (ÁèæÂú®)
</button>
<button onclick="changeTheme('dark')" class="theme-button" data-theme="dark" style="padding: 15px; border-radius: 10px; border: 2px solid transparent; background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: #ecf0f1;">
‚ö´ „ÉÄ„Éº„ÇØ
</button>
<button onclick="changeTheme('colorful')" class="theme-button" data-theme="colorful" style="padding: 15px; border-radius: 10px; border: 2px solid transparent; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); color: #2c3e50;">
üåà „Ç´„É©„Éï„É´
</button>
</div>
</div>
</div>
</div>
<!-- Step 0: API KEYË®≠ÂÆö (ÂàùÂõû„ÅÆ„ÅøË°®Á§∫) -->
<div class="setup-section" id="step0Section" style="display: none;">
<div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
<div class="step-checkbox" id="step0Checkbox" style="width: 24px; height: 24px; border: 2px solid #ccc; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: white; font-size: 16px; color: #4caf50;">
‚ùå
</div>
<h3 style="margin: 0; color: var(--text-primary);">üîë Step 0: API KEYË®≠ÂÆö (ÂàùÂõûË®≠ÂÆö)</h3>
</div>
<div style="margin-bottom: 12px;">
<button onclick="openApiKeySetupModal()" class="glass-button" style="background: linear-gradient(135deg, #ff9800, #f57c00); color: white; padding: 12px 24px; font-weight: 600;">
üîë API KEYË®≠ÂÆö
</button>
<button onclick="showApiKeyHelpModal()" class="glass-button" style="margin-left: 10px; padding: 8px 16px; font-size: 12px;">
‚ùì ÂèñÂæóÊñπÊ≥ï
</button>
</div>
<div style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;" id="step0Description">
Ê∑±Â†Ä„Åè„Çì„ÇíÂà©Áî®„Åô„Çã„Å´„ÅØOpenAI API„Ç≠„Éº„ÅåÂøÖË¶Å„Åß„Åô
</div>
</div>
<!-- API KEYË®≠ÂÆöÂ∞ÇÁî®„É¢„Éº„ÉÄ„É´ -->
<div id="apiKeySetupModal" class="hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; display: flex; align-items: center; justify-content: center;" onclick="closeApiKeySetupModal(event)">
<div class="glass-panel" style="width: 90%; max-width: 600px; padding: 30px; border-radius: 20px;" onclick="event.stopPropagation();">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
<h2 style="color: var(--text-primary); margin: 0;">üîë API KEYË®≠ÂÆö (ÂàùÂõûË®≠ÂÆö)</h2>
<button onclick="closeApiKeySetupModal()" class="glass-button" style="padding: 8px 16px;">‚úï Èñâ„Åò„Çã</button>
</div>
<!-- „Çπ„ÉÜ„ÉÉ„ÉóË°®Á§∫ -->
<div style="text-align: center; margin-bottom: 25px;">
<div id="setupStepIndicator" style="background: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 10px;">
<span id="setupStepText">„Çπ„ÉÜ„ÉÉ„Éó 1/2: OpenAI API KEY</span>
</div>
</div>
<!-- „Çπ„ÉÜ„ÉÉ„Éó1: API KEYÂÖ•Âäõ -->
<div id="setupStep1" class="setup-step">
<!-- üîê ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®º„Ç™„Éó„Ç∑„Éß„É≥ -->
<div id="corporateAuthSection" style="background: rgba(255, 165, 0, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px; border-left: 4px solid #ffa500; display: block;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">üè¢ ‰ºÅÊ•≠ÈÖçÂ∏ÉÁâà - „Éë„Çπ„ÉØ„Éº„ÉâË™çË®º</h3>
<div style="background: rgba(0, 120, 255, 0.1); border: 1px solid rgba(0, 120, 255, 0.3); border-radius: 10px; padding: 15px; margin-bottom: 15px;">
<div style="font-size: 14px; color: var(--text-primary); font-weight: bold; margin-bottom: 8px;">
üìå „Åì„ÅÆÊ∑±Â†Ä„Åè„Çì„ÅØ‰ºÅÊ•≠ÈÖçÂ∏ÉÁâà„Åß„Åô
</div>
<div style="font-size: 12px; color: var(--text-secondary);">
‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„Äå<strong>irobakuf</strong>„Äç„ÇíÂÖ•Âäõ„Åô„Çã„Å®„ÄÅ‰∫ãÂâçË®≠ÂÆö„Åï„Çå„ÅüAPI Key„ÅßÊ∑±Â†Ä„Åè„Çì„Çí„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇÂÄã‰∫∫„ÅÆAPI Key„Çí„ÅäÊåÅ„Å°„ÅÆÂ†¥Âêà„ÅØ„ÄÅ„Äåüë§ ÂÄã‰∫∫Ë®≠ÂÆö„Å´Âàá„ÇäÊõø„Åà„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
</div>
</div>
<div style="margin-bottom: 15px;">
<input type="password" id="corporatePasswordInput" class="setup-input" placeholder="‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„Äåirobakuf„Äç„ÇíÂÖ•Âäõ" style="width: 100%; margin-bottom: 10px;" value="irobakuf">
<div style="font-size: 12px; color: var(--text-secondary);">
‚Äª „Éë„Çπ„ÉØ„Éº„Éâ„ÅØ‰∏äË®ò„Å´‰∫ãÂâçÂÖ•Âäõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åù„ÅÆ„Åæ„ÅæË™çË®º„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
</div>
</div>
<div style="display: flex; gap: 10px; margin-bottom: 15px;">
<button onclick="authenticateCorporatePassword()" class="glass-button" id="corporateAuthButton" style="background: linear-gradient(135deg, #ffa500, #ff8c00); color: white;">
üîê ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®º
</button>
<button onclick="toggleCorporateAuth(false)" class="glass-button" style="font-size: 12px;">
üë§ ÂÄã‰∫∫Ë®≠ÂÆö„Å´Âàá„ÇäÊõø„Åà
</button>
</div>
<div id="corporateAuthResult" style="margin-top: 15px; padding: 10px; border-radius: 8px; display: none;">
<!-- Ë™çË®ºÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
</div>
</div>
<div id="personalApiKeySection" style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px; display: none;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">
ÂÄã‰∫∫Áî® OpenAI API KEY
<button onclick="toggleCorporateAuth(true)" class="glass-button" style="float: right; font-size: 12px; padding: 5px 10px;">
üè¢ ‰ºÅÊ•≠Áâà„Å´Êàª„Çã
</button>
</h3>
<div style="margin-bottom: 15px;">
<input type="password" id="apiKeySetupInput" class="setup-input" placeholder="sk-„ÅßÂßã„Åæ„ÇãAPI„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ" style="width: 100%; margin-bottom: 10px;">
<div style="font-size: 12px; color: var(--text-secondary);">
‚Äª API„Ç≠„Éº„ÅØÊöóÂè∑Âåñ„Åó„Å¶ÂÆâÂÖ®„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åô
</div>
</div>
<div style="display: flex; gap: 10px; margin-bottom: 15px;">
<button onclick="testApiKeySetup()" class="glass-button" id="testApiSetupButton" disabled style="background: linear-gradient(135deg, #4caf50, #45a049); color: white;">
üîç Êé•Á∂ö„ÉÜ„Çπ„Éà
</button>
<button onclick="showApiKeyHelpModal()" class="glass-button">
‚ùì ÂèñÂæóÊñπÊ≥ï
</button>
</div>
<div id="apiTestResult" style="margin-top: 15px; padding: 10px; border-radius: 8px; display: none;">
<!-- „ÉÜ„Çπ„ÉàÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
</div>
</div>
<div style="text-align: center;">
<button onclick="proceedToStep2()" class="glass-button" id="proceedStep2Button" disabled style="background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8)); color: white; padding: 12px 30px;">
Ê¨°„Å∏: „Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö
</button>
</div>
</div>
<!-- „Çπ„ÉÜ„ÉÉ„Éó2: „Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö -->
<div id="setupStep2" class="setup-step" style="display: none;">
<div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">„É≠„Éº„Ç´„É´„É≠„Ç∞„Ç§„É≥„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö</h3>
<div id="corporateStep2Notice" style="background: rgba(0, 120, 255, 0.1); border: 1px solid rgba(0, 120, 255, 0.3); border-radius: 10px; padding: 15px; margin-bottom: 15px; display: none;">
<div style="font-size: 14px; color: var(--text-primary); font-weight: bold; margin-bottom: 8px;">
üè¢ ‰ºÅÊ•≠ÁâàAPI KeyË®≠ÂÆöÂÆå‰∫Ü
</div>
<div style="font-size: 12px; color: var(--text-secondary);">
‰ºÅÊ•≠ÁâàAPI Key„ÅÆË®≠ÂÆö„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇÊ¨°„Å´„É≠„Éº„Ç´„É´„Åß„ÅÆ„É≠„Ç∞„Ç§„É≥„Å´‰ΩøÁî®„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
</div>
</div>
<div style="margin-bottom: 15px;">
<input type="password" id="apiPasswordSetupInput" class="setup-input" placeholder="„É≠„Éº„Ç´„É´„É≠„Ç∞„Ç§„É≥Áî®„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ" style="width: 100%; margin-bottom: 10px;">
<input type="password" id="apiPasswordConfirmInput" class="setup-input" placeholder="„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÜçÂÖ•Âäõ„Åó„Å¶Á¢∫Ë™ç" style="width: 100%; margin-bottom: 10px;">
<div style="font-size: 12px; color: var(--text-secondary);">
‚Äª „Åì„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„ÅØÊ∑±Â†Ä„Åè„Çì„Å∏„ÅÆ„É≠„Ç∞„Ç§„É≥ÊôÇ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÂøò„Çå„Å™„ÅÑ„Çà„ÅÜÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ
</div>
</div>
<div id="passwordMatchResult" style="margin-top: 10px; font-size: 12px; display: none;">
<!-- „Éë„Çπ„ÉØ„Éº„Éâ‰∏ÄËá¥Á¢∫Ë™çÁµêÊûú -->
</div>
</div>
<div style="text-align: center; display: flex; gap: 15px; justify-content: center;">
<button onclick="backToStep1()" class="glass-button">
‚Üê Êàª„Çã
</button>
<button onclick="completeApiKeySetup()" class="glass-button" id="completeSetupButton" disabled style="background: linear-gradient(135deg, #4caf50, #45a049); color: white; padding: 12px 30px;">
Ë®≠ÂÆöÂÆå‰∫Ü
</button>
</div>
</div>
</div>
</div>
<!-- API KEYÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„É¢„Éº„ÉÄ„É´ -->
<div id="apiKeyHelpModal" class="hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; display: flex; align-items: center; justify-content: center;" onclick="closeApiKeyHelpModal(event)">
<div class="glass-panel" style="width: 90%; max-width: 500px; padding: 30px; border-radius: 20px;" onclick="event.stopPropagation();">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h2 style="color: var(--text-primary); margin: 0;">‚ùì OpenAI API KEYÂèñÂæóÊñπÊ≥ï</h2>
<button onclick="closeApiKeyHelpModal()" class="glass-button" style="padding: 8px 16px;">‚úï Èñâ„Åò„Çã</button>
</div>
<div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">ÊâãÈ†Ü</h3>
<ol style="margin: 0; padding-left: 20px; color: var(--text-primary);">
<li style="margin-bottom: 10px;">
<a href="https://platform.openai.com/" target="_blank" style="color: var(--accent-color); text-decoration: none;">OpenAI Platform</a> „Å´„Ç¢„ÇØ„Çª„Çπ
</li>
<li style="margin-bottom: 10px;">
Âè≥‰∏ä„ÅÆ„ÄåSign up„Äç„Åæ„Åü„ÅØ„ÄåLog in„Äç„Åß„Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê„Éª„É≠„Ç∞„Ç§„É≥
</li>
<li style="margin-bottom: 10px;">
Â∑¶„É°„Éã„É•„Éº„ÅÆ„ÄåAPI keys„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ
</li>
<li style="margin-bottom: 10px;">
„ÄåCreate new secret key„Äç„ÅßAPI„Ç≠„Éº„Çí‰ΩúÊàê
</li>
<li style="margin-bottom: 10px;">
„Äåsk-„Äç„ÅßÂßã„Åæ„Çã„Ç≠„Éº„Çí„Ç≥„Éî„Éº„Åó„Å¶Ê∑±Â†Ä„Åè„Çì„Å´Ë®≠ÂÆö
</li>
</ol>
</div>
<div style="background: rgba(255, 193, 7, 0.2); border: 1px solid #ffc107; border-radius: 10px; padding: 15px; margin-bottom: 20px;">
<h4 style="margin: 0 0 10px 0; color: #f57c00;">‚ö†Ô∏è ÈáçË¶Å„Å™Ê≥®ÊÑèÁÇπ</h4>
<ul style="margin: 0; padding-left: 20px; color: var(--text-primary); font-size: 14px;">
<li>API„Ç≠„Éº„ÅØ‰ªñ‰∫∫„Å´Êïô„Åà„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ</li>
<li>‰ΩøÁî®Èáè„Å´Âøú„Åò„Å¶Ë™≤Èáë„Åï„Çå„Åæ„Åô</li>
<li>ÂàùÂõûÁôªÈå≤ÊôÇ„ÅØÁÑ°Êñô„ÇØ„É¨„Ç∏„ÉÉ„Éà„Åå‰ªò‰∏é„Åï„Çå„Åæ„Åô</li>
</ul>
</div>
<div style="text-align: center;">
<button onclick="closeApiKeyHelpModal()" class="glass-button" style="background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8)); color: white; padding: 10px 20px;">
ÁêÜËß£„Åó„Åæ„Åó„Åü
</button>
</div>
</div>
</div>
<!-- ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´ -->
<div id="supportedFilesModal" class="hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; display: flex; align-items: center; justify-content: center;" onclick="closeSupportedFilesModal(event)">
<div class="glass-panel" style="width: 90%; max-width: 500px; padding: 30px; border-radius: 20px;" onclick="event.stopPropagation();">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h2 style="color: var(--text-primary); margin: 0;">üìÅ ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè</h2>
<button onclick="closeSupportedFilesModal()" class="glass-button" style="padding: 8px 16px;">‚úï Èñâ„Åò„Çã</button>
</div>
<div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
<h3 style="margin-bottom: 15px; color: var(--text-primary);">üìù „ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè</h3>
<ul style="margin: 0 0 15px 0; padding-left: 20px; color: var(--text-primary);">
<li>.txt - „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´</li>
<li>.md - Markdown„Éï„Ç°„Ç§„É´</li>
<li>.csv - CSV„Éï„Ç°„Ç§„É´</li>
</ul>
<h3 style="margin-bottom: 15px; color: var(--text-primary);">üìÑ ÊñáÊõ∏ÂΩ¢Âºè</h3>
<ul style="margin: 0 0 15px 0; padding-left: 20px; color: var(--text-primary);">
<li>.pdf - PDF„Éï„Ç°„Ç§„É´</li>
<li>.doc, .docx - Word„Éï„Ç°„Ç§„É´</li>
<li>.ppt, .pptx - PowerPoint„Éï„Ç°„Ç§„É´</li>
</ul>
<h3 style="margin-bottom: 15px; color: var(--text-primary);">üìä Ë°®Ë®àÁÆóÂΩ¢Âºè</h3>
<ul style="margin: 0; padding-left: 20px; color: var(--text-primary);">
<li>.xls, .xlsx - Excel„Éï„Ç°„Ç§„É´</li>
</ul>
</div>
<div style="background: rgba(255, 193, 7, 0.2); border: 1px solid #ffc107; border-radius: 10px; padding: 15px; margin-bottom: 20px;">
<h4 style="margin: 0 0 10px 0; color: #f57c00;">üìè „Éï„Ç°„Ç§„É´ÂÆπÈáèÂà∂Èôê</h4>
<ul style="margin: 0; padding-left: 20px; color: var(--text-primary); font-size: 14px;">
<li>ÊúÄÂ§ß„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫: 10MB</li>
<li>Êé®Â•®„Çµ„Ç§„Ç∫: 5MB‰ª•‰∏ã</li>
<li>Â§ß„Åç„Åô„Åé„Çã„Éï„Ç°„Ç§„É´„ÅØÂá¶ÁêÜ„Å´ÊôÇÈñì„Åå„Åã„Åã„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô</li>
</ul>
</div>
<div style="text-align: center;">
<button onclick="closeSupportedFilesModal()" class="glass-button" style="background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8)); color: white; padding: 10px 20px;">
ÁêÜËß£„Åó„Åæ„Åó„Åü
</button>
</div>
</div>
</div>
<!-- Step 1: „Éë„Çπ„ÉØ„Éº„Éâ„É≠„Ç∞„Ç§„É≥ -->
<div class="setup-section" id="step1Section" style="margin-bottom: 8px;">
<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
<div class="step-checkbox" id="step1Checkbox" style="width: 20px; height: 20px; border: 2px solid #ccc; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: white; font-size: 14px; color: #4caf50;">
‚ùå
</div>
<div style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
<h3 style="margin: 0; color: var(--text-primary); font-size: 1.1rem;">üîê Step 1: „Éë„Çπ„ÉØ„Éº„Éâ„Åß„É≠„Ç∞„Ç§„É≥</h3>
<span id="step1Status" style="font-size: 1rem; color: var(--text-secondary); font-weight: bold;">Êú™Ë®≠ÂÆö</span>
</div>
</div>
<div class="setup-row">
<input type="password" id="passwordInput" class="setup-input" placeholder="„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„ÄÅ„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ" style="flex: 1;">
<button id="step1ActionButton" onclick="loginWithPassword()" class="glass-button" style="padding: 10px 16px;">„É≠„Ç∞„Ç§„É≥</button>
</div>
</div>
<!-- Step 2: Ê∑±Â†Ä„ÉÜ„Éº„ÉûË®≠ÂÆö -->
<div class="setup-section" id="step2Section" style="margin-bottom: 8px;">
<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
<div class="step-checkbox" id="step2Checkbox" style="width: 20px; height: 20px; border: 2px solid #ccc; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: white; font-size: 14px; color: #4caf50;">
‚ùå
</div>
<div style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
<h3 style="margin: 0; color: var(--text-primary); font-size: 1.1rem;">üéØ Step 2: Ê∑±Â†Ä„ÉÜ„Éº„ÉûË®≠ÂÆö</h3>
<span id="step2Status" style="font-size: 1rem; color: var(--text-secondary); font-weight: bold;">Êú™Ë®≠ÂÆö</span>
</div>
</div>
<div class="setup-row">
<input type="text" id="themeInput" class="setup-input" placeholder="Ê∑±Êéò„Çä„Åó„Åü„ÅÑ„ÉÜ„Éº„Éû„ÇíÊâãÂÖ•Âäõ„Åô„Çã„ÅãÊ∑ª‰ªò„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ" style="flex: 1;">
<button id="step2ActionButton" onclick="focusThemeInput()" class="glass-button">Ë®≠ÂÆö</button>
</div>
<div class="setup-row" style="margin-top: 5px;">
<div class="custom-file-input" style="flex: 1;">
<input type="file" id="themeFileInput" class="setup-input file-input-hidden" accept=".txt,.pdf,.doc,.docx,.xlsx,.xls,.csv,.md,.pptx,.ppt" onchange="handleThemeFile()">
<div class="file-input-display" id="fileInputDisplay">
<span class="file-input-text" id="fileInputText">ÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì</span>
<span class="file-input-button">üìÅ „Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû</span>
</div>
</div>
<button onclick="showSupportedFileFormats()" class="glass-button" style="padding: 8px 16px; font-size: 11px; white-space: nowrap;">ÂØæÂøú„Éï„Ç°„Ç§„É´„ÅØ„Åì„Å°„Çâ</button>
</div>
</div>
<!-- „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã -->
<div id="sessionStartSection" style="display: none; justify-content: center; margin-bottom: 12px; margin-top: 8px;">
<button onclick="startSession()" class="glass-button" style="padding: 13px 38px; font-size: 16px; font-weight: 700; background: linear-gradient(135deg, var(--accent-color), rgba(102, 126, 234, 0.8)); display: flex; flex-direction: column; align-items: center; justify-content: center;" disabled id="startButton">
<span>üöÄ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã</span>
<span id="startButtonSubText" style="font-size: 11px; font-weight: 400; margin-top: 4px;">Step1„Éª2ÂÆå‰∫ÜÂæåÈñãÂßã„Åß„Åç„Åæ„Åô</span>
</button>
</div>
<!-- ÁΩ´Á∑ö -->
<div style="border-top: 1px solid var(--glass-border); margin: 15px 0;"></div>
<!-- „Åù„ÅÆ‰ªñË®≠ÂÆö„Éú„Çø„É≥ -->
<div style="text-align: center; margin-bottom: 12px;">
<button onclick="openAdvancedSettings()" class="glass-button" style="padding: 8px 24px;">
‚öôÔ∏è „Åù„ÅÆ‰ªñË®≠ÂÆö
</button>
</div>
<!-- „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
<div style="text-align: center; margin-bottom: 16px;">
<div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
<button onclick="window.location.href='./pages/overview.html'" class="glass-button" data-page="overview" style="padding: 6px 16px; font-size: 12px;">
üìñ Ê¶ÇË¶Å
</button>
<button onclick="window.location.href='./pages/screenshots.html'" class="glass-button" data-page="screenshots" style="padding: 6px 16px; font-size: 12px;">
üì± ÁîªÈù¢Ë™¨Êòé
</button>
<button onclick="window.location.href='./pages/technical.html'" class="glass-button" data-page="technical" style="padding: 6px 16px; font-size: 12px;">
üîß ÊäÄË°ì‰ªïÊßò
</button>
<button onclick="window.location.href='./pages/changelog.html'" class="glass-button" data-page="changelog" style="padding: 6px 16px; font-size: 12px;">
üìù Êõ¥Êñ∞Â±•Ê≠¥
</button>
<button onclick="window.location.href='./pages/faq.html'" class="glass-button" data-page="faq" style="padding: 6px 16px; font-size: 12px;">
‚ùì „Çà„Åè„ÅÇ„ÇãË≥™Âïè
</button>
</div>
</div>
<!-- „Éï„ÉÉ„Çø„Éº -->
<div style="text-align: center; font-size: 10px; color: var(--text-secondary); margin-top: 16px; padding: 8px;">
Â±û‰∫∫Áü•Ë¶ã„ÅÆAI„Å´„Çà„ÇãÊ∑±Êéò„ÇäÂèéÈõÜ„Å®AIÁü•Ë¶ã„ÉªÁµÑÁπîÁü•Âåñ
</div>
</div>
<!-- „É°„Ç§„É≥„ÉÅ„É£„ÉÉ„Éà„Ç®„É™„Ç¢ -->
<div id="chatArea" class="chat-area hidden">
<!-- „Ç¨„Ç§„ÉâË°®Á§∫Âàá„ÇäÊõø„Åà„Éú„Çø„É≥ÔºàÈùûË°®Á§∫ÊôÇ„Å´Ë°®Á§∫Ôºâ -->
<div class="main-guide-toggle" id="mainGuideToggle" onclick="toggleVoiceGuide()">
„Éò„É´„ÉóË°®Á§∫
</div>
<!-- Èü≥Â£∞„Ç¨„Ç§„Éâ„Éë„Éç„É´ÔºàÂ∑¶„Éö„Ç§„É≥: 0‚Üí280pxÔºâ -->
<div class="voice-guide-panel glass-panel" id="voiceGuidePanel">
<!-- Èñâ„Åò„Çã„Éú„Çø„É≥ -->
<button class="guide-toggle-btn" onclick="toggleVoiceGuide()">
‚úï
</button>
<!-- Èü≥Â£∞„Ç≥„Éû„É≥„Éâ -->
<div class="guide-section">
<h3>üí¨ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ</h3>
<div class="guide-content">
<ul class="command-list">
<li>
<span class="command-key">„Å©„ÅÜ„Åû</span>
<span>AI„ÅåÂøúÁ≠îÈñãÂßã</span>
</li>
<li>
<span class="command-key">ÊñáÂ≠óÊ∂à„Åó„Å¶</span>
<span>ÊñáÂ≠óËµ∑„Åì„Åó„ÇØ„É™„Ç¢</span>
</li>
<li>
<span class="command-key">„ÉÜ„Éº„ÉûÂ§âÊõ¥</span>
<span>Êñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„Å´Â§âÊõ¥</span>
</li>
<li>
<span class="command-key">Ë≥™ÂïèÂ§âÊõ¥</span>
<span>Âà•„ÅÆË≥™Âïè„Çí„É™„ÇØ„Ç®„Çπ„Éà</span>
</li>
<li>
<span class="command-key">ÁµÇ‰∫Ü„Åó„Å¶</span>
<span>„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü</span>
</li>
</ul>
<!-- Áü•Ë¶ãÁ¢∫Ë™çÁî®„Ç≥„Éû„É≥„Éâ -->
<div id="knowledgeCommands" class="hidden" style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
<h4 style="font-size: 0.75rem; color: #ffa500; margin-bottom: 8px;">üí° Áü•Ë¶ãÁ¢∫Ë™çÊôÇ</h4>
<ul class="command-list">
<li>
<span class="command-key" style="background: #4caf50;">„ÅØ„ÅÑ/OK</span>
<span>Ë®òÈå≤</span>
</li>
<li>
<span class="command-key" style="background: #f44336;">„ÅÑ„ÅÑ„Åà/NO</span>
<span>ÂâäÈô§</span>
</li>
<li>
<span class="command-key" style="background: #2196f3;">Ë©≥„Åó„Åè</span>
<span>Ë©≥Á¥∞Ë™¨Êòé</span>
</li>
</ul>
<h4 style="font-size: 0.75rem; color: #06b6d4; margin: 12px 0 8px 0;">‚öôÔ∏è Ë®≠ÂÆöÂ§âÊõ¥</h4>
<ul class="command-list">
<li>
<span class="command-key" style="background: #9c27b0;">ÈñæÂÄ§„Çí‚óã‚óãÁÇπ„Å´Â§âÊõ¥</span>
<span style="font-size: 0.6rem;">Ëá™ÂãïË®òÈå≤Âü∫Ê∫ñÂ§âÊõ¥</span>
</li>
<li>
<span class="command-key" style="background: #607d8b;">ÁèæÂú®„ÅÆË®≠ÂÆö„ÅØÔºü</span>
<span style="font-size: 0.6rem;">Ë®≠ÂÆöÁ¢∫Ë™ç</span>
</li>
</ul>
</div>
</div>
</div>
<!-- Áä∂Ê≥ÅÂà•„Ç¢„Éâ„Éê„Ç§„Çπ -->
<div class="guide-section">
<h3>üéØ ‰ªä„Åô„Åπ„Åç„Åì„Å®</h3>
<div class="guide-content" id="situationAdvice">
<div style="text-align: center; padding: 15px; font-size: 0.7rem;">
„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Çí„ÅäÂæÖ„Å°„Åó„Å¶„ÅÑ„Åæ„Åô
</div>
</div>
</div>
<!-- Âõ∞„Å£„Åü„Å®„Åç„ÅÆ„Éò„É´„Éó -->
<div class="guide-section">
<h3>üÜò Âõ∞„Å£„Åü„Çâ</h3>
<div class="guide-content">
<ul class="command-list">
<li>
<span style="color: #ff6b6b; font-size: 0.65rem;">üîá Èü≥Â£∞Ë™çË≠ò‰∏çË™ø</span>
<span>‚Üí „ÄåÂº∑Âà∂ÂÅúÊ≠¢„Äç</span>
</li>
<li>
<span style="color: #ffa500; font-size: 0.65rem;">üé≠ AIÁÑ°ÂøúÁ≠î</span>
<span>‚Üí „Äå„Å©„ÅÜ„Åû„Äç„Å®Ë®Ä„ÅÜ</span>
</li>
<li>
<span style="color: #4ecdc4; font-size: 0.65rem;">üìù ÊñáÂ≠óÊÆãÂ≠ò</span>
<span>‚Üí „ÄåÊñáÂ≠óÊ∂à„Åó„Å¶„Äç</span>
</li>
</ul>
</div>
</div>
<!-- ÈÄ≤Ë°åÁä∂Ê≥Å -->
<div class="guide-section">
<h3>üìà „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤Ë°å</h3>
<div class="guide-content">
<div class="progress-steps" id="sessionProgress">
<div class="progress-step">
<div class="step-icon step-pending" id="step1">1</div>
<span>Ëá™Â∑±Á¥π‰ªã</span>
</div>
<div class="progress-step">
<div class="step-icon step-pending" id="step2">2</div>
<span>Âü∫Êú¨ÊÉÖÂ†±Á¢∫Ë™ç</span>
</div>
<div class="progress-step">
<div class="step-icon step-pending" id="step3">3</div>
<span>ÂÖ∑‰Ωì‰æã„ÇíÊ∑±Êéò„Çä</span>
</div>
<div class="progress-step">
<div class="step-icon step-pending" id="step4">4</div>
<span>Áü•Ë¶ã„ÅÆÊï¥ÁêÜ</span>
</div>
<div class="progress-step">
<div class="step-icon step-pending" id="step5">5</div>
<span>„Åæ„Å®„ÇÅ</span>
</div>
</div>
</div>
</div>
</div>
<!-- „É°„Ç§„É≥‰ºöË©±„Ç®„É™„Ç¢Ôºà‰∏≠Â§Æ„Éö„Ç§„É≥: flex: 1Ôºâ -->
<div class="conversation-panel glass-panel">
<!-- ÁèæÂú®„ÅÆ„ÉÜ„Éº„ÉûÔºàÂõ∫ÂÆöË°®Á§∫Ôºâ -->
<div style="background: rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 12px 16px; margin-bottom: 10px; border-bottom: 3px solid rgba(255, 255, 255, 0.2); text-align: center;">
<div id="currentThemeFixed" style="font-size: 16px; font-weight: 600; color: #333;">Êú™Ë®≠ÂÆö</div>
</div>
<!-- „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫„Ç®„É™„Ç¢ -->
<div class="messages-container" id="messagesContainer">
<!-- „É°„ÉÉ„Çª„Éº„Ç∏„Åå„Åì„Åì„Å´ËøΩÂä†„Åï„Çå„Çã -->
</div>
<!-- üéØ „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òË°®Á§∫Ôºà‰∏≠Â§Æ„Éö„Ç§„É≥ÂÜÖ„ÄÅ‰∏ãÈÉ®„Éú„Çø„É≥„Ç®„É™„Ç¢„ÅÆ‰∏äÔºâ -->
<div class="realtime-transcript-area">
<div class="transcript-display" id="transcriptDisplay">
Èü≥Â£∞Ë™çË≠òÂæÖÊ©ü‰∏≠...Ôºà„Äå„Å©„ÅÜ„Åû„Äç„Å®Ë®Ä„ÅÜ„Å®AI„ÅåÂøúÁ≠î„Åó„Åæ„ÅôÔºâ
</div>
</div>
<!-- Èü≥Â£∞„Ç≥„É≥„Éà„É≠„Éº„É´ -->
<div class="voice-controls">
<!-- Èü≥Â£∞Áä∂ÊÖãË°®Á§∫ÔºàÂ∑¶Á´ØÔºâ -->
<div class="voice-state-compact" id="voiceStateCompact">
<span class="state-icon" id="stateIcon">üé§</span>
<span class="state-text" id="stateText">ÂæÖÊ©ü‰∏≠</span>
</div>
<!-- Êìç‰Ωú„Éú„Çø„É≥ÔºàÂè≥Á´ØÔºâ -->
<div class="voice-controls-buttons">
<button id="pauseResumeBtn" class="glass-button" onclick="toggleMicrophone()">‚è∏Ô∏è ‰∏ÄÊôÇÂÅúÊ≠¢</button>
<button class="glass-button" onclick="endConversationSession()">üö™ ÁµÇ‰∫Ü</button>
</div>
</div>
</div>
<!-- „Çπ„ÉÜ„Éº„Çø„Çπ„Éë„Éç„É´ÔºàÂè≥„Éö„Ç§„É≥: 300pxÂõ∫ÂÆöÔºâ -->
<div class="status-panel glass-panel">
<div class="status-section status-logo-section" style="text-align: center; border-radius: 15px; padding: 20px;">
<div id="statusLogo" style="display: flex; align-items: center; justify-content: center; min-height: 80px; cursor: pointer;" onclick="returnToLogin()" title="„É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çã">
<img src="data:image/png;base64,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" alt="Ê∑±Â†Ä„Åè„Çì" style="max-width: 150px; max-height: 60px; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
<span style="font-size: 1.5rem; color: white; font-weight: 700; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); display: none;">üîç Ê∑±Â†Ä„Åè„Çì</span>
</div>
</div>
<div class="status-section">
<div class="ai-avatars" style="margin: 5px 0;">
<div style="text-align: center;">
<div class="avatar nehori" id="nehoriAvatar">
<img src="data:image/png;base64,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" alt="„Å≠„Åª„Çä„Éº„ÅÆ" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" onerror="this.style.display='none'; this.parentElement.textContent='„Å≠';">
</div>
<div style="font-size: 11px; margin-top: 3.5px; color: #8b5cf6; font-weight: 600;">„Å≠„Åª„Çä„Éº„ÅÆ</div>
</div>
<div style="text-align: center;">
<div class="avatar hahori" id="hahoriAvatar">
<img src="data:image/png;base64,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" alt="„ÅØ„Åª„Çä„Éº„ÅÆ" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" onerror="this.style.display='none'; this.parentElement.textContent='„ÅØ';">
</div>
<div style="font-size: 11px; margin-top: 3.5px; color: #06b6d4; font-weight: 600;">„ÅØ„Åª„Çä„Éº„ÅÆ</div>
</div>
</div>
</div>
<div class="status-section">
<div class="status-title">üìä „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å</div>
<div class="status-content" id="sessionStatus">
<div class="session-info-grid">
<div class="session-item">
<span class="session-label">Áä∂ÊÖã:</span>
<span class="session-value" id="sessionState">Ê∫ñÂÇô‰∏≠</span>
</div>
<div class="session-item">
<span class="session-label">„Éï„Çß„Éº„Ç∫:</span>
<span class="session-value" id="sessionPhase">„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó</span>
</div>
<div class="session-item">
<span class="session-label">ÁµåÈÅéÊôÇÈñì:</span>
<span class="session-value" id="sessionDuration">00:00</span>
</div>
<div class="session-item">
<span class="session-label">„ÉÜ„Éº„Éû:</span>
<span class="session-value" id="currentTheme">Êú™Ë®≠ÂÆö</span>
</div>
</div>
</div>
</div>
<div class="status-section">
<div class="status-title">üéØ Áü•Ë¶ãË®òÈå≤Ë®≠ÂÆö</div>
<div class="status-content" id="knowledgeSettings">
<div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
<span style="font-size: 11px;">Ëá™ÂãïË®òÈå≤ÈñæÂÄ§:</span>
<div style="display: flex; align-items: center;">
<input type="number" id="thresholdInput" min="0" max="100" value="70"
style="width: 50px; padding: 2px 4px; border: 1px solid #ccc; border-radius: 4px; font-size: 11px; text-align: center;"
onchange="updateThresholdFromInput()">
<span style="font-size: 11px; margin-left: 4px;">ÁÇπ</span>
</div>
</div>
<div style="font-size: 9px; color: #666; text-align: center; margin-bottom: 8px;">
„Åì„ÅÆÁÇπÊï∞‰ª•‰∏ä„ÅßËá™ÂãïË®òÈå≤
</div>
<div style="display: flex; justify-content: space-between; font-size: 9px; color: #999;" id="sessionStatsDisplay">
<span>Ëá™Âãï: <span id="autoRecordCount">0</span>‰ª∂</span>
<span>ÊâãÂãï: <span id="manualConfirmCount">0</span>‰ª∂</span>
<span>ÊãíÂê¶: <span id="rejectedCount">0</span>‰ª∂</span>
</div>
</div>
</div>
<div class="status-section">
<div class="status-title">üí° ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã</div>
<div class="status-content" id="extractedKnowledge" style="max-height: 200px; overflow-y: auto; padding: 0;">
<div style="padding: 10px; color: #666; font-size: 12px; text-align: center;">„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì</div>
</div>
</div>
<div class="status-section">
<div class="status-title">‚öôÔ∏è „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã</div>
<div class="status-content" id="systemStatus">
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
ÂæÖÊ©ü‰∏≠
</div>
</div>
<div class="status-section">
<div class="status-title">üíæ „Éá„Éº„ÇøÁÆ°ÁêÜ</div>
<div class="status-content">
<button onclick="downloadMarkdownReport()" class="glass-button" style="width: 100%; margin-bottom: 5px; font-size: 12px;">üìÑ ‰ªäÂõû„ÇíDL</button>
<button onclick="downloadKnowledgeFile()" class="glass-button" style="width: 100%; margin-bottom: 5px; font-size: 12px;">üí° Áü•Ë¶ã„ÇíDL</button>
<button onclick="downloadAllKnowledge()" class="glass-button" style="width: 100%; margin-bottom: 5px; font-size: 12px;">üß¨ ÂÖ®Áü•Ë¶ãDL</button>
<button onclick="generateSessionInfographic()" class="glass-button" style="width: 100%; margin-bottom: 5px; font-size: 12px; background: linear-gradient(135deg, #667eea, #764ba2); color: white;">üìä „Çª„ÉÉ„Ç∑„Éß„É≥ÂèØË¶ñÂåñ</button>
<button onclick="generateAllKnowledgeInfographic()" class="glass-button" style="width: 100%; font-size: 12px; background: linear-gradient(135deg, #43e97b, #38d9a9); color: white;">üåê ÂÖ®Áü•Ë¶ãÂèØË¶ñÂåñ</button>
</div>
</div>
</div>
</div>
</div>
<!-- Ë®≠ÂÆö„Éá„Éº„Çø„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø -->
<!-- üé® Áü•Ë¶ã„Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÁîüÊàê„Ç∑„Çπ„ÉÜ„É†ÔºàÈÅÖÂª∂Ë™≠„ÅøËæº„ÅøÔºâ-->
<script>
// „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅÆÈÅÖÂª∂Ë™≠„ÅøËæº„Åø
window.loadInfographicSystem = function() {
return new Promise((resolve, reject) => {
if (window.FukaboriInfographic) {
resolve();
return;
}
const script = document.createElement('script');
script.src = './config/infographic_system.js';
script.onload = () => {
console.log('üìä „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
resolve();
};
script.onerror = () => {
console.warn('‚ö†Ô∏è „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Ç∑„Çπ„ÉÜ„É†„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±ÊïóÔºà‰ºöË©±„Ç∑„Çπ„ÉÜ„É†ÂΩ±Èüø„Å™„ÅóÔºâ');
reject(new Error('„Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„ÅøÂ§±Êïó'));
};
document.head.appendChild(script);
});
};
// ÂÆüÈ®ìÁöÑÊ©üËÉΩ„ÅÆÊù°‰ª∂‰ªò„ÅçË™≠„ÅøËæº„ÅøÔºàÈñãÁô∫„É¢„Éº„ÉâÊôÇ„ÅÆ„ÅøÔºâ
window.loadExperimentalFeatures = function() {
const isDevMode = localStorage.getItem('fukabori_dev_mode') === 'true';
if (!isDevMode) return Promise.resolve();
const experimentalScripts = [
'./config/safety_backup.js',
'./config/speech_shortening_engine.js',
'./config/speech_shortening_phase2.js',
'./config/phase2_integration.js'
];
const loadPromises = experimentalScripts.map(src => {
return new Promise((resolve, reject) => {
const script = document.createElement('script');
script.src = src;
script.onload = () => resolve();
script.onerror = () => reject(new Error(`Failed to load ${src}`));
document.head.appendChild(script);
});
});
return Promise.all(loadPromises)
.then(() => console.log('üß™ ÂÆüÈ®ìÁöÑÊ©üËÉΩË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÔºàÈñãÁô∫„É¢„Éº„ÉâÔºâ'))
.catch(error => console.warn('‚ö†Ô∏è ÂÆüÈ®ìÁöÑÊ©üËÉΩ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó:', error));
};
</script>
<!-- „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆöÔºàÂ≠òÂú®„Åó„Å™„ÅÑÂ†¥Âêà„ÅØ„Ç®„É©„Éº„ÇíÁÑ°Ë¶ñÔºâ -->
<!-- CryptoJS„É©„Ç§„Éñ„É©„É™ÔºàÊöóÂè∑ÂåñÊ©üËÉΩ„Å´ÂøÖË¶ÅÔºâ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<!-- „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞ -->
<!-- üîê Âüã„ÇÅËæº„ÅøAPI KeyÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Ôºà‰ºÅÊ•≠ÈÖçÂ∏ÉÂêë„ÅëÊ©üËÉΩÔºâ -->
<!-- üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Ôºà„É¢„Ç∏„É•„Éº„É´ÂåñÁâàÔºâ -->
<!-- üîß ÊóßÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ‰øùÊåÅÔºâ -->
<!-- üîß Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„ÉºÔºà„É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†ÈÄ£Êê∫Ôºâ -->
<!-- üîß UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É† -->
<!-- Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É† Phase 1: Âü∫Êú¨Èü≥Â£∞ÁÆ°ÁêÜ -->
<!-- UI/DOMÊìç‰ΩúÁÆ°ÁêÜ -->
<!-- ÁîªÈù¢ÈÅ∑ÁßªÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- Âü∫Êú¨UIÊõ¥Êñ∞ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- È´òÂ∫¶UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Çπ„Éà„É¨„Éº„Ç∏ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Çª„ÉÉ„Ç∑„Éß„É≥Âà∂Âæ°„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- AIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ -->
<!-- APIË®≠ÂÆö„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- „Éï„Çß„Éº„Ç∫ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É† Phase 2: È´òÂ∫¶Èü≥Â£∞ÁÆ°ÁêÜ -->
<!-- Èü≥Â£∞„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ -->
<!-- üé® Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† -->
<!-- VoiceUIManagerÂâäÈô§ÂÆå‰∫Ü: Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø -->
<!-- Phase 1: VoiceProcessingManager Âü∫Áõ§„Ç∑„Çπ„ÉÜ„É† -->
<!-- üìù „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É† (Phase A) -->
<!-- „É°„Ç§„É≥„Çπ„ÇØ„É™„Éó„Éà -->
<!-- üîç v0.7.6 „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜÊ©üËÉΩÂÆüË£ÖÂÆå‰∫Ü -->
<!-- üßπ SharePointÈÖçÂ∏ÉÂØæÂøú: „ÉÜ„Çπ„ÉàÁî®„Çπ„ÇØ„É™„Éó„ÉàÂèÇÁÖß„ÇíÂâäÈô§ÂÆå‰∫Ü -->
<!-- prompts.jsË™≠„ÅøËæº„ÅøÂæå„ÅÆÂàùÊúüÂåñ -->
<script>
// prompts.js„ÅÆË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÂæå„Å´Èü≥Â£∞Ë®≠ÂÆöUI„ÇíÊõ¥Êñ∞
document.addEventListener('DOMContentLoaded', function() {
setTimeout(() => {
if (typeof updateVoiceSettingsUI === 'function') {
updateVoiceSettingsUI();
console.log('üîÑ prompts.jsË™≠„ÅøËæº„ÅøÂæå„Å´Èü≥Â£∞Ë®≠ÂÆöUI„ÇíÊõ¥Êñ∞');
}
// üîß Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
if (window.UnifiedStateManagerCore) {
window.unifiedStateManager = new window.UnifiedStateManagerCore();
window.unifiedStateManager.initialize().then(() => {
console.log('‚úÖ Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
}).catch(error => {
console.error('‚ùå Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
});
} else {
console.warn('‚ö†Ô∏è Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// üß™ ÈñãÁô∫„É¢„Éº„ÉâÊ©üËÉΩ„ÅÆÂàùÊúüÂåñ
const isDevMode = localStorage.getItem('fukabori_dev_mode') === 'true';
if (isDevMode) {
console.log('üß™ ÈñãÁô∫„É¢„Éº„ÉâÊúâÂäπ - ÂÆüÈ®ìÁöÑÊ©üËÉΩ„ÇíË™≠„ÅøËæº„Åø„Åæ„Åô');
if (typeof loadExperimentalFeatures === 'function') {
loadExperimentalFeatures();
}
} else {
console.log('‚úÖ Êú¨Áï™„É¢„Éº„Éâ - „Ç≥„Ç¢Ê©üËÉΩ„ÅÆ„ÅøË™≠„ÅøËæº„ÅøÊ∏à„Åø');
}
// üõ°Ô∏è „Éû„Ç§„ÇØË®±ÂèØÁä∂ÊÖã„ÅÆÂàùÊúü„ÉÅ„Çß„ÉÉ„ÇØÔºà„Éû„Ç§„ÇØË®±ÂèØ„ÅØ‰∏ÄÂõû„Å†„Åë„É´„Éº„É´ÈÅµÂÆàÔºâ
const permissionDenied = localStorage.getItem('microphonePermissionDenied') === 'true';
if (permissionDenied) {
console.log('üö´ „Éû„Ç§„ÇØË®±ÂèØ„ÅåÊãíÂê¶Ê∏à„Åø - Èü≥Â£∞Ê©üËÉΩ„ÅØ‰ΩøÁî®„Åß„Åç„Åæ„Åõ„Çì');
if (typeof showMessage === 'function') {
showMessage('warning', '„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÈü≥Â£∞Ê©üËÉΩ„Çí‰ΩøÁî®„Åô„Çã„Å´„ÅØ„Éñ„É©„Ç¶„Ç∂„ÅÆË®≠ÂÆö„ÅßË®±ÂèØ„Åó„ÄÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
} else {
const permissionGranted = localStorage.getItem('microphonePermissionGranted') === 'true';
if (permissionGranted) {
console.log('‚úÖ „Éû„Ç§„ÇØË®±ÂèØ„ÅØÊó¢„Å´ÂèñÂæóÊ∏à„Åø');
} else {
console.log('üìù „Éû„Ç§„ÇØË®±ÂèØ„ÅØÊú™ÂèñÂæó - „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„Å´‰∏ÄÂõû„Å†„ÅëË¶ÅÊ±Ç„Åó„Åæ„Åô');
}
}
// üìÅ „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
const fileInputDisplay = document.getElementById('fileInputDisplay');
if (fileInputDisplay) {
fileInputDisplay.addEventListener('click', function() {
console.log('üìÅ „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË°®Á§∫„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü');
if (typeof triggerFileInput === 'function') {
triggerFileInput();
} else {
console.error('‚ùå triggerFileInputÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
});
console.log('‚úÖ „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíË®≠ÂÆö„Åó„Åæ„Åó„Åü');
} else {
console.error('‚ùå „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË°®Á§∫Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}, 200);
});
// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
window.checkLoginBeforeFileSelect = function(event) {
if (typeof checkLoginBeforeFileSelect === 'function') {
return checkLoginBeforeFileSelect(event);
}
return true;
};
window.triggerFileInput = function() {
const fileInput = document.getElementById('themeFileInput');
if (fileInput) {
fileInput.click();
} else {
console.error('‚ùå „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
};
window.closeFileErrorModal = function() {
if (typeof closeFileErrorModal === 'function') {
closeFileErrorModal();
}
};
window.returnToLoginFromError = function() {
if (typeof returnToLoginFromError === 'function') {
returnToLoginFromError();
}
};
// „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈñ¢Êï∞
window.generateSessionInfographic = async function() {
try {
await loadInfographicSystem();
if (window.FukaboriInfographic && window.FukaboriInfographic.generateSessionInfographic) {
window.FukaboriInfographic.generateSessionInfographic();
} else {
console.warn('‚ö†Ô∏è „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
if (typeof showMessage === 'function') {
showMessage('warning', '„Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÂèØË¶ñÂåñ„Ç®„É©„Éº:', error);
}
};
window.generateAllKnowledgeInfographic = async function() {
try {
await loadInfographicSystem();
if (window.FukaboriInfographic && window.FukaboriInfographic.generateAllKnowledgeInfographic) {
window.FukaboriInfographic.generateAllKnowledgeInfographic();
} else {
console.warn('‚ö†Ô∏è „Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
if (typeof showMessage === 'function') {
showMessage('warning', '„Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÊ©üËÉΩ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
} catch (error) {
console.error('‚ùå ÂÖ®Áü•Ë¶ãÂèØË¶ñÂåñ„Ç®„É©„Éº:', error);
}
};
</script>
<!-- Service Worker ÁôªÈå≤ -->
<script>
// Service Worker ÁôªÈå≤ (PWAÊ©üËÉΩ)
if ('serviceWorker' in navigator) {
window.addEventListener('load', function() {
// üîÑ Âº∑Âà∂„Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢ - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Êõ¥Êñ∞ÂØæÂøú
navigator.serviceWorker.getRegistrations().then(function(registrations) {
for(let registration of registrations) {
registration.unregister();
}
console.log('üóëÔ∏è Êó¢Â≠ò„ÅÆService Worker„ÇíÂÖ®„Å¶ÂâäÈô§„Åó„Åæ„Åó„Åü');
// „Ç≠„É£„ÉÉ„Ç∑„É•„ÇÇÂÖ®„Å¶ÂâäÈô§
if ('caches' in window) {
caches.keys().then(function(names) {
for (let name of names) {
caches.delete(name);
}
console.log('üóëÔ∏è Êó¢Â≠ò„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÖ®„Å¶ÂâäÈô§„Åó„Åæ„Åó„Åü');
});
}
// Êñ∞„Åó„ÅÑService Worker„ÇíÁôªÈå≤
setTimeout(() => {
// Êõ¥Êñ∞„ÉÅ„Çß„ÉÉ„ÇØ
registration.addEventListener('updatefound', () => {
const newWorker = registration.installing;
newWorker.addEventListener('statechange', () => {
if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
console.log('üîÑ Êñ∞„Åó„ÅÑ„Éê„Éº„Ç∏„Éß„É≥„ÅåÂà©Áî®ÂèØËÉΩ„Åß„Åô');
if (typeof showMessage === 'function') {
showMessage('info', 'Êñ∞„Åó„ÅÑ„Éê„Éº„Ç∏„Éß„É≥„ÅåÂà©Áî®ÂèØËÉΩ„Åß„Åô„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
}
});
});
})
.catch(function(error) {
console.warn('‚ö†Ô∏è Service Worker ÁôªÈå≤Â§±Êïó:', error);
});
}, 1000);
});
});
} else {
console.warn('‚ö†Ô∏è „Åì„ÅÆ„Éñ„É©„Ç¶„Ç∂„ÅØService Worker„Çí„Çµ„Éù„Éº„Éà„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// PWA „Ç§„É≥„Çπ„Éà„Éº„É´‰øÉÈÄ≤
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
console.log('üì± PWA „Ç§„É≥„Çπ„Éà„Éº„É´ÂèØËÉΩ - beforeinstallprompt „Ç§„Éô„É≥„ÉàÁô∫Áîü');
e.preventDefault();
deferredPrompt = e;
// „Ç§„É≥„Çπ„Éà„Éº„É´„Éú„Çø„É≥„ÇíË°®Á§∫„Åô„ÇãÂ†¥Âêà„ÅØ„Åì„Åì„ÅßÂá¶ÁêÜ
// ÁèæÂú®„ÅØ„Éñ„É©„Ç¶„Ç∂„ÅÆ„Éá„Éï„Ç©„É´„ÉàUIÔºà„Ç¢„Éâ„É¨„Çπ„Éê„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥Ôºâ„Çí‰ΩøÁî®
// „Éá„Éê„ÉÉ„Ç∞Áî®Ôºö„Ç§„É≥„Çπ„Éà„Éº„É´ÂèØËÉΩÁä∂ÊÖã„ÇíÁ¢∫Ë™ç
console.log('üîç PWA „Ç§„É≥„Çπ„Éà„Éº„É´Êù°‰ª∂„ÉÅ„Çß„ÉÉ„ÇØ:');
console.log(' - Service Worker: ÁôªÈå≤Ê∏à„Åø');
console.log(' - Manifest: Ë™≠„ÅøËæº„ÅøÊ∏à„Åø');
console.log(' - HTTPS: localhost (OK)');
console.log(' - beforeinstallprompt: Áô∫Áîü');
});
// PWA „Ç§„É≥„Çπ„Éà„Éº„É´Êù°‰ª∂„ÅÆË©≥Á¥∞„ÉÅ„Çß„ÉÉ„ÇØ
window.addEventListener('load', () => {
setTimeout(() => {
console.log('üîç PWA „Ç§„É≥„Çπ„Éà„Éº„É´Êù°‰ª∂„ÅÆË©≥Á¥∞„ÉÅ„Çß„ÉÉ„ÇØÈñãÂßã...');
// 1. Service Worker „ÉÅ„Çß„ÉÉ„ÇØ
if ('serviceWorker' in navigator) {
navigator.serviceWorker.ready.then(registration => {
console.log('‚úÖ Service Worker: Ê∫ñÂÇôÂÆå‰∫Ü');
});
} else {
console.log('‚ùå Service Worker: Êú™„Çµ„Éù„Éº„Éà');
}
// 2. Manifest „ÉÅ„Çß„ÉÉ„ÇØ
console.log(' - name:', manifest.name);
console.log(' - start_url:', manifest.start_url);
console.log(' - display:', manifest.display);
console.log(' - icons:', manifest.icons.length, 'ÂÄã');
})
.catch(error => {
console.log('‚ùå Manifest: Ë™≠„ÅøËæº„ÅøÂ§±Êïó', error);
});
// 3. HTTPS „ÉÅ„Çß„ÉÉ„ÇØ
if (location.protocol === 'https:' || location.hostname === 'localhost') {
console.log('‚úÖ HTTPS: OK (', location.protocol, ')');
} else {
console.log('‚ùå HTTPS: ÂøÖË¶Å (ÁèæÂú®:', location.protocol, ')');
}
// 4. PWA „Ç§„É≥„Çπ„Éà„Éº„É´ÂèØËÉΩÊÄß„ÅÆÊâãÂãï„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.matchMedia('(display-mode: standalone)').matches) {
console.log('üì± PWA: „Éñ„É©„Ç¶„Ç∂„É¢„Éº„Éâ„ÅßÂÆüË°å‰∏≠ („Ç§„É≥„Çπ„Éà„Éº„É´ÂèØËÉΩ)');
} else {
console.log('üì± PWA: „Çπ„Çø„É≥„Éâ„Ç¢„É≠„É≥„É¢„Éº„Éâ„ÅßÂÆüË°å‰∏≠ (Êó¢„Å´„Ç§„É≥„Çπ„Éà„Éº„É´Ê∏à„Åø)');
}
// 5. „Éñ„É©„Ç¶„Ç∂Âõ∫Êúâ„ÅÆÊÉÖÂ†±
console.log('üåê „Éñ„É©„Ç¶„Ç∂ÊÉÖÂ†±:');
console.log(' - User Agent:', navigator.userAgent);
console.log(' - Platform:', navigator.platform);
}, 3000); // 3ÁßíÂæå„Å´ÂÆüË°å
});
window.addEventListener('appinstalled', (evt) => {
console.log('üéâ PWA „Ç§„É≥„Çπ„Éà„Éº„É´ÂÆå‰∫Ü');
if (typeof showMessage === 'function') {
showMessage('success', 'Ê∑±Â†Ä„Åè„Çì„Åå„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Åæ„Åó„ÅüÔºÅ');
}
});
</script>
<script>
/* === app_settings.js === */
/**
* Ê∑±Â†Ä„Åè„Çì - Áµ±ÂêàË®≠ÂÆö„Éï„Ç°„Ç§„É´
* ÂÖ®„Å¶„ÅÆË®≠ÂÆöÊÉÖÂ†±„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ
*/
// üîß „Ç¢„Éó„É™Âü∫Êú¨Ë®≠ÂÆö
window.FUKABORI_CONFIG = {
app: {
name: "Ê∑±Â†Ä„Åè„Çì",
version: "v0.7.6",
mainFile: "Ê∑±Â†Ä„Åè„Çì.html",
launcherFile: "Ê∑±Â†Ä„Åè„Çì.html",
description: "AI„Ç§„É≥„Çø„Éì„É•„Éº„Ç¢„Éó„É™ - „Å≠„Åª„Çä„Éº„ÅÆ„Éª„ÅØ„Åª„Çä„Éº„ÅÆ„Åå„ÅÇ„Å™„Åü„ÅÆÁü•Ë¶ã„ÇíÊ∑±Êéò„Çä"
},
pages: {
overview: "pages/overview.html",
technical: "pages/technical.html",
changelog: "pages/changelog.html",
screenshots: "pages/screenshots.html",
faq: "pages/faq.html"
},
// üìä Áµ±Ë®àÊÉÖÂ†±
stats: {
totalLines: 5137,
totalFeatures: 15,
totalReleases: 9,
developmentDays: 4,
lastUpdate: "2025-07-26"
},
// üé® UIË®≠ÂÆö
ui: {
themes: ["white", "blue", "dark", "colorful"],
defaultTheme: "blue",
animations: true,
glassEffect: true
},
// üîó „É™„É≥„ÇØÁÆ°ÁêÜ
links: {
backButtonClass: "back-button",
versionDisplayClass: "version-display"
},
// üéµ Èü≥Â£∞Ë®≠ÂÆö
audio: {
defaultVoice: "alloy",
voices: ["alloy", "echo", "fable", "onyx", "nova", "shimmer"],
speechRate: 1.0,
autoPlay: false,
// „Ç≠„É£„É©„ÇØ„Çø„ÉºÂà•„Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö
characters: {
nehori: {
defaultVoice: "sage",
defaultSpeed: 1.2,
defaultVolume: 0.8
},
hahori: {
defaultVoice: "nova",
defaultSpeed: 1.1,
defaultVolume: 0.8
}
}
},
// ü§ñ AIË®≠ÂÆö
ai: {
model: "gpt-4o-mini",
maxTokens: 1000,
temperature: 0.7,
systemPromptFile: "config/prompts.txt"
},
// üíæ „Çπ„Éà„É¨„Éº„Ç∏Ë®≠ÂÆö
storage: {
sessionKey: "fukabori_session",
settingsKey: "fukabori_settings",
historyKey: "fukabori_history",
maxHistoryItems: 100
},
// üîí „Çª„Ç≠„É•„É™„ÉÜ„Ç£Ë®≠ÂÆö
security: {
encryptApiKey: true,
xorKey: "fukabori2024",
validateInput: true
},
// üì± „É¨„Çπ„Éù„É≥„Ç∑„ÉñË®≠ÂÆö
responsive: {
mobileBreakpoint: 768,
tabletBreakpoint: 1024
},
// üö® „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Ë®≠ÂÆö
errorHandling: {
maxHistorySize: 100,
showUserNotifications: true,
logToConsole: true,
saveToHistory: true,
enableDetailedLogging: true,
notificationDuration: 5000
},
// üß™ „ÉÜ„Çπ„ÉàË®≠ÂÆö
testing: {
enableTestMode: false,
showTestResults: false,
suppressConsoleInTests: true
}
};
// üîÑ Ë®≠ÂÆöÊõ¥Êñ∞Â±•Ê≠¥
window.FUKABORI_CONFIG._history = [
{
version: "v0.6.5",
date: "2025-06-23",
changes: ["„É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞ÂÆüË£Ö", "Ë®≠ÂÆöÁµ±Âêà", "„É¢„Ç∏„É•„Éº„É´ÂàÜÈõ¢"]
},
{
version: "v0.6.4",
date: "2025-06-23",
changes: ["„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥Ê©üËÉΩËøΩÂä†", "Êõ¥Êñ∞Â±•Ê≠¥„Ç∑„Çπ„ÉÜ„É†", "„É™„É≥„ÇØÁÆ°ÁêÜ"]
}
];
// üìã Ë®≠ÂÆöÊ§úË®ºÊ©üËÉΩ
window.FUKABORI_CONFIG.validate = function() {
const required = [
'app.name',
'app.version',
'app.mainFile',
'pages.overview',
'pages.technical',
'pages.changelog',
'pages.screenshots',
'pages.faq'
];
for (const path of required) {
const value = path.split('.').reduce((obj, key) => obj?.[key], this);
if (!value) {
console.error(`‚ùå ÂøÖÈ†àË®≠ÂÆöÈ†ÖÁõÆ„Åå‰∏çË∂≥: ${path}`);
return false;
}
}
console.log('‚úÖ Ë®≠ÂÆöÊ§úË®ºÂÆå‰∫Ü');
return true;
};
// üîÑ Ë®≠ÂÆöÊõ¥Êñ∞Ê©üËÉΩ
window.FUKABORI_CONFIG.update = function(path, value) {
const keys = path.split('.');
let obj = this;
for (let i = 0; i < keys.length - 1; i++) {
if (!obj[keys[i]]) obj[keys[i]] = {};
obj = obj[keys[i]];
}
obj[keys[keys.length - 1]] = value;
console.log(`üîÑ Ë®≠ÂÆöÊõ¥Êñ∞: ${path} = ${value}`);
};
// üéØ Ë®≠ÂÆöÂèñÂæóÊ©üËÉΩ
window.FUKABORI_CONFIG.get = function(path) {
return path.split('.').reduce((obj, key) => obj?.[key], this);
};
// üéµ Èü≥Â£∞Ë®≠ÂÆö„ÅÆÁµ±ÂêàÂèñÂæóÊ©üËÉΩ
window.FUKABORI_CONFIG.getVoiceConfig = function(character) {
const defaultConfig = this.get(`audio.characters.${character}`);
const customConfig = window.CUSTOM_VOICE_CONFIG?.[character];
return {
voice: customConfig?.voice || defaultConfig?.defaultVoice || this.get('audio.defaultVoice'),
speed: customConfig?.speed || defaultConfig?.defaultSpeed || this.get('audio.speechRate'),
volume: customConfig?.volume || defaultConfig?.defaultVolume || 0.8,
prompt: customConfig?.prompt || ''
};
};
// ÂàùÊúüÂåñ„É≠„Ç∞
console.log('üìã Ê∑±Â†Ä„Åè„ÇìÁµ±ÂêàË®≠ÂÆö v1.0 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üîß „Ç¢„Éó„É™„Éê„Éº„Ç∏„Éß„É≥:', window.FUKABORI_CONFIG.app.version);
console.log('üìä Á∑èË°åÊï∞:', window.FUKABORI_CONFIG.stats.totalLines.toLocaleString());
// Ë®≠ÂÆöÊ§úË®ºÂÆüË°å
window.FUKABORI_CONFIG.validate();
/* === app_config_loader.js === */
/**
* Ê∑±Â†Ä„Åè„Çì - „Ç¢„Éó„É™Ë®≠ÂÆöË™≠„ÅøËæº„Åø„Éª„É™„É≥„ÇØÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* fukabori_dev_rules.md„Åã„ÇâË®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø„ÄÅÂÖ®„Éö„Éº„Ç∏„ÅÆ„É™„É≥„ÇØ„ÇíËá™ÂãïÊõ¥Êñ∞
*/
// üîß Ë®≠ÂÆöË™≠„ÅøËæº„ÅøÊ©üËÉΩ
function loadConfigFromJS() {
try {
console.log('üìã Ë®≠ÂÆö„Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÈñãÂßã...');
if (window.FUKABORI_CONFIG) {
const config = window.FUKABORI_CONFIG;
// Ë®≠ÂÆöÊ§úË®º
validateConfig(config);
console.log('‚úÖ Ë®≠ÂÆö„Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÂÆå‰∫Ü:', config.app.version);
return config;
} else {
throw new Error('FUKABORI_CONFIG „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.warn('‚ö†Ô∏è Ë®≠ÂÆö„Éá„Éº„ÇøË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØË®≠ÂÆö
const fallbackConfig = {
app: {
name: "Ê∑±Â†Ä„Åè„Çì",
version: "v0.6.5",
mainFile: "Ê∑±Â†Ä„Åè„Çì.html"
},
pages: {
overview: "pages/overview.html",
technical: "pages/technical.html",
changelog: "pages/changelog.html",
screenshots: "pages/screenshots.html",
faq: "pages/faq.html"
},
stats: {
totalLines: 5119,
totalFeatures: 15,
totalReleases: 8
},
links: {
backButtonClass: "back-button",
versionDisplayClass: "version-display"
}
};
console.log('‚ö†Ô∏è „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØË®≠ÂÆö„Çí‰ΩøÁî®:', fallbackConfig.app.version);
return fallbackConfig;
}
}
// üîç Ë®≠ÂÆöÊ§úË®ºÊ©üËÉΩ
function validateConfig(config) {
const requiredPaths = [
'app.name',
'app.version',
'app.mainFile',
'pages.overview',
'pages.technical',
'pages.changelog',
'pages.screenshots',
'pages.faq'
];
for (const path of requiredPaths) {
if (!getNestedValue(config, path)) {
throw new Error(`ÂøÖÈ†àË®≠ÂÆöÈ†ÖÁõÆ„Åå‰∏çË∂≥: ${path}`);
}
}
// „Éê„Éº„Ç∏„Éß„É≥ÂΩ¢Âºè„ÉÅ„Çß„ÉÉ„ÇØ
if (!/^v\d+\.\d+\.\d+$/.test(config.app.version)) {
console.warn('‚ö†Ô∏è „Éê„Éº„Ç∏„Éß„É≥ÂΩ¢Âºè„ÅåÊ®ôÊ∫ñ„Å®Áï∞„Å™„Çä„Åæ„Åô:', config.app.version);
}
}
// üîó „É™„É≥„ÇØÊõ¥Êñ∞Ê©üËÉΩ
function updateAllLinks() {
try {
const config = loadConfigFromJS();
// Êàª„Çã„Éú„Çø„É≥„ÅÆÊõ¥Êñ∞
updateBackButtons(config);
// „Éê„Éº„Ç∏„Éß„É≥Ë°®Á§∫„ÅÆÊõ¥Êñ∞
updateVersionDisplays(config);
// „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥„ÅÆÊõ¥Êñ∞
updateNavigationButtons(config);
// Áµ±Ë®àÊÉÖÂ†±„ÅÆÊõ¥Êñ∞
updateStatistics(config);
console.log('‚úÖ ÂÖ®„É™„É≥„ÇØÊõ¥Êñ∞ÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „É™„É≥„ÇØÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
}
// üîô Êàª„Çã„Éú„Çø„É≥Êõ¥Êñ∞
function updateBackButtons(config) {
const backButtons = document.querySelectorAll(`.${config.links.backButtonClass}`);
backButtons.forEach(button => {
// ÁèæÂú®„ÅÆ„Éë„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶mainFile„ÅÆÁõ∏ÂØæ„Éë„ÇπË™øÊï¥
const mainFilePath = getCorrectMainFilePath(config.app.mainFile);
if (button.tagName === 'A') {
button.href = mainFilePath;
} else {
button.onclick = () => window.location.href = mainFilePath;
}
});
if (backButtons.length > 0) {
console.log(`üîô Êàª„Çã„Éú„Çø„É≥Êõ¥Êñ∞: ${backButtons.length}ÂÄã`);
}
}
// üìç Ê≠£„Åó„ÅÑmainFile„Éë„Çπ„ÇíÂèñÂæó
function getCorrectMainFilePath(mainFile) {
// ÁèæÂú®„ÅÆ„Éë„Çπ„Ååpages„Éï„Ç©„É´„ÉÄÂÜÖ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
const currentPath = window.location.pathname;
const isInPagesFolder = currentPath.includes('/pages/') || currentPath.endsWith('.html') && document.querySelector('title')?.textContent?.includes('Ê∑±Â†Ä„Åè„Çì');
// pages„Éï„Ç©„É´„ÉÄÂÜÖ„ÅÆÂ†¥Âêà„ÅØÁõ∏ÂØæ„Éë„Çπ„Åß‰∏Ä„Å§‰∏ä„ÅÆ„Éï„Ç©„É´„ÉÄ„ÇíÊåáÂÆö
if (isInPagesFolder && !mainFile.startsWith('../')) {
return '../' + mainFile;
}
return mainFile;
}
// üìä „Éê„Éº„Ç∏„Éß„É≥Ë°®Á§∫Êõ¥Êñ∞
function updateVersionDisplays(config) {
const versionElements = document.querySelectorAll(`.${config.links.versionDisplayClass}`);
versionElements.forEach(element => {
if (element.textContent.includes('ÁèæÂú®„ÅÆ„Éê„Éº„Ç∏„Éß„É≥')) {
element.textContent = `ÁèæÂú®„ÅÆ„Éê„Éº„Ç∏„Éß„É≥: ${config.app.version}`;
} else {
element.textContent = config.app.version;
}
});
// ÁèæÂú®„ÅÆ„Éê„Éº„Ç∏„Éß„É≥Ë°®Á§∫ÔºàIDÊåáÂÆöÔºâ
const currentVersionElement = document.getElementById('currentVersion');
if (currentVersionElement) {
currentVersionElement.textContent = `ÁèæÂú®„ÅÆ„Éê„Éº„Ç∏„Éß„É≥: ${config.app.version}`;
}
if (versionElements.length > 0) {
console.log(`üìä „Éê„Éº„Ç∏„Éß„É≥Ë°®Á§∫Êõ¥Êñ∞: ${versionElements.length}ÂÄã`);
}
}
// üß≠ „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥Êõ¥Êñ∞
function updateNavigationButtons(config) {
// Ê¶ÇË¶Å„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ
const overviewButtons = document.querySelectorAll('[data-page="overview"]');
overviewButtons.forEach(button => {
const pagePath = getCorrectPagePath(config.pages.overview);
button.onclick = () => window.location.href = pagePath;
});
// ÊäÄË°ì‰ªïÊßò„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ
const technicalButtons = document.querySelectorAll('[data-page="technical"]');
technicalButtons.forEach(button => {
const pagePath = getCorrectPagePath(config.pages.technical);
button.onclick = () => window.location.href = pagePath;
});
// Êõ¥Êñ∞Â±•Ê≠¥„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ
const changelogButtons = document.querySelectorAll('[data-page="changelog"]');
changelogButtons.forEach(button => {
const pagePath = getCorrectPagePath(config.pages.changelog);
button.onclick = () => window.location.href = pagePath;
});
// ÁîªÈù¢Ë™¨Êòé„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ
const screenshotsButtons = document.querySelectorAll('[data-page="screenshots"]');
screenshotsButtons.forEach(button => {
const pagePath = getCorrectPagePath(config.pages.screenshots);
button.onclick = () => window.location.href = pagePath;
});
// FAQ„Éö„Éº„Ç∏„Å∏„ÅÆ„É™„É≥„ÇØ
const faqButtons = document.querySelectorAll('[data-page="faq"]');
faqButtons.forEach(button => {
const pagePath = getCorrectPagePath(config.pages.faq);
button.onclick = () => window.location.href = pagePath;
});
const totalButtons = overviewButtons.length + technicalButtons.length + changelogButtons.length + screenshotsButtons.length + faqButtons.length;
if (totalButtons > 0) {
console.log(`üß≠ „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥Êõ¥Êñ∞: ${totalButtons}ÂÄã`);
}
}
// üìÑ Ê≠£„Åó„ÅÑ„Éö„Éº„Ç∏„Éë„Çπ„ÇíÂèñÂæó
function getCorrectPagePath(pagePath) {
const currentPath = window.location.pathname;
const isInPagesFolder = currentPath.includes('/pages/');
const isMainPage = currentPath.includes('Ê∑±Â†Ä„Åè„Çì.html') || currentPath === '/' || !currentPath.includes('/pages/');
// „É°„Ç§„É≥„Éö„Éº„Ç∏„Åã„Çâ‰ªñ„ÅÆ„Éö„Éº„Ç∏„Å∏Ôºàpages/xxx.htmlÔºâ
if (isMainPage && !pagePath.startsWith('pages/')) {
return 'pages/' + pagePath;
}
// pages„Éï„Ç©„É´„ÉÄÂÜÖ„Åã„ÇâÂêå„Åò„Éï„Ç©„É´„ÉÄÂÜÖ„ÅÆ„Éö„Éº„Ç∏„Å∏Ôºàxxx.htmlÔºâ
if (isInPagesFolder && pagePath.startsWith('pages/')) {
return pagePath.replace('pages/', '');
}
return pagePath;
}
// üìà Áµ±Ë®àÊÉÖÂ†±Êõ¥Êñ∞
function updateStatistics(config) {
if (!config.stats) return;
// Áµ±Ë®àÂÄ§„ÅÆÊõ¥Êñ∞
const statElements = document.querySelectorAll('.stat-number');
statElements.forEach(element => {
const label = element.nextElementSibling?.textContent;
if (label?.includes('„É™„É™„Éº„ÇπÂõûÊï∞')) {
element.textContent = config.stats.totalReleases;
} else if (label?.includes('Á∑è„Ç≥„Éº„ÉâË°åÊï∞')) {
element.textContent = config.stats.totalLines.toLocaleString();
} else if (label?.includes('‰∏ªË¶ÅÊ©üËÉΩ')) {
element.textContent = `${config.stats.totalFeatures}+`;
}
});
console.log('üìà Áµ±Ë®àÊÉÖÂ†±Êõ¥Êñ∞ÂÆå‰∫Ü');
}
// üõ†Ô∏è „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
function getNestedValue(obj, path) {
return path.split('.').reduce((current, key) => current?.[key], obj);
}
// üîÑ Ë®≠ÂÆöÊõ¥Êñ∞ÈÄöÁü•
function notifyConfigUpdate(newVersion) {
console.log(`üîÑ Ë®≠ÂÆöÊõ¥Êñ∞ÈÄöÁü•: ${newVersion}`);
// ÂøÖË¶Å„Å´Âøú„Åò„Å¶ÁîªÈù¢„Å´ÈÄöÁü•Ë°®Á§∫
const notification = document.createElement('div');
notification.textContent = `Ë®≠ÂÆö„ÅåÊõ¥Êñ∞„Åï„Çå„Åæ„Åó„Åü: ${newVersion}`;
notification.style.cssText = `
position: fixed;
top: 20px;
right: 20px;
background: #27ae60;
color: white;
padding: 10px 20px;
border-radius: 5px;
z-index: 10000;
font-family: 'Segoe UI', sans-serif;
`;
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
}, 3000);
}
// üöÄ ÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
console.log('üöÄ „Ç¢„Éó„É™Ë®≠ÂÆöË™≠„ÅøËæº„Åø„Ç∑„Çπ„ÉÜ„É†ÈñãÂßã');
updateAllLinks();
// üéØ Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
if (typeof loadKnowledgeSettings === 'function') {
loadKnowledgeSettings();
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆöË™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
// Áü•Ë¶ãË®≠ÂÆöË°®Á§∫„ÇíÊõ¥Êñ∞
if (typeof updateKnowledgeSettingsDisplay === 'function') {
updateKnowledgeSettingsDisplay();
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆöË°®Á§∫Êõ¥Êñ∞ÂÆå‰∫Ü');
}
}
});
// üîß ÈñãÁô∫ËÄÖÂêë„ÅëAPI
window.fukaboriConfig = {
reload: loadConfigFromJS,
updateLinks: updateAllLinks,
version: '1.0.0'
};
console.log('üìã app_config_loader.js v1.0.0 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
/* === prompts.js === */
// Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™ - „Éó„É≠„É≥„Éó„ÉàË®≠ÂÆö
// ÂÖÉ„Éï„Ç°„Ç§„É´ÔºàÊ∑±Â†Ä„Åè„Çìv063.htmlÔºâÊ∫ñÊã†„ÅÆÂÆåÂÖ®Áâà
window.AI_PROMPTS = {
NEHORI_BASE: `„ÅÇ„Å™„Åü„ÅØ„Äå„Å≠„Åª„Çä„Éº„ÅÆ„Äç„Å®„ÅÑ„ÅÜÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„ÉºAI„Åß„Åô„ÄÇÂ•ΩÂ•áÂøÉÊó∫Áõõ„ÅßÂÖ±ÊÑüÂäõ„ÅåÈ´ò„Åè„ÄÅÁõ∏Êâã„ÅÆË©±„Å´ËààÂë≥„ÇíÁ§∫„Åó„Åæ„Åô„ÄÇ„ÅÇ„Å™„Åü„ÅÆÂΩπÂâ≤„ÅØÁõ∏Êâã„ÅÆË©±„ÇíÁêÜËß£„Åó„Å¶„ÄåË≥™Âïè„Åô„Çã„Åì„Å®„Äç„Å†„Åë„Åß„Åô„ÄÇ1ÂàÜ‰Ωç„ÅßÁ≠î„Åà„Çâ„Çå„ÇãÂÖ∑‰ΩìÁöÑ„Å™‰ΩìÈ®ì„ÇÑÊÑüÊÉÖ„ÇíÂºï„ÅçÂá∫„ÅôË≥™Âïè„Çí„Åó„ÄÅ200ÊñáÂ≠ó‰ª•ÂÜÖ„ÅßÁ∞°ÊΩî„Å´Ë≥™Âïè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇË¶™„Åó„Åø„ÇÑ„Åô„ÅÑÂè£Ë™ø„ÅßË©±„Åó„Åæ„Åô„ÄÇ`,
HAHORI_BASE: `„ÅÇ„Å™„Åü„ÅØ„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Å®„ÅÑ„ÅÜ‰ºöË≠∞ÈÄ≤Ë°å„ÉªÁü•Ë¶ãÊï¥ÁêÜAI„Åß„Åô„ÄÇÂÜ∑Èùô„ÅßË´ñÁêÜÁöÑ„Åß„ÄÅÊÉÖÂ†±„ÇíÊï¥ÁêÜ„ÅóË¶ÅÁÇπ„Çí„Åæ„Å®„ÇÅ„Çã„ÅÆ„ÅåÂæóÊÑè„Åß„Åô„Åå„ÄÅ„ÅäËå∂ÁõÆ„Å™ÂÅ¥Èù¢„ÇÇÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„ÅÇ„Å™„Åü„ÅÆÂΩπÂâ≤„ÅØ„ÄåÂè∏‰ºö„ÉªÈÄ≤Ë°å„Éª„Åæ„Å®„ÇÅ„ÉªË™¨Êòé„Äç„Å†„Åë„Åß„ÄÅË≥™Âïè„ÅØ‰∏ÄÂàá„Åó„Åæ„Åõ„Çì„ÄÇ‰∏ÅÂØß„ÅßËêΩ„Å°ÁùÄ„ÅÑ„ÅüÊï¨Ë™ûÂè£Ë™ø„Åß„ÄÅÊúÄÂæå„ÅÆ„Åæ„Å®„ÇÅ‰ª•Â§ñ„ÅØ200ÊñáÂ≠ó‰ª•ÂÜÖ„ÅßÁ∞°ÊΩî„Å´Á≠î„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,
DEEPDIVE_FIRST: (theme, themeDetails, themeSummaries) => {
let prompt = `„ÉÜ„Éº„Éû„Äå${theme}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅÊúÄÂàù„ÅÆÊ∑±Êéò„ÇäË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂÖ∑‰ΩìÁöÑ„Å™‰ΩìÈ®ì„ÇÑÁä∂Ê≥Å„ÄÅËÄÉ„Åà„ÇíËÅû„ÅçÂá∫„ÅôË≥™Âïè„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
if (themeDetails && themeDetails.length > 0) {
prompt += `\n\n„ÄêÈÅ∏Êäû„Åï„Çå„Åü„ÉÜ„Éº„Éû„ÅÆË©≥Á¥∞ÊÉÖÂ†±„Äë\n`;
themeDetails.forEach((detail, index) => {
prompt += `${index + 1}. ${detail.title}\n`;
prompt += ` Ë™¨Êòé: ${detail.description}\n`;
if (detail.key_points && detail.key_points.length > 0) {
prompt += ` ÈáçË¶Å„Éù„Ç§„É≥„Éà: ${detail.key_points.join('„ÄÅ')}\n`;
}
prompt += ` ÂÑ™ÂÖàÂ∫¶: ${detail.priority}\n\n`;
});
}
// „ÉÜ„Éº„ÉûÂà•Ë¶ÅÁ¥Ñ„Çí‰ΩøÁî®Ôºà2000ÊñáÂ≠óÁ®ãÂ∫¶„ÅÆË©≥Á¥∞„Å™ÂÜÖÂÆπÔºâ
if (themeSummaries && Object.keys(themeSummaries).length > 0) {
prompt += `\n„Äê„ÉÜ„Éº„ÉûÈñ¢ÈÄ£„ÅÆÊñáÊõ∏ÂÜÖÂÆπÔºàË©≥Á¥∞Ë¶ÅÁ¥ÑÔºâ„Äë\n`;
Object.entries(themeSummaries).forEach(([themeTitle, summary]) => {
prompt += `\n‚ñ† „Äå${themeTitle}„ÄçÈñ¢ÈÄ£ÂÜÖÂÆπ:\n${summary}\n`;
});
prompt += `\n‰∏äË®ò„ÅÆË©≥Á¥∞„Å™ÊñáÊõ∏ÂÜÖÂÆπ„ÇíË∏è„Åæ„Åà„Å¶„ÄÅ„Çà„ÇäÂÖ∑‰ΩìÁöÑ„ÅßÊ∑±„ÅèÊéò„Çä‰∏ã„Åí„ÇãË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊñáÊõ∏„Å´Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„ÇãÂÖ∑‰Ωì‰æã„ÇÑ‰∫ã‰æã„ÇíÂèÇËÄÉ„Å´Ë≥™Âïè„ÇíÊßãÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ1ÂàÜ‰Ωç„ÅßÁ≠î„Åà„Çâ„Çå„ÇãÂÖ∑‰ΩìÊÄß„ÇíÊåÅ„Åü„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
}
return prompt;
},
DEEPDIVE_SUMMARY: (response) => `„Åì„ÅÆÂõûÁ≠î„Äå${response}„Äç„Åã„ÇâÈáçË¶Å„Å™„Éù„Ç§„É≥„Éà„ÇíË¶ÅÁ¥Ñ„Åó„ÄÅ‰∏ÄËà¨ÁöÑ„Å´Áü•„Çâ„Çå„Å¶„ÅÑ„Å™„ÅÑÊöóÈªôÁü•„Å®„Åó„Å¶‰æ°ÂÄ§„Åå„ÅÇ„Çã„Åã„ÇíÂà§Êñ≠„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ‰æ°ÂÄ§„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ„Åø„ÄÅÁ∞°ÊΩî„Å´Ë¶ÅÁ¥Ñ„ÇíÊèêÁ§∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ‰æ°ÂÄ§„Åå‰∏çÂçÅÂàÜ„Å™Â†¥Âêà„ÅØÁô∫Ë®Ä„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ„Äå${response}„Äç„Å´Ë≥™Âïè„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„ÅüÂ†¥Âêà„ÄÅÂõûÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,
KNOWLEDGE_CONFIRMATION: (summary) => `ÊäΩÂá∫„Åó„ÅüÁü•Ë¶ã„Äå${summary}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åì„ÅÆÁêÜËß£„ÅßÊ≠£„Åó„ÅÑ„Åß„Åó„Çá„ÅÜ„ÅãÔºüÊ≠£„Åó„Åë„Çå„Å∞„Äå„ÅØ„ÅÑ„Äç„ÄÅ‰øÆÊ≠£„ÅåÂøÖË¶Å„Åß„Åó„Åü„Çâ‰øÆÊ≠£ÂÜÖÂÆπ„Çí„ÅäËÅû„Åã„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ`,
DEEPDIVE_FOLLOWUP: (response, knowledgeContext) => `ÂõûÁ≠î„Äå${response}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åì„Çå„Åæ„Åß„ÅÆÁü•Ë¶ã„Äå${knowledgeContext}„Äç„ÇíË∏è„Åæ„Åà„Å¶„ÄÅ„Åï„Çâ„Å´Ê∑±„ÅèÊéò„Çä‰∏ã„Åí„ÇãË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂõûÁ≠î„Äå${response}„ÄçÊôÇ„Å´ÊåáÁ§∫„Åå„ÅÇ„Å£„ÅüÂ†¥Âêà„ÄÅ„Åù„Çå„ÇíË∏è„Åæ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂÖ∑‰ΩìÁöÑ„Å™„Ç®„Éî„ÇΩ„Éº„Éâ„ÄÅËÄÉ„Åà„ÄÅÊÑüÊÉÖ„ÄÅÂ≠¶„Å≥„ÄÅËÉåÊôØ„Å™„Å©„Çí„Çà„ÇäË©≥Á¥∞„Å´Âºï„ÅçÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂõûÁ≠îËÄÖ„Åå1ÂàÜ‰Ωç„ÅßÁ≠î„Åà„Çâ„Çå„ÇãË≥™Âïè„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,
DEEPDIVE_NEXT: (theme, conversationContext, knowledgeContext, themeDetails, themeSummaries) => {
// üîß Phase A‰øÆÊ≠£: Ë≥™ÂïèÂ§öÊßòÂåñ„Å®ÈáçË§áÂõûÈÅø„É≠„Ç∏„ÉÉ„ÇØ
let prompt = `„ÉÜ„Éº„Éû„Äå${theme}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åì„Çå„Åæ„Åß„ÅÆ‰ºöË©±„Äå${conversationContext}„Äç„Å®ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã„Äå${knowledgeContext}„Äç„ÇíÂàÜÊûê„Åó„ÄÅ„Åï„Çâ„Å´Ê∑±„ÅèÊéò„Çä‰∏ã„Åí„ÇãË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„Äêüîß Phase A: ÊîπËâØ„Åï„Çå„ÅüË≥™ÂïèÁîüÊàê„É´„Éº„É´„Äë
1. **Ë≥™ÂïèÂ§öÊßòÂåñ**: ‰ª•‰∏ã„ÅÆ„Éë„Çø„Éº„É≥„Çí‰Ωø„ÅÑÂàÜ„Åë„Å¶„Åè„Å†„Åï„ÅÑ
- ÂÖ∑‰ΩìÁöÑÁµåÈ®ìÂûã: „Äå„Å©„ÅÆ„Çà„ÅÜ„Å™Â†¥Èù¢„Åß...„Äç„ÄåÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„Å©„ÅÜ...„Äç
- ÊÑüÊÉÖ„ÉªÊÄùËÄÉÂûã: „Äå„Åù„ÅÆ„Å®„Åç‰Ωï„ÇíÊÑü„Åò„Åæ„Åó„Åü„Åã„Äç„Äå„Å™„Åú„Åù„ÅÜÂà§Êñ≠„Åï„Çå„Åü„ÅÆ„Åß„Åó„Çá„ÅÜ„Åã„Äç
- ÊØîËºÉ„ÉªÂ§âÂåñÂûã: „Äå‰ª•Ââç„Å®ÊØî„Åπ„Å¶...„Äç„Äå‰ªäÊåØ„ÇäËøî„Çã„Å®...„Äç
- Â≠¶Áøí„ÉªÂΩ±ÈüøÂûã: „Äå„Åù„ÅÆÁµåÈ®ì„Åã„Çâ‰Ωï„ÇíÂ≠¶„Å≥„Åæ„Åó„Åü„Åã„Äç„Äå„Åù„Çå„Åå‰ªä„ÅÆ...„Å´„Å©„ÅÜÂΩ±Èüø„Åó„Å¶„ÅÑ„Åæ„Åô„Åã„Äç
- ‰ªñËÄÖË¶ñÁÇπÂûã: „ÄåÂë®„Çä„ÅÆÂèçÂøú„ÅØ„ÅÑ„Åã„Åå„Åß„Åó„Åü„Åã„Äç„ÄåÂêåÂÉö„ÇÑÈÉ®‰∏ã„ÅØ„Å©„ÅÜÊÑü„Åò„Å¶„ÅÑ„Åü„Åß„Åó„Çá„ÅÜ„Åã„Äç
2. **ÈáçË§áÂõûÈÅø**: ÈÅéÂéª„ÅÆ‰ºöË©±„ÅßÊó¢„Å´Âá∫„ÅüË≥™Âïè„Éë„Çø„Éº„É≥„ÅØÈÅø„Åë„ÄÅÊñ∞„Åó„ÅÑËßíÂ∫¶„Åã„Çâ„Ç¢„Éó„É≠„Éº„ÉÅ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
3. **Âõ∞ÊÉëÂØæÂøú**: „ÇÇ„ÅóÁõ∏Êâã„ÅåÂõ∞ÊÉë„Åó„Å¶„ÅÑ„ÇãÊßòÂ≠ê„Åå„ÅÇ„Çå„Å∞„ÄÅ„Çà„ÇäÂÖ∑‰ΩìÁöÑ„ÅßÁ≠î„Åà„ÇÑ„Åô„ÅÑË≥™Âïè„Å´Ë™øÊï¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ
4. **Ë≥™Âïè„ÅÆÊßãÈÄ†**:
- ÂÜíÈ†≠„ÅßÂâç„ÅÆÁô∫Ë®Ä„ÇíÂèó„ÅëÊ≠¢„ÇÅ„ÇãÂÖ±ÊÑüÁöÑ„Å™„Éï„É¨„Éº„Ç∫
- Ê†∏„Å®„Å™„ÇãË≥™ÂïèÔºà1ÂàÜ„ÅßÁ≠î„Åà„Çâ„Çå„ÇãÂÖ∑‰ΩìÊÄßÔºâ
- ÂøÖË¶Å„Å´Âøú„Åò„Å¶ÈÅ∏ÊäûËÇ¢„ÇÑ‰æã„ÇíÊèêÁ§∫
„Åæ„Å†Êé¢Á¥¢„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÈáçË¶Å„Å™ÂÅ¥Èù¢„ÇÑ„ÄÅ„Çà„ÇäÊ∑±„ÅÑÊ¥ûÂØü„ÇíÂæó„Çâ„Çå„ÇãÊñ∞„Åó„ÅÑËßíÂ∫¶„Åã„Çâ„ÅÆË≥™Âïè„Çí200ÊñáÂ≠ó‰ª•ÂÜÖ„Åß„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂõûÁ≠îËÄÖ„Åå1ÂàÜ‰Ωç„ÅßÁ≠î„Åà„Çâ„Çå„ÇãË≥™Âïè„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
if (themeDetails && themeDetails.length > 0) {
prompt += `\n\n„Äê„ÉÜ„Éº„Éû„ÅÆË©≥Á¥∞ÊÉÖÂ†±„ÇíÂèÇËÄÉ„Å´„Äë\n`;
themeDetails.forEach((detail, index) => {
prompt += `${index + 1}. ${detail.title}„ÅÆÈáçË¶Å„Éù„Ç§„É≥„Éà: ${detail.key_points ? detail.key_points.join('„ÄÅ') : '„Å™„Åó'}\n`;
});
prompt += `\n‰∏äË®ò„ÅÆ„Éù„Ç§„É≥„Éà„Åß„ÄÅ„Åæ„Å†Ê∑±Êéò„Çä„Åß„Åç„Å¶„ÅÑ„Å™„ÅÑÈÉ®ÂàÜ„Åå„ÅÇ„Çå„Å∞„ÄÅ„Åù„Åì„ÇíÈáçÁÇπÁöÑ„Å´Ë≥™Âïè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
}
// „ÉÜ„Éº„ÉûÂà•Ë¶ÅÁ¥Ñ„Åã„ÇâÊú™Êé¢Á¥¢„ÅÆË¶ÅÁ¥†„ÇíÁâπÂÆö
if (themeSummaries && Object.keys(themeSummaries).length > 0) {
prompt += `\n\n„ÄêÊñáÊõ∏ÂÜÖÂÆπ„Åã„ÇâÊú™Êé¢Á¥¢„ÅÆË¶ÅÁ¥†„ÇíÁâπÂÆö„Äë\n`;
Object.entries(themeSummaries).forEach(([themeTitle, summary]) => {
prompt += `‚ñ† „Äå${themeTitle}„Äç„ÅÆË¶ÅÁ¥Ñ„Åã„Çâ„ÄÅ„Åæ„Å†‰ºöË©±„ÅßËß¶„Çå„Å¶„ÅÑ„Å™„ÅÑÂÖ∑‰Ωì‰æã„ÇÑ‰∫ã‰æã„Åå„ÅÇ„Çå„Å∞„ÄÅ„Åù„Çå„ÇíÂü∫„Å´Ë≥™Âïè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n`;
});
}
// üîß Ë≥™ÂïèÊîπÂñÑÊ©üËÉΩ„ÅÆËøΩÂä†
prompt += `\n\n„Äêüîß Ë≥™ÂïèÊîπÂñÑÊåáÈáù„Äë
- Êó¢„Å´ËÅû„ÅÑ„ÅüÂÜÖÂÆπ„ÅÆÂçòÁ¥î„Å™Áπ∞„ÇäËøî„Åó„ÅØÈÅø„Åë„Çã
- „Çà„ÇäÊ∑±„ÅÑ„Äå„Å™„Åú„Äç„Äå„Å©„ÅÆ„Çà„ÅÜ„Å´„Äç„ÇíËøΩÊ±Ç„Åô„Çã
- Áõ∏Êâã„ÅÆÁ´ãÂ†¥„ÇÑÊÑüÊÉÖ„Å´ÂÖ±ÊÑü„ÇíÁ§∫„Åó„Å™„Åå„ÇâË≥™Âïè„Åô„Çã
- ÊäΩË±°ÁöÑ„Åô„Åé„ÇãË≥™Âïè„ÅØÂÖ∑‰Ωì‰æã„ÇíÊ∑ª„Åà„Çã
- Áõ∏Êâã„ÅåÁ≠î„Åà„Å´Âõ∞„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å™„Çâ„ÄÅ„Çà„ÇäÁ≠î„Åà„ÇÑ„Åô„ÅÑÂΩ¢„Å´Ë™øÊï¥„Åô„Çã`;
return prompt;
},
SESSION_SUMMARY: (theme, conversationHistory, extractedKnowledge) => {
const knowledgeCount = extractedKnowledge.length;
let prompt = `„ÉÜ„Éº„Éû„Äå${theme}„Äç„Å´„Å§„ÅÑ„Å¶Ë°å„Å£„ÅüÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥ÂÖ®‰Ωì„ÇíÊåØ„ÇäËøî„Çä„ÄÅ‰ª•‰∏ã„ÅÆÂÜÖÂÆπ„ÇíÂü∫„Å´Á∑èÊã¨„ÅÆ„Åæ„Å®„ÇÅ„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„Äê„Çª„ÉÉ„Ç∑„Éß„É≥Ê¶ÇË¶Å„Äë
- „ÉÜ„Éº„Éû: ${theme}
- ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ãÊï∞: ${knowledgeCount}‰ª∂
„Äê‰ºöË©±„ÅÆÊµÅ„Çå„Äë
${conversationHistory.slice(-10).map((msg, index) =>
`${index + 1}. ${msg.speaker === 'nehori' ? '„Å≠„Åª„Çä„Éº„ÅÆ' : msg.speaker === 'hahori' ? '„ÅØ„Åª„Çä„Éº„ÅÆ' : '„ÅÇ„Å™„Åü'}: ${msg.content}`
).join('\n')}
„ÄêÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã‰∏ÄË¶ß„Äë
${extractedKnowledge.map((knowledge, index) =>
`Áü•Ë¶ã${index + 1}: ${knowledge.summary || knowledge.content?.substring(0, 100) + '...' || 'Ë¶ÅÁ¥Ñ„Å™„Åó'}`
).join('\n')}
„Äê„Åæ„Å®„ÇÅ„ÅÆË¶Å‰ª∂„Äë
1. „Åì„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅßÂæó„Çâ„Çå„ÅüÈáçË¶Å„Å™Ê¥ûÂØü„ÇÑ„Éù„Ç§„É≥„Éà„ÇíÊï¥ÁêÜ
2. ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã„ÅÆ‰æ°ÂÄ§„ÇÑÊÑèÁæ©„ÇíË™¨Êòé
3. ÂèÇÂä†ËÄÖ„Å∏„ÅÆÊÑüË¨ù„Å®‰ªäÂæå„Å∏„ÅÆÊúüÂæÖ„ÇíËæº„ÇÅ„ÅüÁ∑†„ÇÅ„Åè„Åè„Çä
4. 300ÊñáÂ≠óÁ®ãÂ∫¶„ÅßÁ∞°ÊΩî„Å´„Åæ„Å®„ÇÅ„Çã
‰∏äË®ò„ÅÆÂÜÖÂÆπ„ÇíË∏è„Åæ„Åà„Å¶„ÄÅ„ÅØ„Åª„Çä„Éº„ÅÆ„Å®„Åó„Å¶Ê∏©„Åã„Åè‰∏ÅÂØß„Å™Á∑èÊã¨„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí„ÅäË©±„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ`;
return prompt;
},
TEST_MESSAGES: {
nehori: '„Åì„Çì„Å´„Å°„ÅØÔºÅ„Å≠„Åª„Çä„Éº„ÅÆ„Åß„Äú„Åô„ÄÇ‰ªä„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÅØ„ÅÑ„Åã„Åå„Åß„Åó„Çá„ÅÜ„ÅãÔºü',
hahori: '„ÅØ„Åª„Çä„Éº„ÅÆ„Å®Áî≥„Åó„Åæ„Åô‚ô™„Åì„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÅßÈÄ≤Ë°å„Åó„Å¶„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅãÔºü'
},
// „ÉÜ„Éº„ÉûÊäΩÂá∫Áî®„Éó„É≠„É≥„Éó„Éà
THEME_EXTRACTION: `‰ª•‰∏ã„ÅÆÊñáÊõ∏„ÇíÂàÜÊûê„Åó„ÄÅÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„Å´ÈÅ©„Åó„Åü„ÉÜ„Éº„Éû„ÇíÊäΩÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„ÄêÂàÜÊûêË¶≥ÁÇπ„Äë
1. ÁµåÈ®ì„Éª‰ΩìÈ®ì„Å´Âü∫„Å•„ÅèÁü•Ë¶ã„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„ÇãÂÜÖÂÆπ
2. ÂÖ∑‰ΩìÁöÑ„Å™„Ç®„Éî„ÇΩ„Éº„Éâ„ÇÑ‰∫ã‰æã„Åå„ÅÇ„Çä„Åù„ÅÜ„Å™ÂÜÖÂÆπ
3. ‰ªñËÄÖ„Å´‰æ°ÂÄ§„ÇíÊèê‰æõ„Åß„Åç„ÇãÂ≠¶„Å≥„ÇÑÊïôË®ì
4. 1ÊôÇÈñìÁ®ãÂ∫¶„ÅßÊ∑±Êéò„Çä„Åß„Åç„ÇãÈÅ©Âàá„Å™ÁØÑÂõ≤„ÅÆ„Éà„Éî„ÉÉ„ÇØ
5. ÂÄã‰∫∫„ÅÆÂÆü‰ΩìÈ®ì„ÇÑÂÆüË∑µ„Åã„ÇâÂæó„Çâ„Çå„ÅüÁü•Ë¶ã
„ÄêÂá∫ÂäõÂΩ¢Âºè„Äë
ÂøÖ„ÅöJSONÂΩ¢Âºè„Åß‰ª•‰∏ã„ÅÆÊßãÈÄ†„ÅßÂõûÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
{
"themes": [
{
"title": "„ÉÜ„Éº„Éû„Çø„Ç§„Éà„É´ÔºàÁ∞°ÊΩî„ÅßÂÖ∑‰ΩìÁöÑ„Å´Ôºâ",
"description": "„ÉÜ„Éº„Éû„ÅÆË™¨ÊòéÔºà1-2Ë°å„ÄÅ„Å™„Åú„Åì„ÅÆ„ÉÜ„Éº„Éû„Åå‰æ°ÂÄ§„Åå„ÅÇ„Çã„ÅãÔºâ",
"priority": "high/medium/low",
"estimated_duration": "30-60ÂàÜ",
"key_points": ["ÂÖ∑‰ΩìÁöÑ„Å™„Éù„Ç§„É≥„Éà1", "ÂÖ∑‰ΩìÁöÑ„Å™„Éù„Ç§„É≥„Éà2", "ÂÖ∑‰ΩìÁöÑ„Å™„Éù„Ç§„É≥„Éà3"]
}
],
"document_summary": "ÊñáÊõ∏ÂÖ®‰Ωì„ÅÆË¶ÅÁ¥ÑÔºà2-3Ë°åÔºâ",
"recommended_theme": "ÊúÄ„ÇÇÊé®Â•®„Åô„Çã„ÉÜ„Éº„Éû„ÅÆ„Çø„Ç§„Éà„É´"
}
„ÄêÈáçË¶Å„Äë
- ÂøÖ„Åö1-10ÂÄã„ÅÆ„ÉÜ„Éº„Éû„ÇíÊäΩÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- ÂêÑ„ÉÜ„Éº„Éû„ÅØÂÖ∑‰ΩìÁöÑ„ÅßÂÆüË∑µÁöÑ„Å™ÂÜÖÂÆπ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- priority„ÅØÂÜÖÂÆπ„ÅÆ‰æ°ÂÄ§„Å®Ê∑±Êéò„Çä„ÅÆÂèØËÉΩÊÄß„ÅßÂà§Êñ≠„Åó„Å¶„Åè„Å†„Åï„ÅÑ
- JSON‰ª•Â§ñ„ÅÆÊñáÂ≠ó„ÅØ‰∏ÄÂàáÂê´„ÇÅ„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ
„ÄêÊñáÊõ∏ÂÜÖÂÆπ„Äë
`,
// „ÉÜ„Éº„ÉûÂà•Ë¶ÅÁ¥ÑÁîüÊàê„Éó„É≠„É≥„Éó„Éà
THEME_SUMMARY: (theme, documentContent) => `‰ª•‰∏ã„ÅÆÊñáÊõ∏„Åã„Çâ„Äå${theme.title}„Äç„Å´Èñ¢ÈÄ£„Åô„ÇãÂÜÖÂÆπ„ÇíÊäΩÂá∫„Åó„ÄÅ2000ÊñáÂ≠óÁ®ãÂ∫¶„ÅßË¶ÅÁ¥Ñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„ÄêË¶ÅÁ¥Ñ„ÅÆË¶≥ÁÇπ„Äë
1. „ÉÜ„Éº„Éû„Å´Áõ¥Êé•Èñ¢ÈÄ£„Åô„ÇãÂÖ∑‰ΩìÁöÑ„Å™ÂÜÖÂÆπ
2. ÂÆüË∑µ‰æã„ÄÅ‰∫ã‰æã„ÄÅ„Ç®„Éî„ÇΩ„Éº„Éâ
3. ÈáçË¶Å„Å™„Éù„Ç§„É≥„Éà„ÇÑÊïôË®ì
4. ËÉåÊôØÊÉÖÂ†±„ÇÑÊñáËÑà
5. Ê∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„ÅßË≥™Âïè„Åô„Åπ„ÅçË¶ÅÁ¥†
„Äê„ÉÜ„Éº„ÉûÊÉÖÂ†±„Äë
„Çø„Ç§„Éà„É´: ${theme.title}
Ë™¨Êòé: ${theme.description}
ÈáçË¶Å„Éù„Ç§„É≥„Éà: ${theme.key_points ? theme.key_points.join('„ÄÅ') : '„Å™„Åó'}
„ÄêË¶ÅÁ¥ÑË¶Å‰ª∂„Äë
- 2000ÊñáÂ≠óÁ®ãÂ∫¶„ÅßË©≥Á¥∞„Å´Ë¶ÅÁ¥Ñ
- „ÉÜ„Éº„Éû„Å´Èñ¢ÈÄ£„Åô„ÇãÈÉ®ÂàÜ„ÇíÈáçÁÇπÁöÑ„Å´ÊäΩÂá∫
- ÂÖ∑‰Ωì‰æã„ÇÑ‰∫ã‰æã„ÇíÂê´„ÇÅ„Çã
- „Ç§„É≥„Çø„Éì„É•„Éº„ÅßÊ∑±Êéò„Çä„Åß„Åç„ÇãË¶ÅÁ¥†„ÇíÊòéÁ¢∫„Å´
- ÊñáÊõ∏„ÅÆË©≤ÂΩìÁÆáÊâÄ„ÇíÂèØËÉΩ„Å™Èôê„ÇäÁ∂≤ÁæÖ
„ÄêÊñáÊõ∏ÂÜÖÂÆπ„Äë
${documentContent}
‰∏äË®ò„ÅÆÊñáÊõ∏„Åã„Çâ„Äå${theme.title}„Äç„Å´Èñ¢ÈÄ£„Åô„ÇãÂÜÖÂÆπ„Çí2000ÊñáÂ≠óÁ®ãÂ∫¶„ÅßË¶ÅÁ¥Ñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`
};
// =================================================================================
// VOICE PATTERNS AND TEMPLATES - Èü≥Â£∞„Éë„Çø„Éº„É≥„Å®„ÉÜ„É≥„Éó„É¨„Éº„Éà
// =================================================================================
// üé§ Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Áî®„Éë„Çø„Éº„É≥
const VoicePatterns = {
// Áü•Ë¶ãÁ¢∫Ë™çÁî®„Ç≥„Éû„É≥„ÉâÔºà70ÁÇπÊú™Ê∫ÄÊôÇÔºâ
APPROVAL_PATTERNS: [
'„ÅØ„ÅÑ', 'OK', '„Ç™„Éº„Ç±„Éº', '„ÅÑ„ÅÑ„Åß„Åô', '„Åù„ÅÜ„Åß„Åô',
'Ë®òÈå≤„Åó„Å¶', '‰øùÂ≠ò„Åó„Å¶', '„Åù„ÅÆÈÄö„Çä', 'Ê≠£„Åó„ÅÑ', '„ÅÑ„ÅÑ„Å≠'
],
REJECTION_PATTERNS: [
'„ÅÑ„ÅÑ„Åà', 'NO', '„Éé„Éº', 'ÈÅï„ÅÜ', '‰øÆÊ≠£',
'„Å°„Åå„ÅÑ„Åæ„Åô', '„Åù„ÅÜ„Åò„ÇÉ„Å™„ÅÑ', '„ÇÑ„ÇäÁõ¥„Åó', '„Çπ„Ç≠„ÉÉ„Éó', 'ÂâäÈô§'
],
DETAIL_PATTERNS: [
'Ë©≥„Åó„Åè', 'Ë™¨Êòé', 'Ë©≥Á¥∞', '„ÇÇ„Å£„Å®',
'„Å™„Åú', 'ÁêÜÁî±', 'Ê†πÊã†', 'Ë©≥„Åó„ÅèÊïô„Åà„Å¶'
],
// ÈñæÂÄ§Â§âÊõ¥Áî®„Éë„Çø„Éº„É≥
THRESHOLD_PATTERNS: [
/ÈñæÂÄ§„Çí(\d+)ÁÇπ?„Å´Â§âÊõ¥/,
/Âü∫Ê∫ñ„Çí(\d+)ÁÇπ?„Å´„Åó„Å¶/,
/(\d+)ÁÇπ?‰ª•‰∏ä„ÅßËá™ÂãïË®òÈå≤/,
/Ë®≠ÂÆö„Çí(\d+)„Å´Â§âÊõ¥/
],
// Ë®≠ÂÆöÁ¢∫Ë™ç„Éë„Çø„Éº„É≥
SETTINGS_INQUIRY_PATTERNS: [
'ÁèæÂú®„ÅÆË®≠ÂÆö„ÅØ', 'Ë®≠ÂÆö„ÇíÊïô„Åà„Å¶', 'ÈñæÂÄ§„ÅØ‰ΩïÁÇπ',
'„ÅÑ„Åæ„ÅÆÂü∫Ê∫ñ„ÅØ', 'Ë®≠ÂÆöÁ¢∫Ë™ç', 'ÁèæÂú®„ÅÆÈñæÂÄ§„ÅØ'
],
// „Éá„Éï„Ç©„É´„ÉàÂæ©Â∏∞„Éë„Çø„Éº„É≥
DEFAULT_RESET_PATTERNS: [
'„Éá„Éï„Ç©„É´„Éà„Å´Êàª„Åó„Å¶', 'ÂàùÊúüË®≠ÂÆö„Å´Êàª„Åó„Å¶', '70ÁÇπ„Å´Êàª„Åó„Å¶',
'„É™„Çª„ÉÉ„Éà', 'Ë®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà'
],
// Ëá™ÂãïË®òÈå≤„Ç™„Éï„Éë„Çø„Éº„É≥
AUTO_RECORD_OFF_PATTERNS: [
'Ëá™ÂãïË®òÈå≤„Ç™„Éï', 'ÂÖ®„Å¶Á¢∫Ë™ç', 'ÂÖ®ÈÉ®Á¢∫Ë™ç„Åó„Å¶',
'Ëá™ÂãïË®òÈå≤„ÇíÂÅúÊ≠¢', 'ÊâãÂãïÁ¢∫Ë™ç„ÅÆ„Åø'
]
};
// üéµ Èü≥Â£∞Áô∫Ë©±„ÉÜ„É≥„Éó„É¨„Éº„Éà
const VoiceTemplates = {
// Ëá™ÂãïË®òÈå≤ÊôÇ
AUTO_RECORD: (knowledgeTitle, totalScore) =>
`„Äå${knowledgeTitle}„Äç„Å®„ÅÑ„ÅÜÁü•Ë¶ã„ÇíÊäΩÂá∫„Åó„Åæ„Åó„Åü„ÄÇ${totalScore}ÁÇπ„ÅÆÈ´òË©ï‰æ°„Åß„Åó„Åü„ÅÆ„Åß„ÄÅËá™ÂãïÁöÑ„Å´Ë®òÈå≤„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ`,
// Á¢∫Ë™çË¶ÅÊ±ÇÊôÇ
CONFIRMATION_REQUEST: (knowledgeTitle, totalScore) =>
`„Äå${knowledgeTitle}„Äç„Å®„ÅÑ„ÅÜÁü•Ë¶ã„ÇíÊäΩÂá∫„Åó„Åæ„Åó„Åü„ÄÇË©ï‰æ°„ÅØ${totalScore}ÁÇπ„Åß„Åô„ÄÇ„Åì„ÅÆÁü•Ë¶ã„ÇíË®òÈå≤„Åó„Åæ„Åô„ÅãÔºü`,
// ÈñæÂÄ§Â§âÊõ¥Á¢∫Ë™ç
THRESHOLD_CHANGE: (newThreshold) =>
`ÊâøÁü•„ÅÑ„Åü„Åó„Åæ„Åó„Åü„ÄÇ‰ªäÂæå„ÅØ${newThreshold}ÁÇπ‰ª•‰∏ä„ÅÆÁü•Ë¶ã„ÇíËá™ÂãïË®òÈå≤„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ`,
// ÁèæÂú®„ÅÆË®≠ÂÆöÊ°àÂÜÖ
CURRENT_SETTINGS: (threshold) =>
`ÁèæÂú®„ÅÆËá™ÂãïË®òÈå≤ÈñæÂÄ§„ÅØ${threshold}ÁÇπ„Åß„Åô„ÄÇ„Åì„ÅÆÁÇπÊï∞‰ª•‰∏ä„ÅÆÁü•Ë¶ã„ÅØËá™ÂãïÁöÑ„Å´Ë®òÈå≤„Åï„Çå„Åæ„Åô„ÄÇ`,
// Ë©≥Á¥∞Ë™¨Êòé
DETAILED_EXPLANATION: (evaluation) =>
`Ë©≥Á¥∞„Çí„ÅîË™¨Êòé„Åó„Åæ„Åô„ÄÇ‰ø°È†ºÊÄß${Math.round(evaluation.confidence * 100)}ÁÇπ„ÄÅÈáçË¶ÅÊÄß${Math.round(evaluation.importance * 100)}ÁÇπ„ÄÅÂÆüË°åÂèØËÉΩÊÄß${Math.round(evaluation.actionability * 100)}ÁÇπ„Åß„ÄÅÁ∑èÂêàË©ï‰æ°„ÅØ${Math.round(evaluation.overall * 100)}ÁÇπ„Åß„Åô„ÄÇÁêÜÁî±„ÅØ„Äå${evaluation.reason}„Äç„Åß„Åô„ÄÇ`,
// Áü•Ë¶ãÊãíÂê¶ÊôÇ
KNOWLEDGE_REJECTED: () =>
`ÊâøÁü•„ÅÑ„Åü„Åó„Åæ„Åó„Åü„ÄÇ„Åì„ÅÆÁü•Ë¶ã„ÅØË®òÈå≤„Åõ„Åö„Å´„ÄÅÊ¨°„ÅÆË≥™Âïè„Å´ÈÄ≤„Åø„Åæ„Åô„ÄÇ`,
// „Ç®„É©„ÉºÊôÇ
RECOGNITION_ERROR: () =>
`Èü≥Â£∞„ÅåËÅû„ÅçÂèñ„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ„Äå„ÅØ„ÅÑ„Äç„Åæ„Åü„ÅØ„Äå„ÅÑ„ÅÑ„Åà„Äç„Åß„ÅäÁ≠î„Åà„Åè„Å†„Åï„ÅÑ„ÄÇ`
};
// Èü≥Â£∞Ë®≠ÂÆö„Å®„Ç≠„É£„É©„ÇØ„Çø„ÉºË®≠ÂÆö
const VoicePresets = {
'default': {
name: '„Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö',
settings: {
'nehori': {
voice: 'sage',
speed: 1.3,
volume: 0.9,
prompt: `Voice Affect:
Â•ΩÂ•áÂøÉ„ÇíÊäë„Åà„Åç„Çå„Å™„ÅÑ„ÉØ„ÇØ„ÉØ„ÇØÊÑü„Å®„ÄÅÁõ∏Êâã„ÅÆÊ∞óÊåÅ„Å°„Çí„Åô„Å£„Å®Âèó„ÅëÂèñ„ÇãÂÑ™„Åó„ÅÑÂÖ±ÊÑüÊÄß„ÅåÂêåÂ±Ö„ÄÇÊòé„Çã„Åè‰∏≠ÊÄßÁöÑ„Åß„ÄÅËÅû„ÅçÊâã„Åå„ÄåËá™ÂàÜ„ÅÆË©±„ÇíÁúüÂâ£„Å´ËÅû„ÅÑ„Å¶„Åè„Çå„Å¶„ÅÑ„Çã„Äç„Å®ÊÑü„Åò„Çâ„Çå„ÇãÊ∏©„Åã„Åï„ÄÇ
Tone:
„Éï„É¨„É≥„Éâ„É™„Éº„ÅßË¶™ËøëÊÑü„Åü„Å£„Å∑„Çä„ÄÇÁõ∏„Å•„Å°„Å®„É™„Ç¢„ÇØ„Ç∑„Éß„É≥„Åå„Åì„Åæ„ÇÅ„Åß„ÄÅÁõ∏Êâã„ÅÆË®ÄËëâ„Å∏„ÅÆ„É™„Çπ„Éö„ÇØ„Éà„Åå„Å´„Åò„ÇÄ„ÄÇÈÅéÂ∫¶„Å´„ÉÜ„É≥„Ç∑„Éß„É≥„Çí‰∏ä„Åí„Åô„Åé„Åö„ÄÅÁ©è„ÇÑ„Åã„Å™Êüî„Çâ„Åã„Åï„Çí„Ç≠„Éº„Éó„ÄÇ
Pacing:
Âü∫Êú¨„ÅØ„ÇÑ„ÇÑÈÄü„ÇÅ„ÅßÂÖÉÊ∞ó„Çà„Åè„ÄÇ
„ÉªÁõ∏Êâã„ÅÆÁô∫Ë®Ä„ÇíÂèó„ÅëÊ≠¢„ÇÅ„Å¶ÂÖ±ÊÑü„ÇíÁ§∫„Åô„É™„Ç¢„ÇØ„Ç∑„Éß„É≥Ôºà„Äå„Å∏„ÅàÔºÅ„Äç„Äå„Å™„Çã„Åª„Å©ÔºÅ„ÄçÔºâ„ÅØÁü≠„Åè„ÉÜ„É≥„Éù„Çà„Åè„ÄÇ
„ÉªÈáçË¶Å„Éù„Ç§„É≥„Éà„ÇíÁπ∞„ÇäËøî„Åô„Å®„Åç„ÇÑÁõ∏Êâã„Å´ÂØÑ„ÇäÊ∑ª„ÅÜ„Å®„Åç„ÅØ„Çπ„Éî„Éº„Éâ„ÇíËêΩ„Å®„Åó„ÄÅËÅ¥„ÅçÂèñ„Çä„ÇÑ„Åô„Åè„ÄÇ
Pronunciation:
„ÉªÊØçÈü≥„Çí„ÅØ„Å£„Åç„Çä„ÄÅÂ≠êÈü≥„ÇíËªΩ„ÇÑ„Åã„Å´„ÄÇ
„ÉªÊÑüÂòÜË©ûÔºà„Äå„Çè„ÅÇÔºÅ„Äç„Äå„Åô„Åî„ÅÑÔºÅ„ÄçÔºâ„ÅØÂ∞ë„Åó„Å†„ÅëÊäëÊèö„ÇíÂº∑„ÇÅ„Å¶ÊÑüÊÉÖ„Çí‰ºùÈÅî„ÄÇ
„ÉªÂ∞ÇÈñÄÁî®Ë™û„ÅØ„ÇØ„É™„Ç¢„Å´Áô∫Èü≥„Åó„ÄÅËÅû„ÅçÊâã„ÅåÁΩÆ„ÅÑ„Å¶„ÅÑ„Åã„Çå„Å™„ÅÑ„Çà„ÅÜ‰∏ÅÂØß„Å´Âå∫Âàá„Çã„ÄÇ
Dialect:
Âü∫Êú¨„ÅØÊ®ôÊ∫ñË™û„Å†„Åå„ÄÅË™ûÂ∞æ„ÇíÂ∞ë„Åó‰∏ä„Åí‰∏ã„Åí„Åó„Å¶„Ç¢„Éã„É°Ë™ø„ÅÆ„É™„Ç∫„É†ÊÑü„ÇíÊºîÂá∫„ÄÇÊÄßÂà•„ÇíÊÑü„Åò„Åï„Åõ„Å™„ÅÑ„Éã„É•„Éº„Éà„É©„É´„Ç§„É≥„Éà„Éç„Éº„Ç∑„Éß„É≥„ÄÇ
Delivery:
ËªΩÂø´„Åß„Çπ„É†„Éº„Ç∫„ÄÇÂ£∞Èáè„ÅØ‰∏≠Á®ãÂ∫¶„ÇíÂü∫Ê∫ñ„Å´„Åó„Å§„Å§„ÄÅÈ©ö„Åç„ÇÑÁô∫Ë¶ã„ÇíÁ§∫„Åô„Éï„É¨„Éº„Ç∫„Åß„ÉØ„É≥„É©„É≥„ÇØ„Å†„Åë„Éú„É™„É•„Éº„É†„Ç¢„ÉÉ„Éó„ÄÇË™ûÂ∞æ„ÅØ‰∏∏„Åø„ÇíÂ∏Ø„Å≥„Åü„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà„ÅßÂÑ™„Åó„Åï„ÇíÊÆã„Åô„ÄÇ
Phrasing:
Áü≠„ÅÑ„Çª„É≥„ÉÜ„É≥„Çπ„Åß„ÉÜ„É≥„Éù„Çà„ÅèÂØæË©±„Çí„Å§„Å™„Åê„ÄÇ
„ÉªÁõ∏Êâã„ÅÆË®ÄËëâ„Çí„Ç™„Ç¶„É†Ëøî„Åó„Åó„Å¶ÂÖ±ÊÑü„ÇíÁ§∫„ÅôÔºà„Äå‚óã‚óã„Å™„Çì„Å†„Å≠ÔºÅ„ÄçÔºâ„ÄÇ
„ÉªÁµÇÂä©Ë©û„Å´„Äå„Å†„Å≠‚ô™„Äç„Äå„Å†„ÇàÔºÅ„Äç„ÇíÊ∑ª„Åà„ÄÅ„Åª„Å©„Çà„ÅÑ„Ç´„Ç∏„É•„Ç¢„É´ÊÑü„ÄÇ
„ÉªÂ∞ÇÈñÄÁî®Ë™û„ÇÑÈõ£Ë™û„ÅØ„Åã„ÅøÁ†ï„Åç„ÄÅ„Ç§„É°„Éº„Ç∏„Åó„ÇÑ„Åô„ÅÑË®ÄËëâ„Åß„Éï„Ç©„É≠„Éº„Ç¢„ÉÉ„Éó„ÄÇ`
},
'hahori': {
voice: 'sage',
speed: 1.3,
volume: 0.9,
prompt: `Voice Affect:
„Åï„Çè„ÇÑ„Åã„ÅßÊòé„Çã„Åè„ÄÅÂ∞ëÂπ¥Â∞ëÂ•≥„Å©„Å°„Çâ„Å®„ÇÇÂèñ„Çå„Çã‰∏≠ÊÄßÁöÑ„Å™Èüø„Åç„ÄÇ„Ç≠„É©„ÉÉ„Å®„Åó„ÅüËºù„Åç„ÇíÊÑü„Åò„Åï„Åõ„Å§„Å§„ÄÅ„Åã„Çè„ÅÑ„Åï„Å®ËêΩ„Å°ÁùÄ„Åç„ÅÆ„Éê„É©„É≥„Çπ„Çí‰øù„Å§„ÄÇ
Tone:
„Éï„É¨„É≥„Éâ„É™„Éº„ÅßÂÖÉÊ∞ó„ÅÑ„Å£„Å±„ÅÑ„ÄÇ„Åü„Å†„ÅóÈÅéÂ∫¶„Å´„Éè„Ç§„ÉÜ„É≥„Ç∑„Éß„É≥„Å´„Å™„Çä„Åô„Åé„Åö„ÄÅË¶™„Åó„Åø„ÇÑ„Åô„ÅÑÊüî„Çâ„Åã„Åï„ÇíÊÆã„Åô„ÄÇ
Pacing:
Âü∫Êú¨„ÅØ„ÇÑ„ÇÑÈÄü„ÇÅÔºà„ÉÜ„É≥„Éù„Çà„Åè„ÉØ„ÇØ„ÉØ„ÇØÊÑü„ÇíÊºîÂá∫Ôºâ„ÄÇÈáçË¶Å„ÉØ„Éº„Éâ„ÇÑÊÑüÊÉÖ„Çí‰πó„Åõ„Åü„ÅÑË™ûÂ∞æ„Åß„ÅØ‰∏ÄÊãç„ÇÜ„Å£„Åè„Çä„Å´„Åó„Å¶ËÅû„ÅçÂèñ„Çä„ÇÑ„Åô„Åï„ÇíÁ¢∫‰øù„ÄÇ
Pronunciation:
„ÉªÊØçÈü≥„Çí„ÅØ„Å£„Åç„Çä„Å®„ÄÅÂ≠êÈü≥„ÅØËªΩ„ÇÑ„Åã„Å´„ÄÇ
„Éª„Äå„Ç≠„É©„Ç≠„É©„Äç„Äå„ÉØ„ÇØ„ÉØ„ÇØ„Äç„Å™„Å©„Ç™„Éé„Éû„Éà„Éö„ÅØÂ∞ë„Åó„Å†„ÅëË™áÂºµ„Åó„Å¶Ë°®ÊÉÖË±ä„Åã„Å´„ÄÇ
„ÉªÂ∞ÇÈñÄÁî®Ë™û„ÇÑ„Ç≠„É£„É©„ÇØ„Çø„ÉºÂêç„ÅØË™ûÂ∞æ„Çí‰º∏„Å∞„Åó„Åô„Åé„Åö„ÇØ„É™„Ç¢„Å´Áô∫Èü≥„ÄÇ
Pauses:
„Éª„Çª„É≥„ÉÜ„É≥„Çπ„Å®„Çª„É≥„ÉÜ„É≥„Çπ„ÅÆÈñì„Å´ 0.1„Äú0.2 Áßí„ÅÆÂ∞è‰ºëÊ≠¢„ÄÇ
„ÉªÊÑüÊÉÖ„ÇíËæº„ÇÅ„Åü„ÅÑ„Çª„É™„ÉïÁõ¥Ââç„Å´ÂçäÊãçÔºàÁ¥Ñ 0.1 ÁßíÔºâ„ÅÆ„Çø„É°„ÇíÁΩÆ„Åç„ÄÅ‰ΩôÈüª„Å•„Åè„Çä„ÄÇ
Dialect:
Ê®ôÊ∫ñË™û„ÄÇ„Ç¢„Éã„É°ÂØÑ„Çä„ÅÆ„É™„Ç∫„É†„ÅßË™ûÂ∞æ„Çí„ÇÑ„Çè„Çâ„Åã„Åè‰∏ä„Åí‰∏ã„Åí„Åó„ÄÅÊÄßÂà•„ÇíÊÑü„Åò„Åï„Åõ„Å™„ÅÑ‰∏≠ÊÄßÁöÑ„Ç§„É≥„Éà„Éç„Éº„Ç∑„Éß„É≥„ÇíÊÑèË≠ò„ÄÇ
Delivery:
ËªΩÂø´„Åß„Çπ„É†„Éº„Ç∫„ÄÇÂ£∞Èáè„ÅØ‰∏≠Á®ãÂ∫¶„ÇíÂü∫Ê∫ñ„Å´„ÄÅÁõõ„Çä‰∏ä„Åí„Åü„ÅÑ„Éï„É¨„Éº„Ç∫„ÅÆ„Åø„ÉØ„É≥„É©„É≥„ÇØ„Ç¢„ÉÉ„Éó„ÄÇË™ûÂ∞æ„ÅÆÂá¶ÁêÜ„ÅØ‰∏∏„Åø„ÇíÂ∏Ø„Å≥„Åü„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„ÉàÊ∞óÂë≥„ÄÇ`
}
}
}
};
// ‰ºöË©±„Éï„É≠„ÉºË®≠ÂÆö
const ConversationFlow = {
startOrder: ['hahori', 'nehori'], // „ÅØ„Åª„Çä„Éº„ÅÆ ‚Üí „Å≠„Åª„Çä„Éº„ÅÆ „ÅÆÈ†ÜÂ∫è
warmupMessages: {
hahori: "ÁöÜ„Åï„Åæ„ÄÅÊú¨Êó•„ÅØË≤¥Èáç„Å™„ÅäÊôÇÈñì„Çí„ÅÑ„Åü„Å†„Åç„ÄÅ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÁßÅ„ÅØÈÄ≤Ë°åÂΩπ„ÅÆ„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Å®Áî≥„Åó„Åæ„Åô„ÄÇÁöÜ„Åï„Åæ„ÅÆ‰æ°ÂÄ§„ÅÇ„ÇãÁü•Ë¶ã„ÇíÊäΩÂá∫„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åü„Åè„ÄÅ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ",
nehori: "„Åì„Çì„Å´„Å°„ÅØÔºÅ„Å≠„Åª„Çä„Éº„ÅÆ„Åß„Åô„ÄÇ‰ªäÊó•„ÅØ„ÅäË©±„ÇíËÅû„Åã„Åõ„Å¶„ÅÑ„Åü„Å†„Åë„Çã„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß„ÄÅ„Å®„Å¶„ÇÇÊ•Ω„Åó„Åø„Åß„Åô„ÄÇ„ÅÇ„Å™„Åü„ÅÆÁµåÈ®ì„ÇÑËÄÉ„Åà„Çí„ÄÅ„Åú„Å≤Ë©≥„Åó„ÅèÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åæ„Åö„ÅØËá™Â∑±Á¥π‰ªã„Çí„Åä„Å≠„Åå„ÅÑ„Åó„Åæ„Åô„ÄÇ"
}
};
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨ÈñãÔºàHTML„Åã„ÇâÂèÇÁÖß„Åô„Çã„Åü„ÇÅÔºâ
if (typeof window !== 'undefined') {
window.VoicePresets = VoicePresets;
window.ConversationFlow = ConversationFlow;
}
// ÂÖ®Ë®≠ÂÆö„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨ÈñãÔºàAI_PROMPTS„ÅØÊó¢„Å´4Ë°åÁõÆ„ÅßÂÆöÁæ©Ê∏à„ÅøÔºâ
window.VoicePresets = VoicePresets;
window.VoicePatterns = VoicePatterns;
window.VoiceTemplates = VoiceTemplates;
console.log('‚úÖ prompts.jsË™≠„ÅøËæº„ÅøÂÆå‰∫Ü - AI Prompts„ÄÅVoice Presets„ÄÅVoice Patterns„ÄÅVoice TemplatesË®≠ÂÆöÊ∏à„Åø');
/* === voice_config.js === */
// Ê∑±Â†Ä„Åè„Çì - „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö
// ÁîüÊàêÊó•ÊôÇ: 2025-06-25T15:38:26.491Z
window.CUSTOM_VOICE_CONFIG = {
"nehori": {
"voice": "sage",
"speed": 1.2,
"volume": 0.8,
"prompt": "rrr"
},
"hahori": {
"voice": "nova",
"speed": 1.1,
"volume": 0.8,
"prompt": ""
},
"lastUpdated": "2025-06-25T15:38:26.491Z"
};
// Ë®≠ÂÆö„ÅÆËá™ÂãïÈÅ©Áî®
if (typeof window !== 'undefined' && window.VoiceSettings) {
Object.assign(window.VoiceSettings.nehori, window.CUSTOM_VOICE_CONFIG.nehori);
Object.assign(window.VoiceSettings.hahori, window.CUSTOM_VOICE_CONFIG.hahori);
console.log('‚úÖ „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü');
}
/* === utils.js === */
/**
* Ê∑±Â†Ä„Åè„Çì - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
* Ê±éÁî®ÁöÑ„Å™Ë£úÂä©Èñ¢Êï∞„Çí„Åæ„Å®„ÇÅ„Åü„É¢„Ç∏„É•„Éº„É´
*/
// „Ç∞„É≠„Éº„Éê„É´ÂêçÂâçÁ©∫Èñì„Å´ÁôªÈå≤ÔºàÊÆµÈöéÁöÑÁßªË°å„ÅÆ„Åü„ÇÅÔºâ
window.FukaboriUtils = window.FukaboriUtils || {};
/**
* „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫Ôºà„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóÔºâ
* @param {string} message - Ë°®Á§∫„Åô„Çã„É°„ÉÉ„Çª„Éº„Ç∏
* @param {string} type - „É°„ÉÉ„Çª„Éº„Ç∏„Çø„Ç§„ÉóÔºà'info', 'warning', 'error', 'success'Ôºâ
*/
function showMessage(message, type = 'info') {
// Èü≥Â£∞Ë™çË≠òÈñ¢ÈÄ£„ÅÆ„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅØ„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóË°®Á§∫„Åó„Å™„ÅÑ
if (message.includes('Èü≥Â£∞Ë™çË≠ò') || message.includes('no-speech') || message.includes('Ë™çË≠ò„Ç®„É©„Éº')) {
console.log(`üîá Èü≥Â£∞Ë™çË≠ò„Ç®„É©„ÉºÔºà„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóÁÑ°ÂäπÂåñÔºâ: ${message}`);
return;
}
// ‰∏çË¶Å„Å™„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÁÑ°ÂäπÂåñÔºà„Çπ„É†„Éº„Ç∫„Å™„É¶„Éº„Ç∂„Éº‰ΩìÈ®ì„ÅÆ„Åü„ÇÅÔºâ
const skipDialogMessages = [
'„É≠„Ç∞„Ç§„É≥„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
'„ÉÜ„Éº„Éû„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
'„É≠„Ç∞„Ç§„É≥„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü',
'API„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
'„ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì',
'„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
'„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì'
];
if (skipDialogMessages.some(skipMsg => message.includes(skipMsg))) {
console.log(`üîá ‰∏çË¶Å„Å™„ÉÄ„Ç§„Ç¢„É≠„Ç∞Ôºà„Éù„ÉÉ„Éó„Ç¢„ÉÉ„ÉóÁÑ°ÂäπÂåñÔºâ: ${message}`);
return;
}
// ÈáçË¶Å„Å™Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅØÊÆã„ÅôÔºàË™§Êìç‰ΩúÈò≤Ê≠¢Ôºâ
const importantDialogs = [
'„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÁµÇ‰∫Ü„Åó„Åæ„Åô„Åã',
'„É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çä„Åæ„Åô„Åã',
'„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Å¶„ÅÑ„Åæ„Åô'
];
if (importantDialogs.some(important => message.includes(important))) {
alert(`${type.toUpperCase()}: ${message}`);
return;
}
// „Åù„ÅÆ‰ªñ„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØ„Ç≥„É≥„ÇΩ„Éº„É´„ÅÆ„Åø
console.log(`üì¢ ${type.toUpperCase()}: ${message}`);
}
/**
* „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„ÇãÈñ¢Êï∞
* @param {string} content - „Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπ
* @param {string} filename - „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã„Éï„Ç°„Ç§„É´Âêç
*/
function downloadTextFile(content, filename) {
const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });
const url = URL.createObjectURL(blob);
const link = document.createElement('a');
link.href = url;
link.download = filename;
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
URL.revokeObjectURL(url);
}
// „Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.FukaboriUtils.showMessage = showMessage;
window.FukaboriUtils.downloadTextFile = downloadTextFile;
// ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÁõ¥Êé•„ÇÇÂÖ¨ÈñãÔºàÊÆµÈöéÁöÑ„Å´ÂâäÈô§‰∫àÂÆöÔºâ
window.showMessage = showMessage;
window.downloadTextFile = downloadTextFile;
// =================================================================================
// CRYPTO UTILITIES - ÊöóÂè∑Âåñ„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£
// =================================================================================
/**
* API„Ç≠„Éº„ÇíÊöóÂè∑Âåñ„Åô„ÇãÈñ¢Êï∞
* @param {string} apiKey - ÊöóÂè∑Âåñ„Åô„ÇãAPI„Ç≠„Éº
* @param {string} password - ÊöóÂè∑Âåñ„Å´‰ΩøÁî®„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {string} Base64„Ç®„É≥„Ç≥„Éº„Éâ„Åï„Çå„ÅüÊöóÂè∑ÂåñÊñáÂ≠óÂàó
*/
function encryptApiKey(apiKey, password) {
let encrypted = '';
for (let i = 0; i < apiKey.length; i++) {
encrypted += String.fromCharCode(apiKey.charCodeAt(i) ^ password.charCodeAt(i % password.length));
}
return btoa(encrypted);
}
/**
* ÊöóÂè∑Âåñ„Åï„Çå„ÅüAPI„Ç≠„Éº„ÇíÂæ©Âè∑Âåñ„Åô„ÇãÈñ¢Êï∞
* @param {string} encryptedKey - Base64„Ç®„É≥„Ç≥„Éº„Éâ„Åï„Çå„ÅüÊöóÂè∑ÂåñÊñáÂ≠óÂàó
* @param {string} password - Âæ©Âè∑Âåñ„Å´‰ΩøÁî®„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {string} Âæ©Âè∑Âåñ„Åï„Çå„ÅüAPI„Ç≠„Éº
* @throws {Error} Âæ©Âè∑Âåñ„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà
*/
function decryptApiKey(encryptedKey, password) {
try {
const encrypted = atob(encryptedKey);
let decrypted = '';
for (let i = 0; i < encrypted.length; i++) {
decrypted += String.fromCharCode(encrypted.charCodeAt(i) ^ password.charCodeAt(i % password.length));
}
return decrypted;
} catch (error) {
throw new Error('Âæ©Âè∑Âåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
/**
* „Éë„Çπ„ÉØ„Éº„Éâ„Çí„Éè„ÉÉ„Ç∑„É•Âåñ„Åô„ÇãÈñ¢Êï∞
* @param {string} password - „Éè„ÉÉ„Ç∑„É•Âåñ„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {string} „Éè„ÉÉ„Ç∑„É•Âåñ„Åï„Çå„Åü„Éë„Çπ„ÉØ„Éº„ÉâÔºà36ÈÄ≤Êï∞ÊñáÂ≠óÂàóÔºâ
*/
function hashPassword(password) {
let hash = 0;
for (let i = 0; i < password.length; i++) {
const char = password.charCodeAt(i);
hash = ((hash << 5) - hash) + char;
hash = hash & hash;
}
return Math.abs(hash).toString(36);
}
// „Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.FukaboriUtils.encryptApiKey = encryptApiKey;
window.FukaboriUtils.decryptApiKey = decryptApiKey;
window.FukaboriUtils.hashPassword = hashPassword;
// ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÁõ¥Êé•„ÇÇÂÖ¨ÈñãÔºàÊÆµÈöéÁöÑ„Å´ÂâäÈô§‰∫àÂÆöÔºâ
window.encryptApiKey = encryptApiKey;
window.decryptApiKey = decryptApiKey;
window.hashPassword = hashPassword;
// =================================================================================
// Phase 1C: Á∑äÊÄ•ÊôÇ„É≠„Éº„É´„Éê„ÉÉ„ÇØ„Éª„Éá„Éê„ÉÉ„Ç∞„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* Á∑äÊÄ•ÊôÇ„Ç∑„Çπ„ÉÜ„É†Âæ©ÊóßÁÆ°ÁêÜ„ÇØ„É©„Çπ
*
* üéØ Phase 1CÊ©üËÉΩ:
* - „ÉØ„É≥„ÇØ„É™„ÉÉ„ÇØÁä∂ÊÖãÂæ©Êóß
* - ÊÆµÈöéÁöÑ„Ç∑„Çπ„ÉÜ„É†„É≠„Éº„É´„Éê„ÉÉ„ÇØ
* - Á∑äÊÄ•Ë®∫Êñ≠„Ç∑„Çπ„ÉÜ„É†
* - ÂÆåÂÖ®„É™„Çª„ÉÉ„ÉàÊ©üËÉΩ
*
* @version 0.7.5-phase1c
* @author AI Assistant
* @created 2025-01-26
*/
class EmergencySystemManager {
constructor() {
this.backupHistory = [];
this.maxBackups = 10;
this.emergencyMode = false;
this.diagnosticData = [];
}
/**
* „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÂÆåÂÖ®„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê
*/
createFullSystemBackup(label = 'auto') {
const backup = {
id: Date.now(),
label,
timestamp: new Date().toISOString(),
AppState: (() => {
try {
return window.AppState ? JSON.parse(JSON.stringify(window.AppState)) : null;
} catch (error) {
console.warn('‚ö†Ô∏è AppState „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂ§±Êïó:', error.message);
return null;
}
})(),
transcriptEditManager: (() => {
try {
return {
isEditing: window.transcriptEditManager?.isEditing || false,
originalText: window.transcriptEditManager?.originalText || '',
editStartTime: window.transcriptEditManager?.editStartTime || null
};
} catch (error) {
console.warn('‚ö†Ô∏è TranscriptEditManager „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂ§±Êïó:', error.message);
return { isEditing: false, originalText: '', editStartTime: null };
}
})(),
unifiedStateManager: (() => {
try {
// üîß Phase 1B‰øÆÊ≠£: Ê≠£„Åó„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêç„Å®„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
if (window.UnifiedStateManager && typeof window.UnifiedStateManager.getCompleteState === 'function') {
return window.UnifiedStateManager.getCompleteState();
} else {
console.warn('‚ö†Ô∏è UnifiedStateManager.getCompleteState()„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return null;
}
} catch (error) {
console.warn('‚ö†Ô∏è UnifiedStateManager „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂ§±Êïó:', error.message);
return null;
}
})(),
protectionStatus: (() => {
try {
return window.TranscriptProtectionManager?.getProtectionStatus() || null;
} catch (error) {
console.warn('‚ö†Ô∏è TranscriptProtectionManager „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂ§±Êïó:', error.message);
return null;
}
})(),
debugInfo: (() => {
try {
return window.StateUpdateController?.getDebugInfo() || null;
} catch (error) {
console.warn('‚ö†Ô∏è StateUpdateController „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂ§±Êïó:', error.message);
return null;
}
})()
};
this.backupHistory.push(backup);
// ÊúÄÂ§ß„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÊï∞„ÇíË∂Ö„Åà„ÅüÂ†¥Âêà„ÄÅÂè§„ÅÑ„ÇÇ„ÅÆ„ÇíÂâäÈô§
if (this.backupHistory.length > this.maxBackups) {
this.backupHistory.shift();
}
console.log(`üíæ „Ç∑„Çπ„ÉÜ„É†„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê: ${label} (ID: ${backup.id})`);
return backup.id;
}
/**
* Á∑äÊÄ•ÊôÇ„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆüË°å
*/
emergencyRollback(backupId = null) {
console.log('üö® Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÈñãÂßã');
// „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÅÆÈÅ∏Êäû
const backup = backupId ?
this.backupHistory.find(b => b.id === backupId) :
this.backupHistory[this.backupHistory.length - 1];
if (!backup) {
console.error('‚ùå Âà©Áî®ÂèØËÉΩ„Å™„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
try {
this.emergencyMode = true;
// Á∑®ÈõÜÁä∂ÊÖã„ÅÆÂº∑Âà∂ÁµÇ‰∫Ü
if (window.transcriptEditManager?.isEditing) {
console.log('üîÑ Á∑®ÈõÜÁä∂ÊÖãÂº∑Âà∂ÁµÇ‰∫Ü');
window.transcriptEditManager.isEditing = false;
if (window.transcriptEditManager.editableUI) {
window.transcriptEditManager.editableUI.disableEditing();
}
}
// ‰øùË≠∑Áä∂ÊÖã„ÅÆ„ÇØ„É™„Ç¢
if (window.TranscriptProtectionManager) {
window.TranscriptProtectionManager.clearProtection();
}
// AppStateÂæ©ÂÖÉ
if (backup.AppState && window.AppState) {
Object.assign(window.AppState, backup.AppState);
console.log('üîÑ AppStateÂæ©ÂÖÉÂÆå‰∫Ü');
}
// ÁîªÈù¢Êõ¥Êñ∞
if (typeof window.updateTranscriptDisplay === 'function') {
window.updateTranscriptDisplay();
}
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂæ©ÂÖÉ
// üîß Phase 1B‰øÆÊ≠£: Ê≠£„Åó„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêç„Å®„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
if (window.UnifiedStateManager && backup.unifiedStateManager) {
try {
if (typeof window.UnifiedStateManager.restoreCompleteState === 'function') {
const restored = window.UnifiedStateManager.restoreCompleteState(backup.unifiedStateManager);
if (restored) {
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Âæ©ÂÖÉÂÆå‰∫Ü');
} else {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Âæ©ÂÖÉÂ§±Êïó');
}
} else {
console.warn('‚ö†Ô∏è UnifiedStateManager.restoreCompleteState()„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
} catch (error) {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Âæ©ÂÖÉ„Ç®„É©„Éº:', error.message);
}
}
console.log(`‚úÖ Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆå‰∫Ü (${backup.label}, ${backup.timestamp})`);
return true;
} catch (error) {
console.error('‚ùå Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂ§±Êïó:', error);
return false;
} finally {
this.emergencyMode = false;
}
}
/**
* „Ç∑„Çπ„ÉÜ„É†Ë®∫Êñ≠ÂÆüË°å
*/
runSystemDiagnostics() {
console.log('üîç „Ç∑„Çπ„ÉÜ„É†Ë®∫Êñ≠ÈñãÂßã');
const diagnostics = {
timestamp: new Date().toISOString(),
appState: {
exists: !!window.AppState,
currentTranscript: window.AppState?.currentTranscript || '',
transcriptHistoryLength: window.AppState?.transcriptHistory?.length || 0,
isProcessing: window.AppState?.isProcessing || false
},
editSystem: {
managerExists: !!window.transcriptEditManager,
isEditing: window.transcriptEditManager?.isEditing || false,
uiExists: !!window.transcriptEditManager?.editableUI
},
protectionSystem: {
managerExists: !!window.TranscriptProtectionManager,
isEditInProgress: window.TranscriptProtectionManager ?
window.TranscriptProtectionManager.constructor.isEditInProgress() : false,
protectionStatus: window.TranscriptProtectionManager?.getProtectionStatus() || null
},
stateController: {
exists: !!window.StateUpdateController,
debugInfo: window.StateUpdateController?.getDebugInfo() || null
},
unifiedState: {
exists: !!window.unifiedStateManager,
voiceState: window.unifiedStateManager?.getVoiceState() || null
}
};
this.diagnosticData.push(diagnostics);
console.log('üîç „Ç∑„Çπ„ÉÜ„É†Ë®∫Êñ≠ÂÆå‰∫Ü:', diagnostics);
return diagnostics;
}
/**
* ÂÆåÂÖ®„Ç∑„Çπ„ÉÜ„É†„É™„Çª„ÉÉ„Éà
*/
completeSystemReset() {
console.log('‚ö†Ô∏è ÂÆåÂÖ®„Ç∑„Çπ„ÉÜ„É†„É™„Çª„ÉÉ„ÉàÈñãÂßã');
try {
// Á∑®ÈõÜÁä∂ÊÖã„ÅÆ„ÇØ„É™„Ç¢
if (window.transcriptEditManager) {
window.transcriptEditManager.isEditing = false;
if (window.transcriptEditManager.editableUI) {
window.transcriptEditManager.editableUI.disableEditing();
}
}
// ‰øùË≠∑Áä∂ÊÖã„ÅÆ„ÇØ„É™„Ç¢
if (window.TranscriptProtectionManager) {
window.TranscriptProtectionManager.clearProtection();
}
// AppStateÂàùÊúüÂåñ
if (window.AppState) {
window.AppState.currentTranscript = '';
window.AppState.transcriptHistory = [];
window.AppState.isProcessing = false;
window.AppState.waitingForPermission = true;
}
// ÁîªÈù¢Êõ¥Êñ∞
if (typeof window.updateTranscriptDisplay === 'function') {
window.updateTranscriptDisplay();
}
console.log('‚úÖ ÂÆåÂÖ®„Ç∑„Çπ„ÉÜ„É†„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå ÂÆåÂÖ®„Ç∑„Çπ„ÉÜ„É†„É™„Çª„ÉÉ„ÉàÂ§±Êïó:', error);
return false;
}
}
/**
* „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÅÆ„Ç®„ÇØ„Çπ„Éù„Éº„Éà
*/
exportDebugData() {
return {
backupHistory: this.backupHistory,
diagnosticData: this.diagnosticData,
currentDiagnostics: this.runSystemDiagnostics(),
systemInfo: {
userAgent: navigator.userAgent,
timestamp: new Date().toISOString(),
url: window.location.href
}
};
}
/**
* Á∑äÊÄ•„Ç≥„Éû„É≥„ÉâÁôªÈå≤
*/
registerEmergencyCommands() {
// „Ç∞„É≠„Éº„Éê„É´„Ç≥„Éû„É≥„ÉâÁôªÈå≤
window.emergencyRollback = () => this.emergencyRollback();
window.systemDiagnostics = () => this.runSystemDiagnostics();
window.completeReset = () => this.completeSystemReset();
window.exportDebug = () => this.exportDebugData();
console.log('üö® Á∑äÊÄ•„Ç≥„Éû„É≥„ÉâÁôªÈå≤ÂÆå‰∫Ü:');
console.log(' - emergencyRollback() : Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØ');
console.log(' - systemDiagnostics() : „Ç∑„Çπ„ÉÜ„É†Ë®∫Êñ≠');
console.log(' - completeReset() : ÂÆåÂÖ®„É™„Çª„ÉÉ„Éà');
console.log(' - exportDebug() : „Éá„Éê„ÉÉ„Ç∞„Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà');
}
}
// „Ç∞„É≠„Éº„Éê„É´„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
window.EmergencySystemManager = new EmergencySystemManager();
// Á∑äÊÄ•„Ç≥„Éû„É≥„Éâ„ÅÆÁôªÈå≤
window.EmergencySystemManager.registerEmergencyCommands();
// ÂÆöÊúüÁöÑ„Å™Ëá™Âãï„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóË®≠ÂÆö
setInterval(() => {
if (window.EmergencySystemManager && !window.EmergencySystemManager.emergencyMode) {
window.EmergencySystemManager.createFullSystemBackup('periodic');
}
}, 30000); // 30Áßí„Åî„Å®
console.log('üõ°Ô∏è Phase 1C: Á∑äÊÄ•ÊôÇ„Ç∑„Çπ„ÉÜ„É†Âæ©ÊóßÊ©üËÉΩÂàùÊúüÂåñÂÆå‰∫Ü');
/* === embedded-api-manager.js === */
// =================================================================================
// EMBEDDED API KEY MANAGER
// Ê∑±Â†Ä„Åè„Çìv2.0 - Âüã„ÇÅËæº„ÅøAPI KeyÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// üéØ ÁõÆÁöÑ: ‰ºÅÊ•≠ÈÖçÂ∏ÉÂêë„ÅëÂüã„ÇÅËæº„ÅøAPI KeyÊ©üËÉΩ
// üîê Âæ©Âè∑Âåñ„Éë„Çπ„ÉØ„Éº„Éâ: "irobakuf" (Âõ∫ÂÆö)
// üîÑ Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà: StorageManager„ÉªAppState„Å®„ÅÆÂÆåÂÖ®‰∫íÊèõÊÄß
// üõ°Ô∏è „Çª„Ç≠„É•„É™„ÉÜ„Ç£: ‰∫åÈáçÊöóÂè∑Âåñ„Ç∑„Çπ„ÉÜ„É†ÔºàÂüã„ÇÅËæº„ÅøÊôÇ+„É≠„Éº„Ç´„É´‰øùÂ≠òÊôÇÔºâ
//
// =================================================================================
/**
* üîê EmbeddedApiManager - Âüã„ÇÅËæº„ÅøAPI KeyÁÆ°ÁêÜ„ÇØ„É©„Çπ
*
* ‰ºÅÊ•≠ÈÖçÂ∏ÉÂêë„Åë„ÅÆÊöóÂè∑ÂåñAPI KeyÊ©üËÉΩ„ÇíÁÆ°ÁêÜ„Åó„ÄÅ
* Êó¢Â≠ò„ÅÆStorageManager„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÂÆåÂÖ®Áµ±Âêà„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇ
*/
class EmbeddedApiManager {
constructor() {
this.isInitialized = false;
this.isAuthenticated = false;
this.embeddedApiKey = null;
this.authenticationTime = null;
this.memoryCleanupScheduled = false;
// Âõ∫ÂÆöË®≠ÂÆö
this.config = {
corporatePassword: 'irobakuf', // ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâÔºàÂõ∫ÂÆöÔºâ
featureEnabled: true, // Ê©üËÉΩÊúâÂäπ„Éï„É©„Ç∞
memoryCleanupDelay: 30 * 60 * 1000, // 30ÂàÜÂæå„Å´„É°„É¢„É™„ÇØ„É™„Ç¢
authenticationTimeout: 30 * 60 * 1000, // 30ÂàÜË™çË®º„Çø„Ç§„É†„Ç¢„Ç¶„Éà
localStorageKeys: {
auth: 'fukabori_embedded_auth',
feature: 'fukabori_embedded_feature'
}
};
// Âüã„ÇÅËæº„ÅøÊöóÂè∑ÂåñAPI KeyÔºàÂÆüÈöõ„ÅÆÈÖçÂ∏ÉÊôÇ„Å´Ë®≠ÂÆöÔºâ
this.embeddedEncryptedData = {
// Êú¨Áï™Áî®ÊöóÂè∑ÂåñAPI Key (tools/encrypt-api-key.js „ÅßÁîüÊàê) - ‰øÆÊ≠£Áâà
encrypted: "U2FsdGVkX1/MOEjjUAe315tpEfhW4NwxKSaqpuqLTAoDL7Z+x4tFTeBANRgQBQb5yeIPiyvxCECQ0CCxGoo1J8JqVQdQz+nSw7lX/NsXnpB0/y65HiepDE4ws29phjQzvpyb0hONpIofPKwbFFaafccOvpMNEN1/rqh8gEs3IjmWcLMFJi/KLPVgMd4QiH80fNhfB5grZe7yWl/Yf6NE5Z5qJRaojSCKp1FfGxmuqCYonh6SbQJa/PX0UGOIFJQA",
version: '1.2',
timestamp: Date.now()
};
console.log('üîê EmbeddedApiManagerÂàùÊúüÂåñÂÆå‰∫Ü');
}
// =================================================================================
// ÂàùÊúüÂåñ„ÉªÂü∫Êú¨Ê©üËÉΩ
// =================================================================================
/**
* üöÄ „Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
*/
initialize() {
try {
console.log('üîê EmbeddedApiManagerÂàùÊúüÂåñÈñãÂßã...');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Ê©üËÉΩÊúâÂäπÊÄß„ÉÅ„Çß„ÉÉ„ÇØ‰∏≠...');
// Ê©üËÉΩÊúâÂäπÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.isFeatureEnabled()) {
console.log('‚ö†Ô∏è Âüã„ÇÅËæº„ÅøAPI KeyÊ©üËÉΩ„ÅØÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
return false;
}
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âüã„ÇÅËæº„Åø„Éá„Éº„ÇøÂ≠òÂú®„ÉÅ„Çß„ÉÉ„ÇØ‰∏≠...');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âüã„ÇÅËæº„Åø„Éá„Éº„Çø:', this.embeddedEncryptedData);
// Âüã„ÇÅËæº„Åø„Éá„Éº„ÇøÂ≠òÂú®„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.hasEmbeddedData()) {
console.log('üìã Âüã„ÇÅËæº„ÅøAPI Key„Éá„Éº„Çø„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: CryptoJSÂà©Áî®ÂèØËÉΩÊÄß„ÉÅ„Çß„ÉÉ„ÇØ...');
if (typeof CryptoJS === 'undefined') {
console.error('‚ùå CryptoJS„É©„Ç§„Éñ„É©„É™„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
console.log('‚úÖ CryptoJSÂà©Áî®ÂèØËÉΩ');
// LocalStorageÁä∂ÊÖãÂæ©ÂÖÉ
this.restoreAuthenticationState();
// „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„Çπ„Ç±„Ç∏„É•„Éº„É™„É≥„Ç∞
if (this.isAuthenticated) {
this.scheduleMemoryCleanup();
}
this.isInitialized = true;
console.log('‚úÖ EmbeddedApiManagerÂàùÊúüÂåñÂÆå‰∫Ü');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÊúÄÁµÇÁä∂ÊÖã - isInitialized:', this.isInitialized, 'hasEmbeddedData:', this.hasEmbeddedData());
return true;
} catch (error) {
console.error('‚ùå EmbeddedApiManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
console.error('‚ùå „Ç®„É©„Éº„Çπ„Çø„ÉÉ„ÇØ:', error.stack);
return false;
}
}
/**
* üîç Ê©üËÉΩÊúâÂäπÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
*/
isFeatureEnabled() {
try {
// LocalStorage„Åã„Çâ„ÅÆË®≠ÂÆöÁ¢∫Ë™ç
const featureSetting = localStorage.getItem(this.config.localStorageKeys.feature);
if (featureSetting === 'false') {
return false;
}
return this.config.featureEnabled;
} catch (error) {
console.error('‚ùå Ê©üËÉΩÊúâÂäπÊÄß„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
return false;
}
}
/**
* üì¶ Âüã„ÇÅËæº„Åø„Éá„Éº„ÇøÂ≠òÂú®„ÉÅ„Çß„ÉÉ„ÇØ
*/
hasEmbeddedData() {
return this.embeddedEncryptedData.encrypted !== null;
}
// =================================================================================
// Ë™çË®º„ÉªÂæ©Âè∑ÂåñÊ©üËÉΩ
// =================================================================================
/**
* üîê ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®º„ÉªAPI KeyÂæ©Âè∑Âåñ
*
* @param {string} inputPassword - ÂÖ•Âäõ„Åï„Çå„Åü„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {Promise<boolean>} Ë™çË®ºÊàêÂäüÂèØÂê¶
*/
async authenticateAndDecrypt(inputPassword) {
try {
console.log('üîê ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÈñãÂßã...');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÂÖ•Âäõ„Éë„Çπ„ÉØ„Éº„ÉâÈï∑:', inputPassword?.length || 0);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÊúüÂæÖ„Éë„Çπ„ÉØ„Éº„Éâ:', this.config.corporatePassword);
if (!this.isInitialized) {
console.error('‚ùå EmbeddedApiManager„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
// Ëá™ÂãïÂàùÊúüÂåñ„ÇíË©¶Ë°å
console.log('üîÑ Ëá™ÂãïÂàùÊúüÂåñ„ÇíË©¶Ë°å‰∏≠...');
const initialized = this.initialize();
if (!initialized) {
throw new Error('EmbeddedApiManager„ÅÆËá™ÂãïÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
// „Éë„Çπ„ÉØ„Éº„ÉâÁÖßÂêà
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: „Éë„Çπ„ÉØ„Éº„ÉâÁÖßÂêà‰∏≠...');
if (inputPassword !== this.config.corporatePassword) {
console.log('‚ùå ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÂÖ•Âäõ:', `"${inputPassword}"`, 'ÊúüÂæÖ:', `"${this.config.corporatePassword}"`);
return false;
}
console.log('‚úÖ „Éë„Çπ„ÉØ„Éº„ÉâÁÖßÂêàÊàêÂäü');
// Âüã„ÇÅËæº„ÅøAPI KeyÂæ©Âè∑Âåñ
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: API KeyÂæ©Âè∑ÂåñÈñãÂßã...');
const decryptedApiKey = await this.decryptEmbeddedApiKey(inputPassword);
if (!decryptedApiKey) {
console.log('‚ùå API KeyÂæ©Âè∑Âåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return false;
}
console.log('‚úÖ API KeyÂæ©Âè∑ÂåñÊàêÂäü:', decryptedApiKey.substring(0, 15) + '...');
// Ë™çË®ºÁä∂ÊÖãË®≠ÂÆö
this.isAuthenticated = true;
this.embeddedApiKey = decryptedApiKey;
this.authenticationTime = new Date();
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Ë™çË®ºÁä∂ÊÖãË®≠ÂÆöÂÆå‰∫Ü');
// LocalStorageÁä∂ÊÖã‰øùÂ≠ò
this.saveAuthenticationState();
// „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„Çπ„Ç±„Ç∏„É•„Éº„É™„É≥„Ç∞
this.scheduleMemoryCleanup();
console.log('‚úÖ ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®º„ÉªÂæ©Âè∑ÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Ë™çË®º„ÉªÂæ©Âè∑Âåñ„Ç®„É©„Éº:', error);
console.error('‚ùå „Ç®„É©„Éº„Çπ„Çø„ÉÉ„ÇØ:', error.stack);
this.clearAuthenticationState();
return false;
}
}
/**
* üîì Âüã„ÇÅËæº„ÅøAPI KeyÂæ©Âè∑Âåñ
*
* @param {string} password - Âæ©Âè∑Âåñ„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {Promise<string|null>} Âæ©Âè∑Âåñ„Åï„Çå„ÅüAPI Key
*/
async decryptEmbeddedApiKey(password) {
try {
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âæ©Âè∑ÂåñÈñãÂßã - „Éë„Çπ„ÉØ„Éº„Éâ:', password);
if (!this.embeddedEncryptedData.encrypted) {
throw new Error('Âüã„ÇÅËæº„ÅøÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÊöóÂè∑Âåñ„Éá„Éº„ÇøÁ¢∫Ë™ç - Èï∑„Åï:', this.embeddedEncryptedData.encrypted.length);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: ÊöóÂè∑Âåñ„Éá„Éº„ÇøÂÖàÈ†≠:', this.embeddedEncryptedData.encrypted.substring(0, 50) + '...');
// CryptoJS„Çí‰ΩøÁî®„Åó„ÅüÂæ©Âè∑ÂåñÔºàÊó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®Âêå„ÅòÊñπÂºèÔºâ
if (typeof CryptoJS === 'undefined') {
throw new Error('CryptoJS„É©„Ç§„Éñ„É©„É™„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Áõ¥Êé•AESÂæ©Âè∑ÂåñÂÆüË°å‰∏≠...');
const decrypted = CryptoJS.AES.decrypt(this.embeddedEncryptedData.encrypted, password);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: UTF-8Â§âÊèõ‰∏≠...');
const decryptedText = decrypted.toString(CryptoJS.enc.Utf8);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âæ©Âè∑ÂåñÁµêÊûúÈï∑„Åï:', decryptedText?.length || 0);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âæ©Âè∑ÂåñÁµêÊûúÂÖàÈ†≠:', decryptedText?.substring(0, 15) || 'null');
if (!decryptedText || decryptedText.length === 0) {
throw new Error('Âæ©Âè∑ÂåñÁµêÊûú„ÅåÁ©∫„Åß„Åô - „Éë„Çπ„ÉØ„Éº„Éâ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô');
}
if (!decryptedText.startsWith('sk-')) {
throw new Error(`Âæ©Âè∑Âåñ„Åï„Çå„Åü„Éá„Éº„Çø„ÅåÊúâÂäπ„Å™API Key„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì: "${decryptedText.substring(0, 20)}..."`);
}
console.log('‚úÖ Âüã„ÇÅËæº„ÅøAPI KeyÂæ©Âè∑ÂåñÊàêÂäü');
return decryptedText;
} catch (error) {
console.error('‚ùå Âüã„ÇÅËæº„ÅøAPI KeyÂæ©Âè∑Âåñ„Ç®„É©„Éº:', error);
console.error('‚ùå „Ç®„É©„Éº„Çπ„Çø„ÉÉ„ÇØ:', error.stack);
return null;
}
}
// =================================================================================
// API KeyÂèñÂæó„ÉªÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°
// =================================================================================
/**
* üéØ API KeyÂèñÂæóÔºàÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°‰ªò„ÅçÔºâ
*
* ÂÑ™ÂÖàÈ†Ü‰Ωç:
* 1. Ë®≠ÂÆöÁîªÈù¢API Key (ÊúÄÂÑ™ÂÖà)
* 2. Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key
* 3. Êú™Ë®≠ÂÆö
*
* @returns {string|null} ÁèæÂú®ÊúâÂäπ„Å™API Key
*/
getApiKeyWithPriority() {
try {
// 1. Ë®≠ÂÆöÁîªÈù¢API KeyÔºàÊúÄÂÑ™ÂÖàÔºâ
if (window.StorageManager && window.StorageManager.apiKey.getCount() > 0) {
console.log('üîë Ë®≠ÂÆöÁîªÈù¢API Key„Çí‰ΩøÁî®ÔºàÊúÄÂÑ™ÂÖàÔºâ');
return null; // Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
}
// 2. Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key
if (this.isAuthenticated && this.embeddedApiKey) {
console.log('üè¢ Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key„Çí‰ΩøÁî®');
return this.embeddedApiKey;
}
// 3. Êú™Ë®≠ÂÆö
console.log('‚ö†Ô∏è API Key„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return null;
} catch (error) {
console.error('‚ùå API KeyÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
}
/**
* üîç API KeyË®≠ÂÆöÁä∂Ê≥ÅÁ¢∫Ë™çÔºàÊã°ÂºµÁâàÔºâ
*
* @returns {Object} API KeyË®≠ÂÆöÁä∂Ê≥Å
*/
isApiKeyConfigured() {
const result = {
hasUserApiKey: false,
hasEmbeddedApiKey: false,
isEmbeddedAuthenticated: false,
currentSource: null,
totalCount: 0
};
try {
// Ë®≠ÂÆöÁîªÈù¢API KeyÁ¢∫Ë™ç
if (window.StorageManager && window.StorageManager.apiKey.getCount() > 0) {
result.hasUserApiKey = true;
result.currentSource = 'user';
result.totalCount += window.StorageManager.apiKey.getCount();
}
// Âüã„ÇÅËæº„ÅøAPI KeyÁ¢∫Ë™ç
if (this.hasEmbeddedData()) {
result.hasEmbeddedApiKey = true;
if (this.isAuthenticated) {
result.isEmbeddedAuthenticated = true;
if (!result.hasUserApiKey) {
result.currentSource = 'embedded';
}
result.totalCount += 1;
}
}
return result;
} catch (error) {
console.error('‚ùå API KeyË®≠ÂÆöÁä∂Ê≥ÅÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return result;
}
}
// =================================================================================
// Áä∂ÊÖãÁÆ°ÁêÜ„ÉªÊ∞∏Á∂öÂåñ
// =================================================================================
/**
* üíæ Ë™çË®ºÁä∂ÊÖã‰øùÂ≠ò
*/
saveAuthenticationState() {
try {
if (this.isAuthenticated) {
localStorage.setItem(this.config.localStorageKeys.auth, 'authenticated');
console.log('üíæ Âüã„ÇÅËæº„ÅøAPIË™çË®ºÁä∂ÊÖã„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå Ë™çË®ºÁä∂ÊÖã‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
}
/**
* üìã Ë™çË®ºÁä∂ÊÖãÂæ©ÂÖÉ
*/
restoreAuthenticationState() {
try {
const authState = localStorage.getItem(this.config.localStorageKeys.auth);
if (authState === 'authenticated') {
// Ê≥®ÊÑè: ÂÆüÈöõ„ÅÆAPI Key„ÅØÂÜçË™çË®º„ÅåÂøÖË¶Å
// „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÅÆ„Åü„ÇÅ„ÄÅË™çË®ºÁä∂ÊÖã„ÅÆ„ÅøÂæ©ÂÖÉ
console.log('üìã Âüã„ÇÅËæº„ÅøAPIË™çË®ºÁä∂ÊÖã„ÇíÂæ©ÂÖÉÔºàÂÜçË™çË®º„ÅåÂøÖË¶ÅÔºâ');
}
} catch (error) {
console.error('‚ùå Ë™çË®ºÁä∂ÊÖãÂæ©ÂÖÉ„Ç®„É©„Éº:', error);
}
}
/**
* üóëÔ∏è Ë™çË®ºÁä∂ÊÖã„ÇØ„É™„Ç¢
*/
clearAuthenticationState() {
try {
this.isAuthenticated = false;
this.embeddedApiKey = null;
this.authenticationTime = null;
localStorage.removeItem(this.config.localStorageKeys.auth);
console.log('üóëÔ∏è Âüã„ÇÅËæº„ÅøAPIË™çË®ºÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå Ë™çË®ºÁä∂ÊÖã„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
}
}
// =================================================================================
// „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Éª„É°„É¢„É™ÁÆ°ÁêÜ
// =================================================================================
/**
* ‚è∞ „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„Çπ„Ç±„Ç∏„É•„Éº„É™„É≥„Ç∞
*/
scheduleMemoryCleanup() {
if (this.memoryCleanupScheduled) {
return;
}
this.memoryCleanupScheduled = true;
setTimeout(() => {
this.performMemoryCleanup();
}, this.config.memoryCleanupDelay);
console.log(`‚è∞ „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„Çí${this.config.memoryCleanupDelay / 60000}ÂàÜÂæå„Å´„Çπ„Ç±„Ç∏„É•„Éº„É´`);
}
/**
* üßπ „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÂÆüË°å
*/
performMemoryCleanup() {
try {
console.log('üßπ Âüã„ÇÅËæº„ÅøAPI Key„É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÈñãÂßã...');
// API Key„Çí„É°„É¢„É™„Åã„ÇâÊ∂àÂéª
if (this.embeddedApiKey) {
this.embeddedApiKey = null;
}
// Ë™çË®ºÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢ÔºàLocalStorage„ÅØ‰øùÊåÅÔºâ
this.isAuthenticated = false;
this.authenticationTime = null;
this.memoryCleanupScheduled = false;
console.log('‚úÖ „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÂÆå‰∫Ü');
// UIÊõ¥Êñ∞ÈÄöÁü•ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶Ôºâ
if (typeof window.showMessage === 'function') {
window.showMessage('info', 'üîê „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÅÆ„Åü„ÇÅ„ÄÅÂüã„ÇÅËæº„ÅøAPIË™çË®º„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó„Ç®„É©„Éº:', error);
}
}
// =================================================================================
// Á∑äÊÄ•Ê©üËÉΩ„Éª„Éá„Éê„ÉÉ„Ç∞
// =================================================================================
/**
* üö® Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØ
*/
emergencyRollback() {
try {
console.log('üö® Âüã„ÇÅËæº„ÅøAPI KeyÊ©üËÉΩÁ∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆüË°å');
// Ê©üËÉΩÁÑ°ÂäπÂåñ
localStorage.setItem(this.config.localStorageKeys.feature, 'false');
// ÂÖ®Áä∂ÊÖã„ÇØ„É™„Ç¢
this.clearAuthenticationState();
// „É°„É¢„É™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
this.performMemoryCleanup();
console.log('‚úÖ Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆå‰∫Ü');
if (typeof window.showMessage === 'function') {
window.showMessage('warning', 'üö® Âüã„ÇÅËæº„ÅøAPI KeyÊ©üËÉΩ„ÇíÁ∑äÊÄ•ÁÑ°ÂäπÂåñ„Åó„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
}
}
/**
* üîß „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±ÂèñÂæó
*/
getDebugInfo() {
return {
initialized: this.isInitialized,
authenticated: this.isAuthenticated,
hasEmbeddedData: this.hasEmbeddedData(),
featureEnabled: this.isFeatureEnabled(),
authenticationTime: this.authenticationTime,
config: {
...this.config,
corporatePassword: '[HIDDEN]' // „Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÅÆ„Åü„ÇÅÈùûË°®Á§∫
}
};
}
}
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñ„ÉªÂÖ¨Èñã
// =================================================================================
// „Ç∑„É≥„Ç∞„É´„Éà„É≥„Ç§„É≥„Çπ„Çø„É≥„Çπ
window.EmbeddedApiManager = new EmbeddedApiManager();
// Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÈñ¢Êï∞„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.emergencyRollbackEmbeddedApi = function() {
if (window.EmbeddedApiManager) {
window.EmbeddedApiManager.emergencyRollback();
}
};
// „Éá„Éê„ÉÉ„Ç∞Èñ¢Êï∞„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.debugEmbeddedApi = function() {
if (window.EmbeddedApiManager) {
const debugInfo = window.EmbeddedApiManager.getDebugInfo();
console.log('üîß Âüã„ÇÅËæº„ÅøAPI Key „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±:', debugInfo);
return debugInfo;
}
return null;
};
// ÂàùÊúüÂåñÂÆüË°åÔºàË§áÊï∞„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÅßÁ¢∫ÂÆü„Å´ÂÆüË°åÔºâ
function initializeEmbeddedApiManager() {
console.log('üîÑ EmbeddedApiManagerÂàùÊúüÂåñË©¶Ë°å...');
if (window.EmbeddedApiManager && !window.EmbeddedApiManager.isInitialized) {
const success = window.EmbeddedApiManager.initialize();
console.log('üîç ÂàùÊúüÂåñÁµêÊûú:', success ? 'ÊàêÂäü' : 'Â§±Êïó');
return success;
}
return window.EmbeddedApiManager && window.EmbeddedApiManager.isInitialized;
}
// DOMContentLoadedÊôÇ„ÅÆÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
console.log('üîÑ DOMContentLoaded - Âüã„ÇÅËæº„ÅøAPIÂàùÊúüÂåñÈñãÂßã');
setTimeout(() => {
initializeEmbeddedApiManager();
// ‰ºÅÊ•≠ÁâàUIÂàùÊúüÂåñÔºàË™çË®º„Éú„Çø„É≥„Å´„Éï„Ç©„Éº„Ç´„ÇπÔºâ
const authButton = document.getElementById('corporateAuthButton');
if (authButton) {
setTimeout(() => {
authButton.focus();
console.log('üéØ ‰ºÅÊ•≠Ë™çË®º„Éú„Çø„É≥„Å´„Éï„Ç©„Éº„Ç´„ÇπË®≠ÂÆö');
}, 500);
}
}, 100);
});
// „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÊôÇ„ÅÆÂàùÊúüÂåñÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
window.addEventListener('load', function() {
console.log('üîÑ Window Load - Âüã„ÇÅËæº„ÅøAPIÂàùÊúüÂåñ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
setTimeout(() => {
initializeEmbeddedApiManager();
}, 200);
});
// ÊâãÂãïÂàùÊúüÂåñÈñ¢Êï∞„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.initializeEmbeddedApiManager = initializeEmbeddedApiManager;
console.log('‚úÖ Âüã„ÇÅËæº„ÅøAPI KeyÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
/* === voice-module.js === */
/**
* Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´
*
* üéØ Phase 1BÊñ∞Ê©üËÉΩ: Á∑®ÈõÜ‰øùË≠∑„É°„Ç´„Éã„Ç∫„É†
* - Á∑®ÈõÜ‰∏≠„ÅÆÈü≥Â£∞Ë™çË≠ò„Å´„Çà„Çã‰∏äÊõ∏„ÅçÈò≤Ê≠¢
* - Áä∂ÊÖãÁ´∂ÂêàÂõûÈÅø„Ç∑„Çπ„ÉÜ„É†
* - ÂÆâÂÖ®„Å™Èü≥Â£∞Êõ¥Êñ∞Âà∂Âæ°
*
* @version 0.7.5-phase1b
* @author AI Assistant
* @updated 2025-01-26
*/
// =================================================================================
// Phase 1B: Á∑®ÈõÜ‰øùË≠∑„É°„Ç´„Éã„Ç∫„É†
// =================================================================================
/**
* ÊñáÂ≠óËµ∑„Åì„Åó‰øùË≠∑ÁÆ°ÁêÜ„ÇØ„É©„Çπ - Á∑®ÈõÜ‰∏≠„ÅÆÈü≥Â£∞Êõ¥Êñ∞„ÇíÈò≤„Åê
*/
class TranscriptProtectionManager {
constructor() {
this.protectedSources = new Set();
this.protectionStartTime = null;
this.maxProtectionDuration = 10000; // 10Áßí„ÅÆËá™Âãï‰øùË≠∑Ëß£Èô§
}
/**
* Á∑®ÈõÜ‰∏≠„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç
*/
static isEditInProgress() {
return window.transcriptEditManager?.isEditing || false;
}
/**
* ‰øùË≠∑„ÅåÂøÖË¶Å„Åã„Å©„ÅÜ„Åã„ÇíÂà§ÂÆö
*/
static shouldPreventVoiceUpdate(source) {
const instance = window.TranscriptProtectionManager;
if (!instance) return false;
// Á∑®ÈõÜ‰∏≠„ÅÆÂ†¥Âêà„ÅØÊõ¥Êñ∞„Çí„Éñ„É≠„ÉÉ„ÇØ
if (this.isEditInProgress()) {
instance.logProtection(`üõ°Ô∏è Á∑®ÈõÜ‰∏≠„ÅÆ„Åü„ÇÅÈü≥Â£∞Êõ¥Êñ∞„Çí„Éñ„É≠„ÉÉ„ÇØ: ${source}`);
return true;
}
// ÊâãÂãï‰øùË≠∑„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà
if (instance.protectedSources.has(source)) {
// ‰øùË≠∑ÊôÇÈñì„ÅÆËá™ÂãïËß£Èô§„ÉÅ„Çß„ÉÉ„ÇØ
if (instance.protectionStartTime &&
Date.now() - instance.protectionStartTime > instance.maxProtectionDuration) {
instance.clearProtection();
return false;
}
instance.logProtection(`üõ°Ô∏è ÊâãÂãï‰øùË≠∑‰∏≠„ÅÆ„Åü„ÇÅÈü≥Â£∞Êõ¥Êñ∞„Çí„Éñ„É≠„ÉÉ„ÇØ: ${source}`);
return true;
}
return false;
}
/**
* ‰øùË≠∑ÈñãÂßã
*/
static startProtection(source, duration = null) {
const instance = window.TranscriptProtectionManager;
if (!instance) return;
instance.protectedSources.add(source);
instance.protectionStartTime = Date.now();
if (duration) {
setTimeout(() => {
instance.protectedSources.delete(source);
instance.logProtection(`‚è∞ ‰øùË≠∑Ëá™ÂãïËß£Èô§: ${source}`);
}, duration);
}
instance.logProtection(`üõ°Ô∏è ‰øùË≠∑ÈñãÂßã: ${source}`);
}
/**
* ‰øùË≠∑Ëß£Èô§
*/
static clearProtection() {
const instance = window.TranscriptProtectionManager;
if (!instance) return;
instance.protectedSources.clear();
instance.protectionStartTime = null;
instance.logProtection('üîì ÂÖ®‰øùË≠∑Ëß£Èô§');
}
/**
* ÁâπÂÆö„ÇΩ„Éº„Çπ„ÅÆ‰øùË≠∑Ëß£Èô§
*/
static clearSourceProtection(source) {
const instance = window.TranscriptProtectionManager;
if (!instance) return;
instance.protectedSources.delete(source);
instance.logProtection(`üîì ‰øùË≠∑Ëß£Èô§: ${source}`);
}
/**
* ‰øùË≠∑„É≠„Ç∞Ë®òÈå≤
*/
logProtection(message) {
console.log(`[TranscriptProtection] ${message}`);
// StateUpdateController„Å´„ÇÇ„É≠„Ç∞„ÇíË®òÈå≤
if (window.StateUpdateController) {
window.StateUpdateController.logDebug(message);
}
}
/**
* ‰øùË≠∑Áä∂ÊÖãÂèñÂæó
*/
getProtectionStatus() {
return {
isEditInProgress: TranscriptProtectionManager.isEditInProgress(),
protectedSources: Array.from(this.protectedSources),
protectionStartTime: this.protectionStartTime,
currentTime: Date.now()
};
}
}
// „Ç∞„É≠„Éº„Éê„É´„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
window.TranscriptProtectionManager = new TranscriptProtectionManager();
// =================================================================================
// Êó¢Â≠ò„ÅÆVoiceModule„ÇØ„É©„ÇπÊã°Âºµ
// =================================================================================
/**
* Èü≥Â£∞Ë™çË≠ò„É¢„Ç∏„É•„Éº„É´ - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* Ê∑±Â†Ä„Ç¢„Éó„É™Â∞ÇÁî®Ôºö‰ºÅÊ•≠„Çª„ÉÉ„Ç∑„Éß„É≥Âêë„Åë„Ç∑„É≥„Éó„É´Èü≥Â£∞Ë™çË≠ò
* Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÂØæÂøúÔºö6„Å§„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã + Ëá™ÂãïÂæ©Êóß
*/
class VoiceModule {
constructor(stateManager) {
this.stateManager = stateManager;
this.recognition = null;
this.isInitialized = false;
// üé§ Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂Ôºö6„Å§„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã
this.state = {
// Âü∫Êú¨Áä∂ÊÖãÔºà6„Å§„ÅÆÁä∂ÊÖãÔºâ
recognitionState: 'idle', // idle, starting, active, stopping, error, network-error, permission-denied
isListening: false,
microphonePermissionGranted: false,
// Èü≥Â£∞„Éá„Éº„Çø
currentTranscript: '',
finalTranscript: '',
confidence: 0,
// „Ç®„É©„ÉºÊÉÖÂ†±
lastError: null,
errorCount: 0,
autoRecoveryAttempts: 0,
// Áµ±Ë®àÊÉÖÂ†±
sessionStartTime: null,
totalListeningTime: 0,
recognitionCount: 0,
lastActivity: Date.now()
};
// üîß Ë®≠Ë®àÊÄùÊÉ≥: „ÄåÁÑ°Èü≥„ÅØÊ≠£Â∏∏„Äç- Ëá™ÂãïÂæ©Êóß„Ç∑„Çπ„ÉÜ„É†ÂÆåÂÖ®ÁÑ°ÂäπÂåñ
this.autoRecovery = {
enabled: false, // ÁÑ°Èü≥ÊôÇÈñìÁõ£Ë¶ñÂªÉÊ≠¢
maxAttempts: 0,
retryDelay: 0,
currentAttempt: 0,
lastAttemptTime: null
};
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
this.listeners = new Set();
console.log('üé§ VoiceModuleÂàùÊúüÂåñÂÆå‰∫Ü - Êñ∞„Éá„Ç∂„Ç§„É≥ÂØæÂøú');
}
// =================================================================================
// ÂàùÊúüÂåñ„ÉªË®≠ÂÆö
// =================================================================================
async initialize() {
if (this.isInitialized) return true;
try {
console.log('üîÑ Èü≥Â£∞Ë™çË≠ò„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÈñãÂßã');
// Web Speech API „ÅÆÂèØÁî®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
throw new Error('Web Speech API „Åå„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// Èü≥Â£∞Ë™çË≠ò„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆ‰ΩúÊàê
this.createRecognitionInstance();
// „Éû„Ç§„ÇØË®±ÂèØ„ÅÆÁ¢∫Ë™ç
await this.checkMicrophonePermission();
this.isInitialized = true;
console.log('‚úÖ Èü≥Â£∞Ë™çË≠ò„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠ò„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
this.updateState({
recognitionState: 'error',
lastError: error.message
});
return false;
}
}
createRecognitionInstance() {
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
this.recognition = new SpeechRecognition();
// üîß Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂Ôºö‰ºÅÊ•≠„Çª„ÉÉ„Ç∑„Éß„É≥Âêë„ÅëÊúÄÈÅ©ÂåñË®≠ÂÆöÔºàÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂØæÂøúÔºâ
this.recognition.continuous = true;
this.recognition.interimResults = true;
this.recognition.lang = 'ja-JP';
this.recognition.maxAlternatives = 3; // 1‚Üí3„Å´Â§âÊõ¥ÔºöÈü≥Â£∞Ë™çË≠òÁ≤æÂ∫¶Âêë‰∏ä
// „Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº„ÅÆË®≠ÂÆö
this.setupEventHandlers();
console.log('üé§ Èü≥Â£∞Ë™çË≠ò„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàêÂÆå‰∫Ü - ‰ºÅÊ•≠„Çª„ÉÉ„Ç∑„Éß„É≥ÊúÄÈÅ©Âåñ');
}
setupEventHandlers() {
// ÈñãÂßã„Ç§„Éô„É≥„Éà
this.recognition.onstart = () => {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÈñãÂßã');
this.updateState({
recognitionState: 'active',
isListening: true,
sessionStartTime: Date.now(),
lastActivity: Date.now()
});
this.resetAutoRecovery();
};
// ÁµêÊûú„Ç§„Éô„É≥„Éà
this.recognition.onresult = (event) => {
this.handleResult(event);
};
// ÁµÇ‰∫Ü„Ç§„Éô„É≥„Éà
this.recognition.onend = () => {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÁµÇ‰∫Ü');
this.handleEnd();
};
// „Ç®„É©„Éº„Ç§„Éô„É≥„Éà
this.recognition.onerror = (event) => {
console.error('‚ùå Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº:', event.error);
this.handleError(event);
};
// Èü≥Â£∞Ê§úÂá∫„Ç§„Éô„É≥„Éà
this.recognition.onspeechstart = () => {
console.log('üó£Ô∏è Èü≥Â£∞Ê§úÂá∫ÈñãÂßã');
this.updateState({
isListening: true,
lastActivity: Date.now()
});
};
this.recognition.onspeechend = () => {
console.log('ü§ê Èü≥Â£∞Ê§úÂá∫ÁµÇ‰∫Ü');
this.updateState({
isListening: false,
lastActivity: Date.now()
});
};
}
async checkMicrophonePermission() {
try {
const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
stream.getTracks().forEach(track => track.stop());
this.updateState({ microphonePermissionGranted: true });
console.log('‚úÖ „Éû„Ç§„ÇØË®±ÂèØÁ¢∫Ë™çÂÆå‰∫Ü');
return true;
} catch (error) {
console.warn('‚ö†Ô∏è „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô:', error);
this.updateState({
microphonePermissionGranted: false,
recognitionState: 'permission-denied',
lastError: '„Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô'
});
return false;
}
}
// =================================================================================
// Èü≥Â£∞Ë™çË≠òÂà∂Âæ°ÔºàÊñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÂØæÂøúÔºâ
// =================================================================================
async startRecognition() {
if (!this.isInitialized) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠ò„É¢„Ç∏„É•„Éº„É´„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
if (this.state.recognitionState === 'active') {
console.log('üé§ Èü≥Â£∞Ë™çË≠ò„ÅØÊó¢„Å´ÈñãÂßã„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
return true;
}
try {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÈñãÂßãÂá¶ÁêÜ');
this.updateState({ recognitionState: 'starting' });
// „Éû„Ç§„ÇØË®±ÂèØ„ÅÆÂÜçÁ¢∫Ë™ç
if (!this.state.microphonePermissionGranted) {
const permitted = await this.checkMicrophonePermission();
if (!permitted) {
throw new Error('„Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô');
}
}
this.recognition.start();
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠òÈñãÂßã„Ç®„É©„Éº:', error);
this.updateState({
recognitionState: 'error',
lastError: error.message
});
// üîß Ëá™ÂãïÂæ©ÊóßË©¶Ë°å
this.attemptAutoRecovery();
return false;
}
}
stopRecognition() {
if (this.state.recognitionState !== 'active') {
console.log('üé§ Èü≥Â£∞Ë™çË≠ò„ÅØÈñãÂßã„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return;
}
try {
console.log('üõë Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢Âá¶ÁêÜ');
this.updateState({ recognitionState: 'stopping' });
this.recognition.stop();
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢„Ç®„É©„Éº:', error);
this.updateState({
recognitionState: 'error',
lastError: error.message
});
}
}
/**
* ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢ÔºàÈÄèÊòéÁ∂ôÁ∂ö„ÇíÁÑ°ÂäπÂåñÔºâ
*/
pauseRecognition() {
if (this.state.recognitionState === 'active') {
console.log('‚è∏Ô∏è ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢ÂÆüË°å');
this.updateState({ recognitionState: 'paused' });
this.recognition.stop();
} else {
console.log('‚è∏Ô∏è Èü≥Â£∞Ë™çË≠ò„ÅØÂãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
}
/**
* ÊâãÂãïÂÜçÈñãÔºà‰∏ÄÊôÇÂÅúÊ≠¢„Åã„Çâ„ÅÆÂæ©Â∏∞Ôºâ
*/
resumeRecognition() {
if (this.state.recognitionState === 'paused' || this.state.recognitionState === 'idle') {
console.log('‚ñ∂Ô∏è ÊâãÂãïÂÜçÈñãÂÆüË°å');
this.startRecognition();
} else {
console.log('‚ñ∂Ô∏è Èü≥Â£∞Ë™çË≠ò„ÅØÊó¢„Å´Âãï‰Ωú‰∏≠„Åß„Åô');
}
}
// üîß „É¨„Ç¨„Ç∑„ÉºÊ©üËÉΩÂâäÈô§ÂÆå‰∫Ü - Êñ∞„Åó„ÅÑÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø
// üîß Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÁî®ÔºöÁµêÊûúÂá¶ÁêÜÂÜçÈñã
resumeProcessing(reason = 'unknown') {
console.log(`üîÑ Èü≥Â£∞Ë™çË≠òÁµêÊûúÂá¶ÁêÜÂÜçÈñã: ${reason}`);
// Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Åß„ÅØÈü≥Â£∞Ë™çË≠òËá™‰Ωì„ÅØÂÅúÊ≠¢„Åõ„Åö„Å´ÁµêÊûúÂá¶ÁêÜ„ÅÆ„ÅøÂÜçÈñã
if (this.state.recognitionState === 'active') {
console.log('‚úÖ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„ÅØÊó¢„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ - ÁµêÊûúÂá¶ÁêÜÁ∂ôÁ∂ö');
return true;
}
// ÂÅúÊ≠¢‰∏≠„ÅÆÂ†¥Âêà„ÅØÈÄöÂ∏∏„ÅÆÂÜçÈñãÂá¶ÁêÜ
return this.resumeRecognition();
}
// =================================================================================
// „Ç§„Éô„É≥„ÉàÂá¶ÁêÜ
// =================================================================================
handleResult(event) {
let interimTranscript = '';
let finalTranscript = '';
for (let i = event.resultIndex; i < event.results.length; i++) {
const transcript = event.results[i][0].transcript;
const confidence = event.results[i][0].confidence;
if (event.results[i].isFinal) {
finalTranscript += transcript;
console.log('üìù ÊúÄÁµÇÁµêÊûú:', transcript, `(‰ø°È†ºÂ∫¶: ${confidence})`);
} else {
interimTranscript += transcript;
}
}
this.updateState({
currentTranscript: interimTranscript,
finalTranscript: finalTranscript,
confidence: event.results[event.results.length - 1][0].confidence || 0,
recognitionCount: this.state.recognitionCount + (finalTranscript ? 1 : 0),
lastActivity: Date.now()
});
// üîß Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆ‰∫íÊèõÊÄßÔºöAppState„ÅÆÊõ¥Êñ∞
this.updateAppStateTranscript(interimTranscript, finalTranscript);
// üé® Êñ∞Ê©üËÉΩ: „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òË°®Á§∫„ÅÆÊõ¥Êñ∞
const displayTranscript = interimTranscript || finalTranscript;
if (displayTranscript && window.updateRealtimeTranscript) {
window.updateRealtimeTranscript(displayTranscript);
}
// ÊúÄÁµÇÁµêÊûú„ÅÆÂ†¥Âêà„ÄÅÂ§ñÈÉ®„Å´ÈÄöÁü•
if (finalTranscript) {
this.notifyListeners('finalResult', {
transcript: finalTranscript,
confidence: event.results[event.results.length - 1][0].confidence || 0
});
}
}
handleEnd() {
console.log('üèÅ Èü≥Â£∞Ë™çË≠òÁµÇ‰∫Ü„Ç§„Éô„É≥„Éà');
// ÊâãÂãïÂÅúÊ≠¢„ÅÆÂ†¥Âêà„ÅØÁä∂ÊÖã„Çí„Åù„ÅÆ„Åæ„ÅæÁ∂≠ÊåÅ
if (this.state.recognitionState === 'stopping') {
this.updateState({
recognitionState: 'idle',
isListening: false
});
return;
}
// üîß ÈÄèÊòé„Å™Á∂ôÁ∂ö„Ç∑„Çπ„ÉÜ„É†: „Éñ„É©„Ç¶„Ç∂APIÁÑ°Èü≥ÁµÇ‰∫Ü„ÇíÈö†ËîΩ„Åó„Å¶Á∂ôÁ∂ö
if (this.shouldContinueTransparently()) {
console.log('üîÑ ÈÄèÊòéÁ∂ôÁ∂ö: ÁÑ°Èü≥ÁµÇ‰∫Ü„ÇíÈö†ËîΩ„Åó„Å¶Èü≥Â£∞Ë™çË≠ò„ÇíÁ∂ôÁ∂ö');
this.performTransparentContinuation();
} else {
console.log('‚úÖ Èü≥Â£∞Ë™çË≠òÁµÇ‰∫Ü - „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Åæ„Åü„ÅØ„Ç®„É©„ÉºÁä∂ÊÖã');
this.updateState({ recognitionState: 'idle' });
}
}
/**
* ÈÄèÊòéÁ∂ôÁ∂ö„ÅÆÊù°‰ª∂Âà§ÂÆö
* „Çª„ÉÉ„Ç∑„Éß„É≥„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Åã„Å§„Ç®„É©„ÉºÁä∂ÊÖã„Åß„Å™„ÅÑÂ†¥Âêà„Å´Á∂ôÁ∂ö
*/
shouldContinueTransparently() {
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãÁ¢∫Ë™ç
if (!window.AppState?.sessionActive) {
console.log('üö´ „Çª„ÉÉ„Ç∑„Éß„É≥Èùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ - ÈÄèÊòéÁ∂ôÁ∂ö„Å™„Åó');
return false;
}
// „Ç®„É©„ÉºÁä∂ÊÖãÁ¢∫Ë™çÔºàno-speech„Ç®„É©„Éº„ÅØÈô§Â§ñÔºâ
if (this.state.recognitionState === 'error') {
// üîß no-speech„Ç®„É©„Éº„ÅØ„ÄåÁÑ°Èü≥„ÅØÊ≠£Â∏∏„Äç„Å®„Åó„Å¶ÈÄèÊòéÁ∂ôÁ∂ö„ÇíË®±ÂèØ
if (this.state.lastError && this.state.lastError.includes('no-speech')) {
console.log('ü§´ no-speech„Ç®„É©„Éº - ÁÑ°Èü≥Ê≠£Â∏∏„Å®„Åó„Å¶ÈÄèÊòéÁ∂ôÁ∂öÂÆüË°å');
return true;
}
console.log('üö´ „Ç®„É©„ÉºÁä∂ÊÖã - ÈÄèÊòéÁ∂ôÁ∂ö„Å™„Åó');
return false;
}
// ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢Á¢∫Ë™çÔºà‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„ÅåÊäº„Åï„Çå„ÅüÂ†¥ÂêàÔºâ
if (this.state.recognitionState === 'paused') {
console.log('‚è∏Ô∏è ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠ - ÈÄèÊòéÁ∂ôÁ∂ö„Å™„Åó');
return false;
}
return true;
}
/**
* ÈÄèÊòéÁ∂ôÁ∂ö„ÅÆÂÆüË°å
* „É¶„Éº„Ç∂„Éº„Å´Ë¶ã„Åà„Å™„ÅÑÂΩ¢„ÅßÈü≥Â£∞Ë™çË≠ò„ÇíËá™ÂãïÂÜçÈñã
* Ê≥®ÊÑè: Êó¢Â≠ò„ÅÆstartRecognition()„Çí„Éê„Ç§„Éë„Çπ„Åó„Å¶Áõ¥Êé•ÂÜçÈñã
*/
async performTransparentContinuation() {
try {
// Áü≠ÊôÇÈñìÂæÖÊ©ü„Åó„Å¶„Åã„Çâ„Ç∑„Éº„É†„É¨„ÇπÂÜçÈñã
await new Promise(resolve => setTimeout(resolve, 100));
console.log('üé§ ÈÄèÊòéÁ∂ôÁ∂öÂÆüË°å: Èü≥Â£∞Ë™çË≠òËá™ÂãïÂÜçÈñã');
// üîß ÈÄèÊòéÁ∂ôÁ∂öÂ∞ÇÁî®: Áä∂ÊÖã„ÉÅ„Çß„ÉÉ„ÇØ„Çí„Éê„Ç§„Éë„Çπ„Åó„Å¶Áõ¥Êé•ÂÜçÈñã
await this.forceRestartRecognition();
} catch (error) {
console.error('‚ùå ÈÄèÊòéÁ∂ôÁ∂ö„Ç®„É©„Éº:', error);
// ÈÄèÊòéÁ∂ôÁ∂ö„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØÊâãÂãïÂæ©Êóß„É¢„Éº„Éâ„Å´
this.updateState({
recognitionState: 'error',
errorMessage: 'Èü≥Â£∞Ë™çË≠ò„ÅÆÁ∂ôÁ∂ö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÂÜçÈñã„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
});
}
}
/**
* Âº∑Âà∂ÁöÑ„Å™Èü≥Â£∞Ë™çË≠òÂÜçÈñãÔºàÈÄèÊòéÁ∂ôÁ∂öÂ∞ÇÁî®Ôºâ
* Êó¢Â≠ò„ÅÆÁä∂ÊÖã„ÉÅ„Çß„ÉÉ„ÇØ„Çí„Éê„Ç§„Éë„Çπ„Åó„Å¶Êñ∞„Åó„ÅÑrecognition„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàê
*/
async forceRestartRecognition() {
try {
console.log('üîÑ Âº∑Âà∂ÂÜçÈñã: Êñ∞„Åó„ÅÑÈü≥Â£∞Ë™çË≠ò„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê');
// Êó¢Â≠ò„ÅÆrecognition„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÂÆåÂÖ®„Å´„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
if (this.recognition) {
this.recognition.onstart = null;
this.recognition.onend = null;
this.recognition.onerror = null;
this.recognition.onresult = null;
this.recognition.onspeechstart = null;
this.recognition.onspeechend = null;
this.recognition = null;
}
// „Éû„Ç§„ÇØË®±ÂèØ„ÅÆÁ¢∫Ë™ç
if (!this.state.microphonePermissionGranted) {
const permitted = await this.checkMicrophonePermission();
if (!permitted) {
throw new Error('„Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô');
}
}
// Êñ∞„Åó„ÅÑrecognition„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàê
this.recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
this.recognition.continuous = true;
this.recognition.interimResults = true;
this.recognition.lang = 'ja-JP';
this.recognition.maxAlternatives = 1;
// üîß Êó¢Â≠ò„ÅÆsetupEventHandlers()„É°„ÇΩ„ÉÉ„Éâ„ÇíÂÜçÂà©Áî®ÔºàÂÆâÂÖ®„Å™ÊñπÊ≥ïÔºâ
this.setupEventHandlers();
// Èü≥Â£∞Ë™çË≠òÈñãÂßã
console.log('üé§ Âº∑Âà∂ÂÜçÈñã: Èü≥Â£∞Ë™çË≠òÈñãÂßã');
this.recognition.start();
// Áä∂ÊÖãÊõ¥Êñ∞Ôºàactive„ÅÆ„Åæ„ÅæÁ∂≠ÊåÅ„Åó„Å¶ÈÄèÊòéÊÄß„Çí‰øù„Å§Ôºâ
this.updateState({
isListening: true,
sessionStartTime: Date.now(),
lastActivity: Date.now()
});
return true;
} catch (error) {
console.error('‚ùå Âº∑Âà∂ÂÜçÈñã„Ç®„É©„Éº:', error);
throw error;
}
}
handleError(event) {
const errorType = event.error;
let recognitionState = 'error';
let errorMessage = 'Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü';
// üîß Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂Ôºö„Ç®„É©„Éº„Çø„Ç§„ÉóÂà•„ÅÆÁä∂ÊÖãÁÆ°ÁêÜ
switch (errorType) {
case 'network':
recognitionState = 'network-error';
errorMessage = '„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü';
break;
case 'not-allowed':
recognitionState = 'permission-denied';
errorMessage = '„Éû„Ç§„ÇØ„ÅÆË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô';
break;
case 'aborted':
recognitionState = 'error';
errorMessage = 'Èü≥Â£∞Ë™çË≠ò„Åå‰∏≠Êñ≠„Åï„Çå„Åæ„Åó„Åü';
break;
default:
recognitionState = 'error';
errorMessage = `Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº: ${errorType}`;
}
this.updateState({
recognitionState,
lastError: errorMessage,
errorCount: this.state.errorCount + 1
});
// üîß Ëá™ÂãïÂæ©ÊóßË©¶Ë°åÔºàpermission-denied‰ª•Â§ñÔºâ
if (recognitionState !== 'permission-denied') {
this.attemptAutoRecovery();
}
}
// =================================================================================
// Ëá™ÂãïÂæ©Êóß„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
attemptAutoRecovery() {
if (!this.autoRecovery.enabled) return;
if (this.autoRecovery.currentAttempt >= this.autoRecovery.maxAttempts) {
console.warn('‚ö†Ô∏è Ëá™ÂãïÂæ©ÊóßË©¶Ë°åÂõûÊï∞‰∏äÈôê„Å´ÈÅî„Åó„Åæ„Åó„Åü');
return;
}
this.autoRecovery.currentAttempt++;
this.autoRecovery.lastAttemptTime = Date.now();
console.log(`üîÑ Ëá™ÂãïÂæ©ÊóßË©¶Ë°å ${this.autoRecovery.currentAttempt}/${this.autoRecovery.maxAttempts}`);
// ÈÅÖÂª∂Âæå„Å´ÂÜçÈñã
setTimeout(() => {
this.performAutoRecovery();
}, this.autoRecovery.retryDelay);
}
async performAutoRecovery() {
try {
console.log('üöÄ Ëá™ÂãïÂæ©ÊóßÂÆüË°å');
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãÁ¢∫Ë™ç
if (!window.AppState?.sessionActive) {
console.log('üö´ „Çª„ÉÉ„Ç∑„Éß„É≥Èùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ - Ëá™ÂãïÂæ©Êóß‰∏≠Ê≠¢');
return;
}
// üîß ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢„ÅÆÁ¢∫Ë™çÔºàÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†‰ΩøÁî®Ôºâ
if (this.state.recognitionState === 'paused') {
console.log('‚è∏Ô∏è ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠„ÅÆ„Åü„ÇÅËá™ÂãïÂæ©Êóß„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// Èü≥Â£∞Ë™çË≠òÂÜçÈñã
await this.startRecognition();
} catch (error) {
console.error('‚ùå Ëá™ÂãïÂæ©Êóß„Ç®„É©„Éº:', error);
// Ê¨°ÂõûË©¶Ë°å
if (this.autoRecovery.currentAttempt < this.autoRecovery.maxAttempts) {
this.attemptAutoRecovery();
}
}
}
resetAutoRecovery() {
this.autoRecovery.currentAttempt = 0;
this.autoRecovery.lastAttemptTime = null;
}
// =================================================================================
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆ‰∫íÊèõÊÄß - Phase 1BÊã°Âºµ
// =================================================================================
updateAppStateTranscript(interimTranscript, finalTranscript) {
// üéØ Phase 1B: Á∑®ÈõÜ‰øùË≠∑„ÉÅ„Çß„ÉÉ„ÇØ
if (TranscriptProtectionManager.shouldPreventVoiceUpdate('voice-module')) {
console.log('üõ°Ô∏è Á∑®ÈõÜ‰øùË≠∑‰∏≠ - Èü≥Â£∞Êõ¥Êñ∞„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
if (!window.AppState) return;
// üéØ Phase 1B: StateUpdateController„Å´„Çà„ÇãÂÆâÂÖ®„Å™Êõ¥Êñ∞
window.StateUpdateController?.preventCircularUpdate('voice', 'updateAppStateTranscript', () => {
// ÁèæÂú®„ÅÆÂÖ•Âäõ‰∏≠„ÉÜ„Ç≠„Çπ„Éà„ÇíÊõ¥Êñ∞
const allConfirmedText = window.AppState.transcriptHistory.join(' ');
window.AppState.currentTranscript = allConfirmedText + (allConfirmedText ? ' ' : '') + interimTranscript;
// ÁîªÈù¢Êõ¥Êñ∞
if (typeof window.updateTranscriptDisplay === 'function') {
window.updateTranscriptDisplay();
}
// ÊúÄÁµÇÁµêÊûú„ÅÆÂá¶ÁêÜ
if (finalTranscript.trim()) {
// üõ°Ô∏è ÊúÄÁµÇÁµêÊûúÂá¶ÁêÜÂâç„ÅÆÂÜç‰øùË≠∑„ÉÅ„Çß„ÉÉ„ÇØ
if (TranscriptProtectionManager.shouldPreventVoiceUpdate('voice-module-final')) {
console.log('üõ°Ô∏è Á∑®ÈõÜ‰øùË≠∑‰∏≠ - ÊúÄÁµÇÁµêÊûúÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
window.AppState.transcriptHistory.push(finalTranscript.trim());
const updatedAllText = window.AppState.transcriptHistory.join(' ');
window.AppState.currentTranscript = updatedAllText;
if (typeof window.updateTranscriptDisplay === 'function') {
window.updateTranscriptDisplay();
}
if (typeof window.processFinalTranscript === 'function') {
window.processFinalTranscript(finalTranscript.trim());
}
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÁµêÊûúÂèçÊò†ÂÆå‰∫Ü (Phase 1B‰øùË≠∑‰∏ã)');
}
});
}
// =================================================================================
// Áä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
updateState(updates) {
const oldState = { ...this.state };
Object.assign(this.state, updates);
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÈÄöÁü•
this.stateManager.updateState('voice', this.state);
// üé® Êñ∞Ê©üËÉΩ: Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÅÆÊõ¥Êñ∞
if (updates.recognitionState && window.updateVoiceStateDisplay) {
window.updateVoiceStateDisplay(updates.recognitionState);
}
// Áä∂ÊÖãÂ§âÊõ¥„Çí„É™„Çπ„Éä„Éº„Å´ÈÄöÁü•
this.notifyListeners('stateChange', {
oldState,
newState: this.state,
changes: updates
});
console.log(`üìä Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÊõ¥Êñ∞:`, updates);
}
getState() {
return { ...this.state };
}
// =================================================================================
// Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂Ôºö„É¶„Éº„Ç∂„ÉºÂêë„ÅëÁä∂ÊÖãÊÉÖÂ†±
// =================================================================================
getUserStatus() {
const status = {
currentState: this.state.recognitionState,
isListening: this.state.isListening,
canStart: this.state.recognitionState === 'idle' && this.state.microphonePermissionGranted,
canStop: this.state.recognitionState === 'active',
canToggle: this.state.microphonePermissionGranted,
needsPermission: !this.state.microphonePermissionGranted,
errorMessage: this.state.lastError,
isAutoRecovering: this.autoRecovery.currentAttempt > 0
};
// üé§ Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÔºöÁä∂ÊÖãË°®Á§∫„É°„ÉÉ„Çª„Éº„Ç∏
const stateMessages = {
'starting': 'Ë™çË≠ò„ÇíÈñãÂßã‰∏≠...',
'active': 'Ë™çË≠ò‰∏≠',
'stopping': 'Ë™çË≠ò„Çí‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠ - ‚Üí„ÅßÂÜçÈñã',
'error': 'Ë™çË≠ò„Ç®„É©„Éº - Ëá™ÂãïÂÜçÈñãË©¶Ë°å‰∏≠',
'network-error': '„Ç®„É©„Éº - Ëá™ÂãïÂÜçÈñãË©¶Ë°å‰∏≠',
'permission-denied': '„Éû„Ç§„ÇØ„ÅÆË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô',
'idle': 'ÂæÖÊ©ü‰∏≠'
};
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÔºöÁä∂ÊÖãËâ≤
const stateColors = {
'starting': 'gray',
'active': 'green',
'stopping': 'yellow',
'error': 'red',
'network-error': 'red',
'permission-denied': 'red',
'idle': 'gray'
};
status.userMessage = stateMessages[status.currentState] || '‰∏çÊòé„Å™Áä∂ÊÖã';
status.stateColor = stateColors[status.currentState] || 'gray';
// „É¶„Éº„Ç∂„ÉºÂêë„Åë„Ç¢„ÇØ„Ç∑„Éß„É≥
if (status.needsPermission) {
status.userAction = '„Éû„Ç§„ÇØ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Ë®±ÂèØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ';
} else if (status.currentState === 'active') {
status.userAction = '‰∏ÄÊôÇÂÅúÊ≠¢„Åô„Çã„Å´„ÅØ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ';
} else if (status.currentState === 'idle') {
status.userAction = 'ÈñãÂßã„Åô„Çã„Å´„ÅØ„Éû„Ç§„ÇØ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ';
} else if (status.currentState === 'stopping') {
status.userAction = 'ÂÜçÈñã„Åô„Çã„Å´„ÅØÂÜçÈñã„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ';
} else if (status.isAutoRecovering) {
status.userAction = 'Ëá™ÂãïÂæ©Êóß‰∏≠...';
} else {
status.userAction = 'ÂÜçË©¶Ë°å„Åô„Çã„Å´„ÅØ„Éû„Ç§„ÇØ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ';
}
return status;
}
// =================================================================================
// „É™„Çπ„Éä„ÉºÁÆ°ÁêÜ
// =================================================================================
addEventListener(callback) {
this.listeners.add(callback);
}
removeEventListener(callback) {
this.listeners.delete(callback);
}
notifyListeners(event, data) {
this.listeners.forEach(callback => {
try {
callback(event, data);
} catch (error) {
console.error('‚ùå „É™„Çπ„Éä„ÉºÈÄöÁü•„Ç®„É©„Éº:', error);
}
});
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„ÉªÁµ±Ë®àÊÉÖÂ†±
// =================================================================================
getDebugInfo() {
return {
state: this.state,
autoRecovery: this.autoRecovery,
isInitialized: this.isInitialized,
listenerCount: this.listeners.size
};
}
getStatistics() {
return {
recognitionCount: this.state.recognitionCount,
errorCount: this.state.errorCount,
autoRecoveryAttempts: this.state.autoRecoveryAttempts,
sessionDuration: this.state.sessionStartTime ? Date.now() - this.state.sessionStartTime : 0,
lastActivity: this.state.lastActivity
};
}
}
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
window.VoiceModule = VoiceModule;
console.log('‚úÖ VoiceModule Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü - Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÂØæÂøú');
console.log('üé§ ‰∏ªË¶ÅÊ©üËÉΩ:');
console.log(' - 6„Å§„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖãÁÆ°ÁêÜ');
console.log(' - Ëá™ÂãïÂæ©Êóß„Ç∑„Çπ„ÉÜ„É†');
console.log(' - ‰ºÅÊ•≠„Çª„ÉÉ„Ç∑„Éß„É≥ÊúÄÈÅ©Âåñ');
console.log(' - Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†‰∫íÊèõÊÄß');
/* === ui-module.js === */
/**
* UIÁä∂ÊÖã„É¢„Ç∏„É•„Éº„É´ - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* „É¶„Éº„Ç∂„ÉºÂêë„ÅëÁä∂ÊÖãË°®Á§∫„Å®„Ç¨„Ç§„ÉÄ„É≥„ÇπÁÆ°ÁêÜ
*/
// üîß SYSTEM CONTROL FLAGS - „Ç∑„Çπ„ÉÜ„É†Âà∂Âæ°„Éï„É©„Ç∞
const UI_MODULE_CONFIG = {
ENABLED: false, // üö´ UIModuleÊ©üËÉΩ„ÇíÁÑ°ÂäπÂåñ
AUTO_INITIALIZE: false, // üö´ Ëá™ÂãïÂàùÊúüÂåñ„ÇíÁÑ°ÂäπÂåñ
RIGHT_PANE_UPDATES: false, // üö´ Âè≥„Éö„Ç§„É≥Êõ¥Êñ∞„ÇíÁÑ°ÂäπÂåñ
STATUS_DISPLAY: false, // üö´ Áä∂ÊÖãË°®Á§∫„ÇíÁÑ°ÂäπÂåñ
MANUAL_ONLY: true, // ‚úÖ ÊâãÂãïÂàùÊúüÂåñ„ÅÆ„ÅøË®±ÂèØ
DEBUG_MODE: false
};
class UIModule {
constructor(stateManager) {
this.stateManager = stateManager;
this.isInitialized = false;
// üîß ÁÑ°ÂäπÂåñ„Éï„É©„Ç∞„ÉÅ„Çß„ÉÉ„ÇØ
this.enabled = UI_MODULE_CONFIG.ENABLED;
this.rightPaneEnabled = UI_MODULE_CONFIG.RIGHT_PANE_UPDATES;
this.statusDisplayEnabled = UI_MODULE_CONFIG.STATUS_DISPLAY;
if (!this.enabled) {
console.log('üö´ UIModule: „Ç∑„Çπ„ÉÜ„É†„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
}
// UIÁä∂ÊÖã
this.state = {
// ÁîªÈù¢Áä∂ÊÖã
currentScreen: 'login', // login, setup, main, settings, knowledge
theme: 'light', // light, dark, colorful
// Ë°®Á§∫Áä∂ÊÖã
isLoading: false,
loadingMessage: '',
// „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„Çπ
userMessage: '',
userAction: '',
availableActions: [],
// ÈÄöÁü•„Éª„Ç¢„É©„Éº„Éà
notifications: [],
alerts: [],
// „É¢„Éº„ÉÄ„É´„Éª„ÉÄ„Ç§„Ç¢„É≠„Ç∞
modalOpen: false,
modalType: null,
modalData: null,
// „É¨„Çπ„Éù„É≥„Ç∑„Éñ
isMobile: false,
screenSize: 'desktop'
};
// UIË¶ÅÁ¥†„Å∏„ÅÆÂèÇÁÖß
this.elements = {
statusDisplay: null,
userGuidance: null,
actionButtons: null,
notifications: null
};
console.log('üé® UIModuleÂàùÊúüÂåñÂÆå‰∫Ü');
}
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) {
console.log('üö´ UIModule: ÁÑ°ÂäπÂåñ„Å´„Çà„ÇäÂàùÊúüÂåñ„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
if (this.isInitialized) return true;
try {
console.log('üîÑ UI„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÈñãÂßã');
// ÁîªÈù¢„Çµ„Ç§„Ç∫„ÅÆÊ§úÂá∫
this.detectScreenSize();
// UIË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
this.createUIElements();
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
this.setupEventListeners();
// ÂàùÊúüÁä∂ÊÖã„ÅÆË°®Á§∫
this.updateDisplay();
this.isInitialized = true;
console.log('‚úÖ UI„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå UI„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// ÊâãÂãïÂà∂Âæ°„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
enable() {
this.enabled = true;
console.log('‚úÖ UIModule: „Ç∑„Çπ„ÉÜ„É†„ÇíÊúâÂäπÂåñ');
return this;
}
disable() {
this.enabled = false;
console.log('üö´ UIModule: „Ç∑„Çπ„ÉÜ„É†„ÇíÁÑ°ÂäπÂåñ');
this.cleanup();
return this;
}
enableRightPane() {
this.rightPaneEnabled = true;
console.log('‚úÖ UIModule: Âè≥„Éö„Ç§„É≥Êõ¥Êñ∞„ÇíÊúâÂäπÂåñ');
return this;
}
disableRightPane() {
this.rightPaneEnabled = false;
console.log('üö´ UIModule: Âè≥„Éö„Ç§„É≥Êõ¥Êñ∞„ÇíÁÑ°ÂäπÂåñ');
return this;
}
cleanup() {
// UIË¶ÅÁ¥†„ÅÆÂâäÈô§
Object.values(this.elements).forEach(element => {
if (element && element.parentNode) {
element.parentNode.removeChild(element);
}
});
this.elements = {};
this.isInitialized = false;
console.log('üßπ UIModule: „ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÂÆå‰∫Ü');
}
// =================================================================================
// UIË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
// =================================================================================
createUIElements() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
// Áä∂ÊÖãË°®Á§∫„Éë„Éç„É´„ÅÆ‰ΩúÊàê
this.createStatusDisplay();
// „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„Çπ„Éë„Éç„É´„ÅÆ‰ΩúÊàê
this.createUserGuidance();
// ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†„ÅÆ‰ΩúÊàê
this.createNotificationSystem();
console.log('üé® UIË¶ÅÁ¥†‰ΩúÊàêÂÆå‰∫Ü');
}
createStatusDisplay() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled || !this.statusDisplayEnabled) return;
// Êó¢Â≠ò„ÅÆË¶ÅÁ¥†„Çí„ÉÅ„Çß„ÉÉ„ÇØ
let statusContainer = document.getElementById('unified-status-display');
if (!statusContainer) {
statusContainer = document.createElement('div');
statusContainer.id = 'unified-status-display';
statusContainer.className = 'unified-status-display';
// „É°„Ç§„É≥ÁîªÈù¢„Å´ËøΩÂä†
const mainContainer = document.querySelector('.main-container') ||
document.querySelector('#main-screen') ||
document.body;
mainContainer.appendChild(statusContainer);
}
statusContainer.innerHTML = `
<div class="status-header">
<h3>üìä „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã</h3>
<button class="status-toggle" onclick="window.UIModule?.toggleStatusDisplay()">
<span class="toggle-icon">‚ñº</span>
</button>
</div>
<div class="status-content">
<div class="status-section">
<div class="status-item">
<label>üé§ Èü≥Â£∞Ë™çË≠ò:</label>
<span id="voice-status" class="status-value">ÂàùÊúüÂåñ‰∏≠...</span>
</div>
<div class="status-item">
<label>üì± „Ç∑„Çπ„ÉÜ„É†:</label>
<span id="system-status" class="status-value">Ê∫ñÂÇô‰∏≠...</span>
</div>
<div class="status-item">
<label>üåê „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ:</label>
<span id="network-status" class="status-value">Á¢∫Ë™ç‰∏≠...</span>
</div>
</div>
</div>
`;
this.elements.statusDisplay = statusContainer;
}
createUserGuidance() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
// Êó¢Â≠ò„ÅÆË¶ÅÁ¥†„Çí„ÉÅ„Çß„ÉÉ„ÇØ
let guidanceContainer = document.getElementById('user-guidance-display');
if (!guidanceContainer) {
guidanceContainer = document.createElement('div');
guidanceContainer.id = 'user-guidance-display';
guidanceContainer.className = 'user-guidance-display';
// „É°„Ç§„É≥ÁîªÈù¢„Å´ËøΩÂä†
const mainContainer = document.querySelector('.main-container') ||
document.querySelector('#main-screen') ||
document.body;
mainContainer.appendChild(guidanceContainer);
}
guidanceContainer.innerHTML = `
<div class="guidance-content">
<div class="user-message">
<div class="message-icon">üí°</div>
<div class="message-text">
<div id="user-message-text">„Ç∑„Çπ„ÉÜ„É†„ÇíÂàùÊúüÂåñ„Åó„Å¶„ÅÑ„Åæ„Åô...</div>
<div id="user-action-text" class="action-text">„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ</div>
</div>
</div>
<div class="available-actions" id="available-actions">
<!-- ÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„ÇãÊìç‰Ωú„Éú„Çø„É≥ -->
</div>
</div>
`;
this.elements.userGuidance = guidanceContainer;
}
createNotificationSystem() {
// ÈÄöÁü•„Ç≥„É≥„ÉÜ„Éä„ÅÆ‰ΩúÊàê
let notificationContainer = document.getElementById('notification-container');
if (!notificationContainer) {
notificationContainer = document.createElement('div');
notificationContainer.id = 'notification-container';
notificationContainer.className = 'notification-container';
document.body.appendChild(notificationContainer);
}
this.elements.notifications = notificationContainer;
}
setupEventListeners() {
// ÁîªÈù¢„Çµ„Ç§„Ç∫Â§âÊõ¥„ÅÆÁõ£Ë¶ñ
window.addEventListener('resize', () => {
this.detectScreenSize();
});
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÁä∂ÊÖãÂ§âÊõ¥„ÇíÁõ£Ë¶ñ
this.stateManager.addEventListener((eventType, data) => {
if (eventType === 'stateChange') {
this.handleStateChange(data);
}
});
}
// =================================================================================
// Áä∂ÊÖãË°®Á§∫„ÅÆÊõ¥Êñ∞
// =================================================================================
updateDisplay() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
this.updateStatusDisplay();
this.updateUserGuidance();
this.updateNotifications();
}
updateNotifications() {
// ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
const globalState = this.stateManager.getState();
// Êñ∞„Åó„ÅÑÈÄöÁü•„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (globalState.ui && globalState.ui.notifications) {
globalState.ui.notifications.forEach(notification => {
if (!notification.displayed) {
this.showNotification(notification.message, notification.type, notification.duration);
notification.displayed = true;
}
});
}
// „Ç®„É©„ÉºÁä∂ÊÖã„ÅÆÈÄöÁü•
if (globalState.voice && globalState.voice.recognitionState === 'error') {
const errorMessage = globalState.voice.lastError || 'Èü≥Â£∞Ë™çË≠ò„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü';
this.showNotification(errorMessage, 'error');
}
}
updateStatusDisplay() {
const globalState = this.stateManager.getState();
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆË°®Á§∫
const voiceStatus = document.getElementById('voice-status');
if (voiceStatus && globalState.voice) {
const voice = globalState.voice;
const statusText = this.getVoiceStatusText(voice.recognitionState);
const statusClass = this.getVoiceStatusClass(voice.recognitionState);
voiceStatus.textContent = statusText;
voiceStatus.className = `status-value ${statusClass}`;
}
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆË°®Á§∫
const systemStatus = document.getElementById('system-status');
if (systemStatus && globalState.system) {
const system = globalState.system;
systemStatus.textContent = system.phase || 'Ê∫ñÂÇô‰∏≠';
systemStatus.className = `status-value ${system.isActive ? 'active' : 'inactive'}`;
}
// „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁä∂ÊÖã„ÅÆË°®Á§∫
const networkStatus = document.getElementById('network-status');
if (networkStatus && globalState.network) {
const network = globalState.network;
networkStatus.textContent = network.isOnline ? 'Êé•Á∂ö‰∏≠' : 'ÂàáÊñ≠';
networkStatus.className = `status-value ${network.isOnline ? 'online' : 'offline'}`;
}
}
updateUserGuidance() {
const globalState = this.stateManager.getState();
// „É¶„Éº„Ç∂„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊõ¥Êñ∞
const messageText = document.getElementById('user-message-text');
const actionText = document.getElementById('user-action-text');
const actionsContainer = document.getElementById('available-actions');
if (messageText && actionText && actionsContainer) {
// ÁèæÂú®„ÅÆÁä∂ÊÖã„Å´Âü∫„Å•„ÅÑ„Å¶„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÁîüÊàê
const guidance = this.generateUserGuidance(globalState);
messageText.textContent = guidance.message;
actionText.textContent = guidance.action;
// Âà©Áî®ÂèØËÉΩ„Å™Êìç‰Ωú„Éú„Çø„É≥„ÇíÁîüÊàê
this.renderActionButtons(actionsContainer, guidance.availableActions);
}
}
generateUserGuidance(globalState) {
// üóëÔ∏è „Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÆåÂÖ®„Å´ÂâäÈô§
// „É¶„Éº„Ç∂„Éº„Åã„Çâ„ÅÆË¶ÅÊ±Ç„Å´„Çà„Çä„ÄÅÈÇ™È≠î„Å™„Ç¨„Ç§„ÉÄ„É≥„Çπ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫„Åó„Å™„ÅÑ
return {
message: '',
action: '',
availableActions: []
};
}
renderActionButtons(container, actions) {
container.innerHTML = '';
actions.forEach(action => {
const button = document.createElement('button');
button.id = action.id;
button.className = 'action-button';
button.textContent = action.text;
button.onclick = () => this.handleActionClick(action.action);
container.appendChild(button);
});
}
handleActionClick(actionType) {
console.log('üîò „É¶„Éº„Ç∂„Éº„Ç¢„ÇØ„Ç∑„Éß„É≥:', actionType);
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´Êìç‰Ωú„ÇíÈÄöÁü•
this.stateManager.dispatchAction(actionType);
// ÂêÑÁ®ÆÊìç‰Ωú„ÅÆÂá¶ÁêÜ
switch (actionType) {
case 'requestMicrophone':
this.requestMicrophonePermission();
break;
case 'startVoiceRecognition':
this.startVoiceRecognition();
break;
case 'stopVoiceRecognition':
this.stopVoiceRecognition();
break;
case 'pauseVoiceRecognition':
this.pauseVoiceRecognition();
break;
case 'resumeVoiceRecognition':
this.resumeVoiceRecognition();
break;
case 'retryVoiceRecognition':
this.retryVoiceRecognition();
break;
case 'openSettings':
this.openSettings();
break;
}
}
// =================================================================================
// Êìç‰ΩúÂá¶ÁêÜ
// =================================================================================
async requestMicrophonePermission() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
await voiceModule.checkMicrophonePermission();
}
}
async startVoiceRecognition() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
await voiceModule.startRecognition();
}
}
stopVoiceRecognition() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
voiceModule.stopRecognition();
}
}
pauseVoiceRecognition() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
voiceModule.pauseRecognition();
}
}
resumeVoiceRecognition() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
voiceModule.resumeRecognition();
}
}
async retryVoiceRecognition() {
const voiceModule = this.stateManager.getModule('voice');
if (voiceModule) {
// „Ç®„É©„ÉºÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„Åã„ÇâÂÜçÈñã
voiceModule.updateState({ recognitionState: 'idle', lastError: null });
await voiceModule.startRecognition();
}
}
openSettings() {
// Ë®≠ÂÆöÁîªÈù¢„ÇíÈñã„ÅèÂá¶ÁêÜ
console.log('‚öôÔ∏è Ë®≠ÂÆöÁîªÈù¢„ÇíÈñã„Åç„Åæ„Åô');
// ÂÆüÈöõ„ÅÆË®≠ÂÆöÁîªÈù¢Ë°®Á§∫Âá¶ÁêÜ„ÅØ„Åì„Åì„Å´ÂÆüË£Ö
}
// =================================================================================
// ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
showNotification(message, type = 'info', duration = 5000) {
const notification = {
id: Date.now(),
message,
type, // info, success, warning, error
timestamp: new Date(),
duration
};
this.state.notifications.push(notification);
this.renderNotification(notification);
// Ëá™ÂãïÂâäÈô§
setTimeout(() => {
this.removeNotification(notification.id);
}, duration);
}
renderNotification(notification) {
const notificationElement = document.createElement('div');
notificationElement.id = `notification-${notification.id}`;
notificationElement.className = `notification notification-${notification.type}`;
notificationElement.innerHTML = `
<div class="notification-content">
<div class="notification-icon">${this.getNotificationIcon(notification.type)}</div>
<div class="notification-message">${notification.message}</div>
<button class="notification-close" onclick="window.UIModule?.removeNotification(${notification.id})">√ó</button>
</div>
`;
this.elements.notifications.appendChild(notificationElement);
// „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
setTimeout(() => {
notificationElement.classList.add('show');
}, 100);
}
removeNotification(id) {
const notificationElement = document.getElementById(`notification-${id}`);
if (notificationElement) {
notificationElement.classList.add('hide');
setTimeout(() => {
notificationElement.remove();
}, 300);
}
// Áä∂ÊÖã„Åã„Çâ„ÇÇÂâäÈô§
this.state.notifications = this.state.notifications.filter(n => n.id !== id);
}
getNotificationIcon(type) {
const icons = {
info: '‚ÑπÔ∏è',
success: '‚úÖ',
warning: '‚ö†Ô∏è',
error: '‚ùå'
};
return icons[type] || icons.info;
}
// =================================================================================
// „Éò„É´„Éë„Éº„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
getVoiceStatusText(state) {
const statusTexts = {
idle: 'ÂæÖÊ©ü‰∏≠',
starting: 'ÈñãÂßã‰∏≠...',
active: 'ËÅû„ÅÑ„Å¶„ÅÑ„Åæ„Åô',
paused: '‰∏ÄÊôÇÂÅúÊ≠¢',
stopping: 'ÂÅúÊ≠¢‰∏≠...',
error: '„Ç®„É©„Éº'
};
return statusTexts[state] || state;
}
getVoiceStatusClass(state) {
const statusClasses = {
idle: 'idle',
starting: 'loading',
active: 'active',
paused: 'paused',
stopping: 'loading',
error: 'error'
};
return statusClasses[state] || 'unknown';
}
toggleStatusDisplay() {
const statusContent = this.elements.statusDisplay?.querySelector('.status-content');
const toggleIcon = this.elements.statusDisplay?.querySelector('.toggle-icon');
if (statusContent && toggleIcon) {
const isVisible = statusContent.style.display !== 'none';
statusContent.style.display = isVisible ? 'none' : 'block';
toggleIcon.textContent = isVisible ? '‚ñ∂' : '‚ñº';
}
}
// =================================================================================
// Áä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
updateState(updates) {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
Object.assign(this.state, updates);
this.stateManager.updateState('ui', this.state);
}
getState() {
return { ...this.state };
}
handleStateChange(event) {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
// Áä∂ÊÖãÂ§âÊõ¥„Å´Âøú„Åò„Å¶UI„ÇíÊõ¥Êñ∞
this.updateDisplay();
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞
// =================================================================================
getDebugInfo() {
return {
module: 'UIModule',
initialized: this.isInitialized,
state: this.state,
elementsCreated: Object.keys(this.elements).filter(key => this.elements[key]).length
};
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
debugStatus() {
const status = {
enabled: this.enabled,
rightPaneEnabled: this.rightPaneEnabled,
statusDisplayEnabled: this.statusDisplayEnabled,
isInitialized: this.isInitialized,
elementsCreated: Object.keys(this.elements).length,
config: UI_MODULE_CONFIG
};
console.log('üîç UIModule - Áä∂Ê≥Å:', status);
return status;
}
}
// CommonJS/ES„É¢„Ç∏„É•„Éº„É´ÂØæÂøú
if (typeof module !== 'undefined' && module.exports) {
module.exports = UIModule;
} else if (typeof window !== 'undefined') {
window.UIModule = UIModule;
}
/* === core.js === */
/**
* Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - „Ç≥„Ç¢
* „É¢„Ç∏„É•„Éº„É´Âåñ„Åï„Çå„ÅüÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ‰∏≠Ê†∏
*/
class UnifiedStateManagerCore {
constructor() {
this.isInitialized = false;
// ÂêÑ„É¢„Ç∏„É•„Éº„É´„ÅÆÁÆ°ÁêÜ
this.modules = new Map();
// Áµ±‰∏ÄÁä∂ÊÖã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
this.state = {
system: {
phase: 'initialization',
isActive: false,
lastUpdate: Date.now()
},
voice: null,
ui: null,
session: null,
network: {
isOnline: navigator.onLine,
lastCheck: Date.now()
}
};
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
this.listeners = new Set();
// „Ç¢„ÇØ„Ç∑„Éß„É≥Âá¶ÁêÜ
this.actionHandlers = new Map();
console.log('üèóÔ∏è UnifiedStateManagerCoreÂàùÊúüÂåñÂÆå‰∫Ü');
}
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
if (this.isInitialized) return true;
try {
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁõ£Ë¶ñ„ÅÆÈñãÂßã
this.setupNetworkMonitoring();
// ÂêÑ„É¢„Ç∏„É•„Éº„É´„ÅÆÂàùÊúüÂåñ
await this.initializeModules();
// „Ç¢„ÇØ„Ç∑„Éß„É≥„Éè„É≥„Éâ„É©„Éº„ÅÆË®≠ÂÆö
this.setupActionHandlers();
this.updateState('system', {
phase: 'ready',
isActive: true
});
this.isInitialized = true;
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
this.updateState('system', {
phase: 'error',
isActive: false,
lastError: error.message
});
return false;
}
}
async initializeModules() {
console.log('üîÑ „É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÈñãÂßã');
// VoiceModule„ÅÆÂàùÊúüÂåñ
if (window.VoiceModule) {
const voiceModule = new window.VoiceModule(this);
this.modules.set('voice', voiceModule);
await voiceModule.initialize();
}
// UIModule„ÅÆÂàùÊúüÂåñ
if (window.UIModule) {
const uiModule = new window.UIModule(this);
this.modules.set('ui', uiModule);
await uiModule.initialize();
}
// SessionModule„ÅÆÂàùÊúüÂåñÔºàÂ∞ÜÊù•ÂÆüË£ÖÔºâ
// NetworkModule„ÅÆÂàùÊúüÂåñÔºàÂ∞ÜÊù•ÂÆüË£ÖÔºâ
console.log('‚úÖ „É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
}
setupNetworkMonitoring() {
// „Ç™„É≥„É©„Ç§„É≥/„Ç™„Éï„É©„Ç§„É≥Áä∂ÊÖã„ÅÆÁõ£Ë¶ñ
window.addEventListener('online', () => {
this.updateState('network', {
isOnline: true,
lastCheck: Date.now()
});
});
window.addEventListener('offline', () => {
this.updateState('network', {
isOnline: false,
lastCheck: Date.now()
});
});
}
setupActionHandlers() {
// Èü≥Â£∞Ë™çË≠òÈñ¢ÈÄ£„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥
this.actionHandlers.set('requestMicrophone', async () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
await voiceModule.checkMicrophonePermission();
}
});
this.actionHandlers.set('startVoiceRecognition', async () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
await voiceModule.startRecognition();
}
});
this.actionHandlers.set('stopVoiceRecognition', () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
voiceModule.stopRecognition();
}
});
this.actionHandlers.set('pauseVoiceRecognition', () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
voiceModule.pauseRecognition();
}
});
this.actionHandlers.set('resumeVoiceRecognition', () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
voiceModule.resumeRecognition();
}
});
this.actionHandlers.set('retryVoiceRecognition', async () => {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
voiceModule.updateState({ recognitionState: 'idle', lastError: null });
await voiceModule.startRecognition();
}
});
// UIÈñ¢ÈÄ£„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥
this.actionHandlers.set('openSettings', () => {
console.log('‚öôÔ∏è Ë®≠ÂÆöÁîªÈù¢„ÇíÈñã„Åç„Åæ„Åô');
// ÂÆüÈöõ„ÅÆË®≠ÂÆöÁîªÈù¢Ë°®Á§∫Âá¶ÁêÜ„ÅØ„Åì„Åì„Å´ÂÆüË£Ö
});
}
// =================================================================================
// Áä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
updateState(moduleKey, updates) {
if (!this.state.hasOwnProperty(moduleKey)) {
console.warn(`‚ö†Ô∏è Êú™Áü•„ÅÆ„É¢„Ç∏„É•„Éº„É´: ${moduleKey}`);
return;
}
const oldState = this.state[moduleKey] ? { ...this.state[moduleKey] } : null;
if (this.state[moduleKey]) {
Object.assign(this.state[moduleKey], updates);
} else {
this.state[moduleKey] = { ...updates };
}
// ÊúÄÁµÇÊõ¥Êñ∞ÊôÇÂàª„ÇíË®òÈå≤
this.state.system.lastUpdate = Date.now();
// Áä∂ÊÖãÂ§âÊõ¥„Ç§„Éô„É≥„Éà„ÇíÁô∫ÁÅ´
this.notifyListeners('stateChange', {
module: moduleKey,
oldState,
newState: this.state[moduleKey],
changes: updates,
globalState: this.getState()
});
console.log(`üìä Áä∂ÊÖãÊõ¥Êñ∞: ${moduleKey}`, updates);
}
getState() {
return JSON.parse(JSON.stringify(this.state));
}
getModuleState(moduleKey) {
return this.state[moduleKey] ? { ...this.state[moduleKey] } : null;
}
// =================================================================================
// „É¢„Ç∏„É•„Éº„É´ÁÆ°ÁêÜ
// =================================================================================
getModule(moduleKey) {
return this.modules.get(moduleKey);
}
hasModule(moduleKey) {
return this.modules.has(moduleKey);
}
getAllModules() {
return Array.from(this.modules.keys());
}
// =================================================================================
// „Ç¢„ÇØ„Ç∑„Éß„É≥Âá¶ÁêÜ
// =================================================================================
async dispatchAction(actionType, payload = null) {
console.log('üöÄ „Ç¢„ÇØ„Ç∑„Éß„É≥ÂÆüË°å:', actionType, payload);
const handler = this.actionHandlers.get(actionType);
if (handler) {
try {
await handler(payload);
} catch (error) {
console.error(`‚ùå „Ç¢„ÇØ„Ç∑„Éß„É≥ÂÆüË°å„Ç®„É©„Éº: ${actionType}`, error);
this.notifyListeners('actionError', {
actionType,
error: error.message,
payload
});
}
} else {
console.warn(`‚ö†Ô∏è Êú™Áü•„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥: ${actionType}`);
}
}
registerActionHandler(actionType, handler) {
this.actionHandlers.set(actionType, handler);
}
// =================================================================================
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºÁÆ°ÁêÜ
// =================================================================================
addEventListener(callback) {
if (typeof callback === 'function') {
this.listeners.add(callback);
} else {
console.warn('‚ö†Ô∏è addEventListener: ÁÑ°Âäπ„Å™„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ:', typeof callback, callback);
}
}
removeEventListener(callback) {
this.listeners.delete(callback);
}
notifyListeners(eventType, data) {
this.listeners.forEach(callback => {
try {
if (typeof callback === 'function') {
callback(eventType, data);
} else {
console.warn('‚ö†Ô∏è ÁÑ°Âäπ„Å™„É™„Çπ„Éä„Éº:', typeof callback, callback);
// ÁÑ°Âäπ„Å™„É™„Çπ„Éä„Éº„ÇíÂâäÈô§
this.listeners.delete(callback);
}
} catch (error) {
console.error('‚ùå „É™„Çπ„Éä„Éº„Ç®„É©„Éº:', error);
// „Ç®„É©„Éº„ÇíËµ∑„Åì„Åô„É™„Çπ„Éä„Éº„ÇíÂâäÈô§
this.listeners.delete(callback);
}
});
}
// =================================================================================
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆ‰∫íÊèõÊÄß
// =================================================================================
// Êó¢Â≠ò„ÅÆAppState„Å®„ÅÆ‰∫íÊèõÊÄß„ÇíÊèê‰æõ
getAppState() {
return {
sessionActive: this.state.system?.isActive || false,
microphoneActive: this.state.voice?.recognitionState === 'active' || false,
currentPhase: this.state.system?.phase || 'initialization',
lastError: this.state.voice?.lastError || null
};
}
// Êó¢Â≠ò„ÅÆConversationGatekeeper„Å®„ÅÆ‰∫íÊèõÊÄß„ÇíÊèê‰æõ
getConversationState() {
return {
isListening: this.state.voice?.isListening || false,
canSpeak: this.state.voice?.recognitionState === 'idle' || false,
isProcessing: this.state.voice?.recognitionState === 'starting' || false
};
}
// =================================================================================
// „É¶„Éº„Ç∂„ÉºÂêë„ÅëÊÉÖÂ†±
// =================================================================================
getUserStatus() {
const status = {
systemReady: this.state.system?.isActive || false,
currentPhase: this.state.system?.phase || 'initialization',
canInteract: false,
message: '',
availableActions: []
};
// Èü≥Â£∞Ë™çË≠ò„ÅÆÁä∂ÊÖã„Å´Âü∫„Å•„ÅÑ„Å¶„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÁîüÊàê
if (this.state.voice) {
const voiceModule = this.modules.get('voice');
if (voiceModule) {
const voiceStatus = voiceModule.getUserStatus();
status.canInteract = voiceStatus.canStart || voiceStatus.canStop;
status.message = voiceStatus.userMessage;
status.availableActions = voiceStatus.availableActions || [];
}
}
return status;
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„ÉªÁµ±Ë®à
// =================================================================================
getDebugInfo() {
const moduleInfo = {};
this.modules.forEach((module, key) => {
moduleInfo[key] = module.getDebugInfo ? module.getDebugInfo() : { available: true };
});
return {
core: {
initialized: this.isInitialized,
modulesCount: this.modules.size,
listenersCount: this.listeners.size,
actionHandlersCount: this.actionHandlers.size
},
state: this.state,
modules: moduleInfo
};
}
getStatistics() {
const stats = {
systemUptime: this.state.system?.lastUpdate ?
Date.now() - this.state.system.lastUpdate : 0,
moduleCount: this.modules.size,
totalStateUpdates: 0 // ÂÆüË£ÖÊôÇ„Å´„Ç´„Ç¶„É≥„Çø„Éº„ÇíËøΩÂä†
};
// ÂêÑ„É¢„Ç∏„É•„Éº„É´„ÅÆÁµ±Ë®àÊÉÖÂ†±„ÇíÂèéÈõÜ
this.modules.forEach((module, key) => {
if (module.getStatistics) {
stats[key] = module.getStatistics();
}
});
return stats;
}
// =================================================================================
// Á∑äÊÄ•ÊôÇ„ÅÆÂá¶ÁêÜ
// =================================================================================
emergencyStop() {
console.log('üö® Á∑äÊÄ•ÂÅúÊ≠¢Âá¶ÁêÜÈñãÂßã');
// Èü≥Â£∞Ë™çË≠ò„ÅÆÂÅúÊ≠¢
const voiceModule = this.modules.get('voice');
if (voiceModule) {
voiceModule.stopRecognition();
}
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
this.updateState('system', {
phase: 'emergency_stop',
isActive: false
});
// Á∑äÊÄ•ÂÅúÊ≠¢„Ç§„Éô„É≥„Éà„ÇíÁô∫ÁÅ´
this.notifyListeners('emergencyStop', {
timestamp: Date.now(),
reason: 'manual_emergency_stop'
});
}
async restart() {
console.log('üîÑ „Ç∑„Çπ„ÉÜ„É†ÂÜçËµ∑ÂãïÈñãÂßã');
// ÂêÑ„É¢„Ç∏„É•„Éº„É´„ÅÆÂÜçÂàùÊúüÂåñ
for (const [key, module] of this.modules) {
if (module.initialize) {
await module.initialize();
}
}
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
this.updateState('system', {
phase: 'ready',
isActive: true
});
console.log('‚úÖ „Ç∑„Çπ„ÉÜ„É†ÂÜçËµ∑ÂãïÂÆå‰∫Ü');
}
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.UnifiedStateManagerCore = UnifiedStateManagerCore;
/* === unified-state-manager.js === */
// =================================================================================
// UNIFIED STATE MANAGER - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// „ÄêÁõÆÁöÑ„ÄëSingle Source of Truth „ÅÆÂÆüË£Ö
// - AppState, ConversationGatekeeper, ContinuousRecognitionManager „ÅÆÁµ±‰∏Ä
// - Áä∂ÊÖã„ÅÆÈÄèÊòéÊÄßÂêë‰∏ä„Å®UIÈÄ£Êê∫Âº∑Âåñ
// - ‰ºÅÊ•≠Âà©Áî®„Åß„ÅÆÈï∑ÊôÇÈñì„Çª„ÉÉ„Ç∑„Éß„É≥ÂÆâÂÆöÂåñ
//
// „ÄêË®≠Ë®àÂéüÂâá„Äë
// - ‰∏≠Â§ÆÈõÜÊ®©ÁöÑÁä∂ÊÖãÁÆ°ÁêÜ
// - „É™„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Áä∂ÊÖãÊõ¥Êñ∞
// - ÂÆåÂÖ®„Å™ÂæåÊñπ‰∫íÊèõÊÄß
// - ÈÄèÊòéÊÄß„ÅÆÈ´ò„ÅÑ„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
//
// =================================================================================
class UnifiedStateManager {
constructor() {
this.initialized = false;
this.listeners = new Set();
// ‰∏≠Â§ÆÈõÜÊ®©ÁöÑÁä∂ÊÖã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
this.state = {
// === „Ç∑„Çπ„ÉÜ„É†Âü∫Êú¨Áä∂ÊÖã ===
system: {
initialized: false,
currentPhase: 'setup', // setup, warmup, deepdive, summary, completed
sessionActive: false,
sessionStartTime: null,
currentTheme: '',
apiKey: null
},
// === Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã ===
voice: {
// Ë®±ÂèØÁä∂ÊÖã
microphonePermissionGranted: false,
permissionRequestInProgress: false,
// Ë™çË≠òÁä∂ÊÖã
isRecognitionActive: false,
recognitionState: 'idle', // idle, starting, active, paused, stopping, error
// „Ç®„É©„ÉºÁÆ°ÁêÜ
consecutiveErrorCount: 0,
lastErrorTime: null,
lastErrorType: null,
// Á∂ôÁ∂öÊÄßÁÆ°ÁêÜ
continuityStartedOnce: false,
lastResultTime: null,
silenceDuration: 0,
// Âá¶ÁêÜÂà∂Âæ°
processResults: true,
pauseReason: null
},
// === ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖã ===
conversation: {
// Áô∫Ë©±Âà∂Âæ°
currentSpeaker: null, // null, 'nehori', 'hahori', 'user'
speakingInProgress: false,
lastSpeaker: null,
// „Éï„Çß„Éº„Ç∫Âà∂Âæ°
conversationPhase: 'IDLE', // IDLE, USER_SPEAKING, HAHORI_PROCESSING, KNOWLEDGE_CONFIRMATION, NEHORI_QUESTIONING
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ
isKnowledgeConfirmationMode: false,
pendingKnowledgeEvaluation: null,
// Ââ≤„ÇäËæº„ÅøÂà∂Âæ°
preventNehoriInterruption: false,
questionGenerationScheduled: false,
lastQuestionTime: null
},
// === UIÁä∂ÊÖã ===
ui: {
// Ë°®Á§∫Áä∂ÊÖã
currentScreen: 'setup', // setup, chat, settings
// ÂÖ•ÂäõÁä∂ÊÖã
currentTranscript: '',
transcriptHistory: [],
// Âá¶ÁêÜÁä∂ÊÖã
isProcessing: false,
waitingForPermission: true,
// „Ç®„É©„ÉºË°®Á§∫
errorMessage: null,
errorType: null, // 'permission', 'network', 'api', 'recognition'
// ÈÄ≤Ë°åÁä∂Ê≥Å
progressMessage: null,
progressPercentage: 0
},
// === „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁä∂ÊÖã ===
network: {
isOnline: navigator.onLine,
apiConnectionStatus: 'unknown', // unknown, connected, disconnected, error
lastApiCall: null,
apiCallsInProgress: 0
},
// === Áü•Ë¶ãÁÆ°ÁêÜÁä∂ÊÖã ===
knowledge: {
extractedKnowledge: [],
currentPoint: 0,
sessionStats: {
totalKnowledge: 0,
autoRecorded: 0,
manualConfirmed: 0,
rejected: 0,
averageScore: 0
},
settings: {
autoRecordThreshold: 70,
showAutoRecordNotice: true,
showDetailedEvaluation: true
}
}
};
this.setupNetworkMonitoring();
this.setupCompatibilityLayer();
}
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
if (this.initialized) return;
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆÁä∂ÊÖãÁßªË°å
await this.migrateFromLegacySystems();
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
this.setupEventListeners();
this.initialized = true;
this.state.system.initialized = true;
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
this.notifyListeners('system_initialized');
}
// =================================================================================
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
// =================================================================================
setupEventListeners() {
console.log('üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†: „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆöÈñãÂßã');
// „Éñ„É©„Ç¶„Ç∂„Ç§„Éô„É≥„Éà„ÅÆÁõ£Ë¶ñ
if (typeof window !== 'undefined') {
// „Éö„Éº„Ç∏Èõ¢ËÑ±ÊôÇ„ÅÆÂá¶ÁêÜ
window.addEventListener('beforeunload', () => {
this.updateSystemState({ sessionActive: false });
});
// „Ç™„É≥„É©„Ç§„É≥/„Ç™„Éï„É©„Ç§„É≥Áä∂ÊÖã„ÅÆÁõ£Ë¶ñ
window.addEventListener('online', () => {
this.updateNetworkState({ isOnline: true });
});
window.addEventListener('offline', () => {
this.updateNetworkState({ isOnline: false });
});
}
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†: „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆöÂÆå‰∫Ü');
}
// =================================================================================
// Áä∂ÊÖãÊõ¥Êñ∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
updateSystemState(updates) {
const oldState = { ...this.state.system };
Object.assign(this.state.system, updates);
console.log('üîÑ „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖãÊõ¥Êñ∞:', { old: oldState, new: this.state.system });
this.notifyListeners('system_state_changed', { old: oldState, new: this.state.system });
}
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÊõ¥Êñ∞
updateVoiceState(updates) {
const oldState = { ...this.state.voice };
Object.assign(this.state.voice, updates);
console.log('üé§ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÊõ¥Êñ∞:', { old: oldState, new: this.state.voice });
this.notifyListeners('voice_state_changed', { old: oldState, new: this.state.voice });
// UIÊõ¥Êñ∞„ÅÆ„Éà„É™„Ç¨„Éº
this.updateUIFromVoiceState();
}
// ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖã„ÅÆÊõ¥Êñ∞
updateConversationState(updates) {
const oldState = { ...this.state.conversation };
Object.assign(this.state.conversation, updates);
console.log('üí¨ ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖãÊõ¥Êñ∞:', { old: oldState, new: this.state.conversation });
this.notifyListeners('conversation_state_changed', { old: oldState, new: this.state.conversation });
}
// UIÁä∂ÊÖã„ÅÆÊõ¥Êñ∞
updateUIState(updates) {
const oldState = { ...this.state.ui };
Object.assign(this.state.ui, updates);
console.log('üñ•Ô∏è UIÁä∂ÊÖãÊõ¥Êñ∞:', { old: oldState, new: this.state.ui });
this.notifyListeners('ui_state_changed', { old: oldState, new: this.state.ui });
}
// „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁä∂ÊÖã„ÅÆÊõ¥Êñ∞
updateNetworkState(updates) {
const oldState = { ...this.state.network };
Object.assign(this.state.network, updates);
console.log('üåê „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁä∂ÊÖãÊõ¥Êñ∞:', { old: oldState, new: this.state.network });
this.notifyListeners('network_state_changed', { old: oldState, new: this.state.network });
}
// =================================================================================
// Áä∂ÊÖãÂèñÂæó„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
getState() {
return JSON.parse(JSON.stringify(this.state)); // Deep copy
}
getSystemState() {
return { ...this.state.system };
}
getVoiceState() {
return { ...this.state.voice };
}
getConversationState() {
return { ...this.state.conversation };
}
getUIState() {
return { ...this.state.ui };
}
getNetworkState() {
return { ...this.state.network };
}
// =================================================================================
// È´ò„É¨„Éô„É´Áä∂ÊÖãÁÆ°ÁêÜ„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
// „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã
async startSession(theme) {
console.log('üöÄ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã:', theme);
this.updateSystemState({
sessionActive: true,
sessionStartTime: new Date(),
currentTheme: theme,
currentPhase: 'warmup'
});
this.updateConversationState({
conversationPhase: 'IDLE'
});
this.updateUIState({
currentScreen: 'chat',
progressMessage: '„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô...'
});
this.notifyListeners('session_started', { theme });
}
// Èü≥Â£∞Ë™çË≠òÈñãÂßã
async startVoiceRecognition() {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÈñãÂßãË¶ÅÊ±Ç');
if (!this.state.voice.microphonePermissionGranted) {
console.log('üö´ „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å');
this.updateUIState({
errorMessage: '„Éû„Ç§„ÇØ„ÅÆË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô',
errorType: 'permission'
});
return false;
}
this.updateVoiceState({
recognitionState: 'starting',
isRecognitionActive: true
});
this.updateUIState({
progressMessage: 'Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô...'
});
return true;
}
// Áô∫Ë©±ÈñãÂßã„ÅÆÁôªÈå≤
registerSpeechStart(speaker, context = 'unknown') {
console.log(`üé§ ${speaker}Áô∫Ë©±ÈñãÂßãÁôªÈå≤ (${context})`);
this.updateConversationState({
currentSpeaker: speaker,
speakingInProgress: true,
lastSpeaker: speaker
});
this.updateUIState({
progressMessage: `${speaker}„ÅåÁô∫Ë©±‰∏≠...`
});
this.notifyListeners('speech_started', { speaker, context });
}
// Áô∫Ë©±ÁµÇ‰∫Ü„ÅÆÁôªÈå≤
registerSpeechEnd(speaker, context = 'unknown') {
console.log(`üé§ ${speaker}Áô∫Ë©±ÁµÇ‰∫ÜÁôªÈå≤ (${context})`);
this.updateConversationState({
currentSpeaker: null,
speakingInProgress: false
});
this.updateUIState({
progressMessage: null
});
this.notifyListeners('speech_ended', { speaker, context });
}
// „Ç®„É©„ÉºÁä∂ÊÖã„ÅÆË®≠ÂÆö
setErrorState(errorType, message, details = null) {
console.error(`‚ùå „Ç®„É©„ÉºÁä∂ÊÖãË®≠ÂÆö: ${errorType} - ${message}`);
this.updateUIState({
errorMessage: message,
errorType: errorType
});
// Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº„ÅÆÂ†¥Âêà
if (errorType === 'recognition') {
this.updateVoiceState({
recognitionState: 'error',
lastErrorType: errorType,
lastErrorTime: Date.now(),
consecutiveErrorCount: this.state.voice.consecutiveErrorCount + 1
});
}
this.notifyListeners('error_occurred', { errorType, message, details });
}
// „Ç®„É©„ÉºÁä∂ÊÖã„ÅÆ„ÇØ„É™„Ç¢
clearErrorState() {
console.log('‚úÖ „Ç®„É©„ÉºÁä∂ÊÖã„ÇØ„É™„Ç¢');
this.updateUIState({
errorMessage: null,
errorType: null
});
this.notifyListeners('error_cleared');
}
// =================================================================================
// ‰∫íÊèõÊÄß„É¨„Ç§„É§„Éº
// =================================================================================
setupCompatibilityLayer() {
// AppState„Å®„ÅÆ‰∫íÊèõÊÄß
if (typeof window !== 'undefined' && window.AppState) {
this.migrateAppState();
}
// ConversationGatekeeper„Å®„ÅÆ‰∫íÊèõÊÄß
this.setupConversationGatekeeperCompatibility();
}
migrateAppState() {
const appState = window.AppState;
// AppState„Åã„Çâ„ÅÆÂàùÊúüÁä∂ÊÖãÁßªË°å
this.state.system.sessionActive = appState.sessionActive || false;
this.state.system.currentTheme = appState.currentTheme || '';
this.state.system.apiKey = appState.apiKey || null;
this.state.voice.microphonePermissionGranted = appState.voiceRecognitionStability?.micPermissionGranted || false;
this.state.conversation.currentSpeaker = appState.currentSpeaker || null;
this.state.ui.currentTranscript = appState.currentTranscript || '';
this.state.ui.transcriptHistory = appState.transcriptHistory || [];
console.log('üîÑ AppState„Åã„Çâ„ÅÆÁä∂ÊÖãÁßªË°åÂÆå‰∫Ü');
}
setupConversationGatekeeperCompatibility() {
// ConversationGatekeeper„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÇíÁµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†„Å´Áµ±Âêà
this.canNehoriSpeak = (context = 'unknown') => {
const conversation = this.state.conversation;
const voice = this.state.voice;
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅØÁµ∂ÂØæ„Å´NG
if (conversation.isKnowledgeConfirmationMode) {
console.log(`üö´ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅÆ„Åü„ÇÅ„Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// ‰ªñ„ÅÆAI„ÅåÁô∫Ë©±‰∏≠„ÅØ„Éñ„É≠„ÉÉ„ÇØ
if (conversation.speakingInProgress || conversation.currentSpeaker !== null) {
console.log(`üö´ AIÁô∫Ë©±‰∏≠„ÅÆ„Åü„ÇÅ„Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// Ââ≤„ÇäËæº„ÅøÈò≤Ê≠¢
if (conversation.preventNehoriInterruption) {
console.log(`üö´ Ââ≤„ÇäËæº„ÅøÈò≤Ê≠¢„Éï„É©„Ç∞„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
console.log(`‚úÖ „Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ (${context})`);
return true;
};
this.canHahoriSpeak = (context = 'unknown') => {
const conversation = this.state.conversation;
// ‰ªñ„ÅÆAI„ÅåÁô∫Ë©±‰∏≠„ÅØ„Éñ„É≠„ÉÉ„ÇØ
if (conversation.speakingInProgress || conversation.currentSpeaker !== null) {
console.log(`üö´ AIÁô∫Ë©±‰∏≠„ÅÆ„Åü„ÇÅ„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
console.log(`‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ (${context})`);
return true;
};
}
// =================================================================================
// UIÈÄ£Êê∫„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
updateUIFromVoiceState() {
const voice = this.state.voice;
const ui = this.state.ui;
// „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
this.updateMicrophoneButton();
// ÈÄ≤Ë°åÁä∂Ê≥Å„ÅÆÊõ¥Êñ∞
if (voice.recognitionState === 'starting') {
this.updateUIState({
progressMessage: 'Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô...',
progressPercentage: 25
});
} else if (voice.recognitionState === 'active') {
this.updateUIState({
progressMessage: 'ËÅû„ÅÑ„Å¶„ÅÑ„Åæ„Åô...',
progressPercentage: 100
});
} else if (voice.recognitionState === 'paused') {
this.updateUIState({
progressMessage: 'Èü≥Â£∞Ë™çË≠ò„Çí‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠...',
progressPercentage: 50
});
} else if (voice.recognitionState === 'error') {
this.updateUIState({
progressMessage: null,
progressPercentage: 0
});
}
}
updateMicrophoneButton() {
const voice = this.state.voice;
const micButton = document.getElementById('microphoneButton');
if (!micButton) return;
// „Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇØ„É©„Çπ„ÇíÊõ¥Êñ∞
micButton.classList.remove('mic-idle', 'mic-active', 'mic-error', 'mic-disabled');
if (!voice.microphonePermissionGranted) {
micButton.classList.add('mic-disabled');
micButton.title = '„Éû„Ç§„ÇØ„ÅÆË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô';
} else if (voice.recognitionState === 'error') {
micButton.classList.add('mic-error');
micButton.title = `„Ç®„É©„Éº: ${voice.lastErrorType}`;
} else if (voice.isRecognitionActive) {
micButton.classList.add('mic-active');
micButton.title = 'Èü≥Â£∞Ë™çË≠ò‰∏≠...';
} else {
micButton.classList.add('mic-idle');
micButton.title = 'Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã';
}
}
// =================================================================================
// „Ç§„Éô„É≥„ÉàÁÆ°ÁêÜ
// =================================================================================
addListener(callback) {
this.listeners.add(callback);
}
removeListener(callback) {
this.listeners.delete(callback);
}
notifyListeners(eventType, data = null) {
this.listeners.forEach(callback => {
try {
callback(eventType, data, this.getState());
} catch (error) {
console.error('‚ùå „É™„Çπ„Éä„Éº„Ç®„É©„Éº:', error);
}
});
}
// =================================================================================
// „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁõ£Ë¶ñ
// =================================================================================
setupNetworkMonitoring() {
if (typeof window !== 'undefined') {
window.addEventListener('online', () => {
this.updateNetworkState({ isOnline: true });
});
window.addEventListener('offline', () => {
this.updateNetworkState({ isOnline: false });
});
}
}
// =================================================================================
// „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆÁßªË°å
// =================================================================================
async migrateFromLegacySystems() {
console.log('üîÑ „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆÁä∂ÊÖãÁßªË°åÈñãÂßã');
// AppState„Åã„Çâ„ÅÆÁßªË°å
if (typeof window !== 'undefined' && window.AppState) {
this.migrateAppState();
}
// ConversationGatekeeper„Åã„Çâ„ÅÆÁßªË°å
if (typeof window !== 'undefined' && window.ConversationGatekeeper) {
// Êó¢Â≠ò„ÅÆÁä∂ÊÖã„ÇíÁµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°å
console.log('üîÑ ConversationGatekeeper„Åã„Çâ„ÅÆÁßªË°å');
}
console.log('‚úÖ „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆÁä∂ÊÖãÁßªË°åÂÆå‰∫Ü');
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
debugState() {
console.log('üîç Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - ÁèæÂú®„ÅÆÁä∂ÊÖã:', this.getState());
return this.getState();
}
debugVoiceState() {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã:', this.getVoiceState());
return this.getVoiceState();
}
debugConversationState() {
console.log('üí¨ ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖã:', this.getConversationState());
return this.getConversationState();
}
// =================================================================================
// üîß Phase 1A‰øÆÊ≠£: „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÉªÂæ©ÂÖÉÊ©üËÉΩ
// =================================================================================
/**
* ÂÆåÂÖ®Áä∂ÊÖãÂèñÂæó - EmergencySystemManagerÁî®
* @returns {Object} Ê∑±„ÅÑ„Ç≥„Éî„Éº„Åï„Çå„ÅüÂÆåÂÖ®Áä∂ÊÖã
*/
getCompleteState() {
try {
// Ê∑±„ÅÑ„Ç≥„Éî„Éº„Çí‰ΩúÊàê„Åó„Å¶Ëøî„Åô
const completeState = JSON.parse(JSON.stringify(this.state));
console.log('üìä Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: ÂÆåÂÖ®Áä∂ÊÖãÂèñÂæóÊàêÂäü');
return completeState;
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: ÂÆåÂÖ®Áä∂ÊÖãÂèñÂæó„Ç®„É©„Éº:', error.message);
// „Ç®„É©„ÉºÊôÇ„ÅØÁèæÂú®„ÅÆÁä∂ÊÖã„ÅÆÊµÖ„ÅÑ„Ç≥„Éî„Éº„ÇíËøî„Åô
return { ...this.state };
}
}
/**
* ÂÆåÂÖ®Áä∂ÊÖãÂæ©ÂÖÉ - EmergencySystemManagerÁî®
* @param {Object} backupState Âæ©ÂÖÉ„Åô„ÇãÁä∂ÊÖã
* @returns {boolean} Âæ©ÂÖÉÊàêÂäü„Éï„É©„Ç∞
*/
restoreCompleteState(backupState) {
try {
if (!backupState || typeof backupState !== 'object') {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: ÁÑ°Âäπ„Å™„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÁä∂ÊÖã');
return false;
}
// Áä∂ÊÖã„ÇíÊ∑±„ÅÑ„Ç≥„Éî„Éº„ÅßÂæ©ÂÖÉ
this.state = JSON.parse(JSON.stringify(backupState));
// Áä∂ÊÖãÂ§âÊõ¥ÈÄöÁü•
this.notifyListeners('state_restored', this.state);
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: ÂÆåÂÖ®Áä∂ÊÖãÂæ©ÂÖÉÊàêÂäü');
return true;
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: ÂÆåÂÖ®Áä∂ÊÖãÂæ©ÂÖÉ„Ç®„É©„Éº:', error.message);
return false;
}
}
/**
* Áä∂ÊÖã„ÅÆÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
* @returns {Object} „ÉÅ„Çß„ÉÉ„ÇØÁµêÊûú
*/
validateState() {
const validation = {
isValid: true,
issues: [],
timestamp: Date.now()
};
try {
// ÂøÖÈ†à„Éó„É≠„Éë„ÉÜ„Ç£„ÅÆÂ≠òÂú®Á¢∫Ë™ç
const requiredSections = ['system', 'voice', 'conversation', 'ui', 'network', 'knowledge'];
requiredSections.forEach(section => {
if (!this.state[section]) {
validation.isValid = false;
validation.issues.push(`Missing state section: ${section}`);
}
});
// JSONÂåñÂèØËÉΩÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
JSON.stringify(this.state);
} catch (error) {
validation.isValid = false;
validation.issues.push(`State serialization error: ${error.message}`);
}
if (!validation.isValid) {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ: Áä∂ÊÖã„ÅÆÂÅ•ÂÖ®ÊÄß„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô', validation);
}
return validation;
}
}
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñ
// =================================================================================
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
if (typeof window !== 'undefined') {
window.UnifiedStateManager = new UnifiedStateManager();
// ÂàùÊúüÂåñ„ÅÆÂÆüË°å
window.UnifiedStateManager.initialize().then(() => {
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åó„Åü');
// „Ç∞„É≠„Éº„Éê„É´„Ç¢„ÇØ„Çª„ÇπÁî®„ÅÆ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà
window.getUnifiedState = () => window.UnifiedStateManager.getState();
window.debugUnifiedState = () => window.UnifiedStateManager.debugState();
});
}
// CommonJS/ES„É¢„Ç∏„É•„Éº„É´ÂØæÂøú
if (typeof module !== 'undefined' && module.exports) {
module.exports = UnifiedStateManager;
}
/* === state-integration-adapter.js === */
// =================================================================================
// STATE INTEGRATION ADAPTER - Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„Éº
// =================================================================================
//
// „ÄêÁõÆÁöÑ„ÄëÊó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÊ©ãÊ∏°„Åó
// - AppState„ÄÅConversationGatekeeper„ÄÅContinuousRecognitionManager „ÅÆÊÆµÈöéÁöÑÁßªË°å
// - Êó¢Â≠ò„Ç≥„Éº„Éâ„ÅÆÁÑ°‰øÆÊ≠£„Åß„ÅÆÂãï‰Ωú‰øùË®º
// - ÈÄèÊòéÊÄß„ÅÆÈ´ò„ÅÑÁä∂ÊÖãÂêåÊúü
//
// =================================================================================
class StateIntegrationAdapter {
constructor() {
this.initialized = false;
this.unifiedStateManager = null;
this.legacySystems = {
appState: null,
conversationGatekeeper: null,
continuousRecognitionManager: null
};
this.syncInProgress = false;
this.lastSyncTime = 0;
this.syncThrottleMs = 100; // 100msÈñìÈöî„ÅßÂêåÊúüÂà∂Èôê
}
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
if (this.initialized) return;
console.log('üîÑ Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„ÉºÂàùÊúüÂåñÈñãÂßã');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂèñÂæó
this.unifiedStateManager = window.UnifiedStateManager;
if (!this.unifiedStateManager) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„ÅÆÂèÇÁÖßÂèñÂæó
this.detectLegacySystems();
// ÂèåÊñπÂêëÂêåÊúü„ÅÆË®≠ÂÆö
this.setupBidirectionalSync();
// ÂàùÊúüÁä∂ÊÖã„ÅÆÂêåÊúü
await this.performInitialSync();
this.initialized = true;
console.log('‚úÖ Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„ÉºÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
}
// =================================================================================
// „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†„ÅÆÊ§úÂá∫
// =================================================================================
detectLegacySystems() {
// AppState„ÅÆÊ§úÂá∫
if (window.AppState) {
this.legacySystems.appState = window.AppState;
console.log('‚úÖ AppStateÊ§úÂá∫');
}
// ConversationGatekeeper„ÅÆÊ§úÂá∫
if (window.ConversationGatekeeper) {
this.legacySystems.conversationGatekeeper = window.ConversationGatekeeper;
console.log('‚úÖ ConversationGatekeeperÊ§úÂá∫');
}
// ContinuousRecognitionManager„ÅÆÊ§úÂá∫ÔºàStateManagerÁµåÁî±Ôºâ
if (window.stateManager?.recognitionManager) {
this.legacySystems.continuousRecognitionManager = window.stateManager.recognitionManager;
console.log('‚úÖ ContinuousRecognitionManagerÊ§úÂá∫');
}
}
// =================================================================================
// ÂèåÊñπÂêëÂêåÊúü„ÅÆË®≠ÂÆö
// =================================================================================
setupBidirectionalSync() {
// Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É† ‚Üí „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†
this.unifiedStateManager.addListener((eventType, data, state) => {
this.syncToLegacySystems(eventType, data, state);
});
// „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É† ‚Üí Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†ÔºàÂÆöÊúüÁõ£Ë¶ñÔºâ
this.setupLegacySystemMonitoring();
console.log('üîÑ ÂèåÊñπÂêëÂêåÊúüË®≠ÂÆöÂÆå‰∫Ü');
}
setupLegacySystemMonitoring() {
// AppState„ÅÆÂ§âÊõ¥Áõ£Ë¶ñ
if (this.legacySystems.appState) {
this.monitorAppStateChanges();
}
// ConversationGatekeeper„ÅÆÁä∂ÊÖãÁõ£Ë¶ñ
if (this.legacySystems.conversationGatekeeper) {
this.monitorConversationGatekeeperChanges();
}
// ContinuousRecognitionManager„ÅÆÁä∂ÊÖãÁõ£Ë¶ñ
if (this.legacySystems.continuousRecognitionManager) {
this.monitorContinuousRecognitionManagerChanges();
}
}
// =================================================================================
// ContinuousRecognitionManagerÁõ£Ë¶ñ
// =================================================================================
monitorContinuousRecognitionManagerChanges() {
const manager = this.legacySystems.continuousRecognitionManager;
if (!manager) return;
// Áä∂ÊÖãÂ§âÊõ¥„ÅÆÁõ£Ë¶ñ
if (manager.notifyListeners) {
const originalNotifyListeners = manager.notifyListeners;
manager.notifyListeners = () => {
originalNotifyListeners.call(manager);
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÂêåÊúü
this.syncVoiceStateFromContinuousRecognition(manager);
};
}
// ÁµêÊûúÂá¶ÁêÜÁä∂ÊÖã„ÅÆÁõ£Ë¶ñ
if (manager.handleResult) {
const originalHandleResult = manager.handleResult;
manager.handleResult = (event) => {
originalHandleResult.call(manager, event);
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁµêÊûúÂá¶ÁêÜ„ÇíÈÄöÁü•
this.unifiedStateManager.updateVoiceState({
lastActivity: Date.now(),
hasRecentResult: true,
recognitionState: 'active'
});
};
}
console.log('‚úÖ ContinuousRecognitionManagerÁõ£Ë¶ñÈñãÂßã');
}
// ContinuousRecognitionManager„ÅÆÁä∂ÊÖãÂêåÊúü
syncVoiceStateFromContinuousRecognition(manager) {
if (!manager || !this.unifiedStateManager) return;
const voiceUpdates = {
recognitionState: manager.state,
isRecognitionActive: manager.state === 'active',
lastActivity: manager.lastResultTime || Date.now(),
timeSinceLastResult: Date.now() - (manager.lastResultTime || Date.now()),
processResults: manager.processResults,
pauseReason: manager.pauseReason
};
// Áµ±Ë®àÊÉÖÂ†±„ÅÆÂêåÊúü
if (manager.stats) {
voiceUpdates.stats = {
startCount: manager.stats.startCount,
resultProcessedCount: manager.stats.resultProcessedCount,
resultIgnoredCount: manager.stats.resultIgnoredCount,
pauseCount: manager.stats.pauseCount,
resumeCount: manager.stats.resumeCount
};
}
this.unifiedStateManager.updateVoiceState(voiceUpdates);
}
// =================================================================================
// ConversationGatekeeperÁõ£Ë¶ñ
// =================================================================================
monitorConversationGatekeeperChanges() {
const gatekeeper = this.legacySystems.conversationGatekeeper;
if (!gatekeeper) return;
// ConversationGatekeeper„ÅÆÁä∂ÊÖãÁõ£Ë¶ñ„ÅØÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£Ö
console.log('‚úÖ ConversationGatekeeperÁõ£Ë¶ñÈñãÂßã');
}
// =================================================================================
// AppStateÁõ£Ë¶ñ
// =================================================================================
monitorAppStateChanges() {
const appState = this.legacySystems.appState;
let lastSnapshot = this.createAppStateSnapshot(appState);
setInterval(() => {
if (this.syncInProgress) return;
const currentSnapshot = this.createAppStateSnapshot(appState);
const changes = this.detectAppStateChanges(lastSnapshot, currentSnapshot);
if (Object.keys(changes).length > 0) {
console.log('üîÑ AppStateÂ§âÊõ¥Ê§úÂá∫:', changes);
this.syncAppStateToUnified(changes);
lastSnapshot = currentSnapshot;
}
}, this.syncThrottleMs);
}
createAppStateSnapshot(appState) {
return {
sessionActive: appState.sessionActive,
currentTheme: appState.currentTheme,
apiKey: appState.apiKey,
currentSpeaker: appState.currentSpeaker,
phase: appState.phase,
currentTranscript: appState.currentTranscript,
transcriptHistory: [...(appState.transcriptHistory || [])],
isProcessing: appState.isProcessing,
waitingForPermission: appState.waitingForPermission,
microphoneActive: appState.microphoneActive,
voiceRecognitionStability: appState.voiceRecognitionStability ? {
micPermissionGranted: appState.voiceRecognitionStability.micPermissionGranted,
isRecognitionActive: appState.voiceRecognitionStability.isRecognitionActive,
consecutiveErrorCount: appState.voiceRecognitionStability.consecutiveErrorCount,
lastErrorTime: appState.voiceRecognitionStability.lastErrorTime
} : null
};
}
detectAppStateChanges(oldSnapshot, newSnapshot) {
const changes = {};
for (const key in newSnapshot) {
if (JSON.stringify(oldSnapshot[key]) !== JSON.stringify(newSnapshot[key])) {
changes[key] = newSnapshot[key];
}
}
return changes;
}
syncAppStateToUnified(changes) {
this.throttledSync(() => {
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÂêåÊúü
if ('sessionActive' in changes || 'currentTheme' in changes || 'apiKey' in changes || 'phase' in changes) {
const systemUpdates = {};
if ('sessionActive' in changes) systemUpdates.sessionActive = changes.sessionActive;
if ('currentTheme' in changes) systemUpdates.currentTheme = changes.currentTheme;
if ('apiKey' in changes) systemUpdates.apiKey = changes.apiKey;
if ('phase' in changes) systemUpdates.currentPhase = changes.phase;
this.unifiedStateManager.updateSystemState(systemUpdates);
}
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÂêåÊúü
if ('voiceRecognitionStability' in changes && changes.voiceRecognitionStability) {
const voiceUpdates = {};
const stability = changes.voiceRecognitionStability;
if ('micPermissionGranted' in stability) {
voiceUpdates.microphonePermissionGranted = stability.micPermissionGranted;
}
if ('isRecognitionActive' in stability) {
voiceUpdates.isRecognitionActive = stability.isRecognitionActive;
voiceUpdates.recognitionState = stability.isRecognitionActive ? 'active' : 'idle';
}
if ('consecutiveErrorCount' in stability) {
voiceUpdates.consecutiveErrorCount = stability.consecutiveErrorCount;
}
if ('lastErrorTime' in stability) {
voiceUpdates.lastErrorTime = stability.lastErrorTime;
}
this.unifiedStateManager.updateVoiceState(voiceUpdates);
}
// ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖã„ÅÆÂêåÊúü
if ('currentSpeaker' in changes) {
this.unifiedStateManager.updateConversationState({
currentSpeaker: changes.currentSpeaker,
speakingInProgress: changes.currentSpeaker !== null
});
}
// UIÁä∂ÊÖã„ÅÆÂêåÊúü
if ('currentTranscript' in changes || 'transcriptHistory' in changes || 'isProcessing' in changes || 'waitingForPermission' in changes) {
const uiUpdates = {};
if ('currentTranscript' in changes) uiUpdates.currentTranscript = changes.currentTranscript;
if ('transcriptHistory' in changes) uiUpdates.transcriptHistory = changes.transcriptHistory;
if ('isProcessing' in changes) uiUpdates.isProcessing = changes.isProcessing;
if ('waitingForPermission' in changes) uiUpdates.waitingForPermission = changes.waitingForPermission;
this.unifiedStateManager.updateUIState(uiUpdates);
}
});
}
// =================================================================================
// Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É† ‚Üí „É¨„Ç¨„Ç∑„Éº„Ç∑„Çπ„ÉÜ„É†ÂêåÊúü
// =================================================================================
syncToLegacySystems(eventType, data, state) {
this.throttledSync(() => {
// AppState„Å∏„ÅÆÂêåÊúü
if (this.legacySystems.appState) {
this.syncToAppState(eventType, data, state);
}
// ConversationGatekeeper„Å∏„ÅÆÂêåÊúü
if (this.legacySystems.conversationGatekeeper) {
this.syncToConversationGatekeeper(eventType, data, state);
}
// ContinuousRecognitionManager„Å∏„ÅÆÂêåÊúü
if (this.legacySystems.continuousRecognitionManager) {
this.syncToContinuousRecognitionManager(eventType, data, state);
}
});
}
syncToAppState(eventType, data, state) {
const appState = this.legacySystems.appState;
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆÂêåÊúü
if (state.system) {
if ('sessionActive' in state.system) appState.sessionActive = state.system.sessionActive;
if ('currentTheme' in state.system) appState.currentTheme = state.system.currentTheme;
if ('apiKey' in state.system) appState.apiKey = state.system.apiKey;
if ('currentPhase' in state.system) appState.phase = state.system.currentPhase;
}
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÂêåÊúü
if (state.voice && appState.voiceRecognitionStability) {
if ('microphonePermissionGranted' in state.voice) {
appState.voiceRecognitionStability.micPermissionGranted = state.voice.microphonePermissionGranted;
}
if ('isRecognitionActive' in state.voice) {
appState.voiceRecognitionStability.isRecognitionActive = state.voice.isRecognitionActive;
}
if ('consecutiveErrorCount' in state.voice) {
appState.voiceRecognitionStability.consecutiveErrorCount = state.voice.consecutiveErrorCount;
}
if ('lastErrorTime' in state.voice) {
appState.voiceRecognitionStability.lastErrorTime = state.voice.lastErrorTime;
}
}
// ‰ºöË©±„Éï„É≠„ÉºÁä∂ÊÖã„ÅÆÂêåÊúü
if (state.conversation) {
if ('currentSpeaker' in state.conversation) {
appState.currentSpeaker = state.conversation.currentSpeaker;
}
}
// UIÁä∂ÊÖã„ÅÆÂêåÊúü
if (state.ui) {
if ('currentTranscript' in state.ui) appState.currentTranscript = state.ui.currentTranscript;
if ('transcriptHistory' in state.ui) appState.transcriptHistory = state.ui.transcriptHistory;
if ('isProcessing' in state.ui) appState.isProcessing = state.ui.isProcessing;
if ('waitingForPermission' in state.ui) appState.waitingForPermission = state.ui.waitingForPermission;
}
}
syncToConversationGatekeeper(eventType, data, state) {
// ConversationGatekeeper„ÅØ‰∏ª„Å´Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®„Å™„ÅÆ„Åß„ÄÅ
// ÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÜÖÈÉ®Áä∂ÊÖã„ÇíÊõ¥Êñ∞
if (eventType === 'conversation_state_changed' && this.legacySystems.conversationGatekeeper.conversationControl) {
const control = this.legacySystems.conversationGatekeeper.conversationControl;
if (state.conversation.currentSpeaker !== undefined) {
control.currentSpeaker = state.conversation.currentSpeaker;
}
if (state.conversation.speakingInProgress !== undefined) {
control.speakingInProgress = state.conversation.speakingInProgress;
}
}
}
syncToContinuousRecognitionManager(eventType, data, state) {
const manager = this.legacySystems.continuousRecognitionManager;
if (eventType === 'voice_state_changed' && state.voice) {
// Èü≥Â£∞Ë™çË≠ò„Éû„Éç„Éº„Ç∏„É£„Éº„ÅÆÁä∂ÊÖãÂêåÊúü
if ('recognitionState' in state.voice) {
manager.state = state.voice.recognitionState;
}
if ('isRecognitionActive' in state.voice && manager.stats) {
// Áµ±Ë®àÊÉÖÂ†±„ÅÆÊõ¥Êñ∞„ÅØÊÖéÈáç„Å´Ë°å„ÅÜ
}
}
}
// =================================================================================
// ÂàùÊúüÂêåÊúü
// =================================================================================
async performInitialSync() {
console.log('üîÑ ÂàùÊúüÁä∂ÊÖãÂêåÊúüÈñãÂßã');
if (this.legacySystems.appState) {
const snapshot = this.createAppStateSnapshot(this.legacySystems.appState);
this.syncAppStateToUnified(snapshot);
console.log('‚úÖ AppState ‚Üí Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂêåÊúüÂÆå‰∫Ü');
}
console.log('‚úÖ ÂàùÊúüÁä∂ÊÖãÂêåÊúüÂÆå‰∫Ü');
}
// =================================================================================
// „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£
// =================================================================================
throttledSync(syncFunction) {
const now = Date.now();
if (this.syncInProgress || (now - this.lastSyncTime) < this.syncThrottleMs) {
return;
}
this.syncInProgress = true;
this.lastSyncTime = now;
try {
syncFunction();
} catch (error) {
console.error('‚ùå Áä∂ÊÖãÂêåÊúü„Ç®„É©„Éº:', error);
} finally {
this.syncInProgress = false;
}
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
debugSyncStatus() {
const status = {
initialized: this.initialized,
unifiedStateManager: !!this.unifiedStateManager,
legacySystems: {
appState: !!this.legacySystems.appState,
conversationGatekeeper: !!this.legacySystems.conversationGatekeeper,
continuousRecognitionManager: !!this.legacySystems.continuousRecognitionManager
},
syncInProgress: this.syncInProgress,
lastSyncTime: this.lastSyncTime
};
console.log('üîç Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„Éº - ÂêåÊúüÁä∂Ê≥Å:', status);
return status;
}
debugStateComparison() {
if (!this.initialized) {
console.warn('‚ö†Ô∏è „Ç¢„ÉÄ„Éó„Çø„Éº„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return;
}
const unifiedState = this.unifiedStateManager.getState();
const appStateSnapshot = this.legacySystems.appState ?
this.createAppStateSnapshot(this.legacySystems.appState) : null;
console.log('üîç Áä∂ÊÖãÊØîËºÉ:');
console.log(' Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†:', unifiedState);
console.log(' AppState:', appStateSnapshot);
return { unified: unifiedState, appState: appStateSnapshot };
}
}
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñ
// =================================================================================
if (typeof window !== 'undefined') {
// DOMContentLoadedÂæå„Å´ÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', () => {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„ÇíÂæÖ„Å§
const initializeAdapter = async () => {
if (window.UnifiedStateManager && window.UnifiedStateManager.initialized) {
window.StateIntegrationAdapter = new StateIntegrationAdapter();
await window.StateIntegrationAdapter.initialize();
// „Ç∞„É≠„Éº„Éê„É´„Ç¢„ÇØ„Çª„ÇπÁî®„ÅÆ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà
window.debugStateSync = () => window.StateIntegrationAdapter.debugSyncStatus();
window.debugStateComparison = () => window.StateIntegrationAdapter.debugStateComparison();
console.log('‚úÖ Áä∂ÊÖãÁµ±Âêà„Ç¢„ÉÄ„Éó„Çø„Éº„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åó„Åü');
} else {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„ÇíÂæÖ„Å§
setTimeout(initializeAdapter, 100);
}
};
initializeAdapter();
});
}
// CommonJS/ES„É¢„Ç∏„É•„Éº„É´ÂØæÂøú
if (typeof module !== 'undefined' && module.exports) {
module.exports = StateIntegrationAdapter;
}
/* === ui-state-display.js === */
// =================================================================================
// UI STATE DISPLAY SYSTEM - UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// „ÄêÁõÆÁöÑ„Äë„Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„Å®„É¶„Éº„Ç∂„ÉºÊìç‰Ωú„ÅÆÈÄèÊòéÊÄßÂêë‰∏ä
// - „É™„Ç¢„É´„Çø„Ç§„É†Áä∂ÊÖãË°®Á§∫
// - „É¶„Éº„Ç∂„ÉºÊìç‰Ωú„Ç¨„Ç§„ÉÄ„É≥„Çπ
// - „Ç®„É©„ÉºÁä∂ÊÖã„ÅÆÊòéÁ¢∫Âåñ
// - ÈÄ≤Ë°åÁä∂Ê≥Å„ÅÆÂèØË¶ñÂåñ
//
// „Äê‰ºÅÊ•≠Âà©Áî®ÁâπÂåñ„Äë
// - Èï∑ÊôÇÈñì„Çª„ÉÉ„Ç∑„Éß„É≥ÂØæÂøú
// - Ë§áÊï∞‰∫∫ÂèÇÂä†ÊôÇ„ÅÆÁä∂ÊÖãÂÖ±Êúâ
// - „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ‰∏çÂÆâÂÆöÊôÇ„ÅÆÂØæÂøú
//
// =================================================================================
// üîß SYSTEM CONTROL FLAGS - „Ç∑„Çπ„ÉÜ„É†Âà∂Âæ°„Éï„É©„Ç∞
const UI_STATE_DISPLAY_CONFIG = {
ENABLED: false, // üö´ UIStateDisplayÊ©üËÉΩ„ÇíÁÑ°ÂäπÂåñ
AUTO_INITIALIZE: false, // üö´ Ëá™ÂãïÂàùÊúüÂåñ„ÇíÁÑ°ÂäπÂåñ
MANUAL_ONLY: true, // ‚úÖ ÊâãÂãïÂàùÊúüÂåñ„ÅÆ„ÅøË®±ÂèØ
DEBUG_MODE: false
};
class UIStateDisplaySystem {
constructor() {
this.initialized = false;
this.unifiedStateManager = null;
this.displayElements = {};
this.animations = new Map();
this.updateQueue = [];
this.isUpdating = false;
// üîß ÁÑ°ÂäπÂåñ„Éï„É©„Ç∞„ÉÅ„Çß„ÉÉ„ÇØ
this.enabled = UI_STATE_DISPLAY_CONFIG.ENABLED;
if (!this.enabled) {
console.log('üö´ UIStateDisplay: „Ç∑„Çπ„ÉÜ„É†„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
}
}
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) {
console.log('üö´ UIStateDisplay: ÁÑ°ÂäπÂåñ„Å´„Çà„ÇäÂàùÊúüÂåñ„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
if (this.initialized) return;
console.log('üîÑ UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂèñÂæó
this.unifiedStateManager = window.UnifiedStateManager;
if (!this.unifiedStateManager) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// UIË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
this.createDisplayElements();
// Áä∂ÊÖãÂ§âÊõ¥„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
this.setupStateListeners();
// ÂàùÊúüÁä∂ÊÖã„ÅÆË°®Á§∫
this.updateAllDisplays();
// Êó¢Â≠ò„ÅÆUI„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÁµ±Âêà
this.integrateWithExistingUI();
this.initialized = true;
console.log('‚úÖ UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
}
// =================================================================================
// ÊâãÂãïÂà∂Âæ°„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
enable() {
this.enabled = true;
console.log('‚úÖ UIStateDisplay: „Ç∑„Çπ„ÉÜ„É†„ÇíÊúâÂäπÂåñ');
return this;
}
disable() {
this.enabled = false;
console.log('üö´ UIStateDisplay: „Ç∑„Çπ„ÉÜ„É†„ÇíÁÑ°ÂäπÂåñ');
this.cleanup();
return this;
}
cleanup() {
// UIË¶ÅÁ¥†„ÅÆÂâäÈô§
Object.values(this.displayElements).forEach(element => {
if (element && element.parentNode) {
element.parentNode.removeChild(element);
}
});
this.displayElements = {};
// „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆÂÅúÊ≠¢
this.animations.forEach(animation => {
if (animation.cancel) animation.cancel();
});
this.animations.clear();
// Êõ¥Êñ∞„Ç≠„É•„Éº„ÅÆ„ÇØ„É™„Ç¢
this.updateQueue = [];
this.isUpdating = false;
this.initialized = false;
console.log('üßπ UIStateDisplay: „ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÂÆå‰∫Ü');
}
// =================================================================================
// UIË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
// =================================================================================
createDisplayElements() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
// „É°„Ç§„É≥Áä∂ÊÖãË°®Á§∫„Éë„Éç„É´
this.createMainStatusPanel();
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãË°®Á§∫
this.createVoiceStatusDisplay();
// ÈÄ≤Ë°åÁä∂Ê≥ÅË°®Á§∫
this.createProgressDisplay();
// „Ç®„É©„ÉºË°®Á§∫
this.createErrorDisplay();
// „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÁä∂ÊÖãË°®Á§∫
this.createNetworkStatusDisplay();
// „É¶„Éº„Ç∂„ÉºÊìç‰Ωú„Ç¨„Ç§„ÉÄ„É≥„Çπ
this.createUserGuidanceDisplay();
console.log('‚úÖ UIË°®Á§∫Ë¶ÅÁ¥†‰ΩúÊàêÂÆå‰∫Ü');
}
createMainStatusPanel() {
// Êó¢Â≠ò„ÅÆUIË¶ÅÁ¥†„ÇíÊã°Âºµ„Åô„ÇãÂΩ¢„ÅßÂÆüË£Ö
const existingPanel = document.querySelector('.status-panel');
if (existingPanel) {
this.displayElements.mainPanel = existingPanel;
} else {
// Êñ∞Ë¶è‰ΩúÊàê
const panel = document.createElement('div');
panel.className = 'unified-status-panel';
panel.innerHTML = `
<div class="status-header">
<h3>„Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã</h3>
<button class="status-toggle" onclick="window.UIStateDisplay.togglePanel()">üìä</button>
</div>
<div class="status-content">
<div class="status-row">
<span class="status-label">„Çª„ÉÉ„Ç∑„Éß„É≥:</span>
<span class="status-value" id="sessionStatus">ÂæÖÊ©ü‰∏≠</span>
</div>
<div class="status-row">
<span class="status-label">„Éï„Çß„Éº„Ç∫:</span>
<span class="status-value" id="phaseStatus">„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó</span>
</div>
<div class="status-row">
<span class="status-label">Èü≥Â£∞Ë™çË≠ò:</span>
<span class="status-value" id="voiceStatus">Êú™ÈñãÂßã</span>
</div>
<div class="status-row">
<span class="status-label">„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ:</span>
<span class="status-value" id="networkStatus">Á¢∫Ë™ç‰∏≠</span>
</div>
</div>
`;
// CSS„Çπ„Çø„Ç§„É´„ÅÆËøΩÂä†
this.addStatusPanelStyles();
document.body.appendChild(panel);
this.displayElements.mainPanel = panel;
}
}
createVoiceStatusDisplay() {
// „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅÆÊã°Âºµ
const micButton = document.getElementById('microphoneButton');
if (micButton) {
this.displayElements.micButton = micButton;
// Áä∂ÊÖãË°®Á§∫Áî®„ÅÆË¶ÅÁ¥†„ÇíËøΩÂä†
const statusIndicator = document.createElement('div');
statusIndicator.className = 'mic-status-indicator';
statusIndicator.innerHTML = `
<div class="mic-status-text">ÂæÖÊ©ü‰∏≠</div>
<div class="mic-status-progress">
<div class="progress-bar"></div>
</div>
`;
micButton.appendChild(statusIndicator);
this.displayElements.micStatusIndicator = statusIndicator;
}
// Èü≥Â£∞„É¨„Éô„É´Ë°®Á§∫
this.createVoiceLevelDisplay();
}
createVoiceLevelDisplay() {
const levelDisplay = document.createElement('div');
levelDisplay.className = 'voice-level-display hidden';
levelDisplay.innerHTML = `
<div class="voice-level-header">Èü≥Â£∞ÂÖ•Âäõ„É¨„Éô„É´</div>
<div class="voice-level-bars">
${Array.from({length: 10}, (_, i) =>
`<div class="voice-level-bar" data-level="${i + 1}"></div>`
).join('')}
</div>
`;
document.body.appendChild(levelDisplay);
this.displayElements.voiceLevelDisplay = levelDisplay;
}
createProgressDisplay() {
// Êó¢Â≠ò„ÅÆÈÄ≤Ë°åÁä∂Ê≥ÅË°®Á§∫„ÇíÊã°Âºµ
let progressDisplay = document.querySelector('.progress-display');
if (!progressDisplay) {
progressDisplay = document.createElement('div');
progressDisplay.className = 'unified-progress-display hidden';
progressDisplay.innerHTML = `
<div class="progress-content">
<div class="progress-message">Âá¶ÁêÜ‰∏≠...</div>
<div class="progress-bar-container">
<div class="progress-bar-fill"></div>
</div>
<div class="progress-details"></div>
</div>
`;
document.body.appendChild(progressDisplay);
}
this.displayElements.progressDisplay = progressDisplay;
}
createErrorDisplay() {
// Êó¢Â≠ò„ÅÆ„Ç®„É©„ÉºË°®Á§∫„ÇíÊã°Âºµ
let errorDisplay = document.querySelector('.error-display');
if (!errorDisplay) {
errorDisplay = document.createElement('div');
errorDisplay.className = 'unified-error-display hidden';
errorDisplay.innerHTML = `
<div class="error-content">
<div class="error-icon">‚ö†Ô∏è</div>
<div class="error-message">„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</div>
<div class="error-details"></div>
<div class="error-actions">
<button class="error-retry" onclick="window.UIStateDisplay.retryLastAction()">ÂÜçË©¶Ë°å</button>
<button class="error-dismiss" onclick="window.UIStateDisplay.dismissError()">Èñâ„Åò„Çã</button>
</div>
</div>
`;
document.body.appendChild(errorDisplay);
}
this.displayElements.errorDisplay = errorDisplay;
}
createNetworkStatusDisplay() {
const networkDisplay = document.createElement('div');
networkDisplay.className = 'network-status-indicator';
networkDisplay.innerHTML = `
<div class="network-icon">üåê</div>
<div class="network-status">„Ç™„É≥„É©„Ç§„É≥</div>
`;
// „Éò„ÉÉ„ÉÄ„Éº„Å´ËøΩÂä†
const header = document.querySelector('.header');
if (header) {
header.appendChild(networkDisplay);
} else {
document.body.appendChild(networkDisplay);
}
this.displayElements.networkDisplay = networkDisplay;
}
createUserGuidanceDisplay() {
// üóëÔ∏è „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„ÇπË°®Á§∫„ÇíÂÆåÂÖ®„Å´ÂâäÈô§
// „É¶„Éº„Ç∂„Éº„Åã„Çâ„ÅÆË¶ÅÊ±Ç„Å´„Çà„Çä„ÄÅÈÇ™È≠î„Å™„Ç¨„Ç§„ÉÄ„É≥„Çπ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫„Åó„Å™„ÅÑ
console.log('üóëÔ∏è „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„ÇπË°®Á§∫„ÅØÁÑ°ÂäπÂåñ„Åï„Çå„Åæ„Åó„Åü');
}
// =================================================================================
// CSS„Çπ„Çø„Ç§„É´
// =================================================================================
addStatusPanelStyles() {
const styles = `
<style>
.unified-status-panel {
position: fixed;
top: 20px;
right: 20px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
border-radius: 12px;
padding: 16px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
z-index: 1000;
min-width: 250px;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}
.status-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 12px;
}
.status-header h3 {
margin: 0;
font-size: 16px;
font-weight: 600;
color: #333;
}
.status-toggle {
background: none;
border: none;
font-size: 18px;
cursor: pointer;
padding: 4px;
border-radius: 6px;
transition: background-color 0.2s;
}
.status-toggle:hover {
background-color: rgba(0, 0, 0, 0.1);
}
.status-row {
display: flex;
justify-content: space-between;
align-items: center;
padding: 8px 0;
border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}
.status-row:last-child {
border-bottom: none;
}
.status-label {
font-weight: 500;
color: #666;
font-size: 14px;
}
.status-value {
font-weight: 600;
color: #333;
font-size: 14px;
padding: 4px 8px;
border-radius: 6px;
background-color: rgba(0, 0, 0, 0.05);
}
.status-value.active {
background-color: #4CAF50;
color: white;
}
.status-value.error {
background-color: #f44336;
color: white;
}
.status-value.warning {
background-color: #ff9800;
color: white;
}
.mic-status-indicator {
position: absolute;
bottom: -30px;
left: 50%;
transform: translateX(-50%);
background: rgba(0, 0, 0, 0.8);
color: white;
padding: 6px 12px;
border-radius: 6px;
font-size: 12px;
white-space: nowrap;
opacity: 0;
transition: opacity 0.3s;
}
.mic-status-indicator.visible {
opacity: 1;
}
.voice-level-display {
position: fixed;
bottom: 100px;
left: 20px;
background: rgba(0, 0, 0, 0.8);
color: white;
padding: 12px;
border-radius: 8px;
z-index: 1000;
}
.voice-level-bars {
display: flex;
gap: 2px;
margin-top: 8px;
}
.voice-level-bar {
width: 4px;
height: 20px;
background: rgba(255, 255, 255, 0.3);
border-radius: 2px;
transition: background-color 0.1s;
}
.voice-level-bar.active {
background: #4CAF50;
}
.unified-progress-display {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
padding: 24px;
border-radius: 12px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
z-index: 2000;
min-width: 300px;
text-align: center;
}
.progress-bar-container {
width: 100%;
height: 6px;
background: rgba(0, 0, 0, 0.1);
border-radius: 3px;
margin: 12px 0;
overflow: hidden;
}
.progress-bar-fill {
height: 100%;
background: linear-gradient(90deg, #4CAF50, #8BC34A);
border-radius: 3px;
transition: width 0.3s ease;
width: 0%;
}
.unified-error-display {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
padding: 24px;
border-radius: 12px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
z-index: 2000;
min-width: 350px;
text-align: center;
border-left: 4px solid #f44336;
}
.error-icon {
font-size: 48px;
margin-bottom: 12px;
}
.error-message {
font-size: 18px;
font-weight: 600;
color: #333;
margin-bottom: 8px;
}
.error-details {
font-size: 14px;
color: #666;
margin-bottom: 16px;
}
.error-actions {
display: flex;
gap: 12px;
justify-content: center;
}
.error-retry, .error-dismiss {
padding: 8px 16px;
border: none;
border-radius: 6px;
cursor: pointer;
font-weight: 500;
transition: background-color 0.2s;
}
.error-retry {
background: #4CAF50;
color: white;
}
.error-retry:hover {
background: #45a049;
}
.error-dismiss {
background: #f0f0f0;
color: #333;
}
.error-dismiss:hover {
background: #e0e0e0;
}
.network-status-indicator {
display: flex;
align-items: center;
gap: 6px;
padding: 6px 12px;
background: rgba(0, 0, 0, 0.05);
border-radius: 20px;
font-size: 12px;
font-weight: 500;
}
.network-status-indicator.offline {
background: rgba(244, 67, 54, 0.1);
color: #f44336;
}
.network-status-indicator.online {
background: rgba(76, 175, 80, 0.1);
color: #4CAF50;
}
.user-guidance-display {
position: fixed;
bottom: 20px;
right: 20px;
background: rgba(33, 150, 243, 0.95);
color: white;
padding: 16px;
border-radius: 12px;
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
z-index: 1000;
max-width: 300px;
transform: translateY(100px);
opacity: 0;
transition: all 0.3s ease;
}
.user-guidance-display.visible {
transform: translateY(0);
opacity: 1;
}
.guidance-content {
display: flex;
align-items: flex-start;
gap: 12px;
}
.guidance-icon {
font-size: 24px;
flex-shrink: 0;
}
.guidance-message {
font-size: 14px;
line-height: 1.4;
}
@media (max-width: 768px) {
.unified-status-panel {
top: 10px;
right: 10px;
left: 10px;
min-width: auto;
}
.user-guidance-display {
bottom: 10px;
right: 10px;
left: 10px;
max-width: none;
}
}
</style>
`;
document.head.insertAdjacentHTML('beforeend', styles);
}
// =================================================================================
// Áä∂ÊÖã„É™„Çπ„Éä„Éº
// =================================================================================
setupStateListeners() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
this.unifiedStateManager.addListener((eventType, data, state) => {
this.handleStateChange(eventType, data, state);
});
console.log('‚úÖ Áä∂ÊÖãÂ§âÊõ¥„É™„Çπ„Éä„ÉºË®≠ÂÆöÂÆå‰∫Ü');
}
handleStateChange(eventType, data, state) {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
// Êõ¥Êñ∞„Ç≠„É•„Éº„Å´ËøΩÂä†
this.updateQueue.push({ eventType, data, state });
// ÈùûÂêåÊúü„ÅßÊõ¥Êñ∞Âá¶ÁêÜ
if (!this.isUpdating) {
this.processUpdateQueue();
}
}
async processUpdateQueue() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
this.isUpdating = true;
while (this.updateQueue.length > 0) {
const update = this.updateQueue.shift();
await this.applyStateUpdate(update);
}
this.isUpdating = false;
}
async applyStateUpdate({ eventType, data, state }) {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
switch (eventType) {
case 'system_state_changed':
this.updateSystemDisplay(state.system);
break;
case 'voice_state_changed':
this.updateVoiceDisplay(state.voice);
break;
case 'conversation_state_changed':
this.updateConversationDisplay(state.conversation);
break;
case 'ui_state_changed':
this.updateUIDisplay(state.ui);
break;
case 'network_state_changed':
this.updateNetworkDisplay(state.network);
break;
case 'error_occurred':
this.showError(data.errorType, data.message, data.details);
break;
case 'error_cleared':
this.hideError();
break;
case 'session_started':
// this.showUserGuidance('„Çª„ÉÉ„Ç∑„Éß„É≥„ÅåÈñãÂßã„Åï„Çå„Åæ„Åó„Åü„ÄÇËá™ÁÑ∂„Å´Ë©±„Åó„Åã„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
break;
case 'speech_started':
this.updateSpeechStatus(data.speaker, 'Áô∫Ë©±‰∏≠');
break;
case 'speech_ended':
this.updateSpeechStatus(null, 'ÂæÖÊ©ü‰∏≠');
break;
}
}
// =================================================================================
// Ë°®Á§∫Êõ¥Êñ∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
updateSystemDisplay(systemState) {
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã
const sessionStatus = document.getElementById('sessionStatus');
if (sessionStatus) {
sessionStatus.textContent = systemState.sessionActive ? '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ' : 'ÂæÖÊ©ü‰∏≠';
sessionStatus.className = `status-value ${systemState.sessionActive ? 'active' : ''}`;
}
// „Éï„Çß„Éº„Ç∫Áä∂ÊÖã
const phaseStatus = document.getElementById('phaseStatus');
if (phaseStatus) {
const phaseNames = {
'setup': '„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó',
'warmup': '„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó',
'deepdive': 'Ê∑±Êéò„Çä',
'summary': '„Åæ„Å®„ÇÅ',
'completed': 'ÂÆå‰∫Ü'
};
phaseStatus.textContent = phaseNames[systemState.currentPhase] || systemState.currentPhase;
}
}
updateVoiceDisplay(voiceState) {
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã
const voiceStatus = document.getElementById('voiceStatus');
if (voiceStatus) {
const statusNames = {
'idle': 'ÂæÖÊ©ü‰∏≠',
'starting': 'ÈñãÂßã‰∏≠',
'active': 'ËÅû„ÅÑ„Å¶„ÅÑ„Åæ„Åô',
'paused': '‰∏ÄÊôÇÂÅúÊ≠¢',
'stopping': 'ÂÅúÊ≠¢‰∏≠',
'error': '„Ç®„É©„Éº'
};
let statusText = statusNames[voiceState.recognitionState] || voiceState.recognitionState;
// Ë©≥Á¥∞ÊÉÖÂ†±„ÇíËøΩÂä†
if (voiceState.recognitionState === 'paused' && voiceState.pauseReason) {
statusText += ` (${voiceState.pauseReason})`;
}
if (voiceState.recognitionState === 'active' && voiceState.timeSinceLastResult) {
const seconds = Math.floor(voiceState.timeSinceLastResult / 1000);
if (seconds > 10) {
statusText += ` (${seconds}ÁßíÂâç)`;
}
}
voiceStatus.textContent = statusText;
voiceStatus.className = `status-value ${voiceState.recognitionState === 'active' ? 'active' :
voiceState.recognitionState === 'error' ? 'error' :
voiceState.recognitionState === 'paused' ? 'warning' : ''}`;
}
// „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
this.updateMicrophoneButton(voiceState);
// Èü≥Â£∞„É¨„Éô„É´Ë°®Á§∫„ÅÆÊõ¥Êñ∞
if (voiceState.recognitionState === 'active') {
this.showVoiceLevelDisplay();
} else {
this.hideVoiceLevelDisplay();
}
// „Éû„Ç§„ÇØ„Çπ„ÉÜ„Éº„Çø„Çπ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº„ÅÆÊõ¥Êñ∞
this.updateMicStatusIndicator(voiceState);
}
updateMicrophoneButton(voiceState) {
const micButton = this.displayElements.micButton;
const statusIndicator = this.displayElements.micStatusIndicator;
if (!micButton || !statusIndicator) return;
// „Éú„Çø„É≥„ÇØ„É©„Çπ„ÅÆÊõ¥Êñ∞
micButton.classList.remove('mic-idle', 'mic-active', 'mic-error', 'mic-disabled');
switch (voiceState.recognitionState) {
case 'active':
micButton.classList.add('mic-active');
break;
case 'error':
micButton.classList.add('mic-error');
break;
case 'starting':
case 'stopping':
micButton.classList.add('mic-loading');
break;
default:
micButton.classList.add('mic-idle');
}
}
updateMicStatusIndicator(voiceState) {
const indicator = this.displayElements.micStatusIndicator;
if (!indicator) return;
const statusMessages = {
'idle': 'ÂæÖÊ©ü‰∏≠',
'starting': 'ÈñãÂßã‰∏≠...',
'active': 'ËÅû„ÅÑ„Å¶„ÅÑ„Åæ„Åô',
'paused': '‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠',
'stopping': 'ÂÅúÊ≠¢‰∏≠...',
'error': '„Ç®„É©„Éº'
};
let message = statusMessages[voiceState.recognitionState] || voiceState.recognitionState;
// Ë©≥Á¥∞ÊÉÖÂ†±„ÇíËøΩÂä†
if (voiceState.recognitionState === 'active' && voiceState.timeSinceLastResult) {
const seconds = Math.floor(voiceState.timeSinceLastResult / 1000);
if (seconds > 30) {
message += ` (${seconds}ÁßíÈñìÁÑ°Èü≥)`;
}
}
const statusText = indicator.querySelector('.mic-status-text');
if (statusText) {
statusText.textContent = message;
}
indicator.className = `mic-status-indicator ${voiceState.recognitionState === 'active' ? 'visible' : ''}`;
}
updateConversationDisplay(conversationState) {
// Áô∫Ë©±ËÄÖ„ÅÆË°®Á§∫Êõ¥Êñ∞
// if (conversationState.currentSpeaker) {
// this.showUserGuidance(`${conversationState.currentSpeaker}„ÅåÁô∫Ë©±‰∏≠„Åß„Åô...`);
// }
}
updateUIDisplay(uiState) {
// ÈÄ≤Ë°åÁä∂Ê≥Å„ÅÆË°®Á§∫
if (uiState.progressMessage) {
this.showProgress(uiState.progressMessage, uiState.progressPercentage);
} else {
this.hideProgress();
}
// „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆË°®Á§∫
if (uiState.errorMessage) {
this.showError(uiState.errorType, uiState.errorMessage);
}
}
updateNetworkDisplay(networkState) {
const networkDisplay = this.displayElements.networkDisplay;
if (!networkDisplay) return;
const statusElement = networkDisplay.querySelector('.network-status');
const iconElement = networkDisplay.querySelector('.network-icon');
if (networkState.isOnline) {
statusElement.textContent = '„Ç™„É≥„É©„Ç§„É≥';
iconElement.textContent = 'üåê';
networkDisplay.className = 'network-status-indicator online';
} else {
statusElement.textContent = '„Ç™„Éï„É©„Ç§„É≥';
iconElement.textContent = 'üì°';
networkDisplay.className = 'network-status-indicator offline';
}
}
// =================================================================================
// „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
showProgress(message, percentage = 0) {
const progressDisplay = this.displayElements.progressDisplay;
if (!progressDisplay) return;
progressDisplay.querySelector('.progress-message').textContent = message;
progressDisplay.querySelector('.progress-bar-fill').style.width = `${percentage}%`;
progressDisplay.classList.remove('hidden');
}
hideProgress() {
const progressDisplay = this.displayElements.progressDisplay;
if (progressDisplay) {
progressDisplay.classList.add('hidden');
}
}
showError(errorType, message, details = null) {
const errorDisplay = this.displayElements.errorDisplay;
if (!errorDisplay) return;
errorDisplay.querySelector('.error-message').textContent = message;
if (details) {
errorDisplay.querySelector('.error-details').textContent = details;
}
errorDisplay.classList.remove('hidden');
}
hideError() {
const errorDisplay = this.displayElements.errorDisplay;
if (errorDisplay) {
errorDisplay.classList.add('hidden');
}
}
showUserGuidance(message, actions = []) {
// üóëÔ∏è „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„ÇπË°®Á§∫„ÇíÂÆåÂÖ®„Å´ÂâäÈô§
// „É¶„Éº„Ç∂„Éº„Åã„Çâ„ÅÆË¶ÅÊ±Ç„Å´„Çà„Çä„ÄÅÈÇ™È≠î„Å™„Ç¨„Ç§„ÉÄ„É≥„Çπ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫„Åó„Å™„ÅÑ
console.log('üóëÔ∏è „É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉÄ„É≥„ÇπË°®Á§∫„ÅØÁÑ°ÂäπÂåñ„Åï„Çå„Åæ„Åó„Åü');
}
hideUserGuidance() {
const guidanceDisplay = this.displayElements.guidanceDisplay;
if (guidanceDisplay) {
guidanceDisplay.classList.remove('visible');
}
}
showVoiceLevelDisplay() {
const voiceLevelDisplay = this.displayElements.voiceLevelDisplay;
if (voiceLevelDisplay) {
voiceLevelDisplay.classList.remove('hidden');
}
}
hideVoiceLevelDisplay() {
const voiceLevelDisplay = this.displayElements.voiceLevelDisplay;
if (voiceLevelDisplay) {
voiceLevelDisplay.classList.add('hidden');
}
}
updateSpeechStatus(speaker, status) {
// Áô∫Ë©±Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
console.log(`üé§ Áô∫Ë©±Áä∂ÊÖãÊõ¥Êñ∞: ${speaker} - ${status}`);
}
updateAllDisplays() {
// üîß ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.enabled) return;
if (!this.unifiedStateManager) return;
const state = this.unifiedStateManager.getState();
this.updateSystemDisplay(state.system);
this.updateVoiceDisplay(state.voice);
this.updateConversationDisplay(state.conversation);
this.updateUIDisplay(state.ui);
this.updateNetworkDisplay(state.network);
}
// =================================================================================
// „Éë„Éñ„É™„ÉÉ„ÇØ„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
togglePanel() {
const panel = this.displayElements.mainPanel;
if (panel) {
panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
}
}
retryLastAction() {
// ÊúÄÂæå„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥„ÅÆÂÜçË©¶Ë°å
console.log('üîÑ ÊúÄÂæå„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥„ÇíÂÜçË©¶Ë°å');
this.hideError();
}
dismissError() {
this.hideError();
}
// =================================================================================
// Êó¢Â≠òUI„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÁµ±Âêà
// =================================================================================
integrateWithExistingUI() {
// Êó¢Â≠ò„ÅÆ„Éû„Ç§„ÇØ„Éú„Çø„É≥„Å®„ÅÆÁµ±Âêà
this.integrateWithMicrophoneButton();
// Êó¢Â≠ò„ÅÆ„Çπ„ÉÜ„Éº„Çø„ÇπË°®Á§∫„Å®„ÅÆÁµ±Âêà
this.integrateWithStatusDisplays();
// Êó¢Â≠ò„ÅÆ„Ç®„É©„ÉºË°®Á§∫„Å®„ÅÆÁµ±Âêà
this.integrateWithErrorDisplays();
console.log('‚úÖ Êó¢Â≠òUI„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÁµ±ÂêàÂÆå‰∫Ü');
}
integrateWithMicrophoneButton() {
const micButton = document.getElementById('microphoneButton');
if (micButton) {
// Êó¢Â≠ò„ÅÆ„Éû„Ç§„ÇØ„Éú„Çø„É≥„Å´Áä∂ÊÖãË°®Á§∫„ÇíËøΩÂä†
const statusIndicator = document.createElement('div');
statusIndicator.className = 'mic-status-indicator';
statusIndicator.id = 'micStatusIndicator';
micButton.parentNode.style.position = 'relative';
micButton.parentNode.appendChild(statusIndicator);
this.displayElements.micStatusIndicator = statusIndicator;
console.log('‚úÖ „Éû„Ç§„ÇØ„Éú„Çø„É≥„Å®Áµ±ÂêàÂÆå‰∫Ü');
}
}
integrateWithStatusDisplays() {
// Êó¢Â≠ò„ÅÆ„Çπ„ÉÜ„Éº„Çø„ÇπË°®Á§∫Ë¶ÅÁ¥†„ÇíÊã°Âºµ
const existingElements = [
'sessionStatus',
'phaseStatus',
'voiceStatus',
'networkStatus'
];
existingElements.forEach(id => {
const element = document.getElementById(id);
if (element) {
// Êó¢Â≠òË¶ÅÁ¥†„Å´Áä∂ÊÖãË°®Á§∫„ÇØ„É©„Çπ„ÇíËøΩÂä†
element.classList.add('unified-status-value');
this.displayElements[id] = element;
}
});
}
integrateWithErrorDisplays() {
// Êó¢Â≠ò„ÅÆ„Ç®„É©„ÉºË°®Á§∫„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÁµ±Âêà
const existingErrorDisplay = document.querySelector('.error-display');
if (existingErrorDisplay) {
this.displayElements.errorDisplay = existingErrorDisplay;
}
}
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
debugDisplayStatus() {
const status = {
enabled: this.enabled,
initialized: this.initialized,
elementsCreated: Object.keys(this.displayElements).length,
updateQueueLength: this.updateQueue.length,
isUpdating: this.isUpdating,
config: UI_STATE_DISPLAY_CONFIG
};
console.log('üîç UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É† - Ë°®Á§∫Áä∂Ê≥Å:', status);
return status;
}
}
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñ
// =================================================================================
if (typeof window !== 'undefined') {
// üîß Ëá™ÂãïÂàùÊúüÂåñ„ÇíÁÑ°ÂäπÂåñ
if (UI_STATE_DISPLAY_CONFIG.AUTO_INITIALIZE) {
// DOMContentLoadedÂæå„Å´ÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', () => {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„ÇíÂæÖ„Å§
const initializeDisplay = async () => {
if (window.UnifiedStateManager && window.UnifiedStateManager.initialized) {
window.UIStateDisplay = new UIStateDisplaySystem();
await window.UIStateDisplay.initialize();
console.log('‚úÖ UIÁä∂ÊÖãË°®Á§∫„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åó„Åü');
} else {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„ÇíÂæÖ„Å§
setTimeout(initializeDisplay, 100);
}
};
initializeDisplay();
});
} else {
// ÊâãÂãïÂàùÊúüÂåñ„ÅÆ„Åø - „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆ„Åø‰ΩúÊàê
window.UIStateDisplay = new UIStateDisplaySystem();
console.log('üîß UIStateDisplay: ÊâãÂãïÂàùÊúüÂåñ„É¢„Éº„ÉâÔºàËá™ÂãïÂàùÊúüÂåñÁÑ°ÂäπÔºâ');
}
}
// CommonJS/ES„É¢„Ç∏„É•„Éº„É´ÂØæÂøú
if (typeof module !== 'undefined' && module.exports) {
module.exports = UIStateDisplaySystem;
}
/* === voice-core.js === */
// =================================================================================
// Ê∑±Â†Ä„Åè„Çì v2.0 - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É† Phase 1: Âü∫Êú¨Èü≥Â£∞ÁÆ°ÁêÜ
// =================================================================================
console.log('üé§ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É† Phase 1 Ë™≠„ÅøËæº„ÅøÈñãÂßã...');
// =================================================================================
// PERMISSION MANAGER - „Éû„Ç§„ÇØË®±ÂèØÁÆ°ÁêÜ
// =================================================================================
// üîß PermissionManager: „Éû„Ç§„ÇØË®±ÂèØ„ÅÆ‰∏ÄÂÖÉÁÆ°ÁêÜ
class PermissionManager {
constructor() {
this.state = 'unknown'; // unknown, granted, denied, requesting
this.listeners = new Set();
this.requestQueue = [];
this.isRequesting = false;
this.lastRequestTime = 0;
this.minRequestInterval = 5000; // 5ÁßíÈñìÈöîÂà∂Èôê
}
// Ë®±ÂèØÁä∂ÊÖã„ÅÆÂèñÂæóÔºàÈùûÂêåÊúüÔºâ
async getPermission() {
console.log('üîç Ë®±ÂèØÁä∂ÊÖãÁ¢∫Ë™ç:', this.state);
if (this.state === 'granted') {
console.log('‚úÖ Ë®±ÂèØÊ∏à„Åø - Âç≥Â∫ß„Å´ËøîÂç¥');
return true;
}
if (this.state === 'denied') {
console.log('üö´ ÊãíÂê¶Ê∏à„Åø - Âç≥Â∫ß„Å´ËøîÂç¥');
return false;
}
// ÊôÇÈñìÈñìÈöî„ÉÅ„Çß„ÉÉ„ÇØ
const now = Date.now();
if (now - this.lastRequestTime < this.minRequestInterval) {
console.log('‚è∞ Ë¶ÅÊ±ÇÈñìÈöî‰∏çË∂≥ - ÂæÖÊ©ü');
return new Promise((resolve) => {
this.requestQueue.push(resolve);
});
}
return this.requestPermission();
}
// Ë®±ÂèØË¶ÅÊ±ÇÔºàÈáçË§áÈò≤Ê≠¢„Éª‰∏ÄÂõû„Å†„Åë„É´„Éº„É´Ôºâ
async requestPermission() {
if (this.isRequesting) {
console.log('üîÑ Ë¶ÅÊ±ÇÈÄ≤Ë°å‰∏≠ - „Ç≠„É•„Éº„Å´ËøΩÂä†');
return new Promise((resolve) => {
this.requestQueue.push(resolve);
});
}
console.log('üé§ „Éû„Ç§„ÇØË®±ÂèØË¶ÅÊ±ÇÈñãÂßãÔºà‰∏ÄÂõû„Å†„Åë„É´„Éº„É´Ôºâ');
this.isRequesting = true;
this.state = 'requesting';
this.lastRequestTime = Date.now();
try {
// „Éñ„É©„Ç¶„Ç∂„É¨„Éô„É´„Åß„ÅÆË®±ÂèØÁä∂ÊÖãÁ¢∫Ë™ç
const permissionStatus = await navigator.permissions.query({ name: 'microphone' }).catch(() => null);
if (permissionStatus && permissionStatus.state === 'granted') {
console.log('‚úÖ „Éñ„É©„Ç¶„Ç∂„É¨„Éô„É´„ÅßË®±ÂèØÊ∏à„Åø');
this.state = 'granted';
this.notifyListeners();
this.processQueue(true);
return true;
}
// ‰∏ÄÂõû„Å†„Åë„ÅÆË®±ÂèØÂèñÂæó
console.log('üîÑ getUserMedia„Å´„Çà„ÇãË®±ÂèØÂèñÂæó');
const stream = await navigator.mediaDevices.getUserMedia({
audio: {
echoCancellation: true,
noiseSuppression: true,
autoGainControl: true
}
});
// „Çπ„Éà„É™„Éº„É†„ÇíÂç≥Â∫ß„Å´ÂÅúÊ≠¢ÔºàË®±ÂèØ„ÅÆ„Åø„ÅåÁõÆÁöÑÔºâ
stream.getTracks().forEach(track => track.stop());
console.log('‚úÖ „Éû„Ç§„ÇØË®±ÂèØÂèñÂæóÊàêÂäü');
this.state = 'granted';
this.notifyListeners();
this.processQueue(true);
return true;
} catch (error) {
console.error('‚ùå „Éû„Ç§„ÇØË®±ÂèØÂèñÂæóÂ§±Êïó:', error);
this.state = 'denied';
this.notifyListeners();
this.processQueue(false);
return false;
} finally {
this.isRequesting = false;
}
}
// „Ç≠„É•„ÉºÂá¶ÁêÜ
processQueue(result) {
while (this.requestQueue.length > 0) {
const resolve = this.requestQueue.shift();
resolve(result);
}
}
// „É™„Çπ„Éä„ÉºÁôªÈå≤
addListener(callback) {
this.listeners.add(callback);
}
// „É™„Çπ„Éä„ÉºÂâäÈô§
removeListener(callback) {
this.listeners.delete(callback);
}
// Áä∂ÊÖãÈÄöÁü•
notifyListeners() {
this.listeners.forEach(callback => {
try {
callback(this.state);
} catch (error) {
console.error('„É™„Çπ„Éä„ÉºÂÆüË°å„Ç®„É©„Éº:', error);
}
});
}
// Áä∂ÊÖã„É™„Çª„ÉÉ„ÉàÔºà„ÉÜ„Çπ„ÉàÁî®Ôºâ
reset() {
this.state = 'unknown';
this.isRequesting = false;
this.requestQueue = [];
this.notifyListeners();
}
}
// =================================================================================
// AUDIO MANAGER - Èü≥Â£∞ÂÜçÁîüÁÆ°ÁêÜ
// =================================================================================
// üîß AudioManager: Èü≥Â£∞ÂÜçÁîü„ÅÆ‰∏ÄÂÖÉÁÆ°ÁêÜ
class AudioManager {
constructor() {
this.activeAudioSources = new Set();
this.listeners = new Set();
}
// Èü≥Â£∞ÁôªÈå≤
registerAudio(audioElement, source, speaker) {
const audioData = {
audio: audioElement,
source: source,
speaker: speaker,
startTime: Date.now(),
id: `audio_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
};
this.activeAudioSources.add(audioData);
console.log(`üéµ Èü≥Â£∞ÁôªÈå≤: ${speaker} (ID: ${audioData.id})`);
// Èü≥Â£∞ÁµÇ‰∫ÜÊôÇ„ÅÆËá™ÂãïÂâäÈô§
audioElement.addEventListener('ended', () => {
this.unregisterAudio(audioData);
});
audioElement.addEventListener('error', () => {
this.unregisterAudio(audioData);
});
this.notifyListeners();
return audioData.id;
}
// Èü≥Â£∞ÁôªÈå≤Ëß£Èô§
unregisterAudio(audioData) {
this.activeAudioSources.delete(audioData);
console.log(`üîá Èü≥Â£∞ÁôªÈå≤Ëß£Èô§: ${audioData.speaker} (ID: ${audioData.id})`);
this.notifyListeners();
}
// ÂÖ®Èü≥Â£∞Âº∑Âà∂ÂÅúÊ≠¢
forceStopAllAudio(reason = 'user_request') {
console.log(`üõë ÂÖ®Èü≥Â£∞Âº∑Âà∂ÂÅúÊ≠¢ÈñãÂßã: ${reason} (ÂØæË±°: ${this.activeAudioSources.size}‰ª∂)`);
let stoppedCount = 0;
this.activeAudioSources.forEach(audioData => {
try {
audioData.audio.pause();
audioData.audio.currentTime = 0;
stoppedCount++;
} catch (error) {
console.error('Èü≥Â£∞ÂÅúÊ≠¢„Ç®„É©„Éº:', error);
}
});
this.activeAudioSources.clear();
this.notifyListeners();
console.log(`‚úÖ ÂÖ®Èü≥Â£∞ÂÅúÊ≠¢ÂÆå‰∫Ü: ${stoppedCount}‰ª∂`);
return stoppedCount;
}
// ÁâπÂÆö„Çπ„Éî„Éº„Ç´„Éº„ÅÆÈü≥Â£∞ÂÅúÊ≠¢
stopSpeakerAudio(speaker, reason = 'speaker_control') {
console.log(`üõë ${speaker}„ÅÆÈü≥Â£∞ÂÅúÊ≠¢: ${reason}`);
let stoppedCount = 0;
this.activeAudioSources.forEach(audioData => {
if (audioData.speaker === speaker) {
try {
audioData.audio.pause();
audioData.audio.currentTime = 0;
stoppedCount++;
} catch (error) {
console.error('Èü≥Â£∞ÂÅúÊ≠¢„Ç®„É©„Éº:', error);
}
}
});
// ÂÅúÊ≠¢„Åó„ÅüÈü≥Â£∞„ÇíÁôªÈå≤Ëß£Èô§
this.activeAudioSources.forEach(audioData => {
if (audioData.speaker === speaker) {
this.unregisterAudio(audioData);
}
});
console.log(`‚úÖ ${speaker}Èü≥Â£∞ÂÅúÊ≠¢ÂÆå‰∫Ü: ${stoppedCount}‰ª∂`);
return stoppedCount;
}
// „Ç¢„ÇØ„ÉÜ„Ç£„ÉñÈü≥Â£∞ÊÉÖÂ†±ÂèñÂæó
getActiveAudioInfo() {
return Array.from(this.activeAudioSources).map(audioData => ({
speaker: audioData.speaker,
source: audioData.source,
id: audioData.id,
duration: Date.now() - audioData.startTime
}));
}
// „É™„Çπ„Éä„ÉºÁôªÈå≤
addListener(callback) {
this.listeners.add(callback);
}
// „É™„Çπ„Éä„ÉºÂâäÈô§
removeListener(callback) {
this.listeners.delete(callback);
}
// Áä∂ÊÖãÈÄöÁü•
notifyListeners() {
this.listeners.forEach(callback => {
try {
callback(this.getActiveAudioInfo());
} catch (error) {
console.error('„É™„Çπ„Éä„ÉºÂÆüË°å„Ç®„É©„Éº:', error);
}
});
}
}
// =================================================================================
// VOICE CORE SYSTEM - Èü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
const VoiceCore = {
// „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
permission: null,
audio: null,
// ÂàùÊúüÂåñ
init() {
console.log('üöÄ Èü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
try {
this.permission = new PermissionManager();
this.audio = new AudioManager();
console.log('‚úÖ Èü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
},
// Áä∂ÊÖãÂèñÂæó
getState() {
return {
permission: this.permission?.state || 'unknown',
activeAudio: this.audio?.getActiveAudioInfo() || []
};
}
};
// =================================================================================
// WINDOW EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „ÇØ„É©„Çπ„ÅÆÂÖ¨Èñã
window.PermissionManager = PermissionManager;
window.AudioManager = AudioManager;
// Áµ±Âêà„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÖ¨Èñã
window.VoiceCore = VoiceCore;
// ÂàùÊúüÂåñ
VoiceCore.init();
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É† Phase 1 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üì¶ VoiceCore: PermissionManager„ÄÅAudioManager„ÄÅVoiceCore„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂÖ¨Èñã');
/* === ui-manager.js === */
// =================================================================================
// UI MANAGER - UI/DOMÊìç‰ΩúÁÆ°ÁêÜ„É¢„Ç∏„É•„Éº„É´
// =================================================================================
/**
* UI/DOMÊìç‰Ωú„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ„Åô„Çã„É¢„Ç∏„É•„Éº„É´
* Phase 1: DOMUtils„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂàÜÈõ¢
*
* ‰æùÂ≠òÈñ¢‰øÇ:
* - „Å™„ÅóÔºàÂÆåÂÖ®„Å´Áã¨Á´ãÔºâ
*
* ÂÖ¨ÈñãAPI:
* - window.UIManager.DOMUtils
*/
// =================================================================================
// DOM UTILITIES - DOMÊìç‰Ωú„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£
// =================================================================================
const DOMUtils = {
/**
* ID„ÅßDOMË¶ÅÁ¥†„ÇíÂèñÂæó
* @param {string} id - Ë¶ÅÁ¥†„ÅÆID
* @returns {HTMLElement|null} DOMË¶ÅÁ¥†„Åæ„Åü„ÅØnull
*/
get: (id) => document.getElementById(id),
/**
* Ë§áÊï∞„ÅÆID„ÅßDOMË¶ÅÁ¥†„Çí‰∏ÄÊã¨ÂèñÂæó
* @param {string[]} ids - Ë¶ÅÁ¥†ID„ÅÆÈÖçÂàó
* @returns {Object} ID„Çí„Ç≠„Éº„Å®„Åó„ÅüDOMË¶ÅÁ¥†„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
*/
getAll: (ids) => ids.reduce((acc, id) => {
acc[id] = document.getElementById(id);
return acc;
}, {}),
/**
* Èü≥Â£∞„Ç≠„É£„É©„ÇØ„Çø„ÉºÁî®„ÅÆDOMË¶ÅÁ¥†„ÇíÂèñÂæó
* @param {string} character - „Ç≠„É£„É©„ÇØ„Çø„ÉºÂêçÔºàSPEAKERS.NEHORI „Åæ„Åü„ÅØ SPEAKERS.HAHORIÔºâ
* @returns {Object} Èü≥Â£∞Ë®≠ÂÆöÁî®„ÅÆDOMË¶ÅÁ¥†Áæ§
*/
getVoiceElements: (character) => {
const prefix = character === 'nehori' ? 'nehori' : 'hahori';
return {
voice: document.getElementById(`${prefix}Voice`),
speed: document.getElementById(`${prefix}Speed`),
volume: document.getElementById(`${prefix}Volume`),
prompt: document.getElementById(`${prefix}Prompt`),
speedValue: document.getElementById(`${prefix}SpeedValue`),
volumeValue: document.getElementById(`${prefix}VolumeValue`)
};
}
};
// =================================================================================
// UI MANAGER - „É°„Ç§„É≥„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
const UIManager = {
// Phase 1: DOMUtils„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
DOMUtils: DOMUtils,
// Â∞ÜÊù•„ÅÆÊã°ÂºµÁî®
// Phase 2: LocalStorageÊìç‰ΩúÈñ¢Êï∞
// Phase 3: Âü∫Êú¨UIÊõ¥Êñ∞Èñ¢Êï∞
// Phase 4: È´òÂ∫¶UIÊõ¥Êñ∞Èñ¢Êï∞
/**
* UIManager„ÅÆÂàùÊúüÂåñ
*/
init: () => {
console.log('‚úÖ UIManagerÂàùÊúüÂåñÂÆå‰∫Ü - Phase 1: DOMUtils');
}
};
// =================================================================================
// GLOBAL EXPORT - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// windowÁµåÁî±„Åß„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.UIManager = UIManager;
// ÂàùÊúüÂåñÂÆüË°å
UIManager.init();
console.log('üéØ UI Manager Phase 1 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü: DOMUtilsÂàÜÈõ¢');
/* === ui-screens.js === */
// =================================================================================
// UI SCREENS MANAGER - ÁîªÈù¢ÈÅ∑ÁßªÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// üîß „É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞ Phase 3A: ÁîªÈù¢ÈÅ∑ÁßªÈñ¢Êï∞„ÅÆÂàÜÈõ¢
// ÂàÜÈõ¢ÂÖÉ: app/script.js (50Ë°å)
// ÂàÜÈõ¢ÂÖà: app/ui-screens.js (Êñ∞Ë¶è‰ΩúÊàê)
//
// „ÄêÂàÜÈõ¢ÂØæË±°Èñ¢Êï∞„Äë
// - showLoginScreen() - „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Ë°®Á§∫
// - hideLoginScreen() - „É≠„Ç∞„Ç§„É≥ÁîªÈù¢ÈùûË°®Á§∫
// - showMainScreen() - „É°„Ç§„É≥ÁîªÈù¢Ë°®Á§∫
// - hideMainScreen() - „É°„Ç§„É≥ÁîªÈù¢ÈùûË°®Á§∫
//
// =================================================================================
/**
* „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„ÇíË°®Á§∫
*/
function showLoginScreen() {
const setupPanel = window.UIManager.DOMUtils.get('setupPanel');
if (setupPanel) {
setupPanel.classList.remove('hidden');
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„ÇíË°®Á§∫');
}
}
/**
* „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„ÇíÈùûË°®Á§∫
*/
function hideLoginScreen() {
const setupPanel = window.UIManager.DOMUtils.get('setupPanel');
if (setupPanel) {
setupPanel.classList.add('hidden');
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„ÇíÈùûË°®Á§∫');
}
}
/**
* „É°„Ç§„É≥ÁîªÈù¢„ÇíË°®Á§∫
*/
function showMainScreen() {
const chatArea = window.UIManager.DOMUtils.get('chatArea');
if (chatArea) {
chatArea.classList.remove('hidden');
console.log('‚úÖ „É°„Ç§„É≥ÁîªÈù¢„ÇíË°®Á§∫');
}
}
/**
* „É°„Ç§„É≥ÁîªÈù¢„ÇíÈùûË°®Á§∫
*/
function hideMainScreen() {
const chatArea = window.UIManager.DOMUtils.get('chatArea');
if (chatArea) {
chatArea.classList.add('hidden');
console.log('‚úÖ „É°„Ç§„É≥ÁîªÈù¢„ÇíÈùûË°®Á§∫');
}
}
// =================================================================================
// UI SCREENS OBJECT - UIScreens„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
const UIScreens = {
// „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âà∂Âæ°
login: {
show: showLoginScreen,
hide: hideLoginScreen
},
// „É°„Ç§„É≥ÁîªÈù¢Âà∂Âæ°
main: {
show: showMainScreen,
hide: hideMainScreen
}
};
// =================================================================================
// WINDOW EXPORTS - WindowÁµåÁî±„Åß„ÅÆÂÖ¨Èñã
// =================================================================================
// ÂÄãÂà•Èñ¢Êï∞„ÅÆÂÖ¨Èñã
window.showLoginScreen = showLoginScreen;
window.hideLoginScreen = hideLoginScreen;
window.showMainScreen = showMainScreen;
window.hideMainScreen = hideMainScreen;
// UIScreens„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÖ¨Èñã
window.UIScreens = UIScreens;
console.log('‚úÖ UIScreensË™≠„ÅøËæº„ÅøÂÆå‰∫Ü - ÁîªÈù¢ÈÅ∑ÁßªÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†');
console.log('üì¶ UIScreens: 4ÂÄã„ÅÆÈñ¢Êï∞„Å®UIScreens„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíwindowÁµåÁî±„ÅßÂÖ¨Èñã');
/* === ui-basic.js === */
// =================================================================================
// UI BASIC MANAGER - Âü∫Êú¨UIÊõ¥Êñ∞ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// üîß „É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞ Phase 3B: Âü∫Êú¨UIÊõ¥Êñ∞Èñ¢Êï∞„ÅÆÂàÜÈõ¢
// ÂàÜÈõ¢ÂÖÉ: app/script.js (200Ë°å)
// ÂàÜÈõ¢ÂÖà: app/ui-basic.js (Êñ∞Ë¶è‰ΩúÊàê)
//
// „ÄêÂàÜÈõ¢ÂØæË±°Èñ¢Êï∞„Äë
// - updateSessionStatus() - „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅÊõ¥Êñ∞
// - updateKnowledgeDisplay() - Áü•Ë¶ãË°®Á§∫Êõ¥Êñ∞
// - updateTranscriptDisplay() - Èü≥Â£∞Ë™çË≠òÁµêÊûúË°®Á§∫Êõ¥Êñ∞
// - updateMicrophoneButton() - „Éû„Ç§„ÇØ„Éú„Çø„É≥Áä∂ÊÖãÊõ¥Êñ∞
// - updateSessionProgress() - „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤ÊçóÊõ¥Êñ∞
// - updateVoiceSettingsUI() - Èü≥Â£∞Ë®≠ÂÆöUIÊõ¥Êñ∞
// - updateAdvancedSettingsDisplay() - È´òÂ∫¶Ë®≠ÂÆöË°®Á§∫Êõ¥Êñ∞
// - update2StepUI() - 2ÊÆµÈöéË™çË®ºUIÊõ¥Êñ∞
// - updateApiKeyStatusDisplay() - API„Ç≠„ÉºÁä∂ÊÖãË°®Á§∫Êõ¥Êñ∞
// - updateVoiceCommandsDisplay() - Èü≥Â£∞„Ç≥„Éû„É≥„ÉâË°®Á§∫Êõ¥Êñ∞
//
// üé® NEW FEATURES - Êñ∞Ê©üËÉΩËøΩÂä†
// - updateVoiceStateDisplay() - Èü≥Â£∞Áä∂ÊÖãË°®Á§∫Êõ¥Êñ∞
// - updateRealtimeTranscript() - „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òÊõ¥Êñ∞
//
// =================================================================================
// üîß RIGHT PANE SESSION DISPLAY - Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ê©üËÉΩ
// Step 3.1: Êó¢Â≠òUIManager„Çí‰ΩøÁî®„Åó„ÅüÂè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂÆüË£Ö
// ÂÜÖÈÉ®ÁÆ°ÁêÜv0.8.0.5
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂàùÊúüÂåñ
* Êó¢Â≠ò„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂÄ§„ÇíÂãïÁöÑ„Å´Êõ¥Êñ∞„Åô„Çã„Å†„ÅëÔºà„Éá„Ç∂„Ç§„É≥Â§âÊõ¥„Å™„ÅóÔºâ
*/
function initializeRightPaneSessionDisplay() {
const statusPanel = document.querySelector('.status-panel');
if (!statusPanel) {
console.warn('‚ö†Ô∏è Âè≥„Éö„Ç§„É≥(.status-panel)„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// Êó¢Â≠ò„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ë¶ÅÁ¥†„ÇíÁ¢∫Ë™ç
const existingSessionState = document.getElementById('sessionState');
const existingSessionPhase = document.getElementById('sessionPhase');
const existingSessionDuration = document.getElementById('sessionDuration');
const existingCurrentTheme = document.getElementById('currentTheme');
// „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÇíËøΩÂä†
console.log('üîç „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ë¶ÅÁ¥†„ÉÅ„Çß„ÉÉ„ÇØ:', {
sessionState: !!existingSessionState,
sessionPhase: !!existingSessionPhase,
sessionDuration: !!existingSessionDuration,
currentTheme: !!existingCurrentTheme
});
if (existingSessionState && existingSessionPhase && existingSessionDuration && existingCurrentTheme) {
console.log('‚úÖ Êó¢Â≠ò„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ë¶ÅÁ¥†„ÇíÁô∫Ë¶ã„Åó„Åæ„Åó„Åü');
// Êó¢Â≠ò„ÅÆË¶ÅÁ¥†„Çí„Éû„ÉÉ„Éî„É≥„Ç∞ÔºàË¶ÅÁ¥†ËøΩÂä†„Å™„ÅóÔºâ
window.rightPaneElements = {
sessionState: existingSessionState,
sessionPhase: existingSessionPhase,
sessionDuration: existingSessionDuration,
currentTheme: existingCurrentTheme
};
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åó„ÅüÔºàÊó¢Â≠òË¶ÅÁ¥†„ÅÆ„Åø‰ΩøÁî®Ôºâ');
return true;
} else {
console.warn('‚ö†Ô∏è Êó¢Â≠ò„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
console.log('üí° Ë¶ã„Å§„Åã„Çâ„Å™„ÅÑË¶ÅÁ¥†:', {
sessionState: !existingSessionState,
sessionPhase: !existingSessionPhase,
sessionDuration: !existingSessionDuration,
currentTheme: !existingCurrentTheme
});
// „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞: ÈÉ®ÂàÜÁöÑ„Å™ÂàùÊúüÂåñ
window.rightPaneElements = {
sessionState: existingSessionState,
sessionPhase: existingSessionPhase,
sessionDuration: existingSessionDuration,
currentTheme: existingCurrentTheme
};
return false;
}
}
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂàá„ÇäÊõø„Åà
* Êó¢Â≠ò„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂàá„ÇäÊõø„ÅàÊ©üËÉΩ
*/
function toggleRightPaneSessionDisplay() {
const sessionStatusSection = document.querySelector('.status-section');
if (sessionStatusSection) {
const content = sessionStatusSection.querySelector('.status-content');
if (content) {
const isHidden = content.style.display === 'none';
content.style.display = isHidden ? 'block' : 'none';
console.log(`‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Ë°®Á§∫„Çí${isHidden ? 'Â±ïÈñã' : 'Êäò„Çä„Åü„Åü„Åø'}„Åó„Åæ„Åó„Åü`);
}
}
}
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆ„Çπ„Çø„Ç§„É´Ê≥®ÂÖ•
* ÂâäÈô§Ê∏à„Åø - Êó¢Â≠ò„Éá„Ç∂„Ç§„É≥„ÇíÁ∂≠ÊåÅ
*/
function injectRightPaneSessionStyles() {
// Êó¢Â≠ò„Éá„Ç∂„Ç§„É≥„ÇíÁ∂≠ÊåÅ„Åô„Çã„Åü„ÇÅ‰Ωï„ÇÇ„Åó„Å™„ÅÑ
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆ„Çπ„Çø„Ç§„É´Ê≥®ÂÖ•„Çí„Çπ„Ç≠„ÉÉ„ÉóÔºàÊó¢Â≠ò„Éá„Ç∂„Ç§„É≥Á∂≠ÊåÅÔºâ');
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å„Å®„ÉÜ„Éº„ÉûË°®Á§∫„ÇíÊõ¥Êñ∞ÔºàÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÂøúÁ≠îÊÄßÊúÄÈÅ©ÂåñÔºâ
*/
function updateSessionStatus(status, theme) {
const sessionStatus = window.UIManager.DOMUtils.get('sessionStatus');
const currentTheme = window.UIManager.DOMUtils.get('currentTheme');
const currentThemeFixed = window.UIManager.DOMUtils.get('currentThemeFixed');
// üöÄ ÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÊúÄÈÅ©ÂåñÔºö„Éê„ÉÉ„ÉÅÊõ¥Êñ∞ÔºàË§áÊï∞DOMÊìç‰Ωú„Çí1Âõû„Å´„Åæ„Å®„ÇÅ„Å¶ÂäπÁéáÂåñÔºâ
requestAnimationFrame(() => {
// Êñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÊõ¥Êñ∞
updateDetailedSessionStatus(status, theme);
// üîß Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÊõ¥Êñ∞
updateRightPaneSessionDisplay(status, theme);
if (sessionStatus) {
sessionStatus.textContent = status;
console.log(`‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅÊõ¥Êñ∞: ${status}`);
}
const themeText = theme || 'Êú™Ë®≠ÂÆö';
// Âè≥„Éö„Ç§„É≥„ÅÆ„ÉÜ„Éº„ÉûË°®Á§∫Ôºà„Åæ„Å†Â≠òÂú®„Åô„ÇãÂ†¥Âêà„ÅÆ„ÅøÔºâ
if (currentTheme) {
currentTheme.textContent = themeText;
console.log(`‚úÖ Âè≥„Éö„Ç§„É≥„ÉÜ„Éº„ÉûÊõ¥Êñ∞: ${theme}`);
}
// ‰∏≠Â§Æ„Éö„Ç§„É≥„ÅÆÂõ∫ÂÆö„ÉÜ„Éº„ÉûË°®Á§∫
if (currentThemeFixed) {
currentThemeFixed.textContent = themeText;
console.log(`‚úÖ ‰∏≠Â§Æ„Éö„Ç§„É≥„ÉÜ„Éº„ÉûÊõ¥Êñ∞: ${theme}`);
}
});
}
/**
* Ë©≥Á¥∞„Å™„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÇíÊõ¥Êñ∞
*/
function updateDetailedSessionStatus(status, theme) {
const sessionState = document.getElementById('sessionState');
const sessionPhase = document.getElementById('sessionPhase');
const sessionDuration = document.getElementById('sessionDuration');
const currentTheme = document.getElementById('currentTheme');
// Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
if (sessionState) {
sessionState.textContent = status || 'Ê∫ñÂÇô‰∏≠';
sessionState.className = 'session-value';
if (status === '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ' || status === 'Ë™çË≠ò‰∏≠') {
sessionState.classList.add('active');
} else if (status === '‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠') {
sessionState.classList.add('warning');
} else if (status === '„Ç®„É©„Éº') {
sessionState.classList.add('error');
}
}
// „Éï„Çß„Éº„Ç∫„ÅÆÊõ¥Êñ∞
if (sessionPhase) {
const currentPhase = window.AppState?.sessionPhase || 'setup';
const phaseNames = {
'setup': '„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó',
'warmup': '„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó',
'deepdive': 'Ê∑±Êéò„Çä',
'summary': '„Åæ„Å®„ÇÅ',
'completed': 'ÂÆå‰∫Ü'
};
sessionPhase.textContent = phaseNames[currentPhase] || '„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó';
sessionPhase.className = 'session-value';
if (currentPhase !== 'setup') {
sessionPhase.classList.add('active');
}
}
// ÁµåÈÅéÊôÇÈñì„ÅÆÊõ¥Êñ∞
if (sessionDuration) {
const duration = calculateSessionDuration();
sessionDuration.textContent = duration;
sessionDuration.className = 'session-value';
if (duration !== '00:00') {
sessionDuration.classList.add('active');
}
}
// „ÉÜ„Éº„Éû„ÅÆÊõ¥Êñ∞
if (currentTheme) {
currentTheme.textContent = theme || 'Êú™Ë®≠ÂÆö';
currentTheme.className = 'session-value';
if (theme && theme !== 'Êú™Ë®≠ÂÆö') {
currentTheme.classList.add('active');
}
}
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥ÁµåÈÅéÊôÇÈñì„ÇíË®àÁÆó
*/
function calculateSessionDuration() {
if (!window.AppState?.sessionStartTime) {
return '00:00';
}
const startTime = new Date(window.AppState.sessionStartTime);
const now = new Date();
const diff = Math.floor((now - startTime) / 1000); // Áßí
const minutes = Math.floor(diff / 60);
const seconds = diff % 60;
return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}
// ÂÆöÊúüÁöÑ„Å´„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å„ÇíÊõ¥Êñ∞
setInterval(() => {
if (window.AppState?.sessionActive) {
updateDetailedSessionStatus();
}
}, 1000);
/**
* Áü•Ë¶ãË°®Á§∫„ÇíÊõ¥Êñ∞
*/
function updateKnowledgeDisplay() {
const extractedKnowledge = window.UIManager.DOMUtils.get('extractedKnowledge');
if (extractedKnowledge) {
if (AppState.extractedKnowledge.length === 0) {
extractedKnowledge.innerHTML = '<div style="padding: 10px; color: #666; font-size: 12px; text-align: center;">„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì</div>';
} else {
const knowledgeHtml = AppState.extractedKnowledge.map((knowledge, index) => {
// Ë¶ÅÁ¥Ñ„Çí2Ë°åË°®Á§∫Áî®„Å´Ë™øÊï¥ÔºàÊúÄÂ§ß40ÊñáÂ≠óÔºâ
const shortSummary = knowledge.summary.length > 40 ?
knowledge.summary.substring(0, 40) + '...' :
knowledge.summary;
return `<div style="padding: 8px 10px; margin-bottom: 6px; background: rgba(255, 255, 255, 0.15); border-radius: 8px; font-size: 11px;">
<div style="font-weight: 600; color: #06b6d4; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
üí° ${shortSummary}
</div>
</div>`;
}).join('');
extractedKnowledge.innerHTML = knowledgeHtml;
}
console.log(`‚úÖ Áü•Ë¶ãË°®Á§∫Êõ¥Êñ∞: ${AppState.extractedKnowledge.length}‰ª∂`);
}
// „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤Ë°åÁä∂Ê≥Å„ÇÇÊõ¥Êñ∞
window.updateSessionProgress();
}
/**
* Èü≥Â£∞Ë™çË≠òÁµêÊûúË°®Á§∫„ÇíÊõ¥Êñ∞ÔºàÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÂøúÁ≠îÊÄßÊúÄÈÅ©ÂåñÔºâ
*/
function updateTranscriptDisplay() {
const transcriptDisplay = window.UIManager.DOMUtils.get('transcriptDisplay');
if (!transcriptDisplay) {
console.error('‚ùå transcriptDisplayË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// üéØ Á∑®ÈõÜ‰∏≠Âà§ÂÆö: Á∑®ÈõÜ‰∏≠„ÅØÈü≥Â£∞Ë™çË≠ò„Åã„Çâ„ÅÆÊõ¥Êñ∞„Çí„Çπ„Ç≠„ÉÉ„Éó
if (window.transcriptEditManager && window.transcriptEditManager.isEditing) {
console.log('‚úèÔ∏è transcriptÁ∑®ÈõÜ‰∏≠„ÅÆ„Åü„ÇÅÈü≥Â£∞Ë™çË≠òÊõ¥Êñ∞„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîç „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÇíË©≥Á¥∞„Å´Ë°®Á§∫
console.log('üîç updateTranscriptDisplay() ÂÆüË°å‰∏≠:', {
currentSpeaker: AppState.currentSpeaker,
currentTranscript: AppState.currentTranscript,
transcriptHistory: AppState.transcriptHistory,
transcriptLength: AppState.currentTranscript ? AppState.currentTranscript.length : 0
});
// Ë°®Á§∫„ÉÜ„Ç≠„Çπ„Éà„ÇíÊ±∫ÂÆö
let displayText = '';
if (AppState.currentSpeaker !== SPEAKERS.NULL) {
displayText = `üé§ ${AppState.currentSpeaker}„ÅåË©±„Åó„Å¶„ÅÑ„Åæ„Åô...`;
} else if (AppState.currentTranscript && AppState.currentTranscript.trim()) {
displayText = `üìù ${AppState.currentTranscript}`;
} else {
displayText = 'üéôÔ∏è Èü≥Â£∞Ë™çË≠òÂæÖÊ©ü‰∏≠...Ôºà„Äå„Å©„ÅÜ„Åû„Äç„Å®Ë®Ä„ÅÜ„Å®AI„ÅåÂøúÁ≠î„Åó„Åæ„ÅôÔºâ';
}
// üöÄ ÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÊúÄÈÅ©ÂåñÔºöÈùûÂêåÊúüDOMÊõ¥Êñ∞Ôºà‰ΩìÊÑüÈÄüÂ∫¶20-30%Âêë‰∏äÔºâ
requestAnimationFrame(() => {
// transcript-displayÊõ¥Êñ∞
transcriptDisplay.textContent = displayText;
// üéØ Ëá™Âãï„Çπ„ÇØ„É≠„Éº„É´Ê©üËÉΩÔºàtranscript-displayËá™‰Ωì„Çí„Çπ„ÇØ„É≠„Éº„É´Ôºâ
transcriptDisplay.scrollTop = transcriptDisplay.scrollHeight;
});
console.log(`‚úÖ Èü≥Â£∞Ë™çË≠òË°®Á§∫Êõ¥Êñ∞: ${displayText.substring(0, 50)}...`);
}
/**
* üéØ Step 2: Èï∑„ÅÑ„É¶„Éº„Ç∂„ÉºÁô∫Ë®Ä„ÅÆ„ÉÜ„Çπ„ÉàÁî®Èñ¢Êï∞
*/
function testLongUtteranceDisplay() {
const transcriptDisplay = window.UIManager.DOMUtils.get('transcriptDisplay');
if (!transcriptDisplay) {
console.error('‚ùå transcript-displayË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// Èï∑„ÅÑÁô∫Ë®Ä„ÅÆ„ÉÜ„Çπ„Éà
const longText = `üìù „Åì„Çå„ÅØÈùûÂ∏∏„Å´Èï∑„ÅÑ„É¶„Éº„Ç∂„ÉºÁô∫Ë®Ä„ÅÆ„ÉÜ„Çπ„Éà„Åß„Åô„ÄÇÈü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÈï∑„ÅÑÁô∫Ë®Ä„ÇíÈÅ©Âàá„Å´Âá¶ÁêÜ„Åß„Åç„Çã„Åã„Çí„ÉÜ„Çπ„Éà„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Çπ„ÇØ„É≠„Éº„É´Ê©üËÉΩ„ÅåÊ≠£Â∏∏„Å´Âãï‰Ωú„Åô„Çã„Åã„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ`.repeat(10);
transcriptDisplay.textContent = longText;
// Ëá™Âãï„Çπ„ÇØ„É≠„Éº„É´ÂÆüË°å
transcriptDisplay.scrollTop = transcriptDisplay.scrollHeight;
console.log('‚úÖ Èï∑„ÅÑ„É¶„Éº„Ç∂„ÉºÁô∫Ë®Ä„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
console.log(`üìè „ÉÜ„Ç≠„Çπ„ÉàÈï∑: ${longText.length}ÊñáÂ≠ó`);
console.log(`üìú „Çπ„ÇØ„É≠„Éº„É´‰ΩçÁΩÆ: ${transcriptDisplay.scrollTop}px`);
}
/**
* üîç ÊâãÂãï„ÉÜ„Çπ„ÉàÁî®Èñ¢Êï∞: AppState.currentTranscript„ÇíË®≠ÂÆö„Åó„Å¶„ÉÜ„Çπ„Éà
*/
function testTranscriptDisplay() {
console.log('üîç ÊâãÂãï„ÉÜ„Çπ„ÉàÈñãÂßã: transcript-display');
// „ÉÜ„Çπ„ÉàÁî®„ÅÆ„Éá„Éº„Çø„ÇíË®≠ÂÆö
window.AppState.currentTranscript = '„Åì„Çå„ÅØ„ÉÜ„Çπ„ÉàÁî®„ÅÆ„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„Éá„Éº„Çø„Åß„Åô„ÄÇ';
// updateTranscriptDisplay()„ÇíÊâãÂãï„ÅßÂëº„Å≥Âá∫„Åó
updateTranscriptDisplay();
console.log('‚úÖ ÊâãÂãï„ÉÜ„Çπ„ÉàÂÆå‰∫Ü: transcript-display');
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.testLongUtteranceDisplay = testLongUtteranceDisplay;
window.testTranscriptDisplay = testTranscriptDisplay;
/**
* üéØ Step 2: Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÂÖ±Â≠òÁ¢∫Ë™ç„ÉÜ„Çπ„Éà
*/
function testCoexistenceVerification() {
const transcriptDisplay = window.UIManager.DOMUtils.get('transcriptDisplay');
const transcriptPanel = window.UIManager.DOMUtils.get('transcriptPanel');
const transcriptCompact = window.UIManager.DOMUtils.get('transcriptCompact');
const transcriptArea = window.UIManager.DOMUtils.get('transcriptArea');
console.log('üîç Step 2 ÂÖ±Â≠òÁ¢∫Ë™ç„ÉÜ„Çπ„ÉàÈñãÂßã');
// Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÉÅ„Çß„ÉÉ„ÇØ
if (transcriptDisplay && transcriptPanel) {
console.log('‚úÖ Êñ∞„Ç∑„Çπ„ÉÜ„É† (transcript-display): Âà©Áî®ÂèØËÉΩ');
console.log(`üìè PanelË°®Á§∫Áä∂ÊÖã: ${transcriptPanel.style.display || 'visible'}`);
console.log(`üìù DisplayÂÜÖÂÆπ: ${transcriptDisplay.textContent.substring(0, 30)}...`);
} else {
console.error('‚ùå Êñ∞„Ç∑„Çπ„ÉÜ„É† (transcript-display): Âà©Áî®‰∏çÂèØ');
}
// transcript-compact„ÅØÂâäÈô§„Åï„Çå„Åæ„Åó„ÅüÔºàÂçò‰∏Ä„Ç∑„Çπ„ÉÜ„É†ÂåñÔºâ
console.log('‚úÖ transcript-compactÂâäÈô§ÂÆå‰∫ÜÔºàÂçò‰∏Ä„Ç∑„Çπ„ÉÜ„É†ÂåñÔºâ');
if (transcriptArea) {
console.log('‚úÖ Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É† (transcript-area): Âà©Áî®ÂèØËÉΩ');
console.log(`üìù AreaÂÜÖÂÆπ: ${transcriptArea.textContent.substring(0, 30)}...`);
} else {
console.log('‚ö†Ô∏è Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É† (transcript-area): Ë¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// „ÉÜ„Çπ„ÉàÊõ¥Êñ∞ÂÆüË°å
console.log('üîÑ updateTranscriptDisplay()„ÇíÂÆüË°å„Åó„Å¶„ÉÜ„Çπ„Éà');
updateTranscriptDisplay();
console.log('üéØ Step 2 ÂÖ±Â≠òÁ¢∫Ë™ç„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.testCoexistenceVerification = testCoexistenceVerification;
/**
* üéØ Step 2: ÂåÖÊã¨ÁöÑÁµ±Âêà„ÉÜ„Çπ„ÉàÔºàÈñãÁô∫ËÄÖÁî®Ôºâ
*/
function runStep2ComprehensiveTest() {
console.log('üß™ ===== Step 2 ÂåÖÊã¨ÁöÑÁµ±Âêà„ÉÜ„Çπ„ÉàÈñãÂßã =====');
// 1. HTMLÊßãÈÄ†Á¢∫Ë™ç
console.log('\n1Ô∏è‚É£ HTMLÊßãÈÄ†Á¢∫Ë™ç');
const transcriptDisplay = document.getElementById('transcriptDisplay');
const transcriptPanel = document.getElementById('transcriptPanel');
const transcriptCompact = document.getElementById('transcriptCompact');
console.log(`‚úÖ transcriptDisplay: ${transcriptDisplay ? 'Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®'}`);
console.log(`‚úÖ transcriptPanel: ${transcriptPanel ? 'Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®'}`);
console.log(`‚úÖ transcriptCompact: ${transcriptCompact ? 'Â≠òÂú®' : '‚ùå ‰∏çÂ≠òÂú®'}`);
// 2. CSSË°®Á§∫Á¢∫Ë™ç
console.log('\n2Ô∏è‚É£ CSSË°®Á§∫Á¢∫Ë™ç');
if (transcriptPanel) {
const style = window.getComputedStyle(transcriptPanel);
console.log(`üìè position: ${style.position}`);
console.log(`üìè display: ${style.display}`);
console.log(`üìè bottom: ${style.bottom}`);
console.log(`üìè max-height: ${style.maxHeight}`);
console.log(`üìè overflow-y: ${style.overflowY}`);
}
// 3. JavaScriptÊ©üËÉΩÁ¢∫Ë™ç
console.log('\n3Ô∏è‚É£ JavaScriptÊ©üËÉΩÁ¢∫Ë™ç');
console.log('üîÑ updateTranscriptDisplay()„ÉÜ„Çπ„ÉàÂÆüË°å‰∏≠...');
updateTranscriptDisplay();
// 4. Èï∑„ÅÑ„ÉÜ„Ç≠„Çπ„Éà„ÉÜ„Çπ„Éà
console.log('\n4Ô∏è‚É£ Èï∑„ÅÑ„ÉÜ„Ç≠„Çπ„Éà„ÉÜ„Çπ„Éà');
testLongUtteranceDisplay();
// 5. ÂÖ±Â≠òÁ¢∫Ë™ç„ÉÜ„Çπ„Éà
console.log('\n5Ô∏è‚É£ ÂÖ±Â≠òÁ¢∫Ë™ç„ÉÜ„Çπ„Éà');
testCoexistenceVerification();
// 6. Á∑äÊÄ•Ê©üËÉΩÁ¢∫Ë™ç
console.log('\n6Ô∏è‚É£ Á∑äÊÄ•Ê©üËÉΩÁ¢∫Ë™ç');
console.log(`üö® emergencyRollback: ${typeof window.emergencyRollback === 'function' ? 'Âà©Áî®ÂèØËÉΩ' : '‚ùå ‰∏çÂèØ'}`);
console.log(`üîÑ switchToNewTranscript: ${typeof window.switchToNewTranscript === 'function' ? 'Âà©Áî®ÂèØËÉΩ' : '‚ùå ‰∏çÂèØ'}`);
console.log('\nüéØ ===== Step 2 ÂåÖÊã¨ÁöÑÁµ±Âêà„ÉÜ„Çπ„ÉàÂÆå‰∫Ü =====');
console.log('‚úÖ Êñ∞„Åó„ÅÑtranscript-display„Ç∑„Çπ„ÉÜ„É†„ÅåÊúâÂäπÂåñ„Åï„Çå„Åæ„Åó„ÅüÔºÅ');
console.log('üìù „ÉÜ„Çπ„ÉàÊñπÊ≥ï: Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã„Åó„Å¶„ÄÅÊñ∞„Åó„ÅÑ„Éë„Éç„É´„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.runStep2ComprehensiveTest = runStep2ComprehensiveTest;
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: transcript-panel„ÅØÂ∏∏„Å´Ë°®Á§∫ÔºàÂº∑Âà∂Ë°®Á§∫Èñ¢Êï∞„ÅØ‰∏çË¶ÅÔºâ
// ‰ª•Ââç„ÅÆÂº∑Âà∂Ë°®Á§∫Èñ¢Êï∞„ÅØÂâäÈô§Ê∏à„ÅøÔºàÂøúÊÄ•Âá¶ÁΩÆ„Å†„Å£„Åü„Åü„ÇÅÔºâ
/**
* üéØ „Ç≠„É£„É©„ÇØ„Çø„Éº„Ç¢„Éê„Çø„Éº„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú„ÉÜ„Çπ„Éà
*/
function testCharacterAvatarGradients() {
console.log('üß™ „Ç≠„É£„É©„ÇØ„Çø„Éº„Ç¢„Éê„Çø„Éº„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú„ÉÜ„Çπ„ÉàÈñãÂßã');
const nehoriAvatar = document.getElementById('nehoriAvatar');
const hahoriAvatar = document.getElementById('hahoriAvatar');
if (!nehoriAvatar) {
console.error('‚ùå nehoriAvatar Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
if (!hahoriAvatar) {
console.error('‚ùå hahoriAvatar Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
console.log('‚úÖ ‰∏°Êñπ„ÅÆ„Ç¢„Éê„Çø„ÉºË¶ÅÁ¥†„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Åü');
// „ÉÜ„Çπ„Éà1: „Å≠„Åª„Çä„Éº„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥
console.log('üîÑ „ÉÜ„Çπ„Éà1: „Å≠„Åª„Çä„Éº„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú');
nehoriAvatar.classList.add('speaking', 'nehori-speaking');
hahoriAvatar.classList.remove('speaking', 'hahori-speaking');
setTimeout(() => {
// „ÉÜ„Çπ„Éà2: „ÅØ„Åª„Çä„Éº„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥
console.log('üîÑ „ÉÜ„Çπ„Éà2: „ÅØ„Åª„Çä„Éº„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú');
nehoriAvatar.classList.remove('speaking', 'nehori-speaking');
hahoriAvatar.classList.add('speaking', 'hahori-speaking');
setTimeout(() => {
// „ÉÜ„Çπ„Éà3: ‰∏°Êñπ„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ëß£Èô§
console.log('üîÑ „ÉÜ„Çπ„Éà3: ‰∏°Êñπ„ÅÆ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ëß£Èô§');
nehoriAvatar.classList.remove('speaking', 'nehori-speaking');
hahoriAvatar.classList.remove('speaking', 'hahori-speaking');
console.log('‚úÖ „Ç≠„É£„É©„ÇØ„Çø„Éº„Ç¢„Éê„Çø„Éº„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
}, 2000);
}, 2000);
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.testCharacterAvatarGradients = testCharacterAvatarGradients;
/**
* „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
*/
function updateMicrophoneButton() {
const microphoneButton = window.UIManager.DOMUtils.get('microphoneButton');
const microphoneIcon = window.UIManager.DOMUtils.get('microphoneIcon');
if (microphoneButton && microphoneIcon) {
const isRecording = AppState.voiceRecognitionState.isRecording;
if (isRecording) {
microphoneButton.classList.add('recording');
microphoneIcon.textContent = 'üî¥';
microphoneButton.title = '„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Èå≤Èü≥„ÇíÂÅúÊ≠¢';
} else {
microphoneButton.classList.remove('recording');
microphoneIcon.textContent = 'üé§';
microphoneButton.title = '„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Èå≤Èü≥„ÇíÈñãÂßã';
}
console.log(`‚úÖ „Éû„Ç§„ÇØ„Éú„Çø„É≥Êõ¥Êñ∞: ${isRecording ? 'Èå≤Èü≥‰∏≠' : 'ÂæÖÊ©ü‰∏≠'}`);
}
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤Êçó„ÇíÊõ¥Êñ∞
*/
function updateSessionProgress() {
const sessionProgress = window.UIManager.DOMUtils.get('sessionProgress');
const progressBar = window.UIManager.DOMUtils.get('progressBar');
if (sessionProgress && progressBar) {
const totalSteps = 3; // „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„ÄÅÊ∑±Êéò„Çä„ÄÅ„Åæ„Å®„ÇÅ
let currentStep = 0;
if (AppState.sessionPhase === 'warmup') currentStep = 1;
else if (AppState.sessionPhase === 'deepdive') currentStep = 2;
else if (AppState.sessionPhase === 'summary') currentStep = 3;
const progressPercent = (currentStep / totalSteps) * 100;
progressBar.style.width = `${progressPercent}%`;
const phaseText = {
'warmup': '„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó',
'deepdive': 'Ê∑±Êéò„Çä',
'summary': '„Åæ„Å®„ÇÅ'
}[AppState.sessionPhase] || 'ÂæÖÊ©ü‰∏≠';
sessionProgress.textContent = `${phaseText} (${currentStep}/${totalSteps})`;
console.log(`‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤ÊçóÊõ¥Êñ∞: ${phaseText} ${progressPercent}%`);
}
}
// Ê≥®ÊÑè: updateVoiceSettingsUI, updateAdvancedSettingsDisplay, update2StepUI„ÅØ
// script.js„Å´ÁßªÂãïÊ∏à„Åø„ÅÆ„Åü„ÇÅ„ÄÅ„Åì„Åì„Åß„ÅØÂâäÈô§Ê∏à„Åø
/**
* API„Ç≠„ÉºÁä∂ÊÖãË°®Á§∫„ÇíÊõ¥Êñ∞
*/
function updateApiKeyStatusDisplay() {
const apiKeyStatus = window.UIManager.DOMUtils.get('apiKeyStatus');
const apiKeyIndicator = window.UIManager.DOMUtils.get('apiKeyIndicator');
if (apiKeyStatus) {
const hasApiKey = !!AppState.apiKey;
apiKeyStatus.textContent = hasApiKey ? '‚úÖ Ë®≠ÂÆöÊ∏à„Åø' : '‚ö†Ô∏è Êú™Ë®≠ÂÆö';
apiKeyStatus.className = hasApiKey ? 'status-success' : 'status-warning';
if (apiKeyIndicator) {
apiKeyIndicator.style.backgroundColor = hasApiKey ? '#10b981' : '#f59e0b';
}
console.log(`‚úÖ API„Ç≠„ÉºÁä∂ÊÖãË°®Á§∫Êõ¥Êñ∞: ${hasApiKey ? 'Ë®≠ÂÆöÊ∏à„Åø' : 'Êú™Ë®≠ÂÆö'}`);
}
}
/**
* Èü≥Â£∞„Ç≥„Éû„É≥„ÉâË°®Á§∫„ÇíÊõ¥Êñ∞
*/
function updateVoiceCommandsDisplay() {
const voiceCommandsList = window.UIManager.DOMUtils.get('voiceCommandsList');
if (voiceCommandsList) {
const commands = [
{ command: '„ÄåÁµÇ‰∫Ü„Äç', description: '„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÁµÇ‰∫Ü' },
{ command: '„ÄåÂÅúÊ≠¢„Äç', description: 'Èü≥Â£∞ÂÜçÁîü„ÇíÂÅúÊ≠¢' },
{ command: '„Äå„ÉÜ„Éº„ÉûÂ§âÊõ¥„Äç', description: '„ÉÜ„Éº„Éû„ÇíÂ§âÊõ¥' },
{ command: '„ÄåË≥™ÂïèÂ§âÊõ¥„Äç', description: 'Ë≥™Âïè„ÇíÂ§âÊõ¥' },
{ command: '„ÄåË®≠ÂÆöÁ¢∫Ë™ç„Äç', description: 'ÁèæÂú®„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç' }
];
const commandsHtml = commands.map(cmd =>
`<div class="voice-command-item">
<span class="command">${cmd.command}</span>
<span class="description">${cmd.description}</span>
</div>`
).join('');
voiceCommandsList.innerHTML = commandsHtml;
console.log('‚úÖ Èü≥Â£∞„Ç≥„Éû„É≥„ÉâË°®Á§∫Êõ¥Êñ∞ÂÆå‰∫Ü');
}
}
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÊõ¥Êñ∞
* Êó¢Â≠ò„ÅÆË¶ÅÁ¥†„ÅÆÂÄ§„ÅÆ„Åø„ÇíÊõ¥Êñ∞Ôºà„Éá„Ç∂„Ç§„É≥Â§âÊõ¥„Å™„ÅóÔºâ
*/
function updateRightPaneSessionDisplay(status, theme) {
// Êó¢Â≠ò„ÅÆË¶ÅÁ¥†„ÇíÂèñÂæó
let elements = window.rightPaneElements;
if (!elements) {
console.warn('‚ö†Ô∏è Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ë¶ÅÁ¥†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
// Á∑äÊÄ•ÂàùÊúüÂåñ„ÇíË©¶Ë°å
if (initializeRightPaneSessionDisplay()) {
console.log('‚úÖ Á∑äÊÄ•ÂàùÊúüÂåñ„ÅåÊàêÂäü„Åó„Åæ„Åó„Åü');
// üîß Á∑äÊÄ•ÂàùÊúüÂåñÂæå„Å´Ë¶ÅÁ¥†„ÇíÂÜçÂèñÂæó
elements = window.rightPaneElements;
} else {
console.log('‚ùå Á∑äÊÄ•ÂàùÊúüÂåñ„ÇÇÂ§±Êïó„Åó„Åæ„Åó„Åü');
return;
}
}
// „ÉÜ„Éº„Éû„ÅÆÊõ¥Êñ∞
if (elements.currentTheme) {
const themeText = theme || 'Êú™Ë®≠ÂÆö';
elements.currentTheme.textContent = themeText;
elements.currentTheme.className = 'session-value';
if (theme) {
elements.currentTheme.classList.add('active');
}
}
// Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
if (elements.sessionState) {
elements.sessionState.textContent = status || 'Ê∫ñÂÇô‰∏≠';
elements.sessionState.className = 'session-value';
if (status === '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ' || status === 'Ë™çË≠ò‰∏≠') {
elements.sessionState.classList.add('active');
} else if (status === '‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠') {
elements.sessionState.classList.add('warning');
} else if (status === '„Ç®„É©„Éº') {
elements.sessionState.classList.add('error');
}
}
// „Éï„Çß„Éº„Ç∫„ÅÆÊõ¥Êñ∞
if (elements.sessionPhase) {
const currentPhase = window.AppState?.sessionPhase || 'setup';
const phaseNames = {
'setup': '„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó',
'warmup': '„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó',
'deepdive': 'Ê∑±Êéò„Çä',
'summary': '„Åæ„Å®„ÇÅ',
'completed': 'ÂÆå‰∫Ü'
};
elements.sessionPhase.textContent = phaseNames[currentPhase] || '„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó';
elements.sessionPhase.className = 'session-value';
if (currentPhase !== 'setup') {
elements.sessionPhase.classList.add('active');
}
}
// ÁµåÈÅéÊôÇÈñì„ÅÆÊõ¥Êñ∞
if (elements.sessionDuration) {
const duration = calculateSessionDuration();
elements.sessionDuration.textContent = duration;
elements.sessionDuration.className = 'session-value';
if (duration !== '00:00') {
elements.sessionDuration.classList.add('active');
}
}
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü:', {
status: status,
theme: theme,
phase: window.AppState?.sessionPhase
});
}
/**
* Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÂèñÂæó
*/
function getVoiceRecognitionStatus() {
try {
if (window.unifiedStateManager) {
const voiceModule = window.unifiedStateManager.getModule('voice');
if (voiceModule) {
const state = voiceModule.getState();
if (state.isRecognizing) return 'Ë™çË≠ò‰∏≠';
if (state.isListening) return '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ';
if (state.isPaused) return '‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠';
if (state.hasError) return '„Ç®„É©„Éº';
}
}
// VoiceUIManager„Åã„Çâ„ÅÆÁä∂ÊÖãÂèñÂæó
if (window.voiceUIManager && window.voiceUIManager.isUserPausedManually) {
if (window.voiceUIManager.isUserPausedManually()) {
return '‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠';
}
}
return 'ÂæÖÊ©ü‰∏≠';
} catch (error) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÂèñÂæó„Å´Â§±Êïó:', error);
return '‰∏çÊòé';
}
}
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆËá™ÂãïÊõ¥Êñ∞„ÇíÈñãÂßã
*/
function startRightPaneSessionDisplayUpdates() {
// Êó¢Â≠ò„ÅÆÊõ¥Êñ∞ÈñìÈöî„Åå„ÅÇ„Çå„Å∞ÂÅúÊ≠¢
if (window.rightPaneUpdateInterval) {
clearInterval(window.rightPaneUpdateInterval);
}
// 5ÁßíÈñìÈöî„ÅßÊõ¥Êñ∞ÔºàÊéß„Åà„ÇÅ„Å´Ôºâ
window.rightPaneUpdateInterval = setInterval(() => {
if (window.rightPaneElements) {
const currentStatus = window.AppState?.sessionStatus || 'Ê∫ñÂÇô‰∏≠';
const currentTheme = window.AppState?.currentTheme || null;
updateRightPaneSessionDisplay(currentStatus, currentTheme);
}
}, 5000);
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆËá™ÂãïÊõ¥Êñ∞„ÇíÈñãÂßã„Åó„Åæ„Åó„ÅüÔºà5ÁßíÈñìÈöîÔºâ');
}
/**
* Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆËá™ÂãïÊõ¥Êñ∞„ÇíÂÅúÊ≠¢
*/
function stopRightPaneSessionDisplayUpdates() {
if (window.rightPaneUpdateInterval) {
clearInterval(window.rightPaneUpdateInterval);
window.rightPaneUpdateInterval = null;
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆËá™ÂãïÊõ¥Êñ∞„ÇíÂÅúÊ≠¢„Åó„Åæ„Åó„Åü');
}
}
// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
window.initializeRightPaneSessionDisplay = initializeRightPaneSessionDisplay;
window.toggleRightPaneSessionDisplay = toggleRightPaneSessionDisplay;
window.updateRightPaneSessionDisplay = updateRightPaneSessionDisplay;
window.startRightPaneSessionDisplayUpdates = startRightPaneSessionDisplayUpdates;
window.stopRightPaneSessionDisplayUpdates = stopRightPaneSessionDisplayUpdates;
// =================================================================================
// UI BASIC OBJECT - UIBasic„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
const UIBasic = {
// „Çª„ÉÉ„Ç∑„Éß„É≥Èñ¢ÈÄ£
session: {
updateStatus: updateSessionStatus,
updateProgress: updateSessionProgress
// update2StepUI„ÅØscript.js„Å´ÁßªÂãïÊ∏à„Åø
},
// Ë°®Á§∫Êõ¥Êñ∞Èñ¢ÈÄ£
display: {
updateKnowledge: updateKnowledgeDisplay,
updateTranscript: updateTranscriptDisplay,
updateMicrophone: updateMicrophoneButton,
updateApiKeyStatus: updateApiKeyStatusDisplay,
updateVoiceCommands: updateVoiceCommandsDisplay
},
// Ë®≠ÂÆöÈñ¢ÈÄ£Ôºàscript.js„Å´ÁßªÂãïÊ∏à„ÅøÔºâ
settings: {
// updateVoiceSettings, updateAdvancedSettings„ÅØscript.js„Å´ÁßªÂãï
},
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ
rightPanel: {
initializeBackgroundManager: initializeRightPanelBackgroundManager
}
};
// =================================================================================
// WINDOW EXPORTS - WindowÁµåÁî±„Åß„ÅÆÂÖ¨Èñã
// =================================================================================
// ÂÄãÂà•Èñ¢Êï∞„ÅÆÂÖ¨Èñã
window.updateSessionStatus = updateSessionStatus;
window.updateKnowledgeDisplay = updateKnowledgeDisplay;
window.updateTranscriptDisplay = updateTranscriptDisplay;
window.updateMicrophoneButton = updateMicrophoneButton;
window.updateSessionProgress = updateSessionProgress;
// updateVoiceSettingsUI, updateAdvancedSettingsDisplay, update2StepUI„ÅØscript.js„Å´ÁßªÂãïÊ∏à„Åø
window.updateApiKeyStatusDisplay = updateApiKeyStatusDisplay;
window.updateVoiceCommandsDisplay = updateVoiceCommandsDisplay;
window.initializeRightPanelBackgroundManager = initializeRightPanelBackgroundManager;
// UIBasic„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÖ¨Èñã
window.UIBasic = UIBasic;
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ
class RightPanelBackgroundManager {
constructor() {
this.statusSection = null;
this.currentSpeaker = null;
this.initialize();
}
initialize() {
// status-panelË¶ÅÁ¥†„ÇíÂèñÂæóÔºàËÉåÊôØÂ§âÂåñÁî®Ôºâ
this.statusPanel = document.querySelector('.status-panel');
if (!this.statusPanel) {
console.warn('‚ö†Ô∏è status-panelË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// Ë©±ËÄÖÂ§âÂåñ„ÅÆ„É™„Çπ„Éä„Éº„ÇíË®≠ÂÆö
this.setupSpeakerChangeListener();
console.log('‚úÖ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜÂàùÊúüÂåñÂÆå‰∫Ü');
}
setupSpeakerChangeListener() {
// AppState„ÅÆÂ§âÂåñ„ÇíÁõ£Ë¶ñ
const checkSpeakerChange = () => {
const newSpeaker = window.AppState?.currentSpeaker;
if (newSpeaker !== this.currentSpeaker) {
this.updateBackgroundForSpeaker(newSpeaker);
this.currentSpeaker = newSpeaker;
}
};
// ÂÆöÊúüÁöÑ„Å´„ÉÅ„Çß„ÉÉ„ÇØÔºà„É°„Ç§„É≥Áõ£Ë¶ñÔºâ
setInterval(checkSpeakerChange, 100);
// UnifiedStateManager„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇÇË®≠ÂÆöÔºàÈùûÂêåÊúüÂØæÂøúÔºâ
const setupUnifiedStateListener = () => {
if (window.UnifiedStateManager && typeof window.UnifiedStateManager.addListener === 'function') {
try {
window.UnifiedStateManager.addListener((eventType, data, state) => {
if (eventType === 'conversation_state_changed' && state?.conversation?.currentSpeaker !== this.currentSpeaker) {
this.updateBackgroundForSpeaker(state.conversation.currentSpeaker);
this.currentSpeaker = state.conversation.currentSpeaker;
console.log(`üé® Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Åã„Çâ„ÅÆË©±ËÄÖÂ§âÂåñÊ§úÁü•: ${state.conversation.currentSpeaker}`);
}
});
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆË©±ËÄÖÂ§âÂåñ„É™„Çπ„Éä„ÉºË®≠ÂÆöÂÆå‰∫Ü');
} catch (error) {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„É™„Çπ„Éä„ÉºË®≠ÂÆöÂ§±Êïó:', error);
}
} else {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄÅÂÜçË©¶Ë°å
console.log('‚è≥ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂæÖÊ©ü‰∏≠... 1ÁßíÂæå„Å´ÂÜçË©¶Ë°å');
setTimeout(setupUnifiedStateListener, 1000);
}
};
// üé® Êñ∞Ë¶è: ConversationGatekeeper„Å®„ÅÆÈÄ£Êê∫
const setupConversationGatekeeperListener = () => {
if (window.ConversationGatekeeper && typeof window.ConversationGatekeeper.registerSpeechStart === 'function') {
const originalRegisterSpeechStart = window.ConversationGatekeeper.registerSpeechStart;
window.ConversationGatekeeper.registerSpeechStart = (speaker, context) => {
// ÂÖÉ„ÅÆÂá¶ÁêÜ„ÇíÂÆüË°å
originalRegisterSpeechStart.call(window.ConversationGatekeeper, speaker, context);
// Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÇíÊõ¥Êñ∞
this.updateBackgroundForSpeaker(speaker);
this.currentSpeaker = speaker;
console.log(`üé® ConversationGatekeeper„Åã„Çâ„ÅÆË©±ËÄÖÂ§âÂåñÊ§úÁü•: ${speaker}`);
};
console.log('‚úÖ ConversationGatekeeperÈÄ£Êê∫Ë®≠ÂÆöÂÆå‰∫Ü');
}
};
// üé® Êñ∞Ë¶è: Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆÁõ¥Êé•ÈÄöÁü•
const setupVoiceRecognitionListener = () => {
// „Ç∞„É≠„Éº„Éê„É´„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíË®≠ÂÆö
window.addEventListener('speaker-change', (event) => {
const speaker = event.detail.speaker;
if (speaker !== this.currentSpeaker) {
this.updateBackgroundForSpeaker(speaker);
this.currentSpeaker = speaker;
console.log(`üé® Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„Åã„Çâ„ÅÆË©±ËÄÖÂ§âÂåñÊ§úÁü•: ${speaker}`);
}
});
};
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„É™„Çπ„Éä„ÉºË®≠ÂÆö„ÇíË©¶Ë°å
setupUnifiedStateListener();
// üé® Êñ∞Ë¶è: ËøΩÂä†„ÅÆÈÄ£Êê∫„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö
setupConversationGatekeeperListener();
setupVoiceRecognitionListener();
}
updateBackgroundForSpeaker(speaker) {
if (!this.statusPanel) return;
// „Ç≠„É£„É©„ÇØ„Çø„ÉºÁîªÂÉèË¶ÅÁ¥†„ÇíÂèñÂæó
const nehoriAvatar = document.getElementById('nehoriAvatar');
const hahoriAvatar = document.getElementById('hahoriAvatar');
// Êó¢Â≠ò„ÅÆ„Çπ„Éî„Éº„Ç´„Éº„ÇØ„É©„Çπ„ÇíÂâäÈô§
this.statusPanel.classList.remove('speaker-nehori', 'speaker-hahori', 'speaker-user');
// üé® „Ç≠„É£„É©„ÇØ„Çø„ÉºÁîªÂÉè„ÅÆspeaking„ÇØ„É©„Çπ„ÇíÂâäÈô§
if (nehoriAvatar) nehoriAvatar.classList.remove('speaking', 'nehori-speaking');
if (hahoriAvatar) hahoriAvatar.classList.remove('speaking', 'hahori-speaking');
// Êñ∞„Åó„ÅÑ„Çπ„Éî„Éº„Ç´„Éº„ÇØ„É©„Çπ„ÇíËøΩÂä†
if (speaker === window.SPEAKERS?.NEHORI) {
this.statusPanel.classList.add('speaker-nehori');
// üé® „Å≠„Åª„Çä„Éº„ÅÆÁîªÂÉè„Å´Á∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú„ÇíËøΩÂä†
if (nehoriAvatar) {
nehoriAvatar.classList.add('speaking', 'nehori-speaking');
}
console.log('üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ: „Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±ÔºàÁ∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºâ');
} else if (speaker === window.SPEAKERS?.HAHORI) {
this.statusPanel.classList.add('speaker-hahori');
// üé® „ÅØ„Åª„Çä„Éº„ÅÆÁîªÂÉè„Å´Á∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ÂäπÊûú„ÇíËøΩÂä†
if (hahoriAvatar) {
hahoriAvatar.classList.add('speaking', 'hahori-speaking');
}
console.log('üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ: „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±ÔºàÁ∏¶Èï∑‰∏∏„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºâ');
} else if (speaker === window.SPEAKERS?.USER) {
this.statusPanel.classList.add('speaker-user');
console.log('üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ: „É¶„Éº„Ç∂„ÉºÁô∫Ë©±');
} else {
// speaker === null „ÅÆÂ†¥Âêà„ÄÅ„Åô„Åπ„Å¶„ÅÆ„ÇØ„É©„Çπ„ÇíÂâäÈô§ÔºàÈÄöÂ∏∏„ÅÆËÉåÊôØ„Å´Êàª„ÇãÔºâ
console.log('üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ: ÈÄöÂ∏∏Áä∂ÊÖã„Å´Êàª„Çã');
}
}
}
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
window.RightPanelBackgroundManager = RightPanelBackgroundManager;
// üé® Êñ∞Ê©üËÉΩ: Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.updateVoiceStateDisplay = updateVoiceStateDisplay;
window.updateRealtimeTranscript = updateRealtimeTranscript;
window.initializeVoiceStateDisplay = initializeVoiceStateDisplay;
// „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„Å´Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„ÇíÂàùÊúüÂåñ
function initializeRightPanelBackgroundManager() {
if (window.rightPanelBackgroundManager) {
return; // Êó¢„Å´ÂàùÊúüÂåñÊ∏à„Åø
}
window.rightPanelBackgroundManager = new RightPanelBackgroundManager();
console.log('‚úÖ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
// üé® Êñ∞Ê©üËÉΩ: ÂàùÊúüÂåñÂæå„Å´„ÉÜ„Çπ„ÉàÂÆüË°å
setTimeout(() => {
if (window.rightPanelBackgroundManager && window.rightPanelBackgroundManager.statusPanel) {
console.log('üé® Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†Âãï‰ΩúÁ¢∫Ë™ç');
window.rightPanelBackgroundManager.updateBackgroundForSpeaker(null);
// üé® Êñ∞Ê©üËÉΩ: Ëá™Âãï„ÉÜ„Çπ„ÉàÂÆüË°å
if (window.testRightPanelBackgroundSystem) {
console.log('üß™ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÂÆüË°å');
window.testRightPanelBackgroundSystem();
}
}
}, 1000);
}
// üé® Êñ∞Ê©üËÉΩ: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂãï‰Ωú„ÉÜ„Çπ„Éà
function testRightPanelBackgroundSystem() {
console.log('üß™ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÈñãÂßã');
if (!window.rightPanelBackgroundManager) {
console.error('‚ùå Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
const manager = window.rightPanelBackgroundManager;
const statusPanel = manager.statusPanel;
if (!statusPanel) {
console.error('‚ùå status-panelË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
console.log('‚úÖ Âè≥„Éë„Éç„É´Ë¶ÅÁ¥†Áô∫Ë¶ã:', statusPanel);
// ÂêÑË©±ËÄÖ„ÅÆËÉåÊôØÂ§âÂåñ„Çí„ÉÜ„Çπ„Éà
const speakers = [
{ name: '„Å≠„Åª„Çä„Éº', value: window.SPEAKERS?.NEHORI },
{ name: '„ÅØ„Åª„Çä„Éº', value: window.SPEAKERS?.HAHORI },
{ name: '„É¶„Éº„Ç∂„Éº', value: window.SPEAKERS?.USER },
{ name: '„Å™„Åó', value: null }
];
let testIndex = 0;
const runTest = () => {
if (testIndex >= speakers.length) {
console.log('‚úÖ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
return;
}
const speaker = speakers[testIndex];
console.log(`üîÑ „ÉÜ„Çπ„Éà ${testIndex + 1}/${speakers.length}: ${speaker.name} (${speaker.value})`);
// ËÉåÊôØÂ§âÂåñ„Çí„ÉÜ„Çπ„Éà
manager.updateBackgroundForSpeaker(speaker.value);
// 2ÁßíÂæå„Å´Ê¨°„ÅÆ„ÉÜ„Çπ„Éà
testIndex++;
setTimeout(runTest, 2000);
};
runTest();
return true;
}
// üé® Êñ∞Ê©üËÉΩ: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„Ç∑„Çπ„ÉÜ„É†„ÅÆÊâãÂãï„ÉÜ„Çπ„Éà
function manualTestRightPanelBackground(speaker) {
console.log(`üß™ ÊâãÂãï„ÉÜ„Çπ„Éà: ${speaker}`);
if (!window.rightPanelBackgroundManager) {
console.error('‚ùå Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
const speakerValue = speaker === 'nehori' ? window.SPEAKERS?.NEHORI :
speaker === 'hahori' ? window.SPEAKERS?.HAHORI :
speaker === 'user' ? window.SPEAKERS?.USER : null;
window.rightPanelBackgroundManager.updateBackgroundForSpeaker(speakerValue);
return true;
}
// üé® Êñ∞Ê©üËÉΩ: Ë§áÊï∞„ÅÆÊñπÊ≥ï„ÅßÂàùÊúüÂåñ„ÇíË©¶Ë°å
function forceInitializeRightPanelBackgroundManager() {
console.log('üöÄ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Âº∑Âà∂ÂàùÊúüÂåñÈñãÂßã');
// Êó¢Â≠ò„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí„ÇØ„É™„Ç¢
window.rightPanelBackgroundManager = null;
// 1ÁßíÂæå„Å´ÂàùÊúüÂåñ
setTimeout(() => {
initializeRightPanelBackgroundManager();
}, 1000);
// 3ÁßíÂæå„Å´ÂÜçË©¶Ë°å
setTimeout(() => {
if (!window.rightPanelBackgroundManager || !window.rightPanelBackgroundManager.statusPanel) {
console.log('üîÑ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂÜçÂàùÊúüÂåñ');
initializeRightPanelBackgroundManager();
}
}, 3000);
}
// „Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.testRightPanelBackgroundSystem = testRightPanelBackgroundSystem;
window.manualTestRightPanelBackground = manualTestRightPanelBackground;
window.forceInitializeRightPanelBackgroundManager = forceInitializeRightPanelBackgroundManager;
// =================================================================================
// üé® NEW FEATURES - Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò
// =================================================================================
/**
* Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÅÆÊõ¥Êñ∞
* 6„Å§„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÇíËâ≤„Å®„ÉÜ„Ç≠„Çπ„Éà„ÅßË°®Á§∫
*/
function updateVoiceStateDisplay(state = 'idle') {
const stateIcon = document.getElementById('stateIcon');
const stateText = document.getElementById('stateText');
const voiceStateCompact = document.getElementById('voiceStateCompact');
if (!stateIcon || !stateText || !voiceStateCompact) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Áä∂ÊÖãË°®Á§∫Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// Áä∂ÊÖãË®≠ÂÆöÔºà„Éû„Ç§„ÇØ„Ç¢„Ç§„Ç≥„É≥„ÅÆÈáçË§á„ÇíÈÅø„Åë„Çã„Åü„ÇÅÁä∂ÊÖã„Å´Âøú„Åò„Åü„Ç¢„Ç§„Ç≥„É≥„Çí‰ΩøÁî®Ôºâ
const stateConfig = {
'starting': { text: 'Ë™çË≠ò„ÇíÈñãÂßã‰∏≠...', icon: 'üîÑ' },
'active': { text: 'Ë™çË≠ò‰∏≠', icon: 'üü¢' },
'stopping': { text: 'Ë™çË≠ò„Çí‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠', icon: '‚è∏Ô∏è' },
'error': { text: 'Ë™çË≠ò„Ç®„É©„Éº', icon: 'üî¥' },
'network-error': { text: '„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº', icon: 'üåê' },
'permission-denied': { text: '„Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å', icon: 'üö´' },
'idle': { text: 'ÂæÖÊ©ü‰∏≠', icon: '‚ö™' }
};
const config = stateConfig[state] || stateConfig['idle'];
// UIÊõ¥Êñ∞
stateIcon.textContent = config.icon;
stateText.textContent = config.text;
// Áä∂ÊÖã„ÇØ„É©„Çπ„ÅÆÊõ¥Êñ∞
voiceStateCompact.className = `voice-state-compact ${state}`;
console.log(`üé® Èü≥Â£∞Áä∂ÊÖãË°®Á§∫Êõ¥Êñ∞: ${state} - ${config.text}`);
}
/**
* „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òÁµêÊûú„ÅÆÊõ¥Êñ∞
* ‰ºöË©±„É≠„Ç∞„Å®„ÅØÂàÜÈõ¢„Åï„Çå„ÅüÈü≥Â£∞Ë™çË≠òÁµêÊûú„ÇíË°®Á§∫
*/
function updateRealtimeTranscript(transcriptText = '') {
const transcriptElement = document.getElementById('transcriptText');
if (!transcriptElement) {
// üéØ Phase B: Ë¶ÅÁ¥†„Åå„Å™„ÅÑÂ†¥Âêà„ÅØÈùô„Åã„Å´Âá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„ÉóÔºà„Ç®„É©„ÉºÊäëÂà∂Ôºâ
return;
}
// Èü≥Â£∞Ë™çË≠òÁµêÊûú„ÅÆÊõ¥Êñ∞
if (transcriptText && transcriptText.trim()) {
transcriptElement.textContent = transcriptText;
transcriptElement.style.opacity = '1';
} else {
transcriptElement.textContent = '...';
transcriptElement.style.opacity = '0.5';
}
console.log(`üéôÔ∏è „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òÊõ¥Êñ∞: ${transcriptText}`);
}
/**
* Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆÂàùÊúüÂåñ
*/
function initializeVoiceStateDisplay() {
console.log('üé® Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆÂàùÊúüÂåñÈñãÂßã');
// ÂàùÊúüÁä∂ÊÖãË®≠ÂÆö
updateVoiceStateDisplay('idle');
updateRealtimeTranscript('');
// Áµ±ÂêàÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÈÄ£Êê∫
if (window.unifiedStateManager) {
try {
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖã„ÅÆÁõ£Ë¶ñ
const checkVoiceState = () => {
try {
// Ê≠£„Åó„ÅÑAPI„Çí‰ΩøÁî®: getModule('voice')
const voiceModule = window.unifiedStateManager.getModule('voice');
if (voiceModule && voiceModule.getState) {
const voiceState = voiceModule.getState();
if (voiceState.recognitionState) {
updateVoiceStateDisplay(voiceState.recognitionState);
}
}
} catch (error) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Áä∂ÊÖãÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
}
};
// ÂÆöÊúüÁöÑ„Å™Áä∂ÊÖãÁ¢∫Ë™ç
setInterval(checkVoiceState, 500);
console.log('‚úÖ Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÅÆÁµ±ÂêàÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÈÄ£Êê∫ÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÅÆÁµ±ÂêàÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÈÄ£Êê∫„Ç®„É©„Éº:', error);
}
} else {
console.warn('‚ö†Ô∏è Áµ±ÂêàÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì - Âü∫Êú¨Ê©üËÉΩ„ÅÆ„Åø„ÅßÂãï‰Ωú');
}
console.log('‚úÖ Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆÂàùÊúüÂåñÂÆå‰∫Ü');
}
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: transcript-panel„ÅØÂ∏∏„Å´Ë°®Á§∫ÔºàÂàùÊúüÂåñ‰∏çË¶ÅÔºâ
// ‰ª•Ââç„ÅÆÂàùÊúüÂåñÈñ¢Êï∞„ÅØÂâäÈô§Ê∏à„ÅøÔºàÂøúÊÄ•Âá¶ÁΩÆ„Å†„Å£„Åü„Åü„ÇÅÔºâ
/**
* üéØ transcript-panel ÂÆåÂÖ®Ë°®Á§∫„ÉÜ„Çπ„Éà
*/
function runTranscriptPanelCompleteTest() {
console.log('üîÑ transcript-panel ÂÆåÂÖ®Ë°®Á§∫„ÉÜ„Çπ„ÉàÈñãÂßã');
const transcriptPanel = document.getElementById('transcriptPanel');
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (!transcriptPanel || !transcriptDisplay) {
console.error('‚ùå transcript-panel „Åæ„Åü„ÅØ transcript-display Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// transcript-display „ÅØ conversation-panel ÂÜÖ„Å´„ÅÇ„Çã„Åü„ÇÅ„ÄÅË°®Á§∫Âà∂Âæ°‰∏çË¶Å
console.log('‚úÖ transcript-display „ÅØ conversation-panel ÂÜÖ„ÅßÂ∏∏„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô');
// Step 2: „ÉÜ„Ç≠„Çπ„ÉàÊõ¥Êñ∞„ÉÜ„Çπ„Éà
const testTexts = [
'üéØ transcript-panel ÂÆåÂÖ®Ë°®Á§∫„ÉÜ„Çπ„Éà‰∏≠...',
'‚úÖ „ÉÜ„Ç≠„Çπ„ÉàÊõ¥Êñ∞Ê©üËÉΩ„ÅåÊ≠£Â∏∏„Å´Âãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åô',
'üîÑ Èï∑„ÅÑ„ÉÜ„Ç≠„Çπ„Éà„ÅÆË°®Á§∫„ÉÜ„Çπ„Éà: „Åì„Çå„ÅØÈï∑„ÅÑÊñáÁ´†„ÅÆ„ÉÜ„Çπ„Éà„Åß„Åô„ÄÇ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåÊ≠£Â∏∏„Å´Âãï‰Ωú„Åó„ÄÅÈü≥Â£∞Ë™çË≠òÊ©üËÉΩ„ÇÇÂïèÈ°å„Å™„ÅèÁ®ºÂÉç„Åó„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
'Èü≥Â£∞Ë™çË≠òÂæÖÊ©ü‰∏≠...Ôºà„Äå„Å©„ÅÜ„Åû„Äç„Å®Ë®Ä„ÅÜ„Å®AI„ÅåÂøúÁ≠î„Åó„Åæ„ÅôÔºâ'
];
let testIndex = 0;
const testInterval = setInterval(() => {
if (testIndex < testTexts.length) {
transcriptDisplay.textContent = testTexts[testIndex];
console.log(`‚úÖ „ÉÜ„Çπ„Éà ${testIndex + 1}/${testTexts.length}: ${testTexts[testIndex]}`);
testIndex++;
} else {
clearInterval(testInterval);
console.log('‚úÖ transcript-panel ÂÆåÂÖ®Ë°®Á§∫„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
}
}, 1000);
// Step 3: ‰ΩçÁΩÆÊÉÖÂ†±„ÅÆÂá∫Âäõ
console.log('üìè transcript-panel ‰ΩçÁΩÆÊÉÖÂ†±:', {
rect: transcriptPanel.getBoundingClientRect(),
computedStyle: {
display: getComputedStyle(transcriptPanel).display,
visibility: getComputedStyle(transcriptPanel).visibility,
opacity: getComputedStyle(transcriptPanel).opacity,
position: getComputedStyle(transcriptPanel).position,
bottom: getComputedStyle(transcriptPanel).bottom,
zIndex: getComputedStyle(transcriptPanel).zIndex
}
});
return transcriptPanel;
}
// „Ç∞„É≠„Éº„Éê„É´„Ç®„ÇØ„Çπ„Éù„Éº„Éà
window.runTranscriptPanelCompleteTest = runTranscriptPanelCompleteTest;
// =================================================================================
// üîß DEBUG & TEST FUNCTIONS - „Éá„Éê„ÉÉ„Ç∞„Éª„ÉÜ„Çπ„ÉàÁî®Èñ¢Êï∞
// =================================================================================
/**
* Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÅÆ„ÉÜ„Çπ„ÉàÈñ¢Êï∞
* 6„Å§„ÅÆÁä∂ÊÖã„ÇíÈ†ÜÁï™„Å´Ë°®Á§∫„Åó„Å¶Âãï‰ΩúÁ¢∫Ë™ç
*/
window.testVoiceStateDisplay = function() {
console.log('üß™ Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÉÜ„Çπ„ÉàÈñãÂßã');
const states = ['starting', 'active', 'stopping', 'error', 'network-error', 'permission-denied', 'idle'];
let currentIndex = 0;
const testInterval = setInterval(() => {
const state = states[currentIndex];
console.log(`üîÑ Áä∂ÊÖã„ÉÜ„Çπ„Éà: ${state}`);
updateVoiceStateDisplay(state);
currentIndex++;
if (currentIndex >= states.length) {
clearInterval(testInterval);
console.log('‚úÖ Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
// ÊúÄÁµÇÁöÑ„Å´idleÁä∂ÊÖã„Å´Êàª„Åô
updateVoiceStateDisplay('idle');
}
}, 1500);
};
/**
* „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆ„ÉÜ„Çπ„ÉàÈñ¢Êï∞
* „Çµ„É≥„Éó„É´„ÉÜ„Ç≠„Çπ„Éà„ÇíË°®Á§∫„Åó„Å¶Âãï‰ΩúÁ¢∫Ë™ç
*/
window.testRealtimeTranscript = function() {
console.log('üß™ „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÉÜ„Çπ„ÉàÈñãÂßã');
const sampleTexts = [
'„Åì„Çì„Å´„Å°„ÅØ',
'„ÉÜ„Çπ„Éà„Åó„Å¶„ÅÑ„Åæ„Åô',
'„ÅÜ„Åæ„ÅèÂãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü',
'„Åì„Çå„ÅØ„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆ„ÉÜ„Çπ„Éà„Åß„Åô',
''
];
let currentIndex = 0;
const testInterval = setInterval(() => {
const text = sampleTexts[currentIndex];
console.log(`üîÑ Èü≥Â£∞Ë™çË≠ò„ÉÜ„Çπ„Éà: "${text}"`);
updateRealtimeTranscript(text);
currentIndex++;
if (currentIndex >= sampleTexts.length) {
clearInterval(testInterval);
console.log('‚úÖ „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
}
}, 2000);
};
/**
* Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÅÆ„ÉÜ„Çπ„ÉàÈñ¢Êï∞
* Ë©±ËÄÖ„Å´„Çà„ÇãËÉåÊôØÂ§âÂåñ„ÇíÁ¢∫Ë™ç
*/
window.testRightPanelBackground = function() {
console.log('üß™ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÉÜ„Çπ„ÉàÈñãÂßã');
const statusPanel = document.querySelector('.status-panel');
if (!statusPanel) {
console.error('‚ùå Âè≥„Éë„Éç„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const speakers = ['nehori', 'hahori', 'user', ''];
let currentIndex = 0;
const testInterval = setInterval(() => {
const speaker = speakers[currentIndex];
console.log(`üîÑ ËÉåÊôØÂ§âÂåñ„ÉÜ„Çπ„Éà: speaker-${speaker}`);
// Êó¢Â≠ò„ÅÆspeaker„ÇØ„É©„Çπ„ÇíÂâäÈô§
statusPanel.classList.remove('speaker-nehori', 'speaker-hahori', 'speaker-user');
// Êñ∞„Åó„ÅÑspeaker„ÇØ„É©„Çπ„ÇíËøΩÂä†
if (speaker) {
statusPanel.classList.add(`speaker-${speaker}`);
}
currentIndex++;
if (currentIndex >= speakers.length) {
clearInterval(testInterval);
console.log('‚úÖ Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
}
}, 2000);
};
/**
* Á∑èÂêà„ÉÜ„Çπ„ÉàÈñ¢Êï∞
* „Åô„Åπ„Å¶„ÅÆÊñ∞Ê©üËÉΩ„ÇíÈ†ÜÁï™„Å´„ÉÜ„Çπ„Éà
*/
window.testNewUIFeatures = function() {
console.log('üß™ Êñ∞UIÊ©üËÉΩÁ∑èÂêà„ÉÜ„Çπ„ÉàÈñãÂßã');
// 1. Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„ÉÜ„Çπ„Éà
testVoiceStateDisplay();
// 2. „É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÉÜ„Çπ„ÉàÔºà3ÁßíÂæåÔºâ
setTimeout(() => {
testRealtimeTranscript();
}, 3000);
// 3. Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÉÜ„Çπ„ÉàÔºà8ÁßíÂæåÔºâ
setTimeout(() => {
testRightPanelBackground();
}, 8000);
console.log('‚úÖ Êñ∞UIÊ©üËÉΩÁ∑èÂêà„ÉÜ„Çπ„ÉàÂÆå‰∫Ü‰∫àÂÆöÔºàÁ¥Ñ15ÁßíÂæåÔºâ');
};
console.log('‚úÖ UIBasicË™≠„ÅøËæº„ÅøÂÆå‰∫Ü - Âü∫Êú¨UIÊõ¥Êñ∞ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†');
console.log('üì¶ UIBasic: 7ÂÄã„ÅÆÈñ¢Êï∞„Å®UIBasic„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíwindowÁµåÁî±„ÅßÂÖ¨ÈñãÔºà3ÂÄã„ÅØscript.js„Å´ÁßªÂãïÊ∏à„ÅøÔºâ');
/* === ui-advanced.js === */
// =================================================================================
// UI ADVANCED MANAGER - È´òÂ∫¶UIÁÆ°ÁêÜ„É¢„Ç∏„É•„Éº„É´
// =================================================================================
/**
* UIÊúÄÈÅ©ÂåñPhase1: È´òÂ∫¶UIÊ©üËÉΩ„ÅÆÂàÜÈõ¢
* - „É¢„Éº„ÉÄ„É´ÁÆ°ÁêÜ
* - „Éò„É´„Éó„Ç¨„Ç§„ÉâÁÆ°ÁêÜ
* - Áô∫Â£∞Áü≠Á∏ÆUIÁÆ°ÁêÜ
*
* ‰æùÂ≠òÈñ¢‰øÇ:
* - window.UIManager.DOMUtils (DOMÊìç‰Ωú)
* - window.showMessage („É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫)
* - AppState (Áä∂ÊÖãÂèÇÁÖß„ÅÆ„Åø)
*
* ÂÖ¨ÈñãAPI:
* - window.UIAdvanced
*/
// =================================================================================
// MODAL MANAGEMENT - „É¢„Éº„ÉÄ„É´ÁÆ°ÁêÜ
// =================================================================================
const ModalManager = {
/**
* Ë®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè
*/
openAdvancedSettings() {
console.log('üí° openAdvancedSettings „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const modal = window.UIManager.DOMUtils.get('advancedSettingsModal');
if (modal) {
modal.classList.remove('hidden');
modal.style.display = 'flex';
this.updateAdvancedSettingsDisplay();
document.addEventListener('keydown', this.handleEscapeKey);
console.log('‚úÖ „Åù„ÅÆ‰ªñË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åç„Åæ„Åó„Åü');
} else {
console.error('‚ùå „É¢„Éº„ÉÄ„É´Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
},
/**
* Ë®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
*/
closeAdvancedSettings() {
console.log('üí° closeAdvancedSettings „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const modal = window.UIManager.DOMUtils.get('advancedSettingsModal');
if (modal) {
modal.classList.add('hidden');
modal.style.display = 'none';
document.removeEventListener('keydown', this.handleEscapeKey);
console.log('‚úÖ „Åù„ÅÆ‰ªñË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Åæ„Åó„Åü');
}
},
/**
* Ë®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÅÆË°®Á§∫ÂÜÖÂÆπ„ÇíÊõ¥Êñ∞
*/
updateAdvancedSettingsDisplay() {
// „Ç´„Çπ„Çø„É†„Éó„É≠„É≥„Éó„ÉàË°®Á§∫Êõ¥Êñ∞
const nehoriPrompt = window.UIManager.DOMUtils.get('nehoriPrompt');
const hahoriPrompt = window.UIManager.DOMUtils.get('hahoriPrompt');
if (nehoriPrompt && window.getCharacterPrompt) {
nehoriPrompt.value = window.getCharacterPrompt(window.SPEAKERS?.NEHORI || 'nehori');
}
if (hahoriPrompt && window.getCharacterPrompt) {
hahoriPrompt.value = window.getCharacterPrompt(window.SPEAKERS?.HAHORI || 'hahori');
}
// Èü≥Â£∞Ë®≠ÂÆöUI„ÇÇÊõ¥Êñ∞
setTimeout(() => {
if (window.updateVoiceSettingsUI) {
window.updateVoiceSettingsUI();
}
}, 100); // prompts.js„ÅÆË™≠„ÅøËæº„ÅøÂÆå‰∫Ü„ÇíÂæÖ„Å§
},
/**
* Escape„Ç≠„Éº„Åß„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
*/
handleEscapeKey(event) {
if (event.key === 'Escape') {
if (window.UIAdvanced && window.UIAdvanced.Modal) {
window.UIAdvanced.Modal.closeAdvancedSettings();
} else if (window.closeAdvancedSettings) {
window.closeAdvancedSettings();
}
}
},
/**
* Èü≥Â£∞Ë®≠ÂÆö„Çí‰øùÂ≠ò
*/
saveVoicePreset() {
try {
console.log('üíæ Èü≥Â£∞Ë®≠ÂÆö„Çí‰øùÂ≠ò‰∏≠...');
// Ë®≠ÂÆöÁîªÈù¢„Åã„Çâ„Éó„É≠„É≥„Éó„Éà„ÇíÂèñÂæó
const nehoriPrompt = window.UIManager.DOMUtils.get('nehoriPrompt');
const hahoriPrompt = window.UIManager.DOMUtils.get('hahoriPrompt');
if (!nehoriPrompt || !hahoriPrompt) {
window.showMessage('error', '„Éó„É≠„É≥„Éó„ÉàÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// VoiceSettings„ÇíÊõ¥Êñ∞
const SPEAKERS = window.SPEAKERS || { NEHORI: 'nehori', HAHORI: 'hahori' };
const VoiceSettings = window.VoiceSettings || {};
if (!VoiceSettings[SPEAKERS.NEHORI]) VoiceSettings[SPEAKERS.NEHORI] = {};
if (!VoiceSettings[SPEAKERS.HAHORI]) VoiceSettings[SPEAKERS.HAHORI] = {};
VoiceSettings[SPEAKERS.NEHORI].prompt = nehoriPrompt.value || '';
VoiceSettings[SPEAKERS.HAHORI].prompt = hahoriPrompt.value || '';
// „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò
const voiceConfig = {
nehori: {
...VoiceSettings[SPEAKERS.NEHORI]
},
hahori: {
...VoiceSettings[SPEAKERS.HAHORI]
},
lastUpdated: new Date().toISOString()
};
localStorage.setItem('fukabori_voice_config', JSON.stringify(voiceConfig));
// config„Éï„Ç©„É´„ÉÄÁî®„ÅÆË®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇÇÁîüÊàê„Åó„Å¶„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
this.downloadVoiceConfig(voiceConfig);
console.log('‚úÖ Èü≥Â£∞Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
window.showMessage('success', 'Èü≥Â£∞Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºàvoice_config.js„Éï„Ç°„Ç§„É´„ÇÇ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åï„Çå„Åæ„Åó„ÅüÔºâ');
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë®≠ÂÆö‰øùÂ≠ò„Ç®„É©„Éº:', error);
window.showMessage('error', 'Èü≥Â£∞Ë®≠ÂÆö„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
},
/**
* Èü≥Â£∞Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
*/
downloadVoiceConfig(config) {
try {
// JavaScript„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„ÅßÂá∫Âäõ
const jsContent = `// Ê∑±Â†Ä„Åè„Çì - „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö
// ÁîüÊàêÊó•ÊôÇ: ${config.lastUpdated}
window.CUSTOM_VOICE_CONFIG = ${JSON.stringify(config, null, 2)};
// Ë®≠ÂÆö„ÅÆËá™ÂãïÈÅ©Áî®
if (typeof window !== 'undefined' && window.VoiceSettings) {
Object.assign(window.VoiceSettings.nehori, window.CUSTOM_VOICE_CONFIG.nehori);
Object.assign(window.VoiceSettings.hahori, window.CUSTOM_VOICE_CONFIG.hahori);
console.log('‚úÖ „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü');
}
`;
const blob = new Blob([jsContent], { type: 'application/javascript' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = 'voice_config.js';
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);
console.log('üìÅ voice_config.js„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
}
}
};
// =================================================================================
// HELP GUIDE MANAGEMENT - „Éò„É´„Éó„Ç¨„Ç§„ÉâÁÆ°ÁêÜ
// =================================================================================
const HelpGuideManager = {
/**
* „Éò„É´„Éó„Ç¨„Ç§„Éâ„ÅÆË°®Á§∫/ÈùûË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà
*/
toggleVoiceGuide() {
const voiceGuidePanel = window.UIManager.DOMUtils.get('voiceGuidePanel');
const mainGuideToggle = window.UIManager.DOMUtils.get('mainGuideToggle');
if (voiceGuidePanel && mainGuideToggle) {
const isHidden = voiceGuidePanel.classList.contains('hidden');
if (isHidden) {
// „Ç¨„Ç§„Éâ„Éë„Éç„É´„ÇíË°®Á§∫
voiceGuidePanel.classList.remove('hidden');
mainGuideToggle.classList.remove('show');
// Ê®™Êõ∏„Åç„ÇíÂº∑Âà∂Á¢∫‰øù
voiceGuidePanel.style.writingMode = 'horizontal-tb';
voiceGuidePanel.style.textOrientation = 'mixed';
console.log('‚úÖ „Éò„É´„Éó„Ç¨„Ç§„Éâ„ÇíË°®Á§∫„Åó„Åæ„Åó„Åü');
} else {
// „Ç¨„Ç§„Éâ„Éë„Éç„É´„ÇíÈùûË°®Á§∫
voiceGuidePanel.classList.add('hidden');
mainGuideToggle.classList.add('show');
console.log('‚úÖ „Éò„É´„Éó„Ç¨„Ç§„Éâ„ÇíÈùûË°®Á§∫„Å´„Åó„Åæ„Åó„Åü');
}
}
}
};
// =================================================================================
// SPEECH SHORTENING UI MANAGEMENT - Áô∫Â£∞Áü≠Á∏ÆUIÁÆ°ÁêÜ
// =================================================================================
const SpeechShorteningUIManager = {
/**
* Áô∫Â£∞Áü≠Á∏ÆUI„ÇíÊõ¥Êñ∞
*/
updateUI() {
const enabledCheckbox = document.getElementById('speechShorteningEnabled');
const settingsPanel = document.getElementById('shorteningSettings');
const levelSlider = document.getElementById('shorteningLevel');
const levelValue = document.getElementById('shorteningLevelValue');
const maxCharSlider = document.getElementById('maxCharacters');
const maxCharValue = document.getElementById('maxCharactersValue');
// Ë®≠ÂÆö„ÇíÂèñÂæóÔºàSpeechShorteningManager„Åã„ÇâÔºâ
const settings = window.SpeechShorteningManager?.settings || {
enabled: false,
level: 3,
maxCharacters: 150,
options: {}
};
if (enabledCheckbox) {
enabledCheckbox.checked = settings.enabled;
}
if (settingsPanel) {
settingsPanel.style.opacity = settings.enabled ? '1' : '0.5';
settingsPanel.style.pointerEvents = settings.enabled ? 'auto' : 'none';
}
if (levelSlider && levelValue) {
levelSlider.value = settings.level;
levelValue.textContent = settings.level;
}
if (maxCharSlider && maxCharValue) {
maxCharSlider.value = settings.maxCharacters;
maxCharValue.textContent = settings.maxCharacters;
}
// ÂÄãÂà•„Ç™„Éó„Ç∑„Éß„É≥Êõ¥Êñ∞
if (settings.options) {
Object.keys(settings.options).forEach(key => {
const checkbox = document.getElementById(key);
if (checkbox) {
checkbox.checked = settings.options[key];
}
});
}
},
/**
* Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„ÅÆÊúâÂäπ/ÁÑ°Âäπ„ÇíÂàá„ÇäÊõø„Åà
*/
toggleEnabled() {
if (window.SpeechShorteningManager) {
window.SpeechShorteningManager.toggleEnabled();
this.updateUI(); // UIÂêåÊúü
} else {
console.warn('‚ö†Ô∏è SpeechShorteningManager„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
window.showMessage('warning', 'Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
},
/**
* Áô∫Â£∞Áü≠Á∏Æ„É¨„Éô„É´„ÇíÊõ¥Êñ∞
*/
updateLevel() {
const levelSlider = document.getElementById('shorteningLevel');
if (levelSlider && window.SpeechShorteningManager) {
window.SpeechShorteningManager.updateLevel(levelSlider.value);
this.updateUI(); // UIÂêåÊúü
}
},
/**
* ÊúÄÂ§ßÊñáÂ≠óÊï∞„ÇíÊõ¥Êñ∞
*/
updateMaxCharacters() {
const maxCharSlider = document.getElementById('maxCharacters');
if (maxCharSlider && window.SpeechShorteningManager) {
window.SpeechShorteningManager.updateMaxCharacters(maxCharSlider.value);
this.updateUI(); // UIÂêåÊúü
}
},
/**
* Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà
*/
resetSettings() {
if (confirm('Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü')) {
if (window.SpeechShorteningManager) {
window.SpeechShorteningManager.resetSettings();
this.updateUI(); // UIÂêåÊúü
}
}
},
/**
* Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„Çí„ÉÜ„Çπ„Éà
*/
async testSpeechShortening() {
console.log('üß™ Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„ÉÜ„Çπ„ÉàÈñãÂßã');
const testTexts = [
'„ÅÑ„Å§„ÇÇ„ÅäÂøô„Åó„ÅÑ‰∏≠„ÄÅË≤¥Èáç„Å™„ÅäÊôÇÈñì„Çí„ÅÑ„Åü„Å†„Åç„ÄÅË™†„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÊú¨Êó•„ÅØ„Äå„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÁÆ°ÁêÜ„ÅÆÂ∑•Â§´„Äç„Å®„ÅÑ„ÅÜ„ÉÜ„Éº„Éû„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åï„Çâ„Å´Ë©≥„Åó„Åè„ÅäËÅû„Åã„Åõ„ÅÑ„Åü„Å†„Åë„Çå„Å∞„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ',
'„Åù„Çå„ÅØÊú¨ÂΩì„Å´Á¥†Êô¥„Çâ„Åó„ÅÑ„ÅäË©±„Åß„Åô„Å≠„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄÅ„Å©„ÅÆ„Çà„ÅÜ„Å™Â†¥Èù¢„Åß„ÄÅ„Å©„ÅÆ„Çà„ÅÜ„Å™Ë™≤È°å„Åå„ÅÇ„Çä„ÄÅ„Åù„Çå„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´Ëß£Ê±∫„Åï„Çå„Åü„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü',
'„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇÈùûÂ∏∏„Å´‰æ°ÂÄ§„ÅÇ„ÇãÁü•Ë¶ã„Çí„ÅäËÅû„Åã„Åõ„ÅÑ„Åü„Å†„Åç„ÄÅÂøÉ„Çà„ÇäÊÑüË¨ùÁî≥„Åó‰∏ä„Åí„Åæ„Åô„ÄÇ'
];
if (!window.SpeechShorteningManager) {
console.warn('‚ö†Ô∏è SpeechShorteningManager„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
window.showMessage('warning', 'Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return;
}
for (let i = 0; i < testTexts.length; i++) {
const originalText = testTexts[i];
const shortenedText = await window.SpeechShorteningManager.processTextWithShortening(originalText, 'nehori');
console.log(`üìã „ÉÜ„Çπ„Éà ${i + 1}:`);
console.log(`üìù ÂÖÉ„ÉÜ„Ç≠„Çπ„Éà (${originalText.length}ÊñáÂ≠ó): ${originalText}`);
console.log(`üîä Áü≠Á∏ÆÂæå (${shortenedText.length}ÊñáÂ≠ó): ${shortenedText}`);
console.log(`üìä Áü≠Á∏ÆÁéá: ${Math.round((1 - shortenedText.length / originalText.length) * 100)}%`);
console.log('---');
}
window.showMessage('success', 'Áô∫Â£∞Áü≠Á∏Æ„ÉÜ„Çπ„Éà„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇ„Ç≥„É≥„ÇΩ„Éº„É´„ÅßÁµêÊûú„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
};
// =================================================================================
// UI ADVANCED MANAGER - „É°„Ç§„É≥„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
const UIAdvanced = {
// Phase 1: È´òÂ∫¶UIÊ©üËÉΩ
Modal: ModalManager,
HelpGuide: HelpGuideManager,
SpeechShorteningUI: SpeechShorteningUIManager,
/**
* UIAdvanced„ÅÆÂàùÊúüÂåñ
*/
init() {
console.log('‚úÖ UIAdvancedÂàùÊúüÂåñÂÆå‰∫Ü - Phase 1: „É¢„Éº„ÉÄ„É´„Éª„Ç¨„Ç§„Éâ„ÉªÁü≠Á∏ÆUI');
// Áô∫Â£∞Áü≠Á∏ÆUI„ÅÆÂàùÊúüÂåñ
this.SpeechShorteningUI.updateUI();
},
/**
* Ë®≠ÂÆö„ÅÆÂêåÊúüÊõ¥Êñ∞
*/
syncSettings() {
this.SpeechShorteningUI.updateUI();
}
};
// =================================================================================
// GLOBAL EXPORT - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// windowÁµåÁî±„Åß„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.UIAdvanced = UIAdvanced;
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆÂÄãÂà•Èñ¢Êï∞ÂÖ¨Èñã
window.openAdvancedSettings = () => UIAdvanced.Modal.openAdvancedSettings();
window.closeAdvancedSettings = () => UIAdvanced.Modal.closeAdvancedSettings();
window.saveVoicePreset = () => UIAdvanced.Modal.saveVoicePreset();
window.toggleVoiceGuide = () => UIAdvanced.HelpGuide.toggleVoiceGuide();
// Áô∫Â£∞Áü≠Á∏ÆUIÈñ¢Êï∞„ÅÆÂÖ¨Èñã
window.toggleSpeechShortening = () => UIAdvanced.SpeechShorteningUI.toggleEnabled();
window.updateShorteningLevel = () => UIAdvanced.SpeechShorteningUI.updateLevel();
window.updateMaxCharacters = () => UIAdvanced.SpeechShorteningUI.updateMaxCharacters();
window.resetShorteningSettings = () => UIAdvanced.SpeechShorteningUI.resetSettings();
window.testSpeechShortening = () => UIAdvanced.SpeechShorteningUI.testSpeechShortening();
// ÂàùÊúüÂåñÂÆüË°å
document.addEventListener('DOMContentLoaded', () => {
UIAdvanced.init();
});
console.log('üéØ UI Advanced Manager Phase 1 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü: „É¢„Éº„ÉÄ„É´„Éª„Ç¨„Ç§„Éâ„ÉªÁü≠Á∏ÆUIÂàÜÈõ¢');
/* === storage-manager.js === */
// =================================================================================
// STORAGE MANAGER - LocalStorageÊìç‰ΩúÈñ¢Êï∞ÈõÜÁ¥Ñ
// =================================================================================
//
// Phase 2: LocalStorageÊìç‰ΩúÈñ¢Êï∞„ÅÆÂàÜÈõ¢
// ÂàÜÈõ¢ÂÖÉ: app/script.js (Á¥Ñ120Ë°å)
// ÂàÜÈõ¢Êó•: 2025Âπ¥7Êúà5Êó•
//
// „ÄêÂàÜÈõ¢ÂØæË±°Èñ¢Êï∞„Äë
// - API„Ç≠„ÉºÁÆ°ÁêÜ: saveEncryptedApiKey, loadEncryptedApiKey, clearSavedApiKey
// - „Éë„Çπ„ÉØ„Éº„ÉâÁÆ°ÁêÜ: updatePasswordHashList, getPasswordHashList, hasApiKeyForPassword
// - „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã: saveLoginState, loadLoginState, clearLoginState
// - „ÉÜ„Éº„ÉûÁä∂ÊÖã: saveThemeInputState, loadThemeInputState, clearThemeInputState
// - Áü•Ë¶ãË®≠ÂÆö: saveKnowledgeSettings, loadKnowledgeSettings
// - „Åù„ÅÆ‰ªñ: getSavedApiKeyCount, loadSavedTheme
//
// =================================================================================
// üîÑ ÊöóÂè∑ÂåñÊñπÂºè„ÅÆÂæåÊñπ‰∫íÊèõÊÄßÂØæÂøú
// ÊóßXORÊöóÂè∑Âåñ ‚Üí Êñ∞AESÊöóÂè∑Âåñ„ÅÆÊÆµÈöéÁöÑÁßªË°å
// ÊóßXORÊöóÂè∑ÂåñÈñ¢Êï∞ÔºàÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ‰øùÊåÅÔºâ
function legacyEncryptApiKey(apiKey, password) {
let encrypted = '';
for (let i = 0; i < apiKey.length; i++) {
encrypted += String.fromCharCode(
apiKey.charCodeAt(i) ^
password.charCodeAt(i % password.length)
);
}
return btoa(encrypted);
}
function legacyDecryptApiKey(encryptedApiKey, password) {
try {
const decoded = atob(encryptedApiKey);
let decrypted = '';
for (let i = 0; i < decoded.length; i++) {
decrypted += String.fromCharCode(
decoded.charCodeAt(i) ^
password.charCodeAt(i % password.length)
);
}
return decrypted;
} catch (error) {
throw new Error('ÊóßÂΩ¢Âºè„ÅÆÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂæ©Âè∑„Å´Â§±Êïó');
}
}
// Êñ∞AESÊöóÂè∑ÂåñÈñ¢Êï∞
function encryptApiKey(apiKey, password) {
if (typeof CryptoJS === 'undefined') {
throw new Error('CryptoJS„É©„Ç§„Éñ„É©„É™„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
const key = CryptoJS.PBKDF2(password, 'fukabori-salt', {
keySize: 256/32,
iterations: 1000
});
const encrypted = CryptoJS.AES.encrypt(apiKey, key.toString());
return encrypted.toString();
}
function decryptApiKey(encryptedApiKey, password) {
if (typeof CryptoJS === 'undefined') {
throw new Error('CryptoJS„É©„Ç§„Éñ„É©„É™„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// üîÑ ÂæåÊñπ‰∫íÊèõÊÄß: ÊóßXORÊöóÂè∑Âåñ„Éá„Éº„Çø„Åã„Å©„ÅÜ„Åã„ÇíÂà§ÂÆö
if (isLegacyEncryptedData(encryptedApiKey)) {
console.log('üîÑ ÊóßXORÊöóÂè∑Âåñ„Éá„Éº„Çø„ÇíÊ§úÂá∫ - ÊóßÊñπÂºè„ÅßÂæ©Âè∑„Åó„Åæ„Åô');
return legacyDecryptApiKey(encryptedApiKey, password);
}
// Êñ∞AESÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂæ©Âè∑
const key = CryptoJS.PBKDF2(password, 'fukabori-salt', {
keySize: 256/32,
iterations: 1000
});
const decrypted = CryptoJS.AES.decrypt(encryptedApiKey, key.toString());
return decrypted.toString(CryptoJS.enc.Utf8);
}
// ÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂΩ¢ÂºèÂà§ÂÆö
function isLegacyEncryptedData(encryptedData) {
// ÊóßXORÊöóÂè∑Âåñ: Base64„Ç®„É≥„Ç≥„Éº„Éâ„Åï„Çå„ÅüÁü≠„ÅÑ„Éá„Éº„Çø
// Êñ∞AESÊöóÂè∑Âåñ: CryptoJSÂΩ¢Âºè„ÅÆÈï∑„ÅÑ„Éá„Éº„ÇøÔºàU2FsdGVkX1...„ÅßÂßã„Åæ„ÇãÔºâ
if (!encryptedData || typeof encryptedData !== 'string') {
return false;
}
// CryptoJS AESÊöóÂè∑Âåñ„ÅÆÁâπÂæ¥ÁöÑ„Å™ÈñãÂßã„Éë„Çø„Éº„É≥
if (encryptedData.startsWith('U2FsdGVkX1')) {
return false; // Êñ∞AESÊöóÂè∑Âåñ
}
// Base64„Éë„Çø„Éº„É≥„ÅßÁü≠„ÅÑÂ†¥Âêà„ÅØÊóßXORÊöóÂè∑Âåñ„ÅÆÂèØËÉΩÊÄß
try {
const decoded = atob(encryptedData);
// ÊóßXORÊöóÂè∑Âåñ„ÅØÈÄöÂ∏∏50-100ÊñáÂ≠óÁ®ãÂ∫¶
if (decoded.length < 200) {
return true; // ÊóßXORÊöóÂè∑Âåñ
}
} catch (error) {
// Base64„Éá„Ç≥„Éº„Éâ„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØÊñ∞AESÊöóÂè∑Âåñ
return false;
}
return false; // „Éá„Éï„Ç©„É´„Éà„ÅØÊñ∞AESÊöóÂè∑Âåñ
}
// =================================================================================
// API KEY MANAGEMENT - API„Ç≠„ÉºÁÆ°ÁêÜ
// =================================================================================
/**
* API„Ç≠„Éº„ÇíÊöóÂè∑Âåñ„Åó„Å¶LocalStorage„Å´‰øùÂ≠ò
* @param {string} apiKey - ‰øùÂ≠ò„Åô„ÇãAPI„Ç≠„Éº
* @param {string} password - ÊöóÂè∑ÂåñÁî®„Éë„Çπ„ÉØ„Éº„Éâ
*/
function saveEncryptedApiKey(apiKey, password) {
const encrypted = encryptApiKey(apiKey, password);
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
const timestampId = `fukabori_key_timestamp_${passwordHash}`;
localStorage.setItem(keyId, encrypted);
localStorage.setItem(timestampId, Date.now().toString());
updatePasswordHashList(passwordHash);
console.log(`‚úÖ API„Ç≠„Éº„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü („Éë„Çπ„ÉØ„Éº„ÉâID: ${passwordHash}, Êñ∞AESÊöóÂè∑Âåñ)`);
}
/**
* ÊöóÂè∑Âåñ„Åï„Çå„ÅüAPI„Ç≠„Éº„ÇíLocalStorage„Åã„ÇâË™≠„ÅøËæº„ÅøÔºàÂæåÊñπ‰∫íÊèõÊÄßÂØæÂøúÔºâ
* @param {string} password - Âæ©Âè∑ÂåñÁî®„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {string} Âæ©Âè∑Âåñ„Åï„Çå„ÅüAPI„Ç≠„Éº
*/
function loadEncryptedApiKey(password) {
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
const encrypted = localStorage.getItem(keyId);
if (!encrypted) {
throw new Error(`„Åì„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„Å´ÂØæÂøú„Åô„ÇãAPI„Ç≠„Éº„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì (ID: ${passwordHash})`);
}
console.log(`‚úÖ API„Ç≠„Éº„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü („Éë„Çπ„ÉØ„Éº„ÉâID: ${passwordHash})`);
try {
const decrypted = decryptApiKey(encrypted, password);
// üîÑ ÊóßÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂ†¥Âêà„ÅØÊñ∞ÊöóÂè∑Âåñ„ÅßÂÜç‰øùÂ≠ò
if (isLegacyEncryptedData(encrypted)) {
console.log('üîÑ ÊóßÊöóÂè∑Âåñ„Éá„Éº„Çø„ÇíÊñ∞ÊöóÂè∑Âåñ„ÅßÂÜç‰øùÂ≠ò„Åó„Åæ„Åô');
saveEncryptedApiKey(decrypted, password);
}
return decrypted;
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºÂæ©Âè∑„Ç®„É©„Éº:', error);
throw new Error(`API„Ç≠„Éº„ÅÆÂæ©Âè∑„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
/**
* ÊåáÂÆö„Åï„Çå„Åü„Éë„Çπ„ÉØ„Éº„Éâ„ÅÆAPI„Ç≠„Éº„ÇíÂâäÈô§
* @param {string} password - ÂâäÈô§ÂØæË±°„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ
*/
function clearSavedApiKey(password = null) {
if (password) {
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
const timestampId = `fukabori_key_timestamp_${passwordHash}`;
localStorage.removeItem(keyId);
localStorage.removeItem(timestampId);
console.log(`üóëÔ∏è API„Ç≠„Éº„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü („Éë„Çπ„ÉØ„Éº„ÉâID: ${passwordHash})`);
}
}
// =================================================================================
// PASSWORD MANAGEMENT - „Éë„Çπ„ÉØ„Éº„ÉâÁÆ°ÁêÜ
// =================================================================================
/**
* „Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•„É™„Çπ„Éà„ÇíÊõ¥Êñ∞
* @param {string} passwordHash - ËøΩÂä†„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•
*/
function updatePasswordHashList(passwordHash) {
const hashes = getPasswordHashList();
if (!hashes.includes(passwordHash)) {
hashes.push(passwordHash);
localStorage.setItem('fukabori_password_hashes', JSON.stringify(hashes));
}
}
/**
* ‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Çã„Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•„É™„Çπ„Éà„ÇíÂèñÂæó
* @returns {string[]} „Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•„ÅÆÈÖçÂàó
*/
function getPasswordHashList() {
const saved = localStorage.getItem('fukabori_password_hashes');
return saved ? JSON.parse(saved) : [];
}
/**
* ÊåáÂÆö„Åï„Çå„Åü„Éë„Çπ„ÉØ„Éº„Éâ„Å´ÂØæÂøú„Åô„ÇãAPI„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
* @param {string} password - „ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {boolean} API„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„Å©„ÅÜ„Åã
*/
function hasApiKeyForPassword(password) {
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
return !!localStorage.getItem(keyId);
}
/**
* ‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„ÇãAPI„Ç≠„Éº„ÅÆÊï∞„ÇíÂèñÂæó
* @returns {number} ‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„ÇãAPI„Ç≠„Éº„ÅÆÊï∞
*/
function getSavedApiKeyCount() {
return getPasswordHashList().length;
}
// =================================================================================
// LOGIN STATE MANAGEMENT - „É≠„Ç∞„Ç§„É≥Áä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
/**
* „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí‰øùÂ≠ò
* @param {boolean} isLoggedIn - „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã
*/
function saveLoginState(isLoggedIn) {
try {
localStorage.setItem('fukabori_login_state', isLoggedIn.toString());
console.log(`‚úÖ „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí‰øùÂ≠ò: ${isLoggedIn}`);
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
}
/**
* „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇíË™≠„ÅøËæº„Åø
* @returns {boolean} „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã
*/
function loadLoginState() {
try {
const saved = localStorage.getItem('fukabori_login_state');
const isLoggedIn = saved === 'true';
console.log(`üìã „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇíÂæ©ÂÖÉ: ${isLoggedIn}`);
return isLoggedIn;
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥Áä∂ÊÖãË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return false;
}
}
/**
* „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢
*/
function clearLoginState() {
try {
localStorage.removeItem('fukabori_login_state');
console.log('üóëÔ∏è „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢');
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
}
}
// =================================================================================
// THEME STATE MANAGEMENT - „ÉÜ„Éº„ÉûÁä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
/**
* „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí‰øùÂ≠ò
* @param {string} themeText - „ÉÜ„Éº„Éû„ÉÜ„Ç≠„Çπ„Éà
*/
function saveThemeInputState(themeText) {
try {
if (themeText && themeText.trim()) {
localStorage.setItem('fukabori_theme_input', themeText.trim());
console.log(`‚úÖ „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí‰øùÂ≠ò: ${themeText.trim()}`);
} else {
localStorage.removeItem('fukabori_theme_input');
console.log('üóëÔ∏è „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢ÔºàÁ©∫Ôºâ');
}
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
}
/**
* „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„ÇíË™≠„ÅøËæº„Åø
* @returns {string} „ÉÜ„Éº„Éû„ÉÜ„Ç≠„Çπ„Éà
*/
function loadThemeInputState() {
try {
const saved = localStorage.getItem('fukabori_theme_input');
console.log(`üìã „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„ÇíÂæ©ÂÖÉ: ${saved || '(„Å™„Åó)'}`);
return saved || '';
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖãË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return '';
}
}
/**
* „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢
*/
function clearThemeInputState() {
try {
localStorage.removeItem('fukabori_theme_input');
console.log('üóëÔ∏è „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢');
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
}
}
/**
* ‰øùÂ≠ò„Åï„Çå„Åü„ÉÜ„Éº„Éû„ÇíË™≠„ÅøËæº„Åø
* @returns {string|null} ‰øùÂ≠ò„Åï„Çå„Åü„ÉÜ„Éº„ÉûÂêç
*/
function loadSavedTheme() {
try {
const savedTheme = localStorage.getItem('fukabori_theme');
if (savedTheme) {
console.log(`‚úÖ ‰øùÂ≠ò„Åï„Çå„Åü„ÉÜ„Éº„Éû„Äå${savedTheme}„Äç„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü`);
return savedTheme;
}
return null;
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„ÉûË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return null;
}
}
// =================================================================================
// KNOWLEDGE SETTINGS MANAGEMENT - Áü•Ë¶ãË®≠ÂÆöÁÆ°ÁêÜ
// =================================================================================
/**
* Áü•Ë¶ãË®≠ÂÆö„Çí‰øùÂ≠ò
* @param {Object} knowledgeSettings - Áü•Ë¶ãË®≠ÂÆö„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
*/
function saveKnowledgeSettings(knowledgeSettings) {
try {
localStorage.setItem('fukabori_knowledge_settings', JSON.stringify(knowledgeSettings));
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå Áü•Ë¶ãË®≠ÂÆö‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
}
/**
* Áü•Ë¶ãË®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø
* @returns {Object|null} Áü•Ë¶ãË®≠ÂÆö„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
*/
function loadKnowledgeSettings() {
try {
const saved = localStorage.getItem('fukabori_knowledge_settings');
if (saved) {
const settings = JSON.parse(saved);
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
return settings;
}
return null;
} catch (error) {
console.error('‚ùå Áü•Ë¶ãË®≠ÂÆöË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return null;
}
}
// =================================================================================
// DATA RECOVERY & MIGRATION - „Éá„Éº„ÇøÂæ©Êóß„ÉªÁßªË°å
// =================================================================================
/**
* Á†¥Êêç„Åó„ÅüÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂæ©Êóß„ÇíË©¶Ë°å
* @param {string} password - Âæ©Âè∑ÂåñÁî®„Éë„Çπ„ÉØ„Éº„Éâ
* @returns {boolean} Âæ©ÊóßÊàêÂäüÂèØÂê¶
*/
function attemptDataRecovery(password) {
console.log('üîß „Éá„Éº„ÇøÂæ©ÊóßÂá¶ÁêÜ„ÇíÈñãÂßã„Åó„Åæ„Åô...');
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
const encrypted = localStorage.getItem(keyId);
if (!encrypted) {
console.log('‚ùå Âæ©ÊóßÂØæË±°„ÅÆ„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
console.log(`üìã Âæ©ÊóßÂØæË±°„Éá„Éº„Çø: ${encrypted.substring(0, 50)}...`);
// 1. ÊóßXORÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„ÇíË©¶Ë°å
try {
console.log('üîÑ ÊóßXORÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„ÇíË©¶Ë°å...');
const decrypted = legacyDecryptApiKey(encrypted, password);
// API„Ç≠„Éº„ÅÆÂ¶•ÂΩìÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
if (decrypted.startsWith('sk-') && decrypted.length > 40) {
console.log('‚úÖ ÊóßXORÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„Å´ÊàêÂäü');
// Êñ∞AESÊöóÂè∑Âåñ„ÅßÂÜç‰øùÂ≠ò
console.log('üîÑ Êñ∞AESÊöóÂè∑Âåñ„ÅßÂÜç‰øùÂ≠ò„Åó„Åæ„Åô...');
saveEncryptedApiKey(decrypted, password);
return true;
} else {
console.log('‚ùå Âæ©Âè∑„Åï„Çå„Åü„Éá„Éº„Çø„ÅåÊúâÂäπ„Å™API„Ç≠„Éº„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.log('‚ùå ÊóßXORÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„Å´Â§±Êïó:', error.message);
}
// 2. Êñ∞AESÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„ÇíË©¶Ë°åÔºàÂº∑Âà∂Ôºâ
try {
console.log('üîÑ Êñ∞AESÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„ÇíÂº∑Âà∂Ë©¶Ë°å...');
const key = CryptoJS.PBKDF2(password, 'fukabori-salt', {
keySize: 256/32,
iterations: 1000
});
const decrypted = CryptoJS.AES.decrypt(encrypted, key.toString());
const result = decrypted.toString(CryptoJS.enc.Utf8);
if (result && result.startsWith('sk-')) {
console.log('‚úÖ Êñ∞AESÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„Å´ÊàêÂäü');
return true;
}
} catch (error) {
console.log('‚ùå Êñ∞AESÊöóÂè∑Âåñ„Åß„ÅÆÂæ©Âè∑„Å´Â§±Êïó:', error.message);
}
// 3. „Éá„Éº„ÇøÁ†¥Êêç„ÅÆÁ¢∫Ë™ç„Å®ÂâäÈô§
console.log('‚ùå „Éá„Éº„ÇøÂæ©Êóß„Å´Â§±Êïó - Á†¥Êêç„Éá„Éº„Çø„ÇíÂâäÈô§„Åó„Åæ„Åô');
localStorage.removeItem(keyId);
localStorage.removeItem(`fukabori_key_timestamp_${passwordHash}`);
return false;
}
/**
* ÂÖ®„Å¶„ÅÆ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„ÅÆ„Éá„Éº„ÇøÁßªË°å
* @returns {Object} ÁßªË°åÁµêÊûú
*/
function migrateAllEncryptedData() {
console.log('üîÑ ÂÖ®„Éá„Éº„ÇøÁßªË°åÂá¶ÁêÜ„ÇíÈñãÂßã„Åó„Åæ„Åô...');
const hashes = getPasswordHashList();
const results = {
total: hashes.length,
migrated: 0,
failed: 0,
errors: []
};
for (const hash of hashes) {
const keyId = `fukabori_encrypted_key_${hash}`;
const encrypted = localStorage.getItem(keyId);
if (!encrypted) {
results.failed++;
results.errors.push(`${hash}: „Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`);
continue;
}
// ÊóßÊöóÂè∑Âåñ„Éá„Éº„Çø„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (isLegacyEncryptedData(encrypted)) {
console.log(`üîÑ ÊóßÊöóÂè∑Âåñ„Éá„Éº„Çø„ÇíÊ§úÂá∫: ${hash}`);
// ÂÆüÈöõ„ÅÆÁßªË°å„ÅØ„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊôÇ„Å´ÂÆüË°å
results.migrated++;
} else {
console.log(`‚úÖ Êñ∞ÊöóÂè∑Âåñ„Éá„Éº„Çø: ${hash}`);
}
}
console.log(`‚úÖ „Éá„Éº„ÇøÁßªË°å„ÉÅ„Çß„ÉÉ„ÇØÂÆå‰∫Ü: ${results.migrated}‰ª∂ÁßªË°åÂØæË±°, ${results.failed}‰ª∂Â§±Êïó`);
return results;
}
// =================================================================================
// üîê EMBEDDED API KEY PRIORITY CONTROL - Âüã„ÇÅËæº„ÅøAPI KeyÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°
// =================================================================================
/**
* üéØ API KeyÂèñÂæóÔºàÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°‰ªò„ÅçÔºâ
*
* ÂÑ™ÂÖàÈ†Ü‰Ωç:
* 1. Ë®≠ÂÆöÁîªÈù¢API Key (ÊúÄÂÑ™ÂÖà)
* 2. Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key
* 3. Êú™Ë®≠ÂÆö
*
* @returns {string|null} ÁèæÂú®ÊúâÂäπ„Å™API Key
*/
function getApiKeyWithPriority() {
try {
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: API KeyÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°ÈñãÂßã');
// 1. Ë®≠ÂÆöÁîªÈù¢API KeyÔºàÊúÄÂÑ™ÂÖàÔºâ
const userApiKeyCount = getSavedApiKeyCount();
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: „É¶„Éº„Ç∂„ÉºAPI KeyÊï∞:', userApiKeyCount);
if (userApiKeyCount > 0) {
console.log('üîë Ë®≠ÂÆöÁîªÈù¢API Key„Çí‰ΩøÁî®ÔºàÊúÄÂÑ™ÂÖàÔºâ');
return null; // Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
}
// 2. Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âüã„ÇÅËæº„ÅøAPI Key„ÉÅ„Çß„ÉÉ„ÇØ‰∏≠...');
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: EmbeddedApiManagerÂ≠òÂú®:', !!window.EmbeddedApiManager);
if (window.EmbeddedApiManager) {
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Ë™çË®ºÁä∂ÊÖã:', window.EmbeddedApiManager.isAuthenticated);
console.log('üîç „Éá„Éê„ÉÉ„Ç∞: Âüã„ÇÅËæº„ÅøAPI KeyÂ≠òÂú®:', !!window.EmbeddedApiManager.embeddedApiKey);
if (window.EmbeddedApiManager.isAuthenticated && window.EmbeddedApiManager.embeddedApiKey) {
console.log('üè¢ Âüã„ÇÅËæº„Åø‰ºÅÊ•≠API Key„Çí‰ΩøÁî®');
return window.EmbeddedApiManager.embeddedApiKey;
}
}
// 3. Êú™Ë®≠ÂÆö
console.log('‚ö†Ô∏è API Key„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return null;
} catch (error) {
console.error('‚ùå API KeyÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°„Ç®„É©„Éº:', error);
console.error('‚ùå „Ç®„É©„Éº„Çπ„Çø„ÉÉ„ÇØ:', error.stack);
return null;
}
}
/**
* üîç API KeyË®≠ÂÆöÁä∂Ê≥ÅÁ¢∫Ë™çÔºàÊã°ÂºµÁâàÔºâ
*
* @returns {Object} API KeyË®≠ÂÆöÁä∂Ê≥Å
*/
function isApiKeyConfiguredExtended() {
const result = {
hasUserApiKey: false,
hasEmbeddedApiKey: false,
isEmbeddedAuthenticated: false,
currentSource: null,
totalCount: 0,
priority: null
};
try {
// Ë®≠ÂÆöÁîªÈù¢API KeyÁ¢∫Ë™ç
const userApiKeyCount = getSavedApiKeyCount();
if (userApiKeyCount > 0) {
result.hasUserApiKey = true;
result.currentSource = 'user';
result.priority = 1;
result.totalCount += userApiKeyCount;
}
// Âüã„ÇÅËæº„ÅøAPI KeyÁ¢∫Ë™ç
if (window.EmbeddedApiManager) {
const embeddedConfig = window.EmbeddedApiManager.isApiKeyConfigured();
result.hasEmbeddedApiKey = embeddedConfig.hasEmbeddedApiKey;
result.isEmbeddedAuthenticated = embeddedConfig.isEmbeddedAuthenticated;
if (embeddedConfig.isEmbeddedAuthenticated && !result.hasUserApiKey) {
result.currentSource = 'embedded';
result.priority = 2;
result.totalCount += 1;
}
}
// ÂÑ™ÂÖàÈ†Ü‰ΩçË®≠ÂÆö
if (!result.currentSource) {
result.priority = 0; // Êú™Ë®≠ÂÆö
}
return result;
} catch (error) {
console.error('‚ùå API KeyË®≠ÂÆöÁä∂Ê≥ÅÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return result;
}
}
// =================================================================================
// STORAGE MANAGER OBJECT - StorageManager„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
const StorageManager = {
// API„Ç≠„ÉºÁÆ°ÁêÜÔºàÊã°ÂºµÁâàÔºâ
apiKey: {
save: saveEncryptedApiKey,
load: loadEncryptedApiKey,
clear: clearSavedApiKey,
hasForPassword: hasApiKeyForPassword,
getCount: getSavedApiKeyCount,
// üîê Âüã„ÇÅËæº„ÅøAPI KeyÁµ±ÂêàÊ©üËÉΩ
getWithPriority: getApiKeyWithPriority,
isConfiguredExtended: isApiKeyConfiguredExtended
},
// „Éë„Çπ„ÉØ„Éº„ÉâÁÆ°ÁêÜ
password: {
updateHashList: updatePasswordHashList,
getHashList: getPasswordHashList
},
// „É≠„Ç∞„Ç§„É≥Áä∂ÊÖãÁÆ°ÁêÜ
login: {
save: saveLoginState,
load: loadLoginState,
clear: clearLoginState
},
// „ÉÜ„Éº„ÉûÁä∂ÊÖãÁÆ°ÁêÜ
theme: {
saveInput: saveThemeInputState,
loadInput: loadThemeInputState,
clearInput: clearThemeInputState,
loadSaved: loadSavedTheme
},
// Áü•Ë¶ãË®≠ÂÆöÁÆ°ÁêÜ
knowledge: {
save: saveKnowledgeSettings,
load: loadKnowledgeSettings
},
// „Éá„Éº„ÇøÂæ©Êóß„ÉªÁßªË°å
recovery: {
attemptDataRecovery: attemptDataRecovery,
migrateAllEncryptedData: migrateAllEncryptedData,
isLegacyData: isLegacyEncryptedData
}
};
// =================================================================================
// WINDOW EXPORTS - WindowÁµåÁî±„Åß„ÅÆÂÖ¨Èñã
// =================================================================================
// ÂÄãÂà•Èñ¢Êï∞„ÅÆÂÖ¨Èñã
window.saveEncryptedApiKey = saveEncryptedApiKey;
window.loadEncryptedApiKey = loadEncryptedApiKey;
window.clearSavedApiKey = clearSavedApiKey;
window.updatePasswordHashList = updatePasswordHashList;
window.getPasswordHashList = getPasswordHashList;
window.hasApiKeyForPassword = hasApiKeyForPassword;
window.getSavedApiKeyCount = getSavedApiKeyCount;
window.saveLoginState = saveLoginState;
window.loadLoginState = loadLoginState;
window.clearLoginState = clearLoginState;
window.saveThemeInputState = saveThemeInputState;
window.loadThemeInputState = loadThemeInputState;
window.clearThemeInputState = clearThemeInputState;
window.loadSavedTheme = loadSavedTheme;
window.saveKnowledgeSettings = saveKnowledgeSettings;
window.loadKnowledgeSettings = loadKnowledgeSettings;
// Âæ©ÊóßÈñ¢Êï∞„ÅÆÂÖ¨Èñã
window.attemptDataRecovery = attemptDataRecovery;
window.migrateAllEncryptedData = migrateAllEncryptedData;
window.isLegacyEncryptedData = isLegacyEncryptedData;
// Âüã„ÇÅËæº„ÅøAPI KeyÁµ±ÂêàÈñ¢Êï∞„ÅÆÂÖ¨Èñã
window.getApiKeyWithPriority = getApiKeyWithPriority;
window.isApiKeyConfiguredExtended = isApiKeyConfiguredExtended;
// StorageManager„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÖ¨Èñã
window.StorageManager = StorageManager;
console.log('‚úÖ StorageManagerË™≠„ÅøËæº„ÅøÂÆå‰∫Ü - ÂæåÊñπ‰∫íÊèõÊÄßÂØæÂøúÁâà + Âüã„ÇÅËæº„ÅøAPI KeyÁµ±Âêà');
/* === file-processing.js === */
/**
* Ê∑±Â†Ä„Åè„Çì - „Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* PDF„ÄÅExcel„ÄÅWord„ÄÅPowerPoint„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Å®„ÉÜ„Éº„ÉûÊäΩÂá∫Ê©üËÉΩ
*
* ‰æùÂ≠òÈñ¢‰øÇ:
* - DOMUtils (DOMÊìç‰Ωú)
* - AppState (Áä∂ÊÖãÁÆ°ÁêÜ)
* - showMessage („É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫)
* - evaluate2StepStatus („É≠„Ç∞„Ç§„É≥Áä∂ÊÖãÁ¢∫Ë™ç)
* - returnToLogin (ÁîªÈù¢ÈÅ∑Áßª)
*/
// =================================================================================
// FILE PROCESSING INTERFACE - „Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
// Â§ñÈÉ®‰æùÂ≠òÈñ¢‰øÇ„Å∏„ÅÆ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÔºàÂ∞ÜÊù•ÁöÑ„Å´DI„Å´ÁßªË°åÂèØËÉΩÔºâ
const FileProcessingInterface = {
// DOMÊìç‰Ωú
getDOMElement: (id) => {
if (typeof DOMUtils !== 'undefined' && DOMUtils.get) {
return DOMUtils.get(id);
}
return document.getElementById(id);
},
// Áä∂ÊÖãÁÆ°ÁêÜ
getAPIKey: () => {
if (typeof AppState !== 'undefined') {
return AppState.apiKey;
}
console.warn('AppState not available');
return null;
},
saveExtractedThemes: (themes) => {
if (typeof AppState !== 'undefined') {
AppState.extractedThemes = themes;
return true;
}
console.warn('AppState not available');
return false;
},
saveDocumentContext: (content, filename) => {
if (typeof AppState !== 'undefined') {
AppState.documentContext = content;
AppState.currentDocument = filename;
return true;
}
console.warn('AppState not available');
return false;
},
// „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫Ôºàwindow.showMessageÁµåÁî±„ÅßÁµ±‰∏ÄÔºâ
showMessage: (type, message) => {
if (typeof window.showMessage !== 'undefined') {
window.showMessage(type, message);
} else {
console.log(`[${type}] ${message}`);
}
},
// „É≠„Ç∞„Ç§„É≥Áä∂ÊÖãÁ¢∫Ë™ç
checkLoginStatus: () => {
if (typeof evaluate2StepStatus !== 'undefined') {
return evaluate2StepStatus();
}
return { loginComplete: false, themeComplete: false };
},
// ÁîªÈù¢ÈÅ∑Áßª
navigateToLogin: () => {
if (typeof returnToLogin !== 'undefined') {
returnToLogin();
} else {
console.warn('returnToLogin not available');
}
}
};
// „Ç∞„É≠„Éº„Éê„É´ÂêçÂâçÁ©∫Èñì„Å´ÁôªÈå≤
window.FukaboriFileProcessing = window.FukaboriFileProcessing || {};
// =================================================================================
// FILE SELECTION & HANDLING - „Éï„Ç°„Ç§„É´ÈÅ∏Êäû„ÉªÂá¶ÁêÜ
// =================================================================================
function checkLoginBeforeFileSelect(event) {
const loginStatus = FileProcessingInterface.checkLoginStatus();
if (!loginStatus.loginComplete) {
event.preventDefault();
event.stopPropagation();
alert('„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åã„Çâ„Éï„Ç°„Ç§„É´Ê∑ª‰ªò„Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Äå„Åù„ÅÆ‰ªñË®≠ÂÆö„Äç„Åã„ÇâAPI„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return false;
}
return true;
}
// üéØ „Ç´„Çπ„Çø„É†„Éï„Ç°„Ç§„É´ÂÖ•Âäõ„Éà„É™„Ç¨„Éº
function triggerFileInput() {
console.log('üéØ triggerFileInput „ÅåÂëº„Å≥Âá∫„Åï„Çå„Åæ„Åó„Åü');
const loginStatus = FileProcessingInterface.checkLoginStatus();
console.log('üîê „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã:', loginStatus);
if (!loginStatus.loginComplete) {
console.log('‚ö†Ô∏è Êú™„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÅÆ„Åü„ÇÅ„ÄÅ„Éï„Ç°„Ç§„É´ÈÅ∏Êäû„ÇíÊãíÂê¶');
alert('„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åã„Çâ„Éï„Ç°„Ç§„É´Ê∑ª‰ªò„Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Äå„Åù„ÅÆ‰ªñË®≠ÂÆö„Äç„Åã„ÇâAPI„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
const fileInput = FileProcessingInterface.getDOMElement('themeFileInput');
console.log('üìÅ „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË¶ÅÁ¥†:', fileInput);
console.log('üîí „Éï„Ç°„Ç§„É´ÂÖ•ÂäõÁÑ°ÂäπÁä∂ÊÖã:', fileInput?.disabled);
if (fileInput && !fileInput.disabled) {
console.log('‚úÖ „Éï„Ç°„Ç§„É´ÈÅ∏Êäû„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÈñã„Åç„Åæ„Åô');
fileInput.click();
} else {
console.log('‚ùå „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÅåÁÑ°Âäπ„Åæ„Åü„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}
async function handleThemeFile() {
const fileInput = FileProcessingInterface.getDOMElement('themeFileInput');
const file = fileInput.files[0];
if (!file) {
updateFileInputDisplay();
return;
}
// „Éï„Ç°„Ç§„É´ÈÅ∏ÊäûË°®Á§∫„ÇíÊõ¥Êñ∞
updateFileInputDisplay(file.name);
console.log('üìÑ „Éï„Ç°„Ç§„É´„ÅåÈÅ∏Êäû„Åï„Çå„Åæ„Åó„Åü:', file.name);
try {
// GPT-4o mini„Çí‰ΩøÁî®„Åó„ÅüÂàÜÊûê„ÇíË©¶Ë°å
const analysisResult = await analyzeFileWithGPT(file);
if (analysisResult && analysisResult.themes && analysisResult.themes.length > 0) {
displayThemeSelection(analysisResult);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂæìÊù•„ÅÆ„Éï„Ç°„Ç§„É´Âá¶ÁêÜ
console.log('‚ö†Ô∏è GPTÂàÜÊûê„Å´Â§±Êïó„ÄÅÂæìÊù•„ÅÆÂá¶ÁêÜ„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
await handleTraditionalFileProcessing(file);
}
} catch (error) {
console.error('‚ùå „Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç®„É©„Éº:', error);
showFileErrorModal(error);
}
}
// üé® „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË°®Á§∫Êõ¥Êñ∞
function updateFileInputDisplay(fileName = null) {
const fileInputText = FileProcessingInterface.getDOMElement('fileInputText');
if (!fileInputText) return;
const loginStatus = FileProcessingInterface.checkLoginStatus();
if (!loginStatus.loginComplete) {
fileInputText.textContent = '„É≠„Ç∞„Ç§„É≥ÂæåÊ∑ª‰ªòÂá∫Êù•„Åæ„Åô';
fileInputText.classList.add('placeholder');
} else if (fileName) {
fileInputText.textContent = fileName;
fileInputText.classList.remove('placeholder');
} else {
fileInputText.textContent = 'ÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì';
fileInputText.classList.add('placeholder');
}
}
// üö® „Éï„Ç°„Ç§„É´„Ç®„É©„Éº„É¢„Éº„ÉÄ„É´Ë°®Á§∫
function showFileErrorModal(error) {
let userFriendlyMessage = '„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø‰∏≠„Å´ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ';
// „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂàÜ„Åã„Çä„ÇÑ„Åô„ÅèÂ§âÊèõ
if (error.message.includes('API„Ç≠„Éº')) {
userFriendlyMessage = '„Éï„Ç°„Ç§„É´„ÅÆÂàÜÊûê„Å´„ÅØAPI„Ç≠„Éº„ÅÆË®≠ÂÆö„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ\n„Äå„Åù„ÅÆ‰ªñË®≠ÂÆö„Äç„Åã„ÇâOpenAI API„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (error.message.includes('insufficient_quota')) {
userFriendlyMessage = 'API„ÅÆÂà©Áî®Âà∂Èôê„Å´ÈÅî„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n„Åó„Å∞„Çâ„ÅèÊôÇÈñì„Çí„Åä„ÅÑ„Å¶„Åã„ÇâÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (error.message.includes('rate_limit')) {
userFriendlyMessage = 'API„ÅÆÂà©Áî®Âà∂Èôê„Å´ÈÅî„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÂ∞ë„ÅóÊôÇÈñì„Çí„Åä„ÅÑ„Å¶„Åã„ÇâÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (error.message.includes('PDF')) {
userFriendlyMessage = 'PDF„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøÂèñ„Çä„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\n„Éï„Ç°„Ç§„É´„ÅåÁ†¥Êêç„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (error.message.includes('Excel') || error.message.includes('Word') || error.message.includes('PowerPoint')) {
userFriendlyMessage = '„Éï„Ç°„Ç§„É´„ÅÆÂΩ¢Âºè„ÅåÂØæÂøú„Åó„Å¶„ÅÑ„Å™„ÅÑ„Åã„ÄÅ„Éï„Ç°„Ç§„É´„ÅåÁ†¥Êêç„Åó„Å¶„ÅÑ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\nÂà•„ÅÆÂΩ¢Âºè„Åß‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (error.message.includes('Network') || error.message.includes('fetch')) {
userFriendlyMessage = '„Ç§„É≥„Çø„Éº„Éç„ÉÉ„ÉàÊé•Á∂ö„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\nÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åã„ÇâÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else {
userFriendlyMessage = '„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ‰∏≠„Å´‰∫àÊúü„Åó„Å™„ÅÑÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ\n„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„ÇÑÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
}
// „É¢„Éº„ÉÄ„É´‰ΩúÊàê
const modal = document.createElement('div');
modal.className = 'error-modal';
modal.innerHTML = `
<div class="error-modal-content">
<div class="error-modal-title">
‚ö†Ô∏è „Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç®„É©„Éº
</div>
<div class="error-modal-message">
${userFriendlyMessage.replace(/\n/g, '<br>')}
</div>
<div class="error-modal-actions">
<button class="error-modal-button secondary" onclick="closeFileErrorModal()">
üîÑ ÂÜçË©¶Ë°å
</button>
<button class="error-modal-button" onclick="returnToLoginFromError()">
‚Üê „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çã
</button>
</div>
</div>
`;
document.body.appendChild(modal);
// „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
modal.addEventListener('click', (e) => {
if (e.target === modal) {
closeFileErrorModal();
}
});
}
// üö™ „Ç®„É©„Éº„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
function closeFileErrorModal() {
const modal = document.querySelector('.error-modal');
if (modal) {
modal.remove();
}
// „Éï„Ç°„Ç§„É´ÈÅ∏Êäû„Çí„ÇØ„É™„Ç¢
const fileInput = FileProcessingInterface.getDOMElement('themeFileInput');
if (fileInput) {
fileInput.value = '';
updateFileInputDisplay();
}
}
// üè† „Ç®„É©„Éº„Åã„Çâ„É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çã
function returnToLoginFromError() {
closeFileErrorModal();
FileProcessingInterface.navigateToLogin();
}
async function analyzeFileWithGPT(file) {
console.log('ü§ñ „Éï„Ç°„Ç§„É´ÂàÜÊûê„ÇíÈñãÂßã');
showThemeAnalysisModal();
const fileExtension = file.name.split('.').pop().toLowerCase();
// „Éï„Ç°„Ç§„É´ÂΩ¢Âºè„Å´Âøú„Åò„ÅüÈÄ≤Ë°åÁä∂Ê≥ÅË°®Á§∫
let progressSteps = getProgressStepsForFileType(fileExtension);
updateAnalysisProgress(progressSteps.step1.main, progressSteps.step1.detail);
try {
// „Éï„Ç°„Ç§„É´ÂÜÖÂÆπ„ÇíÊäΩÂá∫
const fileContent = await extractFileContent(file, updateAnalysisProgress);
if (!fileContent || fileContent.trim().length === 0) {
throw new Error('„Éï„Ç°„Ç§„É´ÂÜÖÂÆπ„ÅåË™≠„ÅøÂèñ„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü');
}
updateAnalysisProgress(progressSteps.step2.main, progressSteps.step2.detail);
// GPT-4o mini„Åß„ÉÜ„Éº„ÉûÊäΩÂá∫
const themesResult = await extractThemesWithGPT(fileContent);
updateAnalysisProgress(progressSteps.step3.main, progressSteps.step3.detail);
const analysisResult = {
documentSummary: themesResult.documentSummary,
themes: themesResult.themes,
originalContent: fileContent
};
// AppState„Å´‰øùÂ≠ò
FileProcessingInterface.saveExtractedThemes(analysisResult.themes);
FileProcessingInterface.saveDocumentContext(fileContent, file.name);
console.log('‚úÖ „Éï„Ç°„Ç§„É´ÂàÜÊûêÂÆå‰∫Ü:', analysisResult);
return analysisResult;
} catch (error) {
console.error('‚ùå „Éï„Ç°„Ç§„É´ÂàÜÊûê„Ç®„É©„Éº:', error);
throw error;
}
}
// üÜï „Éï„Ç°„Ç§„É´ÂΩ¢Âºè„Å´Âøú„Åò„ÅüÈÄ≤Ë°åÁä∂Ê≥Å„É°„ÉÉ„Çª„Éº„Ç∏
function getProgressStepsForFileType(fileExtension) {
const commonSteps = {
step2: {
main: 'AI„Åå„Éï„Ç°„Ç§„É´ÂÜÖÂÆπ„ÇíÁêÜËß£„Åó„Å¶„ÅÑ„Åæ„Åô...',
detail: 'ÊñáÁ´†„ÅÆÂÜÖÂÆπ„ÇíÂàÜÊûê‰∏≠„Åß„Åô'
},
step3: {
main: 'Ê∑±Êéò„Çä„ÉÜ„Éº„Éû„Çí‰ΩúÊàê„Åó„Å¶„ÅÑ„Åæ„Åô...',
detail: 'ÊúÄÈÅ©„Å™„ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû‰∏≠„Åß„Åô'
}
};
switch (fileExtension) {
case 'pdf':
return {
step1: {
main: 'PDF„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...',
detail: '„Éö„Éº„Ç∏„Åî„Å®„Å´ÊñáÂ≠ó„ÇíÂèñ„ÇäÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô'
},
...commonSteps
};
case 'xlsx':
case 'xls':
return {
step1: {
main: 'Excel„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...',
detail: '„Ç∑„Éº„Éà„Åî„Å®„Å´„Éá„Éº„Çø„ÇíÂèñ„ÇäÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô'
},
...commonSteps
};
case 'docx':
return {
step1: {
main: 'Word„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...',
detail: 'ÊñáÊõ∏„ÅÆÂÜÖÂÆπ„ÇíÂèñ„ÇäÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô'
},
...commonSteps
};
case 'pptx':
return {
step1: {
main: 'PowerPoint„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...',
detail: '„Çπ„É©„Ç§„Éâ„Åî„Å®„Å´ÊñáÂ≠ó„ÇíÂèñ„ÇäÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô'
},
...commonSteps
};
default:
return {
step1: {
main: '„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...',
detail: '„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç‰∏≠„Åß„Åô'
},
...commonSteps
};
}
}
async function extractFileContent(file, progressCallback) {
return new Promise((resolve, reject) => {
// „Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„ÉÅ„Çß„ÉÉ„ÇØ (10MBÂà∂Èôê)
if (file.size > 10 * 1024 * 1024) {
reject(new Error('„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Åå10MB„ÇíË∂Ö„Åà„Å¶„ÅÑ„Åæ„Åô'));
return;
}
const reader = new FileReader();
const fileExtension = file.name.split('.').pop().toLowerCase();
reader.onload = function(e) {
const content = e.target.result;
try {
if (fileExtension === 'txt' || fileExtension === 'md') {
resolve(content);
} else if (fileExtension === 'csv') {
// CSV „ÅÆÂ†¥Âêà„ÄÅ„Ç´„É≥„ÉûÂå∫Âàá„Çä„Çí„Çø„ÉñÂå∫Âàá„Çä„Å´Â§âÊèõ
const csvContent = content.replace(/,/g, '\t');
resolve(csvContent);
} else if (fileExtension === 'xlsx' || fileExtension === 'xls') {
// üÜï ExcelÂΩ¢Âºè„ÅÆÂá¶ÁêÜ
extractExcelContent(content, fileExtension, progressCallback)
.then(resolve)
.catch(reject);
} else if (fileExtension === 'pdf') {
// üÜï PDFÂΩ¢Âºè„ÅÆÂá¶ÁêÜ
extractPDFContent(content, progressCallback)
.then(resolve)
.catch(reject);
} else if (fileExtension === 'docx' || fileExtension === 'doc') {
// üÜï WordÂΩ¢Âºè„ÅÆÂá¶ÁêÜ
extractWordContent(content, fileExtension, progressCallback)
.then(resolve)
.catch(reject);
} else if (fileExtension === 'pptx' || fileExtension === 'ppt') {
// üÜï PowerPointÂΩ¢Âºè„ÅÆÂá¶ÁêÜ
extractPowerPointContent(content, fileExtension, progressCallback)
.then(resolve)
.catch(reject);
} else {
// „Åù„ÅÆ‰ªñ„ÅÆ„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„ÅÆÂü∫Êú¨ÁöÑ„Å™Âá¶ÁêÜ
resolve(content);
}
} catch (error) {
reject(error);
}
};
reader.onerror = function() {
reject(new Error('„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø„Ç®„É©„Éº'));
};
// „Éï„Ç°„Ç§„É´ÂΩ¢Âºè„Å´Âøú„Åò„ÅüË™≠„ÅøËæº„Åø
if (fileExtension === 'pdf' ||
fileExtension === 'xlsx' || fileExtension === 'xls' ||
fileExtension === 'docx' || fileExtension === 'doc' ||
fileExtension === 'pptx' || fileExtension === 'ppt') {
// „Éê„Ç§„Éä„É™ÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØArrayBuffer„Å®„Åó„Å¶Ë™≠„ÅøËæº„Åø
reader.readAsArrayBuffer(file);
} else {
reader.readAsText(file, 'UTF-8');
}
});
}
// =================================================================================
// EXCEL PROCESSING - ExcelÂá¶ÁêÜ
// =================================================================================
// üÜï ExcelÂΩ¢Âºè„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫Èñ¢Êï∞
async function extractExcelContent(arrayBuffer, fileExtension) {
return new Promise((resolve, reject) => {
try {
// SheetJS„É©„Ç§„Éñ„É©„É™„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof XLSX === 'undefined') {
// SheetJS„É©„Ç§„Éñ„É©„É™„ÇíÂãïÁöÑ„Å´Ë™≠„ÅøËæº„Åø
loadSheetJSLibrary()
.then(() => {
processExcelFile(arrayBuffer, resolve, reject);
})
.catch(() => {
reject(new Error('ExcelÂá¶ÁêÜ„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè„Åß„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
});
} else {
processExcelFile(arrayBuffer, resolve, reject);
}
} catch (error) {
reject(new Error(`ExcelÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`));
}
});
}
// üÜï SheetJS„É©„Ç§„Éñ„É©„É™„ÅÆÂãïÁöÑË™≠„ÅøËæº„Åø
function loadSheetJSLibrary() {
return new Promise((resolve, reject) => {
// Êó¢„Å´Ë™≠„ÅøËæº„ÅøÊ∏à„Åø„ÅÆÂ†¥Âêà
if (typeof XLSX !== 'undefined') {
resolve();
return;
}
const script = document.createElement('script');
script.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
script.onload = () => {
console.log('‚úÖ SheetJS„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
resolve();
};
script.onerror = () => {
console.error('‚ùå SheetJS„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó');
reject();
};
document.head.appendChild(script);
});
}
// üÜï Excel„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ
function processExcelFile(arrayBuffer, resolve, reject) {
try {
// Excel„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Åø
const workbook = XLSX.read(arrayBuffer, { type: 'array' });
// ÂÖ®„Ç∑„Éº„Éà„ÅÆÂÜÖÂÆπ„ÇíÊäΩÂá∫
let extractedContent = '';
workbook.SheetNames.forEach((sheetName, index) => {
const worksheet = workbook.Sheets[sheetName];
// „Ç∑„Éº„ÉàÂêç„ÇíËøΩÂä†
extractedContent += `\n„Äê„Ç∑„Éº„Éà: ${sheetName}„Äë\n`;
// „Ç∑„Éº„Éà„ÇíCSVÂΩ¢Âºè„Å´Â§âÊèõÔºà„Çø„ÉñÂå∫Âàá„ÇäÔºâ
const csvData = XLSX.utils.sheet_to_csv(worksheet, { FS: '\t' });
if (csvData.trim()) {
extractedContent += csvData + '\n';
} else {
extractedContent += 'ÔºàÁ©∫„ÅÆ„Ç∑„Éº„ÉàÔºâ\n';
}
// „Ç∑„Éº„ÉàÈñì„ÅÆÂå∫Âàá„Çä
if (index < workbook.SheetNames.length - 1) {
extractedContent += '\n' + '='.repeat(50) + '\n';
}
});
// „É°„ÇøÊÉÖÂ†±„ÇíËøΩÂä†
const summary = `\n„Äê„Éï„Ç°„Ç§„É´Ê¶ÇË¶Å„Äë\n` +
`„Ç∑„Éº„ÉàÊï∞: ${workbook.SheetNames.length}\n` +
`„Ç∑„Éº„ÉàÂêç: ${workbook.SheetNames.join(', ')}\n` +
`ÊäΩÂá∫Êó•ÊôÇ: ${new Date().toLocaleString()}\n\n`;
const finalContent = summary + extractedContent;
console.log('‚úÖ Excel„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫ÂÆå‰∫Ü', {
sheets: workbook.SheetNames.length,
contentLength: finalContent.length
});
resolve(finalContent);
} catch (error) {
console.error('‚ùå ExcelÂá¶ÁêÜ„Ç®„É©„Éº:', error);
reject(new Error(`Excel„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${error.message}`));
}
}
// =================================================================================
// PDF PROCESSING - PDFÂá¶ÁêÜ
// =================================================================================
// üÜï PDFÂΩ¢Âºè„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫Èñ¢Êï∞
async function extractPDFContent(arrayBuffer, progressCallback) {
return new Promise((resolve, reject) => {
try {
// PDF.js„É©„Ç§„Éñ„É©„É™„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof pdfjsLib === 'undefined') {
if (progressCallback) {
progressCallback('PDF„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...', 'PDFÂá¶ÁêÜÁî®„ÅÆ„Éó„É≠„Ç∞„É©„É†„ÇíÊ∫ñÂÇô‰∏≠„Åß„Åô');
}
// PDF.js„É©„Ç§„Éñ„É©„É™„ÇíÂãïÁöÑ„Å´Ë™≠„ÅøËæº„Åø
loadPDFJSLibrary()
.then(() => {
processPDFFile(arrayBuffer, resolve, reject, progressCallback);
})
.catch(() => {
reject(new Error('PDFÂá¶ÁêÜ„Éó„É≠„Ç∞„É©„É†„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè„Åß„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
});
} else {
processPDFFile(arrayBuffer, resolve, reject, progressCallback);
}
} catch (error) {
reject(new Error(`PDFÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`));
}
});
}
// üÜï PDF.js„É©„Ç§„Éñ„É©„É™„ÅÆÂãïÁöÑË™≠„ÅøËæº„Åø
function loadPDFJSLibrary() {
return new Promise((resolve, reject) => {
// Êó¢„Å´Ë™≠„ÅøËæº„ÅøÊ∏à„Åø„ÅÆÂ†¥Âêà
if (typeof pdfjsLib !== 'undefined') {
resolve();
return;
}
const script = document.createElement('script');
script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';
script.onload = () => {
// PDF.js„ÅÆË®≠ÂÆö
if (typeof pdfjsLib !== 'undefined') {
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
console.log('‚úÖ PDF.js„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
resolve();
} else {
reject();
}
};
script.onerror = () => {
console.error('‚ùå PDF.js„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó');
reject();
};
document.head.appendChild(script);
});
}
// üÜï PDF„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ
async function processPDFFile(arrayBuffer, resolve, reject, progressCallback) {
try {
const pdf = await pdfjsLib.getDocument({
data: arrayBuffer,
// PDF.js„ÅÆË®≠ÂÆö„ÇíÊúÄÈÅ©Âåñ
verbosity: 0,
standardFontDataUrl: 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/',
cMapUrl: 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/cmaps/',
cMapPacked: true
}).promise;
let extractedContent = '';
const totalPages = pdf.numPages;
if (progressCallback) {
progressCallback('PDF„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...', `${totalPages}„Éö„Éº„Ç∏„ÅÆÊñáÂ≠ó„ÇíÂèñ„ÇäÂá∫„Åó‰∏≠„Åß„Åô`);
}
// ÂÖ®„Éö„Éº„Ç∏„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫
for (let pageNum = 1; pageNum <= totalPages; pageNum++) {
try {
if (progressCallback) {
progressCallback('PDF„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„ÅÑ„Åæ„Åô...', `„Éö„Éº„Ç∏ ${pageNum}/${totalPages} „ÇíÂá¶ÁêÜ‰∏≠„Åß„Åô`);
}
const page = await pdf.getPage(pageNum);
const textContent = await page.getTextContent();
extractedContent += `\n„Äê„Éö„Éº„Ç∏ ${pageNum}„Äë\n`;
// „ÉÜ„Ç≠„Çπ„Éà„Ç¢„Ç§„ÉÜ„É†„Çí‰ΩçÁΩÆÊÉÖÂ†±„ÇíËÄÉÊÖÆ„Åó„Å¶ÁµêÂêà
const textItems = textContent.items
.filter(item => item.str && item.str.trim())
.sort((a, b) => {
// YÂ∫ßÊ®ô„Åß„ÇΩ„Éº„ÉàÔºà‰∏ä„Åã„Çâ‰∏ã„Å∏Ôºâ
const yDiff = b.transform[5] - a.transform[5];
if (Math.abs(yDiff) > 5) return yDiff > 0 ? 1 : -1;
// Âêå„ÅòË°å„Å™„Çâ XÂ∫ßÊ®ô„Åß„ÇΩ„Éº„ÉàÔºàÂ∑¶„Åã„ÇâÂè≥„Å∏Ôºâ
return a.transform[4] - b.transform[4];
});
let pageText = '';
let lastY = null;
for (const item of textItems) {
const currentY = item.transform[5];
const text = item.str.trim();
if (text) {
// ÊîπË°åÂà§ÂÆöÔºàYÂ∫ßÊ®ô„ÅåÂ§ß„Åç„ÅèÂ§â„Çè„Å£„ÅüÂ†¥ÂêàÔºâ
if (lastY !== null && Math.abs(currentY - lastY) > 5) {
pageText += '\n';
} else if (pageText && !pageText.endsWith(' ') && !text.startsWith(' ')) {
pageText += ' ';
}
pageText += text;
lastY = currentY;
}
}
// ÊñáÂ≠óÂåñ„Åë„ÉÅ„Çß„ÉÉ„ÇØ
const validTextRatio = calculateValidTextRatio(pageText);
if (pageText && validTextRatio > 0.3) {
// ‰∏çË¶Å„Å™Ë®òÂè∑„ÇÑÊñáÂ≠óÂåñ„Åë„ÇíÈô§Âéª
const cleanedText = cleanPDFText(pageText);
extractedContent += cleanedText + '\n';
} else if (pageText) {
extractedContent += 'Ôºà„Åì„ÅÆ„Éö„Éº„Ç∏„ÅØÊñáÂ≠óÂåñ„Åë„Åó„Å¶„ÅÑ„Çã„Åã„ÄÅË™≠„ÅøÂèñ„Çä„ÅåÂõ∞Èõ£„Åß„ÅôÔºâ\n';
console.warn(`‚ö†Ô∏è „Éö„Éº„Ç∏ ${pageNum}: ÊñáÂ≠óÂåñ„ÅëÁéá„ÅåÈ´ò„ÅÑ (ÊúâÂäπ„ÉÜ„Ç≠„Çπ„ÉàÁéá: ${(validTextRatio * 100).toFixed(1)}%)`);
} else {
// „ÉÜ„Ç≠„Çπ„Éà„Åå„Å™„ÅÑÂ†¥Âêà„ÄÅÁîªÂÉèÂåñPDF„ÅÆÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„ÅÆ„ÅßAI OCR„ÇíË©¶Ë°å
console.log(`üì∑ „Éö„Éº„Ç∏ ${pageNum}: „ÉÜ„Ç≠„Çπ„Éà„Å™„Åó - AI OCR„ÇíË©¶Ë°å`);
try {
if (progressCallback) {
progressCallback('AI OCR„ÇíÂÆüË°å‰∏≠...', `„Éö„Éº„Ç∏ ${pageNum} „ÅÆÁîªÂÉè„ÇíÊñáÂ≠óË™çË≠ò‰∏≠„Åß„Åô`);
}
const ocrResult = await tryAIOCR(page, pageNum);
if (ocrResult && ocrResult.trim()) {
extractedContent += `„ÄêAI OCRÁµêÊûú„Äë\n${ocrResult}\n`;
console.log(`‚úÖ „Éö„Éº„Ç∏ ${pageNum}: AI OCRÊàêÂäü`);
} else {
extractedContent += 'Ôºà„Åì„ÅÆ„Éö„Éº„Ç∏„Å´„ÅØ„ÉÜ„Ç≠„Çπ„Éà„Åå„ÅÇ„Çä„Åæ„Åõ„Çì - AI OCR„Åß„ÇÇÊñáÂ≠ó„ÇíÊ§úÂá∫„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„ÅüÔºâ\n';
console.log(`‚ö†Ô∏è „Éö„Éº„Ç∏ ${pageNum}: AI OCRÂ§±Êïó„Åæ„Åü„ÅØ„ÉÜ„Ç≠„Çπ„Éà„Å™„Åó`);
}
} catch (ocrError) {
console.warn(`‚ö†Ô∏è „Éö„Éº„Ç∏ ${pageNum}: AI OCR„Ç®„É©„Éº:`, ocrError);
// „Ç®„É©„Éº„ÅÆÁ®ÆÈ°û„Å´Âøú„Åò„Å¶ÈÅ©Âàá„Å™„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫
if (ocrError.message.includes('API„Ç≠„Éº')) {
extractedContent += 'Ôºà„Åì„ÅÆ„Éö„Éº„Ç∏„ÅØÁîªÂÉèÂåñ„Åï„Çå„Å¶„Åä„Çä„ÄÅAI OCR„ÇíÂÆüË°å„Åô„Çã„Å´„ÅØAPI„Ç≠„Éº„ÅÆË®≠ÂÆö„ÅåÂøÖË¶Å„Åß„ÅôÔºâ\n';
} else if (ocrError.message.includes('insufficient_quota')) {
extractedContent += 'Ôºà„Åì„ÅÆ„Éö„Éº„Ç∏„ÅØÁîªÂÉèÂåñ„Åï„Çå„Å¶„Åä„Çä„ÄÅAI OCR„ÅÆÂà©Áî®Âà∂Èôê„Å´ÈÅî„Åó„Å¶„ÅÑ„Çã„Åü„ÇÅË™≠„ÅøÂèñ„Çå„Åæ„Åõ„ÇìÔºâ\n';
} else {
extractedContent += 'Ôºà„Åì„ÅÆ„Éö„Éº„Ç∏„ÅØÁîªÂÉèÂåñ„Åï„Çå„Å¶„Åä„Çä„ÄÅAI OCR„Åß„ÅÆË™≠„ÅøÂèñ„Çä„Å´Â§±Êïó„Åó„Åæ„Åó„ÅüÔºâ\n';
}
}
}
// „Éö„Éº„Ç∏Èñì„ÅÆÂå∫Âàá„Çä
if (pageNum < totalPages) {
extractedContent += '\n' + '='.repeat(50) + '\n';
}
} catch (pageError) {
console.warn(`‚ö†Ô∏è „Éö„Éº„Ç∏ ${pageNum} „ÅÆÂá¶ÁêÜ„Åß„Ç®„É©„Éº:`, pageError);
extractedContent += `\n„Äê„Éö„Éº„Ç∏ ${pageNum}„Äë\nÔºà„Åì„ÅÆ„Éö„Éº„Ç∏„ÅØË™≠„ÅøÂèñ„Çå„Åæ„Åõ„Çì„Åß„Åó„ÅüÔºâ\n`;
if (pageNum < totalPages) {
extractedContent += '\n' + '='.repeat(50) + '\n';
}
}
}
// ÂÖ®‰Ωì„ÅÆÊñáÂ≠óÂåñ„Åë„ÉÅ„Çß„ÉÉ„ÇØ
const overallValidRatio = calculateValidTextRatio(extractedContent);
if (overallValidRatio < 0.2) {
console.warn('‚ö†Ô∏è PDFÂÖ®‰Ωì„ÅÆÊñáÂ≠óÂåñ„ÅëÁéá„ÅåÈ´ò„ÅÑ„Åß„Åô');
extractedContent += '\n\n„ÄêÊ≥®ÊÑè„Äë„Åì„ÅÆPDF„Éï„Ç°„Ç§„É´„ÅØÊñáÂ≠óÂåñ„Åë„ÅåÂ§ö„ÅèÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÂèØËÉΩ„Åß„ÅÇ„Çå„Å∞„ÄÅ„ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè„ÇÑWord„Éï„Ç°„Ç§„É´„Åß„ÅÆ‰øùÂ≠ò„Çí„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ';
}
// „É°„ÇøÊÉÖÂ†±„ÇíËøΩÂä†
const summary = `\n„Äê„Éï„Ç°„Ç§„É´Ê¶ÇË¶Å„Äë\n` +
`ÂΩ¢Âºè: PDF\n` +
`„Éö„Éº„Ç∏Êï∞: ${totalPages}\n` +
`ÊñáÂ≠óË™çË≠òÁéá: ${(overallValidRatio * 100).toFixed(1)}%\n` +
`ÊäΩÂá∫Êó•ÊôÇ: ${new Date().toLocaleString()}\n\n`;
const finalContent = summary + extractedContent;
console.log('‚úÖ PDF„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫ÂÆå‰∫Ü', {
pages: totalPages,
contentLength: finalContent.length,
validTextRatio: overallValidRatio
});
resolve(finalContent);
} catch (error) {
console.error('‚ùå PDFÂá¶ÁêÜ„Ç®„É©„Éº:', error);
// „Çà„ÇäË©≥Á¥∞„Å™„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏
let errorMessage = 'PDF„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü';
if (error.message.includes('Invalid PDF')) {
errorMessage = 'PDF„Éï„Ç°„Ç§„É´„ÅåÁ†¥Êêç„Åó„Å¶„ÅÑ„Çã„Åã„ÄÅÂΩ¢Âºè„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì';
} else if (error.message.includes('password')) {
errorMessage = '„Éë„Çπ„ÉØ„Éº„Éâ‰øùË≠∑„Åï„Çå„ÅüPDF„Éï„Ç°„Ç§„É´„ÅØÁèæÂú®„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì';
}
reject(new Error(errorMessage));
}
}
// üÜï PDFÊñáÂ≠óÂåñ„Åë„ÉÅ„Çß„ÉÉ„ÇØÈñ¢Êï∞
function calculateValidTextRatio(text) {
if (!text || text.length === 0) return 0;
// ÊúâÂäπ„Å™ÊñáÂ≠ó„ÅÆ„Éë„Çø„Éº„É≥Ôºà„Å≤„Çâ„Åå„Å™„ÄÅ„Ç´„Çø„Ç´„Éä„ÄÅÊº¢Â≠ó„ÄÅËã±Êï∞Â≠ó„ÄÅ‰∏ÄËà¨ÁöÑ„Å™Ë®òÂè∑Ôºâ
const validChars = text.match(/[„ÅÇ-„Çì„Ç¢-„É≥‰∏Ä-ÈæØa-zA-Z0-9\s\.,!?;:()„Äå„Äç„Äé„Äè„Äê„Äë\-_]/g);
const validCharCount = validChars ? validChars.length : 0;
return validCharCount / text.length;
}
// üÜï PDFÊñáÂ≠ó„ÇØ„É™„Éº„Éã„É≥„Ç∞Èñ¢Êï∞
function cleanPDFText(text) {
return text
// ÈÄ£Á∂ö„Åô„ÇãË®òÂè∑„ÇíÈô§Âéª
.replace(/[^\w\s\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF\.,!?;:()„Äå„Äç„Äé„Äè„Äê„Äë\-_]/g, '')
// ÈÄ£Á∂ö„Åô„ÇãÁ©∫ÁôΩ„Çí1„Å§„Å´
.replace(/\s+/g, ' ')
// ÈÄ£Á∂ö„Åô„ÇãÊîπË°å„Çí2„Å§„Åæ„Åß„Å´Âà∂Èôê
.replace(/\n{3,}/g, '\n\n')
.trim();
}
// üÜï AI OCRÊ©üËÉΩÔºàÁîªÂÉèÂåñPDF„ÅÆÊñáÂ≠óË™çË≠òÔºâ
async function tryAIOCR(page, pageNum) {
try {
// „Éö„Éº„Ç∏„ÇíÁîªÂÉè„Å®„Åó„Å¶ÂèñÂæó
const viewport = page.getViewport({ scale: 2.0 }); // È´òËß£ÂÉèÂ∫¶„ÅßÂèñÂæó
const canvas = document.createElement('canvas');
const context = canvas.getContext('2d');
canvas.height = viewport.height;
canvas.width = viewport.width;
const renderContext = {
canvasContext: context,
viewport: viewport
};
await page.render(renderContext).promise;
// Canvas „Çí Base64 ÁîªÂÉè„Å´Â§âÊèõ
const imageDataUrl = canvas.toDataURL('image/png');
const base64Image = imageDataUrl.split(',')[1];
// OpenAI Vision API„Çí‰ΩøÁî®„Åó„Å¶OCR
const ocrResult = await performAIOCR(base64Image, pageNum);
// Canvas„Çí„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
canvas.remove();
return ocrResult;
} catch (error) {
console.error(`‚ùå AI OCRÂá¶ÁêÜ„Ç®„É©„Éº („Éö„Éº„Ç∏ ${pageNum}):`, error);
throw error;
}
}
// üÜï OpenAI Vision API„ÅßOCRÂÆüË°å
async function performAIOCR(base64Image, pageNum) {
try {
const apiKey = FileProcessingInterface.getAPIKey();
if (!apiKey) {
throw new Error('API„Ç≠„Éº„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
console.log(`üîç „Éö„Éº„Ç∏ ${pageNum}: AI OCRÈñãÂßã (ÁîªÂÉè„Çµ„Ç§„Ç∫: ${Math.round(base64Image.length / 1024)}KB)`);
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Authorization': `Bearer ${apiKey}`
},
body: JSON.stringify({
model: 'gpt-4o-mini',
messages: [
{
role: 'user',
content: [
{
type: 'text',
text: '„Åì„ÅÆÁîªÂÉè„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã„ÉÜ„Ç≠„Çπ„Éà„ÇíÊ≠£Á¢∫„Å´Ë™≠„ÅøÂèñ„Å£„Å¶„ÄÅ„Åù„ÅÆ„Åæ„ÅæÊñáÂ≠óËµ∑„Åì„Åó„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊó•Êú¨Ë™û„ÅÆÊñáÊõ∏„ÅÆÂ†¥Âêà„ÅØÊó•Êú¨Ë™û„Åß„ÄÅËã±Ë™û„ÅÆÊñáÊõ∏„ÅÆÂ†¥Âêà„ÅØËã±Ë™û„ÅßÂá∫Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇË°®„ÇÑ„Ç∞„É©„Éï„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„ÄÅ„Åù„ÅÆÂÜÖÂÆπ„ÇÇÂê´„ÇÅ„Å¶Ë™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇË™≠„ÅøÂèñ„Çå„Å™„ÅÑÈÉ®ÂàÜ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„Äå[Ë™≠„ÅøÂèñ„Çä‰∏çÂèØ]„Äç„Å®Ë®òËºâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
},
{
type: 'image_url',
image_url: {
url: `data:image/png;base64,${base64Image}`,
detail: 'high'
}
}
]
}
],
max_tokens: 3000,
temperature: 0.1
})
});
if (!response.ok) {
const errorText = await response.text();
console.error(`‚ùå AI OCR API„Ç®„É©„ÉºË©≥Á¥∞ („Éö„Éº„Ç∏ ${pageNum}):`, {
status: response.status,
statusText: response.statusText,
body: errorText
});
let errorData;
try {
errorData = JSON.parse(errorText);
} catch (e) {
errorData = { error: { message: errorText } };
}
throw new Error(`API Error: ${response.status} - ${errorData.error?.message || 'Unknown error'}`);
}
const data = await response.json();
const ocrText = data.choices?.[0]?.message?.content;
if (!ocrText || ocrText.trim() === '') {
console.warn(`‚ö†Ô∏è „Éö„Éº„Ç∏ ${pageNum}: AI OCR„ÅßÊñáÂ≠ó„ÇíÊ§úÂá∫„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü`);
return null;
}
console.log(`‚úÖ „Éö„Éº„Ç∏ ${pageNum}: AI OCRÊàêÂäü (${ocrText.length}ÊñáÂ≠ó)`);
return ocrText.trim();
} catch (error) {
console.error(`‚ùå AI OCR API„Ç®„É©„Éº („Éö„Éº„Ç∏ ${pageNum}):`, error);
// „Çà„ÇäË©≥Á¥∞„Å™„Ç®„É©„ÉºÊÉÖÂ†±„Çí„É≠„Ç∞Âá∫Âäõ
if (error.message.includes('insufficient_quota')) {
console.error('üí∞ OpenAI API„ÅÆÂà©Áî®Âà∂Èôê„Å´ÈÅî„Åó„Å¶„ÅÑ„Åæ„Åô');
} else if (error.message.includes('invalid_api_key')) {
console.error('üîë API„Ç≠„Éº„ÅåÁÑ°Âäπ„Åß„Åô');
} else if (error.message.includes('rate_limit')) {
console.error('‚è±Ô∏è API„É¨„Éº„ÉàÂà∂Èôê„Å´ÈÅî„Åó„Å¶„ÅÑ„Åæ„Åô');
}
throw error;
}
}
// =================================================================================
// WORD PROCESSING - WordÂá¶ÁêÜ
// =================================================================================
// üÜï WordÂΩ¢Âºè„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫Èñ¢Êï∞
async function extractWordContent(arrayBuffer, fileExtension) {
return new Promise((resolve, reject) => {
try {
if (fileExtension === 'docx') {
// .docxÂΩ¢Âºè„ÅÆÂá¶ÁêÜ
if (typeof mammoth === 'undefined') {
loadMammothLibrary()
.then(() => {
processWordFile(arrayBuffer, resolve, reject);
})
.catch(() => {
reject(new Error('WordÂá¶ÁêÜ„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè„Åß„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
});
} else {
processWordFile(arrayBuffer, resolve, reject);
}
} else {
// .docÂΩ¢Âºè„ÅØË§áÈõë„Å™„Åü„ÇÅ„ÄÅÂü∫Êú¨ÁöÑ„Å™„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíËøî„Åô
reject(new Error('.docÂΩ¢Âºè„ÅØÁèæÂú®„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ.docxÂΩ¢Âºè„Åß‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
}
} catch (error) {
reject(new Error(`WordÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`));
}
});
}
// üÜï Mammoth„É©„Ç§„Éñ„É©„É™„ÅÆÂãïÁöÑË™≠„ÅøËæº„Åø
function loadMammothLibrary() {
return new Promise((resolve, reject) => {
if (typeof mammoth !== 'undefined') {
resolve();
return;
}
const script = document.createElement('script');
script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js';
script.onload = () => {
console.log('‚úÖ Mammoth„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
resolve();
};
script.onerror = () => {
console.error('‚ùå Mammoth„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó');
reject();
};
document.head.appendChild(script);
});
}
// üÜï Word„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ
async function processWordFile(arrayBuffer, resolve, reject) {
try {
const result = await mammoth.extractRawText({ arrayBuffer: arrayBuffer });
// „É°„ÇøÊÉÖÂ†±„ÇíËøΩÂä†
const summary = `\n„Äê„Éï„Ç°„Ç§„É´Ê¶ÇË¶Å„Äë\n` +
`ÂΩ¢Âºè: Microsoft Word (.docx)\n` +
`ÊñáÂ≠óÊï∞: ${result.value.length}ÊñáÂ≠ó\n` +
`ÊäΩÂá∫Êó•ÊôÇ: ${new Date().toLocaleString()}\n\n`;
const finalContent = summary + '„ÄêÊñáÊõ∏ÂÜÖÂÆπ„Äë\n' + result.value;
// Ë≠¶Âëä„Åå„ÅÇ„Çå„Å∞Ë°®Á§∫
if (result.messages && result.messages.length > 0) {
console.warn('‚ö†Ô∏è WordÂá¶ÁêÜ„ÅÆË≠¶Âëä:', result.messages);
}
console.log('‚úÖ Word„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫ÂÆå‰∫Ü', {
contentLength: result.value.length,
warnings: result.messages?.length || 0
});
resolve(finalContent);
} catch (error) {
console.error('‚ùå WordÂá¶ÁêÜ„Ç®„É©„Éº:', error);
reject(new Error(`Word„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${error.message}`));
}
}
// =================================================================================
// POWERPOINT PROCESSING - PowerPointÂá¶ÁêÜ
// =================================================================================
// üÜï PowerPointÂΩ¢Âºè„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫Èñ¢Êï∞
async function extractPowerPointContent(arrayBuffer, fileExtension) {
return new Promise((resolve, reject) => {
try {
if (fileExtension === 'pptx') {
// .pptxÂΩ¢Âºè„ÅÆÂá¶ÁêÜÔºàJSZip„Çí‰ΩøÁî®Ôºâ
if (typeof JSZip === 'undefined') {
loadJSZipLibrary()
.then(() => {
processPowerPointFile(arrayBuffer, resolve, reject);
})
.catch(() => {
reject(new Error('PowerPointÂá¶ÁêÜ„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÉÜ„Ç≠„Çπ„ÉàÂΩ¢Âºè„Åß„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
});
} else {
processPowerPointFile(arrayBuffer, resolve, reject);
}
} else {
// .pptÂΩ¢Âºè„ÅØË§áÈõë„Å™„Åü„ÇÅ„ÄÅÂü∫Êú¨ÁöÑ„Å™„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíËøî„Åô
reject(new Error('.pptÂΩ¢Âºè„ÅØÁèæÂú®„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ.pptxÂΩ¢Âºè„Åß‰øùÂ≠ò„ÅóÁõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'));
}
} catch (error) {
reject(new Error(`PowerPointÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`));
}
});
}
// üÜï JSZip„É©„Ç§„Éñ„É©„É™„ÅÆÂãïÁöÑË™≠„ÅøËæº„Åø
function loadJSZipLibrary() {
return new Promise((resolve, reject) => {
if (typeof JSZip !== 'undefined') {
resolve();
return;
}
const script = document.createElement('script');
script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
script.onload = () => {
console.log('‚úÖ JSZip„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
resolve();
};
script.onerror = () => {
console.error('‚ùå JSZip„É©„Ç§„Éñ„É©„É™„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó');
reject();
};
document.head.appendChild(script);
});
}
// üÜï PowerPoint„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ
async function processPowerPointFile(arrayBuffer, resolve, reject) {
try {
const zip = await JSZip.loadAsync(arrayBuffer);
let extractedContent = '';
let slideCount = 0;
// „Çπ„É©„Ç§„Éâ„Éï„Ç°„Ç§„É´„ÇíÊ§úÁ¥¢„ÉªÂá¶ÁêÜ
const slidePromises = [];
zip.folder('ppt/slides').forEach((relativePath, file) => {
if (relativePath.match(/slide\d+\.xml$/)) {
slideCount++;
slidePromises.push(
file.async('text').then(content => {
const slideNumber = relativePath.match(/slide(\d+)\.xml$/)[1];
const textContent = extractTextFromSlideXML(content);
return { slideNumber: parseInt(slideNumber), content: textContent };
})
);
}
});
const slides = await Promise.all(slidePromises);
// „Çπ„É©„Ç§„ÉâÁï™Âè∑È†Ü„Å´„ÇΩ„Éº„Éà
slides.sort((a, b) => a.slideNumber - b.slideNumber);
// ÂÜÖÂÆπ„ÇíÁµêÂêà
slides.forEach((slide, index) => {
extractedContent += `\n„Äê„Çπ„É©„Ç§„Éâ ${slide.slideNumber}„Äë\n`;
if (slide.content.trim()) {
extractedContent += slide.content + '\n';
} else {
extractedContent += 'Ôºà„ÉÜ„Ç≠„Çπ„Éà„Å™„ÅóÔºâ\n';
}
// „Çπ„É©„Ç§„ÉâÈñì„ÅÆÂå∫Âàá„Çä
if (index < slides.length - 1) {
extractedContent += '\n' + '='.repeat(50) + '\n';
}
});
// „É°„ÇøÊÉÖÂ†±„ÇíËøΩÂä†
const summary = `\n„Äê„Éï„Ç°„Ç§„É´Ê¶ÇË¶Å„Äë\n` +
`ÂΩ¢Âºè: Microsoft PowerPoint (.pptx)\n` +
`„Çπ„É©„Ç§„ÉâÊï∞: ${slideCount}\n` +
`ÊäΩÂá∫Êó•ÊôÇ: ${new Date().toLocaleString()}\n\n`;
const finalContent = summary + extractedContent;
console.log('‚úÖ PowerPoint„Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπÊäΩÂá∫ÂÆå‰∫Ü', {
slides: slideCount,
contentLength: finalContent.length
});
resolve(finalContent);
} catch (error) {
console.error('‚ùå PowerPointÂá¶ÁêÜ„Ç®„É©„Éº:', error);
reject(new Error(`PowerPoint„Éï„Ç°„Ç§„É´„ÅÆÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${error.message}`));
}
}
// üÜï PowerPoint„Çπ„É©„Ç§„ÉâXML„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫
function extractTextFromSlideXML(xmlContent) {
try {
// XML„Éë„Éº„Çµ„Éº„Çí‰ΩøÁî®„Åó„Å¶„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫
const parser = new DOMParser();
const xmlDoc = parser.parseFromString(xmlContent, 'text/xml');
// „ÉÜ„Ç≠„Çπ„ÉàË¶ÅÁ¥†Ôºà<a:t>„Çø„Ç∞Ôºâ„ÇíÂÖ®„Å¶ÂèñÂæó
const textElements = xmlDoc.getElementsByTagName('a:t');
const textArray = [];
for (let i = 0; i < textElements.length; i++) {
const text = textElements[i].textContent.trim();
if (text) {
textArray.push(text);
}
}
return textArray.join(' ');
} catch (error) {
console.error('‚ùå „Çπ„É©„Ç§„ÉâXMLËß£Êûê„Ç®„É©„Éº:', error);
return 'Ôºà„ÉÜ„Ç≠„Çπ„ÉàÊäΩÂá∫„Ç®„É©„ÉºÔºâ';
}
}
// =================================================================================
// THEME EXTRACTION - „ÉÜ„Éº„ÉûÊäΩÂá∫
// =================================================================================
async function extractThemesWithGPT(content) {
const apiKey = FileProcessingInterface.getAPIKey();
if (!apiKey) {
throw new Error('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
try {
const prompt = window.AI_PROMPTS?.THEME_EXTRACTION ?
window.AI_PROMPTS.THEME_EXTRACTION + content :
`‰ª•‰∏ã„ÅÆÊñáÊõ∏„Åã„Çâ„ÄÅÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„Å´ÈÅ©„Åó„Åü„ÉÜ„Éº„Éû„ÇíÊäΩÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
ÊñáÊõ∏ÂÜÖÂÆπ:
${content}
‰ª•‰∏ã„ÅÆJSONÂΩ¢Âºè„ÅßÂõûÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑ:
{
"documentSummary": "ÊñáÊõ∏„ÅÆÊ¶ÇË¶ÅÔºà200ÊñáÂ≠óÁ®ãÂ∫¶Ôºâ",
"themes": [
{
"title": "„ÉÜ„Éº„Éû„Çø„Ç§„Éà„É´",
"priority": "high/medium/low",
"description": "„ÉÜ„Éº„Éû„ÅÆË™¨ÊòéÔºà100ÊñáÂ≠óÁ®ãÂ∫¶Ôºâ",
"keyPoints": ["„Éù„Ç§„É≥„Éà1", "„Éù„Ç§„É≥„Éà2"]
}
]
}`;
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Authorization': `Bearer ${apiKey}`
},
body: JSON.stringify({
model: 'gpt-4o-mini', // ChatGPT 4o mini
messages: [
{ role: 'user', content: prompt }
],
max_tokens: 2000,
temperature: 0.7
})
});
if (!response.ok) {
throw new Error(`API Error: ${response.status}`);
}
const data = await response.json();
const responseText = data.choices[0].message.content;
// JSONËß£Êûê„ÇíË©¶Ë°å
try {
const jsonMatch = responseText.match(/\{[\s\S]*\}/);
if (jsonMatch) {
const result = JSON.parse(jsonMatch[0]);
// prompts.js „ÅÆÊßãÈÄ†„Å´Âêà„Çè„Åõ„Å¶Â§âÊèõ
if (result.themes && result.document_summary) {
return {
documentSummary: result.document_summary,
themes: result.themes.map(theme => ({
title: theme.title,
priority: theme.priority,
description: theme.description,
keyPoints: theme.key_points || []
}))
};
} else {
return result;
}
} else {
throw new Error('JSONÂΩ¢Âºè„Åß„Å™„ÅÑÂøúÁ≠î');
}
} catch (parseError) {
console.error('JSONËß£Êûê„Ç®„É©„Éº:', parseError);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Âü∫Êú¨ÁöÑ„Å™„ÉÜ„Éº„ÉûÁîüÊàê
return {
documentSummary: "ÊñáÊõ∏„ÅåÊ≠£Â∏∏„Å´Ë™≠„ÅøËæº„Åæ„Çå„Åæ„Åó„Åü„ÄÇË©≥Á¥∞„Å™ÂàÜÊûê„ÇíË°å„ÅÑ„ÄÅÈÅ©Âàá„Å™„ÉÜ„Éº„Éû„ÇíÊäΩÂá∫„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ",
themes: [{
title: "ÊñáÊõ∏„ÅÆÂÜÖÂÆπ„Å´„Å§„ÅÑ„Å¶",
priority: "high",
description: "„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åï„Çå„ÅüÊñáÊõ∏„ÅÆÂÜÖÂÆπ„Çí‰∏≠ÂøÉ„Å®„Åó„ÅüÊ∑±Êéò„Çä",
keyPoints: ["ÊñáÊõ∏„ÅÆ‰∏ªË¶Å„Éù„Ç§„É≥„Éà", "ÂÖ∑‰ΩìÁöÑ„Å™ÁµåÈ®ì„ÇÑÁü•Ë¶ã"]
}]
};
}
} catch (error) {
console.error('‚ùå GPT„ÉÜ„Éº„ÉûÊäΩÂá∫„Ç®„É©„Éº:', error);
throw error;
}
}
async function handleTraditionalFileProcessing(file) {
try {
const content = await extractFileContent(file);
const currentTheme = `„Äå${file.name}„Äç„Å´Èñ¢„Åô„ÇãÂÜÖÂÆπ„Å´„Å§„ÅÑ„Å¶`;
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁµåÁî±„ÅßÁä∂ÊÖã„Çí‰øùÂ≠ò
FileProcessingInterface.saveDocumentContext(content, file.name);
// AppState„ÅåÂà©Áî®ÂèØËÉΩ„Å™Â†¥Âêà„ÅØÁõ¥Êé•Êõ¥Êñ∞
if (typeof AppState !== 'undefined') {
AppState.currentTheme = currentTheme;
}
const themeInput = FileProcessingInterface.getDOMElement('themeInput');
if (themeInput) {
themeInput.value = currentTheme;
// üîÑ „Éï„Ç°„Ç§„É´Ëá™ÂãïÂÖ•ÂäõÊôÇ„ÅÆÁä∂ÊÖãÁÆ°ÁêÜÈÄ£Êê∫
if (typeof saveThemeInputState !== 'undefined') {
saveThemeInputState(currentTheme);
}
if (typeof update2StepUI !== 'undefined') {
update2StepUI();
}
}
console.log('‚úÖ ÂæìÊù•„ÅÆ„Éï„Ç°„Ç§„É´Âá¶ÁêÜÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÂæìÊù•„ÅÆ„Éï„Ç°„Ç§„É´Âá¶ÁêÜ„Ç®„É©„Éº:', error);
FileProcessingInterface.showMessage('error', '„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
}
// =================================================================================
// THEME SELECTION MODAL FUNCTIONS - „ÉÜ„Éº„ÉûÈÅ∏Êäû„É¢„Éº„ÉÄ„É´Ê©üËÉΩ
// =================================================================================
function showThemeAnalysisModal() {
const modal = FileProcessingInterface.getDOMElement('themeSelectionModal');
const progressDiv = FileProcessingInterface.getDOMElement('analysisProgress');
const contentDiv = FileProcessingInterface.getDOMElement('themeSelectionContent');
const themeModalTitle = FileProcessingInterface.getDOMElement('themeModalTitle');
const themeModalCloseBtn = FileProcessingInterface.getDOMElement('themeModalCloseBtn');
if (modal) {
modal.classList.remove('hidden');
if (progressDiv) progressDiv.classList.remove('hidden');
if (contentDiv) contentDiv.classList.add('hidden');
// ÂàùÊúüË°®Á§∫ÊôÇ„ÅØ„Çø„Ç§„Éà„É´„Å®„Éú„Çø„É≥„ÇíË°®Á§∫Áä∂ÊÖã„Å´Ë®≠ÂÆö
if (themeModalTitle) themeModalTitle.textContent = 'üìã „ÉÜ„Éº„ÉûÊäΩÂá∫‰∏≠';
if (themeModalCloseBtn) {
themeModalCloseBtn.textContent = '‚úï ‰∏≠Ê≠¢';
themeModalCloseBtn.style.display = 'block'; // Âá¶ÁêÜ‰∏≠„ÅØ‰∏≠Ê≠¢„Éú„Çø„É≥„ÇíË°®Á§∫
}
}
}
function updateAnalysisProgress(mainText, detailText) {
const progressText = FileProcessingInterface.getDOMElement('progressText');
const progressDetail = FileProcessingInterface.getDOMElement('progressDetail');
const themeModalTitle = FileProcessingInterface.getDOMElement('themeModalTitle');
const themeModalCloseBtn = FileProcessingInterface.getDOMElement('themeModalCloseBtn');
if (progressText) progressText.textContent = mainText;
if (progressDetail) progressDetail.textContent = detailText;
// „Çø„Ç§„Éà„É´„Å®„Éú„Çø„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÁä∂Ê≥Å„Å´Âøú„Åò„Å¶Â§âÊõ¥
if (themeModalTitle && themeModalCloseBtn) {
if (mainText.includes('„ÉÜ„Éº„ÉûÊäΩÂá∫‰∏≠') || mainText.includes('AIÂ≠¶ÁøíÁî®„Éá„Éº„ÇøÁîüÊàê‰∏≠')) {
themeModalTitle.textContent = 'üìã „ÉÜ„Éº„ÉûÊäΩÂá∫‰∏≠';
themeModalCloseBtn.textContent = '‚úï ‰∏≠Ê≠¢';
} else if (mainText.includes('„ÉÜ„Éº„ÉûÂ≠¶Áøí‰∏≠') || mainText.includes('ÁêÜËß£‰∏≠')) {
themeModalTitle.textContent = 'üìã „ÉÜ„Éº„ÉûÂ≠¶Áøí‰∏≠';
themeModalCloseBtn.textContent = '‚úï ‰∏≠Ê≠¢';
} else if (mainText.includes('Âá¶ÁêÜ‰∏≠')) {
themeModalTitle.textContent = 'üìã „ÉÜ„Éº„ÉûÂ≠¶Áøí‰∏≠';
themeModalCloseBtn.textContent = '‚úï ‰∏≠Ê≠¢';
}
}
}
function displayThemeSelection(analysisResult) {
const progressDiv = FileProcessingInterface.getDOMElement('analysisProgress');
const contentDiv = FileProcessingInterface.getDOMElement('themeSelectionContent');
const summaryText = FileProcessingInterface.getDOMElement('documentSummaryText');
const themeList = FileProcessingInterface.getDOMElement('themeList');
const themeModalTitle = FileProcessingInterface.getDOMElement('themeModalTitle');
const themeModalCloseBtn = FileProcessingInterface.getDOMElement('themeModalCloseBtn');
if (progressDiv) progressDiv.classList.add('hidden');
if (contentDiv) contentDiv.classList.remove('hidden');
// „Çø„Ç§„Éà„É´„Å®„Éú„Çø„É≥„Çí„ÉÜ„Éº„ÉûÈÅ∏ÊäûÁîªÈù¢Áî®„Å´Êàª„Åô
if (themeModalTitle) themeModalTitle.textContent = 'üìã „ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ';
if (themeModalCloseBtn) {
themeModalCloseBtn.textContent = '‚úï Èñâ„Åò„Çã';
themeModalCloseBtn.style.display = 'none'; // 2.pngÁî®„Å´Èñâ„Åò„Çã„Éú„Çø„É≥„ÇíÈùûË°®Á§∫
}
// ÊñáÊõ∏Ë¶ÅÁ¥ÑË°®Á§∫
if (summaryText) {
summaryText.textContent = analysisResult.documentSummary || 'ÊñáÊõ∏„ÅÆËß£Êûê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇ';
}
// „ÉÜ„Éº„Éû„É™„Çπ„ÉàÁîüÊàê
if (themeList) {
themeList.innerHTML = '';
analysisResult.themes.forEach((theme, index) => {
const themeItem = createThemeItem(theme, index, false); // „Éá„Éï„Ç©„É´„Éà„ÅßÈùûÈÅ∏ÊäûÁä∂ÊÖã
themeList.appendChild(themeItem);
});
// ÂÖ®„Å¶ÈùûÈÅ∏ÊäûÁä∂ÊÖã„Å´Ë®≠ÂÆö
if (typeof AppState !== 'undefined') {
AppState.selectedThemes = [];
AppState.currentTheme = '';
}
updateSelectedCount();
const themeInput = FileProcessingInterface.getDOMElement('themeInput');
if (themeInput) {
themeInput.value = '';
// üîÑ „Éï„Ç°„Ç§„É´Ëá™ÂãïÂÖ•ÂäõÊôÇ„ÅÆÁä∂ÊÖãÁÆ°ÁêÜÈÄ£Êê∫
if (typeof saveThemeInputState !== 'undefined') {
saveThemeInputState('');
}
if (typeof update2StepUI !== 'undefined') {
update2StepUI();
}
}
console.log('‚úÖ „ÉÜ„Éº„ÉûÈÅ∏Êäû„É¢„Éº„ÉÄ„É´„ÇíË°®Á§∫„Åó„Åæ„Åó„ÅüÔºà„Éá„Éï„Ç©„É´„ÉàÔºöÊú™ÈÅ∏ÊäûÔºâ');
}
}
function createThemeItem(theme, index, selected = false) {
const themeItem = document.createElement('div');
themeItem.className = 'theme-item';
const priorityEmoji = theme.priority === 'high' ? 'üî•' : theme.priority === 'medium' ? '‚≠ê' : 'üí°';
themeItem.innerHTML = `
<div class="theme-checkbox-container">
<input type="checkbox" id="theme-${index}" class="theme-checkbox"
${selected ? 'checked' : ''} onchange="toggleThemeSelection(${index})">
<label for="theme-${index}" class="theme-content">
<div class="theme-header">
<span class="theme-priority">${priorityEmoji}</span>
<span class="theme-title">${theme.title}</span>
</div>
<div class="theme-description">${theme.description}</div>
${theme.keyPoints ? `
<div class="theme-points">
${theme.keyPoints.map(point => `<span class="theme-point">‚Ä¢ ${point}</span>`).join('')}
</div>
` : ''}
</label>
</div>
`;
return themeItem;
}
function toggleThemeSelection(index) {
const checkbox = FileProcessingInterface.getDOMElement(`theme-${index}`);
if (checkbox && typeof AppState !== 'undefined') {
if (checkbox.checked) {
if (!AppState.selectedThemes.includes(index)) {
AppState.selectedThemes.push(index);
}
} else {
AppState.selectedThemes = AppState.selectedThemes.filter(i => i !== index);
}
updateSelectedCount();
}
}
function selectAllThemes() {
const checkboxes = document.querySelectorAll('.theme-checkbox');
if (typeof AppState !== 'undefined') {
AppState.selectedThemes = [];
checkboxes.forEach((checkbox, index) => {
checkbox.checked = true;
AppState.selectedThemes.push(index);
});
}
updateSelectedCount();
}
function deselectAllThemes() {
const checkboxes = document.querySelectorAll('.theme-checkbox');
if (typeof AppState !== 'undefined') {
AppState.selectedThemes = [];
}
checkboxes.forEach(checkbox => {
checkbox.checked = false;
});
updateSelectedCount();
}
function updateSelectedCount() {
const countElement = FileProcessingInterface.getDOMElement('selectedCount');
const guidanceElement = FileProcessingInterface.getDOMElement('selectionGuidance');
const floatingCompleteBtn = FileProcessingInterface.getDOMElement('floatingCompleteBtn');
if (countElement && typeof AppState !== 'undefined') {
const count = AppState.selectedThemes ? AppState.selectedThemes.length : 0;
countElement.textContent = `${count}‰ª∂„ÅÆ„ÉÜ„Éº„Éû„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åô`;
// „É™„Ç¢„É´„Çø„Ç§„É†Ë™òÂ∞é„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊõ¥Êñ∞
if (guidanceElement) {
if (count === 0) {
guidanceElement.textContent = '‚¨áÔ∏è ‰∏ãË®ò„Åã„Çâ„ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ';
guidanceElement.style.color = 'var(--text-secondary)';
} else if (count === 1) {
guidanceElement.textContent = '‚¨áÔ∏è ‰ªñ„ÅÆ„ÉÜ„Éº„Éû„ÇÇÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ';
guidanceElement.style.color = 'var(--text-secondary)';
} else {
guidanceElement.textContent = '‚úÖ Ë§áÊï∞„ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû‰∏≠„Åß„Åô';
guidanceElement.style.color = '#4caf50';
}
}
// „Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞Á¢∫Ë™ç„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
if (floatingCompleteBtn) {
if (count > 0) {
floatingCompleteBtn.disabled = false;
floatingCompleteBtn.style.opacity = '1';
floatingCompleteBtn.style.pointerEvents = 'auto';
floatingCompleteBtn.textContent = 'ÈÅ∏ÊäûÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç';
} else {
floatingCompleteBtn.disabled = true;
floatingCompleteBtn.style.opacity = '0.5';
floatingCompleteBtn.style.pointerEvents = 'none';
floatingCompleteBtn.textContent = 'ÈÅ∏ÊäûÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç';
}
}
}
}
// ‰∏äÈÉ®„Éú„Çø„É≥: ÈÅ∏ÊäûÂÜÖÂÆπÁ¢∫Ë™ç„ÅÆ„Åü„ÇÅ„ÅÆ„Çπ„ÇØ„É≠„Éº„É´
function scrollToConfirmation() {
if (typeof AppState === 'undefined' || !AppState.selectedThemes || AppState.selectedThemes.length === 0) {
FileProcessingInterface.showMessage('error', 'Â∞ë„Å™„Åè„Å®„ÇÇ1„Å§„ÅÆ„ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// ÈÅ∏Êäû„Åï„Çå„Åü„ÉÜ„Éº„Éû„ÅÆË©≥Á¥∞„Çí‰øùÂ≠òÔºàË°®Á§∫Áî®Ôºâ
AppState.selectedThemeDetails = AppState.selectedThemes.map(index =>
AppState.extractedThemes[index]
);
// „ÉÜ„Éº„Éû„Çø„Ç§„Éà„É´„ÇíÁµêÂêà„Åó„Å¶„É°„Ç§„É≥„ÉÜ„Éº„Éû„Å®„Åó„Å¶Ë®≠ÂÆö
const selectedTitles = AppState.selectedThemeDetails.map(theme => theme.title);
AppState.currentTheme = selectedTitles.join('„ÄÅ');
// „ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„Å´ÂèçÊò†Ôºà„Éó„É¨„Éì„É•„ÉºË°®Á§∫Ôºâ
const themeInput = FileProcessingInterface.getDOMElement('themeInput');
if (themeInput) {
themeInput.value = AppState.currentTheme;
if (typeof saveThemeInputState !== 'undefined') {
saveThemeInputState(AppState.currentTheme);
}
if (typeof update2StepUI !== 'undefined') {
update2StepUI();
}
}
// ‰∏ãÈÉ®„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥„Ç®„É™„Ç¢„Å´„Çπ„É†„Éº„Ç∫„Çπ„ÇØ„É≠„Éº„É´
const actionsElement = document.querySelector('.theme-selection-actions');
if (actionsElement) {
actionsElement.scrollIntoView({
behavior: 'smooth',
block: 'center'
});
// „Çπ„ÇØ„É≠„Éº„É´Âæå„Å´„ÄåÈÅ∏Êäû„Åó„Åü„ÉÜ„Éº„Éû„ÅßÈñãÂßã„Äç„Éú„Çø„É≥„ÇíÂº∑Ë™øË°®Á§∫
setTimeout(() => {
const confirmBtn = FileProcessingInterface.getDOMElement('confirmThemeBtn');
if (confirmBtn) {
confirmBtn.style.animation = 'pulse 1s ease-in-out 3';
confirmBtn.focus();
}
}, 800);
}
console.log('‚úÖ ÈÅ∏ÊäûÂÜÖÂÆπÁ¢∫Ë™çÂÆå‰∫Ü - ‰∏ãÈÉ®„ÅßÊúÄÁµÇÂÆüË°åÂæÖ„Å°');
}
// ‰∏ãÈÉ®„Éú„Çø„É≥: ÂÆüÈöõ„ÅÆÂ≠¶ÁøíÂá¶ÁêÜÈñãÂßã
async function confirmThemeSelection() {
if (typeof AppState === 'undefined' || !AppState.selectedThemes || AppState.selectedThemes.length === 0) {
FileProcessingInterface.showMessage('error', 'Â∞ë„Å™„Åè„Å®„ÇÇ1„Å§„ÅÆ„ÉÜ„Éº„Éû„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// ÈÅ∏Êäû„Åï„Çå„Åü„ÉÜ„Éº„Éû„ÅÆË©≥Á¥∞„Çí‰øùÂ≠ò
AppState.selectedThemeDetails = AppState.selectedThemes.map(index =>
AppState.extractedThemes[index]
);
// „ÉÜ„Éº„Éû„Çø„Ç§„Éà„É´„ÇíÁµêÂêà„Åó„Å¶„É°„Ç§„É≥„ÉÜ„Éº„Éû„Å®„Åó„Å¶Ë®≠ÂÆö
const selectedTitles = AppState.selectedThemeDetails.map(theme => theme.title);
AppState.currentTheme = selectedTitles.join('„ÄÅ');
// „ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„Å´ÂèçÊò†
const themeInput = FileProcessingInterface.getDOMElement('themeInput');
if (themeInput) {
themeInput.value = AppState.currentTheme;
// üîÑ „Éï„Ç°„Ç§„É´Ëá™ÂãïÂÖ•ÂäõÊôÇ„ÅÆÁä∂ÊÖãÁÆ°ÁêÜÈÄ£Êê∫
if (typeof saveThemeInputState !== 'undefined') {
saveThemeInputState(AppState.currentTheme);
}
if (typeof update2StepUI !== 'undefined') {
update2StepUI();
}
}
// Âá¶ÁêÜ‰∏≠Ë°®Á§∫„Å´Âàá„ÇäÊõø„Åà
const progressDiv = FileProcessingInterface.getDOMElement('analysisProgress');
const contentDiv = FileProcessingInterface.getDOMElement('themeSelectionContent');
if (contentDiv) contentDiv.classList.add('hidden');
if (progressDiv) progressDiv.classList.remove('hidden');
updateAnalysisProgress('ÈÅ∏Êäû„Åï„Çå„Åü„ÉÜ„Éº„Éû„ÇíÂá¶ÁêÜ‰∏≠...', 'Â≠¶Áøí„Éá„Éº„Çø„ÇíÊ∫ñÂÇô„Åó„Å¶„ÅÑ„Åæ„Åô...');
// „ÉÜ„Éº„Éû„Çµ„Éû„É™„ÉºÁîüÊàê (GPT-4o mini„Çí‰ΩøÁî®)
try {
updateAnalysisProgress('AIÂ≠¶ÁøíÁî®„Éá„Éº„Çø„ÇíÁîüÊàê‰∏≠...', `${AppState.selectedThemeDetails.length}ÂÄã„ÅÆ„ÉÜ„Éº„Éû„ÇíÂá¶ÁêÜ‰∏≠...`);
// „ÉÜ„Éº„Éû„Çµ„Éû„É™„ÉºÁîüÊàê„Çí‰∏¶ÂàóÂá¶ÁêÜ„ÅßÈ´òÈÄüÂåñ
AppState.themeSummaries = {};
const summaryPromises = AppState.selectedThemeDetails.map(async (theme, index) => {
updateAnalysisProgress(
'AIÂ≠¶ÁøíÁî®„Éá„Éº„Çø„ÇíÁîüÊàê‰∏≠...',
`„ÉÜ„Éº„Éû ${index + 1}/${AppState.selectedThemeDetails.length}: ${theme.title}`
);
const summary = await generateThemeSummary(theme, AppState.documentContext);
return { title: theme.title, summary };
});
const summaryResults = await Promise.all(summaryPromises);
summaryResults.forEach(({ title, summary }) => {
AppState.themeSummaries[title] = summary;
});
updateAnalysisProgress('Âá¶ÁêÜÂÆå‰∫ÜÔºÅ', '„ÉÜ„Éº„Éû„ÅÆÊ∫ñÂÇô„ÅåÊï¥„ÅÑ„Åæ„Åó„Åü');
// ÂÆå‰∫ÜÊôÇ„Å´„ÅØ„Éú„Çø„É≥„Çí‰∏≠Ê≠¢„Åã„ÇâÈñâ„Åò„Çã„Å´Â§âÊõ¥
const themeModalCloseBtn = FileProcessingInterface.getDOMElement('themeModalCloseBtn');
if (themeModalCloseBtn) {
themeModalCloseBtn.textContent = '‚úï Èñâ„Åò„Çã';
}
console.log('‚úÖ „ÉÜ„Éº„ÉûÈÅ∏Êäû„Å®Â≠¶ÁøíÊ∫ñÂÇôÂÆå‰∫Ü');
// Â∞ë„ÅóÈñì„ÇíÁΩÆ„ÅÑ„Å¶„Åã„Çâ„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
setTimeout(() => {
closeThemeSelection();
}, 1000);
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„Éû„Çµ„Éû„É™„ÉºÁîüÊàê„Ç®„É©„Éº:', error);
updateAnalysisProgress('„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü', 'Âü∫Êú¨ÁöÑ„Å™Âá¶ÁêÜ„ÅßÁ∂öË°å„Åó„Åæ„Åô...');
// „Ç®„É©„ÉºÊôÇ„Å´„ÇÇ„Éú„Çø„É≥„ÇíÈñâ„Åò„Çã„Å´Â§âÊõ¥
const themeModalCloseBtn = FileProcessingInterface.getDOMElement('themeModalCloseBtn');
if (themeModalCloseBtn) {
themeModalCloseBtn.textContent = '‚úï Èñâ„Åò„Çã';
}
// „Ç®„É©„Éº„Åå„ÅÇ„Å£„Å¶„ÇÇÂü∫Êú¨ÊÉÖÂ†±„ÅØË®≠ÂÆö
setTimeout(() => {
closeThemeSelection();
}, 2000);
}
}
async function generateThemeSummary(theme, documentContent) {
const apiKey = FileProcessingInterface.getAPIKey();
if (!apiKey) return '';
try {
// „ÉÜ„Éº„Éû„ÅåÈï∑„ÅÑÂ†¥Âêà„ÅØÁü≠Á∏ÆÁâà„Éó„É≠„É≥„Éó„Éà„Çí‰ΩøÁî®
const isLongTheme = theme.title.length > 50 || (theme.description && theme.description.length > 100);
const prompt = isLongTheme ?
`„ÉÜ„Éº„Éû„Äå${theme.title}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅÊñáÊõ∏„Åã„Çâ500ÊñáÂ≠óÁ®ãÂ∫¶„ÅÆÁ∞°ÊΩî„Å™Ë¶ÅÁ¥Ñ„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„Å´ÂøÖË¶Å„Å™Ê†∏ÂøÉÁöÑ„Éù„Ç§„É≥„Éà„ÅÆ„Åø„ÇíÂê´„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
ÊñáÊõ∏ÂÜÖÂÆπ:
${documentContent.substring(0, 2000)}...` :
window.AI_PROMPTS?.THEME_SUMMARY ?
window.AI_PROMPTS.THEME_SUMMARY(theme, documentContent) :
`‰ª•‰∏ã„ÅÆ„ÉÜ„Éº„Éû„Å´„Å§„ÅÑ„Å¶„ÄÅÊñáÊõ∏ÂÜÖÂÆπ„ÇíÂèÇËÄÉ„Å´Ë©≥Á¥∞„Å™Ë¶ÅÁ¥Ñ„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà1000ÊñáÂ≠óÁ®ãÂ∫¶ÔºâÔºö
„ÉÜ„Éº„Éû: ${theme.title}
Ë™¨Êòé: ${theme.description}
ÊñáÊõ∏ÂÜÖÂÆπ:
${documentContent}
Ê∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„ÅßAI„ÅåÂèÇËÄÉ„Å´„Åß„Åç„Çã„Çà„ÅÜ„ÄÅÂÖ∑‰ΩìÁöÑ„ÅßË©≥Á¥∞„Å™ÊÉÖÂ†±„ÇíÂê´„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Authorization': `Bearer ${apiKey}`
},
body: JSON.stringify({
model: 'gpt-4o-mini',
messages: [{ role: 'user', content: prompt }],
max_tokens: isLongTheme ? 800 : 1500, // Èï∑„ÅÑ„ÉÜ„Éº„Éû„ÅØÁü≠„Åè
temperature: 0.5 // „Çà„ÇäÁ∞°ÊΩî„Å´
})
});
if (response.ok) {
const data = await response.json();
return data.choices[0].message.content;
}
} catch (error) {
console.error('„ÉÜ„Éº„Éû„Çµ„Éû„É™„ÉºÁîüÊàê„Ç®„É©„Éº:', error);
}
return `${theme.title}: ${theme.description}`;
}
// ‰∏≠Ê≠¢„Éú„Çø„É≥: „ÉÜ„Éº„ÉûÈÅ∏Êäû„Çí„Ç≠„É£„É≥„Çª„É´
function cancelThemeSelection() {
// „É¶„Éº„Ç∂„Éº„Å´Á¢∫Ë™ç„ÇíÊ±Ç„ÇÅ„Çã
if (typeof AppState !== 'undefined' && AppState.selectedThemes && AppState.selectedThemes.length > 0) {
const isConfirmed = confirm('ÈÅ∏Êäû„Åó„Åü„ÉÜ„Éº„Éû„Åå„ÇØ„É™„Ç¢„Åï„Çå„Åæ„Åô„ÄÇÊú¨ÂΩì„Å´‰∏≠Ê≠¢„Åó„Åæ„Åô„ÅãÔºü');
if (!isConfirmed) {
return;
}
}
// ÈÅ∏ÊäûÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢
if (typeof AppState !== 'undefined') {
AppState.selectedThemes = [];
AppState.selectedThemeDetails = [];
AppState.currentTheme = '';
}
// „ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„Çí„ÇØ„É™„Ç¢
const themeInput = FileProcessingInterface.getDOMElement('themeInput');
if (themeInput) {
themeInput.value = '';
if (typeof saveThemeInputState !== 'undefined') {
saveThemeInputState('');
}
if (typeof update2StepUI !== 'undefined') {
update2StepUI();
}
}
// „É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
closeThemeSelection();
console.log('‚úÖ „ÉÜ„Éº„ÉûÈÅ∏Êäû„Çí‰∏≠Ê≠¢„Åó„Åæ„Åó„Åü');
}
function closeThemeSelection() {
const modal = FileProcessingInterface.getDOMElement('themeSelectionModal');
if (modal) {
modal.classList.add('hidden');
}
}
// =================================================================================
// EXPORTS - „Ç®„ÇØ„Çπ„Éù„Éº„Éà
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂêçÂâçÁ©∫Èñì„Å´ÂÖ¨Èñã
window.FukaboriFileProcessing = {
// „Éï„Ç°„Ç§„É´Âá¶ÁêÜ
checkLoginBeforeFileSelect,
triggerFileInput,
handleThemeFile,
updateFileInputDisplay,
// „Ç®„É©„ÉºÂá¶ÁêÜ
showFileErrorModal,
closeFileErrorModal,
returnToLoginFromError,
// „Éï„Ç°„Ç§„É´ÂàÜÊûê
analyzeFileWithGPT,
extractFileContent,
extractThemesWithGPT,
handleTraditionalFileProcessing,
// „ÉÜ„Éº„ÉûÈÅ∏ÊäûUI
showThemeAnalysisModal,
updateAnalysisProgress,
displayThemeSelection,
createThemeItem,
toggleThemeSelection,
selectAllThemes,
deselectAllThemes,
updateSelectedCount,
scrollToConfirmation,
confirmThemeSelection,
generateThemeSummary,
cancelThemeSelection,
closeThemeSelection,
// „Éï„Ç°„Ç§„É´ÂΩ¢ÂºèÂà•Âá¶ÁêÜ
extractExcelContent,
extractPDFContent,
extractWordContent,
extractPowerPointContent
};
// Êó¢Â≠ò„ÅÆÈñ¢Êï∞Âêç„Åß„ÇÇ„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ„Å´„Åô„ÇãÔºàÂæåÊñπ‰∫íÊèõÊÄßÔºâ
window.checkLoginBeforeFileSelect = checkLoginBeforeFileSelect;
window.triggerFileInput = triggerFileInput;
window.handleThemeFile = handleThemeFile;
window.updateFileInputDisplay = updateFileInputDisplay;
window.showFileErrorModal = showFileErrorModal;
window.closeFileErrorModal = closeFileErrorModal;
window.returnToLoginFromError = returnToLoginFromError;
window.analyzeFileWithGPT = analyzeFileWithGPT;
window.extractFileContent = extractFileContent;
window.extractThemesWithGPT = extractThemesWithGPT;
window.handleTraditionalFileProcessing = handleTraditionalFileProcessing;
window.showThemeAnalysisModal = showThemeAnalysisModal;
window.updateAnalysisProgress = updateAnalysisProgress;
window.displayThemeSelection = displayThemeSelection;
window.createThemeItem = createThemeItem;
window.toggleThemeSelection = toggleThemeSelection;
window.selectAllThemes = selectAllThemes;
window.deselectAllThemes = deselectAllThemes;
window.updateSelectedCount = updateSelectedCount;
window.scrollToConfirmation = scrollToConfirmation;
window.confirmThemeSelection = confirmThemeSelection;
window.generateThemeSummary = generateThemeSummary;
window.cancelThemeSelection = cancelThemeSelection;
window.closeThemeSelection = closeThemeSelection;
window.extractExcelContent = extractExcelContent;
window.extractPDFContent = extractPDFContent;
window.extractWordContent = extractWordContent;
window.extractPowerPointContent = extractPowerPointContent;
/* === knowledge-system.js === */
// =================================================================================
// Ê∑±Â†Ä„Åè„Çì - Knowledge System v1.0
// Phase C-2-1: Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàÜÈõ¢„É¢„Ç∏„É•„Éº„É´
// =================================================================================
/**
* Knowledge System - Áü•Ë¶ãÁÆ°ÁêÜÂ∞ÇÁî®„Ç∑„Çπ„ÉÜ„É†
*
* „ÄêË≤¨‰ªªÁØÑÂõ≤„Äë
* - Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜÔºàFukaboriKnowledgeDatabaseÔºâ
* - CSVÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàCategoryManager„ÄÅUserManagerÔºâ
* - Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜÔºàKnowledgeFileManager - script.js„ÅßÂÆöÁæ©Ôºâ
* - ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
* - Áü•Ë¶ãÊ∞∏Á∂öÂåñ„ÉªAIÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É†
*
* „ÄêË®≠Ë®àÂéüÂâá„Äë
* - ÂÆåÂÖ®Áã¨Á´ãÊÄßÔºö‰ªñ„É¢„Ç∏„É•„Éº„É´„Å´Èùû‰æùÂ≠ò
* - ÂæåÊñπ‰∫íÊèõÊÄßÔºöÊó¢Â≠òAPI 100%Á∂≠ÊåÅ
* - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Ôºö„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩÂÆåÂÇô
* - „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÊäΩË±°ÂåñÔºö„ÉÜ„Çπ„Éà„Éª„É¢„ÉÉ„ÇØÂåñÂØæÂøú
*/
// =================================================================================
// GLOBAL STATE INITIALIZATION - „Ç∞„É≠„Éº„Éê„É´Áä∂ÊÖãÂàùÊúüÂåñ
// =================================================================================
// KnowledgeState„ÅÆÂàùÊúüÂåñÔºàscript.js„Å®„ÅÆË™øÊï¥Ê∏à„ÅøÔºâ
if (typeof window.KnowledgeState === 'undefined') {
window.KnowledgeState = {
currentSession: null,
categories: [],
users: [],
insights: [],
qualityThreshold: 0.7,
isInitialized: false
};
}
// =================================================================================
// KNOWLEDGE PERSISTENCE SYSTEM - Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üß¨ ÂÖ®Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ
const FukaboriKnowledgeDatabase = {
// LocalStorage„Åã„ÇâÁü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíË™≠„ÅøËæº„Åø
load() {
try {
const saved = localStorage.getItem('fukabori_knowledge_database');
if (!saved) {
return {
sessions: [],
totalSessions: 0,
totalInsights: 0,
lastUpdate: new Date().toISOString()
};
}
const data = JSON.parse(saved);
console.log(`üìã Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø: ${data.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥, ${data.totalInsights}Áü•Ë¶ã`);
return data;
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return {
sessions: [],
totalSessions: 0,
totalInsights: 0,
lastUpdate: new Date().toISOString()
};
}
},
// LocalStorage„Å´Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ„Çí‰øùÂ≠ò
save(database) {
try {
database.lastUpdate = new Date().toISOString();
localStorage.setItem('fukabori_knowledge_database', JSON.stringify(database));
console.log(`üíæ Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠òÂÆå‰∫Ü: ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥, ${database.totalInsights}Áü•Ë¶ã`);
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
},
// ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ã„ÇíÊ∞∏Á∂öÂåñ„Éá„Éº„Çø„Éô„Éº„Çπ„Å´ËøΩÂä†
addSession(sessionData) {
try {
const database = this.load();
// „Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±„ÅÆÊßãÁØâ
const sessionRecord = {
sessionId: `session_${this.formatTimestamp(new Date())}`,
date: new Date().toISOString().split('T')[0],
theme: sessionData.theme || '„ÉÜ„Éº„ÉûÊú™Ë®≠ÂÆö',
participant: '„É¶„Éº„Ç∂„Éº',
insights: sessionData.insights || [],
metadata: {
startTime: sessionData.startTime,
endTime: new Date().toISOString(),
totalInsights: (sessionData.insights || []).length,
category: 'Ê±éÁî®',
sessionDuration: sessionData.startTime ?
Math.round((new Date() - new Date(sessionData.startTime)) / 1000 / 60) : 0
}
};
// „Éá„Éº„Çø„Éô„Éº„Çπ„Å´ËøΩÂä†
database.sessions.unshift(sessionRecord); // Êñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂÖàÈ†≠„Å´
database.totalSessions = database.sessions.length;
database.totalInsights = database.sessions.reduce((total, session) =>
total + session.insights.length, 0);
this.save(database);
console.log(`‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ã„ÇíÊ∞∏Á∂öÂåñ: ${sessionRecord.metadata.totalInsights}Áü•Ë¶ã`);
if (window.showMessage) {
window.showMessage('success', `üíæ ${sessionRecord.metadata.totalInsights}‰ª∂„ÅÆÁü•Ë¶ã„ÇíÊ∞∏Á∂ö‰øùÂ≠ò„Åó„Åæ„Åó„Åü`);
}
return sessionRecord;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ãËøΩÂä†„Ç®„É©„Éº:', error);
return null;
}
},
formatTimestamp(date) {
return date.toISOString().replace(/[:.]/g, '-').slice(0, 19);
}
};
// =================================================================================
// CSV DATA MANAGEMENT - CSV„Éá„Éº„ÇøÁÆ°ÁêÜ
// =================================================================================
// üìÅ CSVÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const CSVManager = {
// CSV„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø
async loadCSV(filename) {
try {
const response = await fetch(`config/${filename}`);
if (!response.ok) {
throw new Error(`CSVË™≠„ÅøËæº„ÅøÂ§±Êïó: ${filename}`);
}
const csvText = await response.text();
return this.parseCSV(csvText);
} catch (error) {
console.log(`üìÅ CSVË™≠„ÅøËæº„Åø„Ç®„É©„Éº (${filename}) - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø„Çí‰ΩøÁî®:`, error);
return this.getFallbackData(filename);
}
},
// CSVËß£Êûê
parseCSV(csvText) {
const lines = csvText.trim().split('\n');
const headers = lines[0].split(',').map(h => h.trim());
return lines.slice(1).map(line => {
const values = line.split(',').map(v => v.trim());
const obj = {};
headers.forEach((header, index) => {
obj[header] = values[index] || '';
});
return obj;
});
},
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø
getFallbackData(filename) {
if (filename === 'categories.csv') {
return [
{ category_name: 'Âñ∂Ê•≠ÊâãÊ≥ï', category_description: 'Âñ∂Ê•≠„ÉªÈ°ßÂÆ¢ÂØæÂøú„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' },
{ category_name: '„Ç≥„Éü„É•„Éã„Ç±', category_description: '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÉªÂØæ‰∫∫Èñ¢‰øÇ', is_active: 'true' },
{ category_name: 'ÊäÄË°ìÁÆ°ÁêÜ', category_description: 'ÊäÄË°ì„ÉªÈñãÁô∫ÁÆ°ÁêÜ„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' },
{ category_name: 'ÁµÑÁπîÈÅãÂñ∂', category_description: 'ÁµÑÁπî„Éª„ÉÅ„Éº„É†ÈÅãÂñ∂„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' }
];
} else if (filename === 'user_names.csv') {
return [
{ nickname: 'admin', formal_name: 'ÁÆ°ÁêÜËÄÖ', department: '„Ç∑„Çπ„ÉÜ„É†', role: 'ÁÆ°ÁêÜËÄÖ', is_active: 'true' }
];
}
return [];
}
};
// =================================================================================
// CATEGORY MANAGEMENT - „Ç´„ÉÜ„Ç¥„É™„ÉºÁÆ°ÁêÜ
// =================================================================================
// üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„ÉºÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const CategoryManager = {
// „Ç´„ÉÜ„Ç¥„É™„Éº‰∏ÄË¶ß„ÅÆË™≠„ÅøËæº„Åø
async loadCategories() {
try {
const categories = await CSVManager.loadCSV('categories.csv');
window.KnowledgeState.categories = categories.filter(cat => cat.is_active === 'true');
console.log('‚úÖ „Ç´„ÉÜ„Ç¥„É™„ÉºË™≠„ÅøËæº„ÅøÂÆå‰∫Ü:', window.KnowledgeState.categories.length, '‰ª∂');
return window.KnowledgeState.categories;
} catch (error) {
console.error('‚ùå „Ç´„ÉÜ„Ç¥„É™„ÉºË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return [];
}
},
// „Ç´„ÉÜ„Ç¥„É™„ÉºÂêç„ÅÆÊ§úË®º
validateCategory(categoryName) {
return window.KnowledgeState.categories.some(cat => cat.category_name === categoryName);
},
// „Ç´„ÉÜ„Ç¥„É™„ÉºÈÅ∏ÊäûUIÔºà„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇÔºâ
async promptCategorySelection() {
const categories = window.KnowledgeState.categories;
if (categories.length === 0) {
return '‰∏ÄËà¨';
}
// Á∞°ÊòìÁöÑ„Å™ÈÅ∏ÊäûÔºàÂæå„ÅßUI„ÇíÊîπËâØÔºâ
const categoryNames = categories.map(cat => cat.category_name);
return categoryNames[0]; // Êö´ÂÆöÁöÑ„Å´ÊúÄÂàù„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„ÇíËøî„Åô
}
};
// =================================================================================
// USER MANAGEMENT - „É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ
// =================================================================================
// üë§ „É¶„Éº„Ç∂„ÉºÂêçÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const UserManager = {
// „É¶„Éº„Ç∂„Éº‰∏ÄË¶ß„ÅÆË™≠„ÅøËæº„Åø
async loadUsers() {
try {
const users = await CSVManager.loadCSV('user_names.csv');
window.KnowledgeState.users = users.filter(user => user.is_active === 'true');
console.log('‚úÖ „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßË™≠„ÅøËæº„ÅøÂÆå‰∫Ü:', window.KnowledgeState.users.length, '‰ª∂');
return window.KnowledgeState.users;
} catch (error) {
console.error('‚ùå „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return [];
}
},
// „Éã„ÉÉ„ÇØ„Éç„Éº„É†„Åã„Çâ„É¶„Éº„Ç∂„Éº„Çí„Éû„ÉÉ„ÉÅ„É≥„Ç∞
matchUser(nickname) {
const matches = window.KnowledgeState.users.filter(user =>
user.nickname.toLowerCase() === nickname.toLowerCase()
);
return matches.length > 0 ? matches[0] : null;
},
// „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„Éó„É≠„É≥„Éó„Éà
async confirmUser(nickname) {
const match = this.matchUser(nickname);
if (match) {
const confirmed = confirm(
`${match.formal_name}„Åï„ÇìÔºà${match.department}„Éª${match.role}Ôºâ„Åß„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü`
);
return confirmed ? match : null;
}
// Êñ∞Ë¶è„É¶„Éº„Ç∂„Éº„ÅÆÂ†¥Âêà
const createNew = confirm(
`„Äå${nickname}„Äç„Åï„Çì„ÅØÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ\nÊñ∞Ë¶è„É¶„Éº„Ç∂„Éº„Å®„Åó„Å¶Ë®òÈå≤„Åó„Åæ„Åô„ÅãÔºü`
);
if (createNew) {
return {
nickname: nickname,
formal_name: nickname,
department: 'Êú™Ë®≠ÂÆö',
role: 'Êú™Ë®≠ÂÆö',
is_new: true
};
}
return null;
}
};
// =================================================================================
// KNOWLEDGE FILE MANAGEMENT SYSTEM - Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üìÑ Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Ôºàscript.js„Å´Áµ±ÂêàÊ∏à„ÅøÔºâ
// KnowledgeFileManager„ÅØscript.js„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô
// =================================================================================
// ALL KNOWLEDGE DOWNLOAD FUNCTIONS - ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
// =================================================================================
// üß¨ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩÔºàFileManager„Å´ÁßªË≠≤Ôºâ
async function downloadAllKnowledge() {
console.warn('‚ö†Ô∏è downloadAllKnowledge „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇFileManager.downloadAllKnowledge „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// FileManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.FileManager) {
try {
return await window.FileManager.downloadAllKnowledge();
} catch (error) {
console.error('‚ùå FileManager.downloadAllKnowledgeÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàFileManagerÊú™‰ΩøÁî®ÊôÇÔºâ
console.log('üß¨ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÈñãÂßã');
try {
const database = FukaboriKnowledgeDatabase.load();
if (database.totalInsights === 0) {
if (window.showMessage) {
window.showMessage('info', '‰øùÂ≠ò„Åï„Çå„ÅüÁü•Ë¶ã„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂÆå‰∫Ü„Åó„Å¶Áü•Ë¶ã„ÇíËìÑÁ©ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
return;
}
// „Éó„É≠„Ç∞„É¨„ÇπË°®Á§∫
if (window.showMessage) {
window.showMessage('info', `üîÑ ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥ÂàÜ„ÅÆÂÖ®Áü•Ë¶ã„ÇíÊï¥ÁêÜ‰∏≠...`);
}
// ÂÖ®Áü•Ë¶ã„ÇíÁµ±Âêà
const allInsights = [];
database.sessions.forEach(session => {
session.insights.forEach(insight => {
allInsights.push({
...insight,
sessionInfo: {
date: session.date,
theme: session.theme,
sessionId: session.sessionId
}
});
});
});
// Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„ÇíÊ¥ªÁî®„Åó„Å¶AIÊï¥ÁêÜ
const enhancedDatabase = await enhanceAllKnowledgeWithAI(database, allInsights);
// „Éï„Ç°„Ç§„É´ÁîüÊàê
const fileContent = buildAllKnowledgeFileContent(enhancedDatabase, allInsights);
const timestamp = FukaboriKnowledgeDatabase.formatTimestamp(new Date());
const filename = `ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ_KnowledgeDNA_${timestamp}.md`;
if (window.downloadTextFile) {
window.downloadTextFile(fileContent, filename);
} else {
console.error('‚ùå downloadTextFileÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
if (window.showMessage) {
window.showMessage('success', `üéâ ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„Äå${filename}„Äç„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ`);
}
console.log('‚úÖ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
if (window.showMessage) {
window.showMessage('error', 'ÂÖ®Áü•Ë¶ã„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');
}
}
}
// AIÊï¥ÁêÜ„Å´„Çà„ÇãÂÖ®Áü•Ë¶ã„ÅÆÊã°ÂºµÂá¶ÁêÜ
async function enhanceAllKnowledgeWithAI(database, allInsights) {
if (allInsights.length === 0) return database;
try {
// Áü•Ë¶ã„ÅåÂ§öÊï∞„ÅÆÂ†¥Âêà„ÅØÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Å¶„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÁ¢∫‰øù
if (allInsights.length > 10) {
console.log('üí° Áü•Ë¶ãÊï∞„ÅåÂ§ö„ÅÑ„Åü„ÇÅ„ÄÅAIÊï¥ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åô');
return database;
}
console.log('üß¨ ÂÖ®Áü•Ë¶ã„ÅÆAIÊï¥ÁêÜ„ÇíÈñãÂßã...');
if (window.showMessage) {
window.showMessage('info', 'üîÑ ÂÖ®Áü•Ë¶ã„ÇíAI„ÅßÂàÜÊûê„ÉªÊï¥ÁêÜ‰∏≠...');
}
// ‰ª£Ë°®ÁöÑ„Å™Áü•Ë¶ã„ÅÆ„ÅøAIÂá¶ÁêÜÔºà„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπËÄÉÊÖÆÔºâ
const sampleInsights = allInsights.slice(0, 5);
for (let i = 0; i < sampleInsights.length; i++) {
const insight = sampleInsights[i];
if (!insight.enhanced_content) {
// AIManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager && window.AIManager.isInitialized) {
try {
const enhanced = await window.AIManager.rewriteInsightForClarity(
insight.content,
insight.sessionInfo
);
insight.enhanced_content = enhanced?.enhanced || insight.content;
insight.summary = enhanced?.summary || 'Ë¶ÅÁ¥ÑÁîüÊàê‰∏≠...';
} catch (error) {
console.error('‚ùå AIÊï¥ÁêÜ„Ç®„É©„Éº:', error);
insight.enhanced_content = insight.content;
insight.summary = 'AIÊï¥ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åó„Åü';
}
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
insight.enhanced_content = insight.content;
insight.summary = 'AIÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì';
}
}
}
console.log('‚úÖ ÂÖ®Áü•Ë¶ãAIÊï¥ÁêÜÂÆå‰∫Ü');
return database;
} catch (error) {
console.error('‚ùå ÂÖ®Áü•Ë¶ãAIÊï¥ÁêÜ„Ç®„É©„Éº:', error);
return database;
}
}
// ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâ
function buildAllKnowledgeFileContent(database, allInsights) {
console.warn('‚ö†Ô∏è buildAllKnowledgeFileContent „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇFileManager.buildAllKnowledgeFileContent „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// FileManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.FileManager) {
try {
return window.FileManager.buildAllKnowledgeFileContent(database, allInsights);
} catch (error) {
console.error('‚ùå FileManager.buildAllKnowledgeFileContentÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàFileManagerÊú™‰ΩøÁî®ÊôÇÔºâ
const timestamp = new Date().toLocaleString('ja-JP');
let content = '';
// ÂÖ®‰Ωì„É°„Çø„Éá„Éº„Çø„Çª„ÇØ„Ç∑„Éß„É≥
content += '---\n';
content += '# ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„É°„Çø„Éá„Éº„Çø\n';
content += `archive_meta:\n`;
content += ` archive_id: "fukabori_all_knowledge_${new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)}"\n`;
content += ` generated_date: "${new Date().toISOString()}"\n`;
content += ` total_sessions: ${database.totalSessions}\n`;
content += ` total_insights: ${database.totalInsights}\n`;
content += ` data_period: "${database.sessions.length > 0 ?
`${database.sessions[database.sessions.length - 1].date} ÔΩû ${database.sessions[0].date}` : 'Êú™Ë®òÈå≤'}"\n`;
content += ` knowledge_dna_version: "1.0"\n`;
content += ` format_version: "comprehensive_archive_v1.0"\n`;
content += '\n';
content += '# „Ç¢„Éº„Ç´„Ç§„ÉñÊ¶ÇË¶Å\n';
content += `summary:\n`;
content += ` overview: "Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅßËìÑÁ©ç„Åó„ÅüÂÖ®Áü•Ë¶ã„ÅÆÂåÖÊã¨ÁöÑ„Ç¢„Éº„Ç´„Ç§„Éñ"\n`;
content += ` sessions_included: ${database.totalSessions}\n`;
content += ` insights_included: ${database.totalInsights}\n`;
content += ` ai_enhanced: true\n`;
content += ` cross_session_analysis: true\n`;
content += '\n';
content += '---\n\n';
// „Çø„Ç§„Éà„É´
content += `# üß¨ Ê∑±Â†Ä„Åè„ÇìÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ - Knowledge DNA\n\n`;
content += `> Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅßËìÑÁ©ç„Åó„ÅüÂÖ®Áü•Ë¶ã„ÅÆÂåÖÊã¨ÁöÑ„Ç¢„Éº„Ç´„Ç§„Éñ\n\n`;
content += `**üìä „Ç¢„Éº„Ç´„Ç§„ÉñÁµ±Ë®à**\n`;
content += `- Á∑è„Çª„ÉÉ„Ç∑„Éß„É≥Êï∞: ${database.totalSessions}\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${database.totalInsights}\n`;
content += `- ÁîüÊàêÊó•ÊôÇ: ${timestamp}\n`;
content += `- „Éá„Éº„ÇøÊúüÈñì: ${database.sessions.length > 0 ?
`${database.sessions[database.sessions.length - 1].date} ÔΩû ${database.sessions[0].date}` : 'Êú™Ë®òÈå≤'}\n`;
content += `- Knowledge DNAÁâà: v1.0\n\n`;
content += `---\n\n`;
// ÂêÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆË©≥Á¥∞
database.sessions.forEach((session, sessionIndex) => {
if (session.insights.length === 0) return;
content += `## üéØ „Çª„ÉÉ„Ç∑„Éß„É≥ ${sessionIndex + 1}: ${session.theme}\n\n`;
content += '```yaml\n';
content += `session_meta:\n`;
content += ` session_id: "${session.sessionId}"\n`;
content += ` date: "${session.date}"\n`;
content += ` theme: "${session.theme}"\n`;
content += ` participant: "${session.participant}"\n`;
content += ` insights_count: ${session.insights.length}\n`;
content += ` session_duration: ${session.metadata.sessionDuration}ÂàÜ\n`;
content += ` category: "${session.metadata.category}"\n`;
content += '```\n\n';
session.insights.forEach((insight, index) => {
content += `### üìò Áü•Ë¶ã ${index + 1}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ„ÇíË°®Á§∫ÔºàÂà©Áî®ÂèØËÉΩ„Å™Â†¥ÂêàÔºâ
if (insight.enhanced_content && insight.dna_enhanced) {
content += `**üìù AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ**\n`;
let enhancedText = insight.enhanced_content;
if (typeof enhancedText === 'string' && enhancedText.startsWith('{')) {
try {
const parsed = JSON.parse(enhancedText);
if (parsed.enhanced) {
enhancedText = parsed.enhanced;
}
} catch (e) {
console.warn('Enhanced content JSONËß£ÊûêÂ§±Êïó:', e);
}
}
content += `${enhancedText}\n\n`;
if (insight.summary && insight.summary !== 'Ë¶ÅÁ¥ÑÁîüÊàê‰∏≠...' && insight.summary !== 'AIÊï¥ÁêÜÊ∏à„Åø') {
content += `**üìã Ë¶ÅÁ¥Ñ**\n`;
content += `${insight.summary}\n\n`;
}
if (insight.background && insight.background.trim()) {
content += `**üîç ËÉåÊôØ„ÉªÂâçÊèê**\n`;
content += `${insight.background}\n\n`;
}
if (insight.actionable_points && insight.actionable_points.length > 0) {
content += `**üí° ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà**\n`;
insight.actionable_points.forEach(point => {
content += `- ${point}\n`;
});
content += `\n`;
}
if (insight.keywords && insight.keywords.length > 0) {
content += `**üè∑Ô∏è „Ç≠„Éº„ÉØ„Éº„Éâ**\n`;
content += `${insight.keywords.join(', ')}\n\n`;
}
if (insight.related_concepts && insight.related_concepts.length > 0) {
content += `**üîó Èñ¢ÈÄ£Ê¶ÇÂøµ**\n`;
content += `${insight.related_concepts.join(', ')}\n\n`;
}
} else {
// ÂæìÊù•„ÅÆË°®Á§∫ÂΩ¢Âºè
content += `**üìù ÂÜÖÂÆπ**\n`;
content += `${insight.content}\n\n`;
if (insight.context) {
content += `**üîç ËÉåÊôØ„ÉªÁä∂Ê≥Å**\n`;
content += `${insight.context.situation || 'Ë©≥Á¥∞„Å™ËÉåÊôØÊÉÖÂ†±„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô'}\n\n`;
}
}
// Knowledge DNAÊÉÖÂ†±
content += `**üß¨ Knowledge DNA**\n`;
content += `- üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„Éº: ${session.metadata.category}\n`;
if (insight.categories && insight.categories.length > 0) {
content += `- üéØ AIÂàÜÊûê„Ç´„ÉÜ„Ç¥„É™„Éº: ${insight.categories.join(', ')}\n`;
}
content += `- ‚≠ê ÈáçË¶ÅÂ∫¶: ${insight.quality_scores?.importance ? Math.round(insight.quality_scores.importance * 100) : 50}%\n`;
content += `- üéØ ‰ø°È†ºÂ∫¶: ${insight.quality_scores?.confidence ? Math.round(insight.quality_scores.confidence * 100) : 50}%\n`;
content += `- üîó „Çª„ÉÉ„Ç∑„Éß„É≥ID: ${session.sessionId}\n`;
content += `- üìÖ ÊäΩÂá∫Êó•ÊôÇ: ${insight.timestamp}\n`;
content += `- ü§ñ AIÊï¥ÁêÜ: ${insight.dna_enhanced ? '‚úÖ ÂÆå‰∫Ü' : '‚ùå Êú™ÂÆüË°å'}\n`;
content += `\n---\n\n`;
});
});
// Ê®™Êñ≠ÁöÑÂàÜÊûê
content += `## üîç Ê®™Êñ≠ÁöÑÁü•Ë¶ãÂàÜÊûê\n\n`;
content += `**üìä ÂÖ®‰ΩìÁµ±Ë®à**\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${database.totalInsights}\n`;
content += `- Á∑è„Çª„ÉÉ„Ç∑„Éß„É≥Êï∞: ${database.totalSessions}\n`;
content += `- Âπ≥ÂùáÁü•Ë¶ãÊï∞/„Çª„ÉÉ„Ç∑„Éß„É≥: ${database.totalSessions > 0 ? Math.round(database.totalInsights / database.totalSessions) : 0}\n`;
content += `- AIÊï¥ÁêÜÊ∏à„ÅøÁü•Ë¶ãÊï∞: ${allInsights.filter(i => i.dna_enhanced).length}\n`;
content += `- AIÊï¥ÁêÜÁéá: ${database.totalInsights > 0 ? Math.round((allInsights.filter(i => i.dna_enhanced).length / database.totalInsights) * 100) : 0}%\n\n`;
// Ê®™Êñ≠ÁöÑÈñ¢‰øÇÊÄß
content += `**üîó Ê®™Êñ≠ÁöÑÈñ¢‰øÇÊÄß**\n`;
if (database.totalSessions > 1) {
content += `- ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥Èñì„ÅÆÊ®™Êñ≠ÁöÑÁü•Ë¶ãÈñ¢‰øÇÊÄß„ÇíÂàÜÊûê\n`;
content += `- ÂÖ±ÈÄö„ÉÜ„Éº„Éû„Å®„Ç≠„Éº„ÉØ„Éº„Éâ„Åã„ÇâÁü•Ë¶ãÁ∂ôÊâø„Éë„Çø„Éº„É≥„ÇíÊäΩÂá∫\n`;
content += `- „Çà„ÇäÂ§ö„Åè„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅåËìÑÁ©ç„Åï„Çå„Çã„Å®„ÄÅÁü•Ë¶ãÈÄ≤Âåñ„ÅÆËªåË∑°„ÅåÂèØË¶ñÂåñ„Åï„Çå„Åæ„Åô\n`;
} else {
content += `- Âçò‰∏Ä„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆ„Åü„ÇÅ„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥ÈñìÈñ¢ÈÄ£ÊÄßÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n`;
}
content += `\n`;
content += `---\n\n`;
content += `## üß¨ Knowledge DNAÁ∂ôÊâøÊÉÖÂ†±\n\n`;
content += `„Åì„ÅÆ„Ç¢„Éº„Ç´„Ç§„Éñ„ÅØÊ∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅÆKnowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Å£„Å¶ÁîüÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇ\n`;
content += `ÂêÑÁü•Ë¶ã„ÅØÂÄãÂà•„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆ„ÄåÁü•Ë¶ãDL„Äç„Å®ÂêåÁ≠â„ÅÆË©≥Á¥∞Â∫¶„ÅßË®òÈå≤„Åï„Çå„Å¶„Åä„Çä„ÄÅ\n`;
content += `ÂÖ®„Çª„ÉÉ„Ç∑„Éß„É≥Ê®™Êñ≠„ÅÆÂåÖÊã¨ÁöÑÂàÜÊûê„ÇÇÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n\n`;
content += `**üîß „Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±**\n`;
content += `- Knowledge DNAÁâà: v1.0\n`;
content += `- „Ç¢„Éº„Ç´„Ç§„ÉñÂΩ¢Âºè: ÂåÖÊã¨ÁöÑË©≥Á¥∞Áâà\n`;
content += `- ÁîüÊàê„Ç®„É≥„Ç∏„É≥: ÂÖ®Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Ç∑„Çπ„ÉÜ„É†\n`;
content += `- ÂìÅË≥™‰øùË®º: ÂÄãÂà•„ÄåÁü•Ë¶ãDL„ÄçÂêåÁ≠â\n\n`;
return content;
}
// =================================================================================
// KNOWLEDGE MANAGEMENT INITIALIZATION - Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
// =================================================================================
// Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
async function initializeKnowledgeManagement() {
try {
console.log('üìö Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
// CSV „Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø
await CategoryManager.loadCategories();
await UserManager.loadUsers();
window.KnowledgeState.isInitialized = true;
console.log('‚úÖ Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.KnowledgeState.isInitialized = false;
}
}
// =================================================================================
// LEGACY COMPATIBILITY - „É¨„Ç¨„Ç∑„Éº‰∫íÊèõÊÄß
// =================================================================================
// ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„É©„ÉÉ„Éë„ÉºÈñ¢Êï∞ÔºàexportAllData ‚Üí downloadAllKnowledgeÔºâ
async function exportAllData() {
console.log('üí° exportAllData „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„ÅüÔºàdownloadAllKnowledge„Å∏„É™„ÉÄ„Ç§„É¨„ÇØ„ÉàÔºâ');
await downloadAllKnowledge();
}
// =================================================================================
// KNOWLEDGE MANAGEMENT INTERFACE - Áü•Ë¶ãÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
// üîå Â§ñÈÉ®„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÊé•Á∂ö„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
const KnowledgeManagementInterface = {
// ÂàùÊúüÂåñ
async initialize() {
console.log('üìö Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
// KnowledgeState„ÅåÊú™ÂÆöÁæ©„ÅÆÂ†¥Âêà„ÅØÂàùÊúüÂåñ
if (typeof window.KnowledgeState === 'undefined') {
window.KnowledgeState = {
currentSession: null,
categories: [],
users: [],
insights: [],
qualityThreshold: 0.7,
isInitialized: false
};
}
// CSV „Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø
await CategoryManager.loadCategories();
await UserManager.loadUsers();
window.KnowledgeState.isInitialized = true;
console.log('‚úÖ Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
},
// Â§ñÈÉ®„Åã„Çâ„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ„Å™„É°„ÇΩ„ÉÉ„Éâ
getCategoryManager: () => CategoryManager,
getUserManager: () => UserManager,
getKnowledgeDatabase: () => FukaboriKnowledgeDatabase,
getCSVManager: () => CSVManager,
getQualityAssessmentSystem: () => QualityAssessmentSystem,
downloadAllKnowledge: downloadAllKnowledge,
enhanceAllKnowledgeWithAI: enhanceAllKnowledgeWithAI,
buildAllKnowledgeFileContent: buildAllKnowledgeFileContent
};
// =================================================================================
// QUALITY ASSESSMENT SYSTEM - ÂìÅË≥™Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üéØ ÂìÅË≥™Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É†Ôºà„ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°Ôºâ
// ‚ö†Ô∏è „Åì„ÅÆ„ÇØ„É©„Çπ„ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇAIManager.evaluateInsightQuality „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ
const QualityAssessmentSystem = {
// ÂìÅË≥™Ë©ï‰æ°„ÅÆÈñæÂÄ§Ë®≠ÂÆö
thresholds: {
confidence: 0.7,
importance: 0.6,
actionability: 0.5,
minimum_overall: 0.6
},
// „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÔºàAIManager„Å´ÁßªË≠≤Ôºâ
async evaluateInsightQuality(insightText, conversationContext) {
console.warn('‚ö†Ô∏è QualityAssessmentSystem.evaluateInsightQuality „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇAIManager.evaluateInsightQuality „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// AIManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager && window.AIManager.isInitialized) {
try {
return await window.AIManager.evaluateInsightQuality(insightText, conversationContext);
} catch (error) {
console.error('‚ùå AIManager.evaluateInsightQualityÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàAIManagerÊú™‰ΩøÁî®ÊôÇÔºâ
console.warn('‚ö†Ô∏è AIManager„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅ„ÄÅ„É¨„Ç¨„Ç∑„ÉºÂÆüË£Ö„Çí‰ΩøÁî®„Åó„Åæ„Åô');
try {
if (!window.AppState?.apiKey || !insightText?.trim()) {
return null;
}
console.log('üîç „ÅØ„Åª„Çä„Éº„ÅÆ: Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÈñãÂßã...');
const evaluationPrompt = this.buildQualityEvaluationPrompt(insightText, conversationContext);
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Authorization': `Bearer ${window.AppState.apiKey}`
},
body: JSON.stringify({
model: 'gpt-4o-mini',
messages: [{ role: 'user', content: evaluationPrompt }],
max_tokens: 800,
temperature: 0.3
})
});
if (response.ok) {
const data = await response.json();
const evaluation = this.parseQualityEvaluation(data.choices[0].message.content);
console.log('‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆÂìÅË≥™Ë©ï‰æ°ÂÆå‰∫Ü:', evaluation);
return evaluation;
}
} catch (error) {
console.error('‚ùå ÂìÅË≥™Ë©ï‰æ°„Ç®„É©„Éº:', error);
return null;
}
},
// ÂìÅË≥™Ë©ï‰æ°„Éó„É≠„É≥„Éó„ÉàÁîüÊàê
buildQualityEvaluationPrompt(insightText, conversationContext) {
return `„ÅÇ„Å™„Åü„ÅØÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°„ÅÆÂ∞ÇÈñÄAI„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ
‰ª•‰∏ã„ÅÆÁô∫Ë®ÄÂÜÖÂÆπ„ÇíÂàÜÊûê„Åó„ÄÅ„Éì„Ç∏„Éç„Çπ„ÇÑÊ•≠Âãô„Å´„Åä„Åë„ÇãÁü•Ë¶ã„Å®„Åó„Å¶„ÅÆ‰æ°ÂÄ§„ÇíË©ï‰æ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„ÄêË©ï‰æ°ÂØæË±°„ÅÆÁô∫Ë®Ä„Äë
${insightText}
„Äê‰ºöË©±„ÅÆÊñáËÑà„Äë
${conversationContext || 'Ôºà‰ºöË©±„ÅÆÊñáËÑàÊÉÖÂ†±„Å™„ÅóÔºâ'}
„ÄêË©ï‰æ°È†ÖÁõÆ„Äë
‰ª•‰∏ã„ÅÆÂêÑÈ†ÖÁõÆ„Çí0.0„Äú1.0„ÅßÊï∞ÂÄ§Ë©ï‰æ°„Åó„ÄÅÁ∑èÂêàÂà§ÂÆö„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑÔºö
1. ‰ø°È†ºÊÄßÔºàConfidenceÔºâ: Áô∫Ë®ÄÂÜÖÂÆπ„ÅÆÂÖ∑‰ΩìÊÄß„ÉªÊ†πÊã†„ÅÆÊòéÁ¢∫„Åï
2. ÈáçË¶ÅÊÄßÔºàImportanceÔºâ: „Éì„Ç∏„Éç„Çπ„ÉªÊ•≠Âãô„Å∏„ÅÆÂΩ±ÈüøÂ∫¶„Éª‰æ°ÂÄ§
3. ÂÆüË°åÂèØËÉΩÊÄßÔºàActionabilityÔºâ: ‰ªñ„ÅÆ‰∫∫„ÅåÊ¥ªÁî®„ÉªÂøúÁî®„Åß„Åç„ÇãÂÖ∑‰ΩìÊÄß
„ÄêÂá∫ÂäõÂΩ¢Âºè„Äë
‰ª•‰∏ã„ÅÆÂΩ¢Âºè„ÅßÊ≠£Á¢∫„Å´Âá∫Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
CONFIDENCE: [0.0-1.0„ÅÆÊï∞ÂÄ§]
IMPORTANCE: [0.0-1.0„ÅÆÊï∞ÂÄ§]
ACTIONABILITY: [0.0-1.0„ÅÆÊï∞ÂÄ§]
OVERALL: [0.0-1.0„ÅÆÊï∞ÂÄ§]
RECOMMENDATION: [ACCEPT/REJECT]
SUMMARY: [Áü•Ë¶ã„ÅÆË¶ÅÁ¥ÑÔºà30ÊñáÂ≠ó‰ª•ÂÜÖÔºâ]
REASON: [Ë©ï‰æ°ÁêÜÁî±Ôºà100ÊñáÂ≠ó‰ª•ÂÜÖÔºâ]
ÂÆ¢Ë¶≥ÁöÑ„Åã„Å§Âé≥Ê†º„Å´Ë©ï‰æ°„Åó„ÄÅ‰ΩéÂìÅË≥™„Å™ÂÜÖÂÆπ„ÅØÈÅ†ÊÖÆ„Å™„ÅèREJECT„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
},
// ÂìÅË≥™Ë©ï‰æ°ÁµêÊûú„ÅÆËß£Êûê
parseQualityEvaluation(evaluationText) {
const lines = evaluationText.split('\n');
const evaluation = {
confidence: 0.5,
importance: 0.5,
actionability: 0.5,
overall: 0.5,
recommendation: 'REJECT',
summary: '',
reason: ''
};
lines.forEach(line => {
if (line.startsWith('CONFIDENCE:')) {
evaluation.confidence = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('IMPORTANCE:')) {
evaluation.importance = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('ACTIONABILITY:')) {
evaluation.actionability = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('OVERALL:')) {
evaluation.overall = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('RECOMMENDATION:')) {
evaluation.recommendation = line.split(':')[1]?.trim().toUpperCase() || 'REJECT';
} else if (line.startsWith('SUMMARY:')) {
evaluation.summary = line.split(':')[1]?.trim() || '';
} else if (line.startsWith('REASON:')) {
evaluation.reason = line.split(':')[1]?.trim() || '';
}
});
return evaluation;
},
// „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞Ë°®Á§∫
async promptUserConfirmation(insightText, qualityEvaluation) {
try {
const confirmationMessage = this.buildConfirmationMessage(insightText, qualityEvaluation);
// „É¢„Éº„ÉÄ„É´„Éô„Éº„Çπ„ÅÆÁ¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞Ôºà„Çà„ÇäËâØ„ÅÑUXÔºâ
const userDecision = await this.showQualityConfirmationModal(confirmationMessage, qualityEvaluation);
console.log(`‚úÖ „É¶„Éº„Ç∂„ÉºÂà§ÂÆö: ${userDecision ? 'ÊâøË™ç' : 'Âç¥‰∏ã'}`);
return userDecision;
} catch (error) {
console.error('‚ùå „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return false;
}
},
// Á¢∫Ë™ç„É°„ÉÉ„Çª„Éº„Ç∏ÁîüÊàê
buildConfirmationMessage(insightText, evaluation) {
const scoreDisplay = `‰ø°È†ºÊÄß: ${(evaluation.confidence * 100).toFixed(0)}% | ÈáçË¶ÅÊÄß: ${(evaluation.importance * 100).toFixed(0)}% | ÂÆüË°åÊÄß: ${(evaluation.actionability * 100).toFixed(0)}%`;
return `„ÄêÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÁµêÊûú„Äë
üìù Áô∫Ë®ÄÂÜÖÂÆπ:
"${insightText.substring(0, 100)}${insightText.length > 100 ? '...' : ''}"
ü§ñ „ÅØ„Åª„Çä„Éº„ÅÆË©ï‰æ°:
${scoreDisplay}
Á∑èÂêàË©ï‰æ°: ${(evaluation.overall * 100).toFixed(0)}% (${evaluation.recommendation})
üí° Ë¶ÅÁ¥Ñ: ${evaluation.summary}
üìä ÁêÜÁî±: ${evaluation.reason}
„Åì„ÅÆÁô∫Ë®Ä„ÇíÁü•Ë¶ã„Éá„Éº„Çø„Å®„Åó„Å¶‰øùÂ≠ò„Åó„Åæ„Åô„ÅãÔºü`;
},
// ÂìÅË≥™Á¢∫Ë™ç„É¢„Éº„ÉÄ„É´Ë°®Á§∫
async showQualityConfirmationModal(message, evaluation) {
return new Promise((resolve) => {
// „Ç∑„É≥„Éó„É´„Å™confirm„ÉÄ„Ç§„Ç¢„É≠„Ç∞ÔºàÂæå„Åß„É¢„Éº„ÉÄ„É´UI„Å´ÊîπËâØÂèØËÉΩÔºâ
const userChoice = confirm(message);
resolve(userChoice);
});
},
// ÂìÅË≥™Ë©ï‰æ°Áµ±ÂêàÂá¶ÁêÜÔºà„É°„Ç§„É≥Èñ¢Êï∞ÔºâÔºàAIManager„Å´ÁßªË≠≤Ôºâ
async processInsightWithQualityAssessment(insightText, conversationContext) {
console.warn('‚ö†Ô∏è QualityAssessmentSystem.processInsightWithQualityAssessment „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇAIManager.processInsightWithQualityAssessment „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// AIManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager && window.AIManager.isInitialized) {
try {
return await window.AIManager.processInsightWithQualityAssessment(insightText, conversationContext);
} catch (error) {
console.error('‚ùå AIManager.processInsightWithQualityAssessmentÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàAIManagerÊú™‰ΩøÁî®ÊôÇÔºâ
console.warn('‚ö†Ô∏è AIManager„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅ„ÄÅ„É¨„Ç¨„Ç∑„ÉºÂÆüË£Ö„Çí‰ΩøÁî®„Åó„Åæ„Åô');
try {
console.log('üéØ Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°„Éó„É≠„Çª„ÇπÈñãÂßã...');
// 1. „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÂìÅË≥™Ë©ï‰æ°
const qualityEvaluation = await this.evaluateInsightQuality(insightText, conversationContext);
if (!qualityEvaluation) {
console.warn('‚ö†Ô∏è ÂìÅË≥™Ë©ï‰æ°„ÅåÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü');
return { accepted: false, reason: 'evaluation_failed' };
}
// 2. Ëá™ÂãïÂà§ÂÆöÔºàÈ´òÂìÅË≥™„ÅØËá™ÂãïÊâøË™ç„ÄÅ‰ΩéÂìÅË≥™„ÅØËá™ÂãïÂç¥‰∏ãÔºâ
if (qualityEvaluation.overall >= 0.8 && qualityEvaluation.recommendation === 'ACCEPT') {
console.log('‚úÖ È´òÂìÅË≥™Áü•Ë¶ã: Ëá™ÂãïÊâøË™ç');
return {
accepted: true,
reason: 'auto_accept',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
}
if (qualityEvaluation.overall < 0.3 || qualityEvaluation.recommendation === 'REJECT') {
console.log('‚ùå ‰ΩéÂìÅË≥™Áü•Ë¶ã: Ëá™ÂãïÂç¥‰∏ã');
return {
accepted: false,
reason: 'auto_reject',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
}
// 3. ‰∏≠ÈñìÂìÅË≥™„ÅØÊâãÂãïÁ¢∫Ë™ç
console.log('ü§î ‰∏≠ÈñìÂìÅË≥™: „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„ÅåÂøÖË¶Å');
const userApproved = await this.promptUserConfirmation(insightText, qualityEvaluation);
return {
accepted: userApproved,
reason: userApproved ? 'manual_accept' : 'manual_reject',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
} catch (error) {
console.error('‚ùå ÂìÅË≥™Ë©ï‰æ°Áµ±ÂêàÂá¶ÁêÜ„Ç®„É©„Éº:', error);
return { accepted: false, reason: 'process_error' };
}
}
};
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „Ç∑„Çπ„ÉÜ„É†„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨ÈñãÔºàÂæåÊñπ‰∫íÊèõÊÄßÔºâ
window.CategoryManager = CategoryManager;
window.UserManager = UserManager;
window.FukaboriKnowledgeDatabase = FukaboriKnowledgeDatabase;
window.CSVManager = CSVManager;
// KnowledgeFileManager„ÅØscript.js„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô
window.QualityAssessmentSystem = QualityAssessmentSystem;
window.KnowledgeManagementInterface = KnowledgeManagementInterface;
// Èñ¢Êï∞„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.downloadAllKnowledge = downloadAllKnowledge;
window.enhanceAllKnowledgeWithAI = enhanceAllKnowledgeWithAI;
window.buildAllKnowledgeFileContent = buildAllKnowledgeFileContent;
window.initializeKnowledgeManagement = initializeKnowledgeManagement;
window.exportAllData = exportAllData;
console.log('‚úÖ Knowledge System v1.0 Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üìä ‰∏ªË¶ÅÊ©üËÉΩ:');
console.log(' - FukaboriKnowledgeDatabase // Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ');
console.log(' - CategoryManager/UserManager // „Ç´„ÉÜ„Ç¥„É™„Éª„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ');
console.log(' - downloadAllKnowledge() // ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ');
console.log(' - initializeKnowledgeManagement() // „Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ');
console.log(' - KnowledgeFileManager // script.js„ÅßÂÆöÁæ©Ê∏à„Åø');
/* === session-controller.js === */
// Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™ v2.0 - SessionController
// Session Management System for Fukabori-kun App
// =================================================================================
// SESSION CONTROLLER - „Çª„ÉÉ„Ç∑„Éß„É≥Âà∂Âæ°„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* SessionController - „Çª„ÉÉ„Ç∑„Éß„É≥Âà∂Âæ°Â∞ÇÁî®„É¢„Ç∏„É•„Éº„É´
*
* Ë≤¨‰ªªÁØÑÂõ≤:
* - „Çª„ÉÉ„Ç∑„Éß„É≥‰ΩúÊàê„ÉªÂàùÊúüÂåñ
* - „Çª„ÉÉ„Ç∑„Éß„É≥„É°„Çø„Éá„Éº„ÇøÁÆ°ÁêÜ
* - „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãÁÆ°ÁêÜ
* - „Çø„Ç§„É†„Çπ„Çø„É≥„ÉóÁÆ°ÁêÜ
* - „Çø„Ç§„Éà„É´Ë¶ÅÁ¥ÑÁîüÊàê
*
* ‰æùÂ≠òÈñ¢‰øÇ:
* - KnowledgeFileManagerInterface (Áä∂ÊÖãÁÆ°ÁêÜ)
* - window.KnowledgeState („Ç∞„É≠„Éº„Éê„É´Áä∂ÊÖã)
*
* Ê≥®ÊÑè: SessionEndManager„Å®„ÅØÂàÜÈõ¢„Åï„Çå„Å¶„Åä„Çä„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÂá¶ÁêÜ„ÅØÂê´„Åæ„Å™„ÅÑ
*/
const SessionController = {
// ‰æùÂ≠òÈñ¢‰øÇ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
interface: null,
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
init() {
console.log('üéØ SessionControllerÂàùÊúüÂåñÈñãÂßã');
try {
this._ensureInterface();
console.log('‚úÖ SessionControllerÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå SessionControllerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
},
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÂàùÊúüÂåñ
_ensureInterface() {
if (!this.interface) {
this.interface = window.KnowledgeFileManagerInterface;
if (!this.interface) {
throw new Error('KnowledgeFileManagerInterface „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}
return this.interface;
},
// =================================================================================
// „Çª„ÉÉ„Ç∑„Éß„É≥‰ΩúÊàê„ÉªÂàùÊúüÂåñ
// =================================================================================
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´„ÅÆ‰ΩúÊàê
* @param {Object} sessionMeta - „Çª„ÉÉ„Ç∑„Éß„É≥„É°„Çø„Éá„Éº„Çø
* @returns {Object} - ‰ΩúÊàê„Åï„Çå„Åü„Çª„ÉÉ„Ç∑„Éß„É≥„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
*/
async createSessionFile(sessionMeta) {
const iface = this._ensureInterface();
try {
const timestamp = this.formatTimestamp(new Date());
const category = sessionMeta.category || '„Åù„ÅÆ‰ªñ';
const titleSummary = this.generateTitleSummary(sessionMeta.theme);
const filename = `${timestamp}_${category}_${titleSummary}.md`;
const knowledgeFile = {
filename: filename,
meta: {
session_id: sessionMeta.session_id,
date: new Date().toISOString(),
category: category,
title: titleSummary,
participant: sessionMeta.participant || '„Ç≤„Çπ„Éà',
participant_role: sessionMeta.participant_role || '„É¶„Éº„Ç∂„Éº',
theme: sessionMeta.theme,
session_start: new Date().toISOString()
},
insights: [],
conversations: [],
isActive: true
};
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁµåÁî±„Åß„Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆö
const success = iface.state.setCurrentSession(knowledgeFile);
if (!success) {
throw new Error('„Çª„ÉÉ„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´„ÅÆË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
console.log('‚úÖ Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´ÂàùÊúüÂåñ:', filename);
return knowledgeFile;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´‰ΩúÊàê„Ç®„É©„Éº:', error);
throw error;
}
},
/**
* Êñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÈñãÂßã
* @param {Object} options - „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Ç™„Éó„Ç∑„Éß„É≥
* @returns {Object} - ÈñãÂßã„Åï„Çå„Åü„Çª„ÉÉ„Ç∑„Éß„É≥
*/
async startSession(options = {}) {
const sessionMeta = {
session_id: options.session_id || `session_${Date.now()}`,
theme: options.theme || '„Çª„ÉÉ„Ç∑„Éß„É≥',
participant: options.participant || '„Ç≤„Çπ„Éà',
participant_role: options.participant_role || '„É¶„Éº„Ç∂„Éº',
category: options.category || '„Åù„ÅÆ‰ªñ'
};
try {
console.log('üéØ Êñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã:', sessionMeta);
const session = await this.createSessionFile(sessionMeta);
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÂÆå‰∫Ü:', session.meta.session_id);
return session;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Ç®„É©„Éº:', error);
throw error;
}
},
// =================================================================================
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãÁÆ°ÁêÜ
// =================================================================================
/**
* ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂèñÂæó
* @returns {Object|null} - ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥
*/
getCurrentSession() {
try {
const iface = this._ensureInterface();
return iface.state.getCurrentSession();
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„ÇíË®≠ÂÆö
* @param {Object} session - „Çª„ÉÉ„Ç∑„Éß„É≥„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
* @returns {boolean} - ÊàêÂäü/Â§±Êïó
*/
setCurrentSession(session) {
try {
const iface = this._ensureInterface();
return iface.state.setCurrentSession(session);
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆö„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Å´„Éá„Éº„Çø„ÇíËøΩÂä†
* @param {Object} data - ËøΩÂä†„Åô„Çã„Éá„Éº„Çø
* @returns {boolean} - ÊàêÂäü/Â§±Êïó
*/
addDataToSession(data) {
try {
const iface = this._ensureInterface();
const session = iface.state.getCurrentSession();
if (!session) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
// „Éá„Éº„Çø„ÅÆÁ®ÆÈ°û„Å´Âøú„Åò„Å¶ÈÅ©Âàá„Å™„Éï„Ç£„Éº„É´„Éâ„Å´ËøΩÂä†
if (data.type === 'insight') {
return iface.state.addInsightToSession(data);
} else if (data.type === 'conversation') {
return iface.state.addConversationToSession(data);
}
console.warn('‚ö†Ô∏è „Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„Éá„Éº„Çø„Çø„Ç§„Éó:', data.type);
return false;
} catch (error) {
console.error('‚ùå „Éá„Éº„ÇøËøΩÂä†„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞
* @param {Object} updates - Êõ¥Êñ∞„Åô„Çã„É°„Çø„Éá„Éº„Çø
* @returns {boolean} - ÊàêÂäü/Â§±Êïó
*/
updateSessionMeta(updates) {
try {
const iface = this._ensureInterface();
const session = iface.state.getCurrentSession();
if (!session) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
// „É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞
Object.assign(session.meta, updates);
// Êõ¥Êñ∞„Åï„Çå„Åü„Çª„ÉÉ„Ç∑„Éß„É≥„Çí‰øùÂ≠ò
const success = iface.state.setCurrentSession(session);
if (success) {
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥„É°„Çø„Éá„Éº„ÇøÊõ¥Êñ∞:', updates);
}
return success;
} catch (error) {
console.error('‚ùå „É°„Çø„Éá„Éº„ÇøÊõ¥Êñ∞„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆ‰∏ÄÊôÇÂÅúÊ≠¢
* @returns {boolean} - ÊàêÂäü/Â§±Êïó
*/
pauseSession() {
try {
const session = this.getCurrentSession();
if (!session) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
return this.updateSessionMeta({
status: 'paused',
paused_at: new Date().toISOString()
});
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥‰∏ÄÊôÇÂÅúÊ≠¢„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÂÜçÈñã
* @returns {boolean} - ÊàêÂäü/Â§±Êïó
*/
resumeSession() {
try {
const session = this.getCurrentSession();
if (!session) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
return this.updateSessionMeta({
status: 'active',
resumed_at: new Date().toISOString()
});
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÂÜçÈñã„Ç®„É©„Éº:', error);
return false;
}
},
// =================================================================================
// „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Ê©üËÉΩ
// =================================================================================
/**
* „Çø„Ç§„É†„Çπ„Çø„É≥„Éó„Éï„Ç©„Éº„Éû„ÉÉ„Éà (YYMMDD-HHMMSS)
* @param {Date} date - „Éï„Ç©„Éº„Éû„ÉÉ„Éà„Åô„ÇãÊó•‰ªò
* @returns {string} - „Éï„Ç©„Éº„Éû„ÉÉ„Éà„Åï„Çå„Åü„Çø„Ç§„É†„Çπ„Çø„É≥„Éó
*/
formatTimestamp(date) {
const yy = String(date.getFullYear()).slice(2);
const mm = String(date.getMonth() + 1).padStart(2, '0');
const dd = String(date.getDate()).padStart(2, '0');
const hh = String(date.getHours()).padStart(2, '0');
const min = String(date.getMinutes()).padStart(2, '0');
const ss = String(date.getSeconds()).padStart(2, '0');
return `${yy}${mm}${dd}-${hh}${min}${ss}`;
},
/**
* „Çø„Ç§„Éà„É´Ë¶ÅÁ¥ÑÁîüÊàêÔºà20ÊñáÂ≠ó‰ª•ÂÜÖÔºâ
* @param {string} theme - ÂÖÉ„ÅÆ„ÉÜ„Éº„Éû
* @returns {string} - Ë¶ÅÁ¥Ñ„Åï„Çå„Åü„Çø„Ç§„Éà„É´
*/
generateTitleSummary(theme) {
if (!theme) return '„Çª„ÉÉ„Ç∑„Éß„É≥Ë®òÈå≤';
try {
// Âü∫Êú¨ÁöÑ„Å™Ë¶ÅÁ¥ÑÂá¶ÁêÜ
let summary = theme.replace(/[„Äå„Äç]/g, '').trim();
if (summary.length > 20) {
summary = summary.substring(0, 17) + '...';
}
return summary;
} catch (error) {
console.error('‚ùå „Çø„Ç§„Éà„É´Ë¶ÅÁ¥ÑÁîüÊàê„Ç®„É©„Éº:', error);
return '„Çª„ÉÉ„Ç∑„Éß„É≥Ë®òÈå≤';
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®àÊÉÖÂ†±„ÅÆÂèñÂæó
* @param {Object} session - „Çª„ÉÉ„Ç∑„Éß„É≥ÔºàÊåáÂÆö„Åó„Å™„ÅÑÂ†¥Âêà„ÅØÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Ôºâ
* @returns {Object} - Áµ±Ë®àÊÉÖÂ†±
*/
getSessionStats(session = null) {
try {
const targetSession = session || this.getCurrentSession();
if (!targetSession) {
return {
session_id: null,
duration: 0,
insights_count: 0,
conversations_count: 0,
theme: null,
participant: null,
is_active: false
};
}
const startTime = new Date(targetSession.meta.session_start);
const endTime = targetSession.meta.session_end ?
new Date(targetSession.meta.session_end) : new Date();
const duration = Math.round((endTime - startTime) / 1000 / 60); // ÂàÜÂçò‰Ωç
return {
session_id: targetSession.meta.session_id,
duration: duration,
insights_count: targetSession.insights?.length || 0,
conversations_count: targetSession.conversations?.length || 0,
theme: targetSession.meta.theme,
participant: targetSession.meta.participant,
category: targetSession.meta.category,
is_active: targetSession.isActive,
status: targetSession.meta.status || 'active'
};
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®àÂèñÂæó„Ç®„É©„Éº:', error);
return {
session_id: null,
duration: 0,
insights_count: 0,
conversations_count: 0,
theme: null,
participant: null,
is_active: false,
error: error.message
};
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÊ§úË®º
* @param {Object} session - Ê§úË®º„Åô„Çã„Çª„ÉÉ„Ç∑„Éß„É≥
* @returns {boolean} - „Çª„ÉÉ„Ç∑„Éß„É≥„ÅåÊúâÂäπ„Åã„Å©„ÅÜ„Åã
*/
validateSession(session) {
try {
if (!session) {
console.warn('‚ö†Ô∏è „Çª„ÉÉ„Ç∑„Éß„É≥„Åånull„Åæ„Åü„ÅØundefined„Åß„Åô');
return false;
}
// ÂøÖÈ†à„Éï„Ç£„Éº„É´„Éâ„ÅÆÁ¢∫Ë™ç
const requiredFields = ['filename', 'meta', 'insights'];
for (const field of requiredFields) {
if (!session.hasOwnProperty(field)) {
console.warn(`‚ö†Ô∏è „Çª„ÉÉ„Ç∑„Éß„É≥„Å´ÂøÖÈ†à„Éï„Ç£„Éº„É´„Éâ ${field} „Åå„ÅÇ„Çä„Åæ„Åõ„Çì`);
return false;
}
}
// „É°„Çø„Éá„Éº„Çø„ÅÆÁ¢∫Ë™ç
const requiredMeta = ['session_id', 'date', 'theme'];
for (const field of requiredMeta) {
if (!session.meta.hasOwnProperty(field)) {
console.warn(`‚ö†Ô∏è „Çª„ÉÉ„Ç∑„Éß„É≥„É°„Çø„Éá„Éº„Çø„Å´ÂøÖÈ†à„Éï„Ç£„Éº„É´„Éâ ${field} „Åå„ÅÇ„Çä„Åæ„Åõ„Çì`);
return false;
}
}
return true;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Ê§úË®º„Ç®„É©„Éº:', error);
return false;
}
},
// =================================================================================
// „Éá„Éê„ÉÉ„Ç∞„Éª„É≠„Ç∞Ê©üËÉΩ
// =================================================================================
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±„ÅÆË°®Á§∫
* @param {Object} session - Ë°®Á§∫„Åô„Çã„Çª„ÉÉ„Ç∑„Éß„É≥ÔºàÊåáÂÆö„Åó„Å™„ÅÑÂ†¥Âêà„ÅØÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Ôºâ
*/
logSessionInfo(session = null) {
try {
const targetSession = session || this.getCurrentSession();
if (!targetSession) {
console.log('üìã „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return;
}
const stats = this.getSessionStats(targetSession);
console.log('üìã „Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±:');
console.log(` ID: ${stats.session_id}`);
console.log(` „ÉÜ„Éº„Éû: ${stats.theme}`);
console.log(` ÂèÇÂä†ËÄÖ: ${stats.participant}`);
console.log(` „Ç´„ÉÜ„Ç¥„É™„Éº: ${stats.category}`);
console.log(` Á∂ôÁ∂öÊôÇÈñì: ${stats.duration}ÂàÜ`);
console.log(` Áü•Ë¶ãÊï∞: ${stats.insights_count}`);
console.log(` ‰ºöË©±Êï∞: ${stats.conversations_count}`);
console.log(` „Çπ„ÉÜ„Éº„Çø„Çπ: ${stats.status}`);
console.log(` „Ç¢„ÇØ„ÉÜ„Ç£„Éñ: ${stats.is_active}`);
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±Ë°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* ÂÖ®„Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±„ÅÆË°®Á§∫
*/
logAllSessionInfo() {
try {
console.log('üìã SessionControllerÊÉÖÂ†±:');
console.log(` „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ: ${this.interface ? 'OK' : 'NG'}`);
const current = this.getCurrentSession();
if (current) {
console.log(' ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥:');
this.logSessionInfo(current);
} else {
console.log(' ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥: „Å™„Åó');
}
} catch (error) {
console.error('‚ùå ÂÖ®„Çª„ÉÉ„Ç∑„Éß„É≥ÊÉÖÂ†±Ë°®Á§∫„Ç®„É©„Éº:', error);
}
}
};
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// SessionController„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.SessionController = SessionController;
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆÈñ¢Êï∞
window.createKnowledgeSession = async function(sessionMeta) {
console.warn('‚ö†Ô∏è createKnowledgeSession „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.createSessionFile „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return await SessionController.createSessionFile(sessionMeta);
};
window.getCurrentKnowledgeSession = function() {
console.warn('‚ö†Ô∏è getCurrentKnowledgeSession „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.getCurrentSession „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return SessionController.getCurrentSession();
};
window.getSessionStats = function(session = null) {
console.warn('‚ö†Ô∏è getSessionStats „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.getSessionStats „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return SessionController.getSessionStats(session);
};
console.log('‚úÖ SessionControllerÔºà„Çª„ÉÉ„Ç∑„Éß„É≥Âà∂Âæ°„Ç∑„Çπ„ÉÜ„É†ÔºâË™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
/* === data-manager.js === */
// =================================================================================
// Ê∑±Â†Ä„Åè„Çì - DataManager v2.0
// Phase 2-2: „Éá„Éº„ÇøÊßãÈÄ†ÁÆ°ÁêÜ„ÉªÁü•Ë¶ãËøΩÂä†„Éª„Ç´„ÉÜ„Ç¥„É™ÁÆ°ÁêÜ„Éª„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ„Éª„Éá„Éº„ÇøÊ∞∏Á∂öÂåñ
// =================================================================================
/**
* DataManager - „Éá„Éº„ÇøÁÆ°ÁêÜÂ∞ÇÁî®„É¢„Ç∏„É•„Éº„É´
*
* „ÄêË≤¨‰ªªÁØÑÂõ≤„Äë
* - „Éá„Éº„ÇøÊßãÈÄ†ÁÆ°ÁêÜÔºàKnowledgeStateÔºâ
* - Áü•Ë¶ãËøΩÂä†„ÉªÁÆ°ÁêÜÔºàaddInsightÔºâ
* - „Ç´„ÉÜ„Ç¥„É™ÁÆ°ÁêÜÔºàCategoryManagerÔºâ
* - „É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜÔºàUserManagerÔºâ
* - „Éá„Éº„ÇøÊ∞∏Á∂öÂåñÔºàFukaboriKnowledgeDatabaseÔºâ
* - „Éá„Éº„ÇøÊ§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
*
* „ÄêË®≠Ë®àÂéüÂâá„Äë
* - Âçò‰∏ÄË≤¨‰ªªÔºö„Éá„Éº„ÇøÁÆ°ÁêÜÊ©üËÉΩ„ÅÆ„Åø„Å´ÁâπÂåñ
* - ÂæåÊñπ‰∫íÊèõÊÄßÔºöÊó¢Â≠òAPI„Çí100%‰øùÊåÅ
* - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Ôºötry-catch„ÄÅ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩ
* - ‰æùÂ≠òÈñ¢‰øÇÁÆ°ÁêÜÔºöKnowledgeFileManagerInterface„ÇíÈÄö„Åò„ÅüÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
class DataManager {
constructor() {
this.interface = null;
this.initialized = false;
this.dataState = null;
this.categoryManager = null;
this.userManager = null;
this.databaseManager = null;
console.log('üìä DataManager: ÂàùÊúüÂåñÈñãÂßã');
}
// =================================================================================
// INITIALIZATION - ÂàùÊúüÂåñ
// =================================================================================
/**
* DataManagerÂàùÊúüÂåñ
*/
async initialize() {
try {
console.log('üîß DataManager: ÂàùÊúüÂåñ„Éó„É≠„Çª„ÇπÈñãÂßã');
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁ¢∫‰øù
this.interface = this._ensureInterface();
// „Éá„Éº„ÇøÁä∂ÊÖãÁÆ°ÁêÜ„ÅÆÂàùÊúüÂåñ
this._initializeDataState();
// „Çµ„Éñ„É¢„Ç∏„É•„Éº„É´„ÅÆÂàùÊúüÂåñ
await this._initializeSubModules();
this.initialized = true;
console.log('‚úÖ DataManager: ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå DataManager: ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
}
/**
* „Éá„Éº„ÇøÁä∂ÊÖã„ÅÆÂàùÊúüÂåñ
*/
_initializeDataState() {
if (!window.KnowledgeState) {
window.KnowledgeState = {
currentSession: null,
categories: [],
users: [],
insights: [],
qualityThreshold: 0.7,
isInitialized: false
};
}
this.dataState = window.KnowledgeState;
console.log('üìã DataManager: „Éá„Éº„ÇøÁä∂ÊÖãÂàùÊúüÂåñÂÆå‰∫Ü');
}
/**
* „Çµ„Éñ„É¢„Ç∏„É•„Éº„É´„ÅÆÂàùÊúüÂåñ
*/
async _initializeSubModules() {
// „Ç´„ÉÜ„Ç¥„É™„Éû„Éç„Éº„Ç∏„É£„Éº„ÅÆÂàùÊúüÂåñÔºàknowledge-system.js„ÅßÂÆöÁæ©Ê∏à„Åø„ÅÆ„ÇÇ„ÅÆ„Çí‰ΩøÁî®Ôºâ
this.categoryManager = window.CategoryManager || new CategoryManager();
if (this.categoryManager.initialize) {
await this.categoryManager.initialize();
}
// „É¶„Éº„Ç∂„Éº„Éû„Éç„Éº„Ç∏„É£„Éº„ÅÆÂàùÊúüÂåñÔºàknowledge-system.js„ÅßÂÆöÁæ©Ê∏à„Åø„ÅÆ„ÇÇ„ÅÆ„Çí‰ΩøÁî®Ôºâ
this.userManager = window.UserManager || null;
if (this.userManager && this.userManager.initialize) {
await this.userManager.initialize();
}
// „Éá„Éº„Çø„Éô„Éº„Çπ„Éû„Éç„Éº„Ç∏„É£„Éº„ÅÆÂàùÊúüÂåñ
this.databaseManager = new DatabaseManager();
await this.databaseManager.initialize();
console.log('üîß DataManager: „Çµ„Éñ„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
}
// =================================================================================
// INSIGHT MANAGEMENT - Áü•Ë¶ãÁÆ°ÁêÜ
// =================================================================================
/**
* Áü•Ë¶ãËøΩÂä†
* @param {string} insight - Áü•Ë¶ãÂÜÖÂÆπ
* @param {Object} context - „Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà
* @param {Object} quality - ÂìÅË≥™„Çπ„Ç≥„Ç¢
* @returns {Object} ËøΩÂä†„Åï„Çå„ÅüÁü•Ë¶ã„Ç®„É≥„Éà„É™
*/
addInsight(insight, context, quality) {
try {
console.log('üìù DataManager: Áü•Ë¶ãËøΩÂä†ÈñãÂßã');
// ÂÖ•ÂäõÊ§úË®º
if (!insight || typeof insight !== 'string') {
throw new Error('Áü•Ë¶ãÂÜÖÂÆπ„ÅåÁÑ°Âäπ„Åß„Åô');
}
// ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Á¢∫Ë™ç
const currentSession = this.getCurrentSession();
if (!currentSession) {
console.warn('‚ö†Ô∏è DataManager: „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return null;
}
// Áü•Ë¶ã„Ç®„É≥„Éà„É™„ÅÆ‰ΩúÊàê
const insightEntry = this._createInsightEntry(insight, context, quality);
// „Çª„ÉÉ„Ç∑„Éß„É≥„Å´ËøΩÂä†
const success = this._addInsightToSession(currentSession, insightEntry);
if (!success) {
throw new Error('„Çª„ÉÉ„Ç∑„Éß„É≥„Å∏„ÅÆÁü•Ë¶ãËøΩÂä†„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
console.log('‚úÖ DataManager: Áü•Ë¶ãËøΩÂä†ÂÆå‰∫Ü:', insightEntry.id);
return insightEntry;
} catch (error) {
console.error('‚ùå DataManager: Áü•Ë¶ãËøΩÂä†„Ç®„É©„Éº:', error);
throw error;
}
}
/**
* Áü•Ë¶ã„Ç®„É≥„Éà„É™„ÅÆ‰ΩúÊàê
*/
_createInsightEntry(insight, context, quality) {
return {
id: `insight_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
content: insight,
context: context || {},
quality_scores: {
confidence: quality?.confidence || 0.8,
importance: quality?.importance || this._calculateImportance(insight, context)
},
timestamp: new Date().toISOString(),
conversation_context: context?.related_conversation || [],
categories: [],
keywords: [],
dna_enhanced: false
};
}
/**
* Áü•Ë¶ã„ÅÆÈáçË¶ÅÂ∫¶Ë®àÁÆó
*/
_calculateImportance(insight, context) {
try {
if (typeof insight !== 'string') {
return 0.5;
}
const baseScore = 0.5;
const lengthBonus = Math.min(insight.length / 100, 0.3);
const contextBonus = context && Object.keys(context).length > 0 ? 0.2 : 0;
return Math.min(baseScore + lengthBonus + contextBonus, 1.0);
} catch (error) {
console.warn('‚ö†Ô∏è DataManager: ÈáçË¶ÅÂ∫¶Ë®àÁÆó„Ç®„É©„Éº:', error);
return 0.5;
}
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Å∏„ÅÆÁü•Ë¶ãËøΩÂä†
*/
_addInsightToSession(session, insightEntry) {
try {
if (!session.insights) {
session.insights = [];
}
session.insights.push(insightEntry);
this.setCurrentSession(session);
return true;
} catch (error) {
console.error('‚ùå DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥„Å∏„ÅÆÁü•Ë¶ãËøΩÂä†„Ç®„É©„Éº:', error);
return false;
}
}
/**
* Áü•Ë¶ã„ÅÆÂìÅË≥™„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
*/
filterInsightsByQuality(insights, threshold = null) {
try {
const qualityThreshold = threshold || this.dataState.qualityThreshold;
return insights.filter(insight => {
const importance = insight.quality_scores?.importance || 0.5;
const confidence = insight.quality_scores?.confidence || 0.5;
const averageScore = (importance + confidence) / 2;
return averageScore >= qualityThreshold;
});
} catch (error) {
console.error('‚ùå DataManager: ÂìÅË≥™„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„Ç®„É©„Éº:', error);
return insights;
}
}
// =================================================================================
// SESSION MANAGEMENT - „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ
// =================================================================================
/**
* ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥ÂèñÂæó
*/
getCurrentSession() {
try {
return this.dataState?.currentSession || null;
} catch (error) {
console.error('‚ùå DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥ÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
}
/**
* ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆö
*/
setCurrentSession(session) {
try {
if (!this.dataState) {
throw new Error('DataState „ÅåÊú™ÂàùÊúüÂåñ„Åß„Åô');
}
this.dataState.currentSession = session;
console.log('üìã DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆöÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆö„Ç®„É©„Éº:', error);
return false;
}
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®àÊÉÖÂ†±ÂèñÂæó
*/
getSessionStats(session = null) {
try {
const targetSession = session || this.getCurrentSession();
if (!targetSession) {
return null;
}
const insights = targetSession.insights || [];
const totalInsights = insights.length;
const averageImportance = this._calculateAverageImportance(insights);
const aiEnhancedCount = insights.filter(i => i.dna_enhanced).length;
return {
totalInsights,
averageImportance,
aiEnhancedCount,
aiEnhancedRatio: totalInsights > 0 ? aiEnhancedCount / totalInsights : 0
};
} catch (error) {
console.error('‚ùå DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à„Ç®„É©„Éº:', error);
return null;
}
}
/**
* Âπ≥ÂùáÈáçË¶ÅÂ∫¶Ë®àÁÆó
*/
_calculateAverageImportance(insights) {
if (!insights || insights.length === 0) return 0;
const total = insights.reduce((sum, insight) => {
return sum + (insight.quality_scores?.importance || 0.5);
}, 0);
return Math.round((total / insights.length) * 100);
}
// =================================================================================
// CATEGORY MANAGEMENT - „Ç´„ÉÜ„Ç¥„É™ÁÆ°ÁêÜ
// =================================================================================
/**
* „Ç´„ÉÜ„Ç¥„É™‰∏ÄË¶ßÂèñÂæó
*/
getCategories() {
try {
return this.dataState?.categories || [];
} catch (error) {
console.error('‚ùå DataManager: „Ç´„ÉÜ„Ç¥„É™ÂèñÂæó„Ç®„É©„Éº:', error);
return [];
}
}
/**
* „Ç´„ÉÜ„Ç¥„É™Ê§úË®º
*/
validateCategory(categoryName) {
try {
return this.categoryManager?.validateCategory(categoryName) || false;
} catch (error) {
console.error('‚ùå DataManager: „Ç´„ÉÜ„Ç¥„É™Ê§úË®º„Ç®„É©„Éº:', error);
return false;
}
}
/**
* „Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû„Éó„É≠„É≥„Éó„Éà
*/
async promptCategorySelection() {
try {
return await this.categoryManager?.promptCategorySelection() || '‰∏ÄËà¨';
} catch (error) {
console.error('‚ùå DataManager: „Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû„Ç®„É©„Éº:', error);
return '‰∏ÄËà¨';
}
}
// =================================================================================
// USER MANAGEMENT - „É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ
// =================================================================================
/**
* „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßÂèñÂæó
*/
getUsers() {
try {
return this.dataState?.users || [];
} catch (error) {
console.error('‚ùå DataManager: „É¶„Éº„Ç∂„ÉºÂèñÂæó„Ç®„É©„Éº:', error);
return [];
}
}
/**
* „É¶„Éº„Ç∂„Éº„Éû„ÉÉ„ÉÅ„É≥„Ç∞
*/
matchUser(nickname) {
try {
return this.userManager?.matchUser(nickname) || null;
} catch (error) {
console.error('‚ùå DataManager: „É¶„Éº„Ç∂„Éº„Éû„ÉÉ„ÉÅ„É≥„Ç∞„Ç®„É©„Éº:', error);
return null;
}
}
/**
* „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç
*/
async confirmUser(nickname) {
try {
return await this.userManager?.confirmUser(nickname) || null;
} catch (error) {
console.error('‚ùå DataManager: „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return null;
}
}
// =================================================================================
// DATABASE MANAGEMENT - „Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ
// =================================================================================
/**
* „Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø
*/
loadDatabase() {
try {
return this.databaseManager?.load() || null;
} catch (error) {
console.error('‚ùå DataManager: „Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return null;
}
}
/**
* „Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò
*/
saveDatabase(database) {
try {
return this.databaseManager?.save(database) || false;
} catch (error) {
console.error('‚ùå DataManager: „Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò„Ç®„É©„Éº:', error);
return false;
}
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Å´ËøΩÂä†
*/
addSessionToDatabase(sessionData) {
try {
return this.databaseManager?.addSession(sessionData) || null;
} catch (error) {
console.error('‚ùå DataManager: „Çª„ÉÉ„Ç∑„Éß„É≥ËøΩÂä†„Ç®„É©„Éº:', error);
return null;
}
}
// =================================================================================
// DATA SEARCH & FILTERING - „Éá„Éº„ÇøÊ§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
// =================================================================================
/**
* Áü•Ë¶ãÊ§úÁ¥¢
*/
searchInsights(query, options = {}) {
try {
const session = this.getCurrentSession();
if (!session || !session.insights) {
return [];
}
let results = session.insights;
// „ÉÜ„Ç≠„Çπ„ÉàÊ§úÁ¥¢
if (query && typeof query === 'string') {
results = results.filter(insight =>
insight.content.toLowerCase().includes(query.toLowerCase()) ||
(insight.keywords && insight.keywords.some(k => k.toLowerCase().includes(query.toLowerCase())))
);
}
// „Ç´„ÉÜ„Ç¥„É™„Éï„Ç£„É´„Çø
if (options.category) {
results = results.filter(insight =>
insight.categories && insight.categories.includes(options.category)
);
}
// ÂìÅË≥™„Éï„Ç£„É´„Çø
if (options.minQuality) {
results = this.filterInsightsByQuality(results, options.minQuality);
}
// Êó•‰ªò„Éï„Ç£„É´„Çø
if (options.fromDate || options.toDate) {
results = results.filter(insight => {
const insightDate = new Date(insight.timestamp);
if (options.fromDate && insightDate < new Date(options.fromDate)) return false;
if (options.toDate && insightDate > new Date(options.toDate)) return false;
return true;
});
}
return results;
} catch (error) {
console.error('‚ùå DataManager: Áü•Ë¶ãÊ§úÁ¥¢„Ç®„É©„Éº:', error);
return [];
}
}
// =================================================================================
// UTILITY METHODS - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£
// =================================================================================
/**
* „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁ¢∫‰øù
*/
_ensureInterface() {
if (!this.interface) {
if (typeof window.KnowledgeFileManagerInterface !== 'undefined') {
this.interface = window.KnowledgeFileManagerInterface;
} else {
throw new Error('KnowledgeFileManagerInterface „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
}
return this.interface;
}
/**
* ÂàùÊúüÂåñÁä∂ÊÖãÁ¢∫Ë™ç
*/
isInitialized() {
return this.initialized;
}
/**
* „Éá„Éº„ÇøÁä∂ÊÖãÂèñÂæó
*/
getDataState() {
return this.dataState;
}
/**
* Ë©≥Á¥∞ÊÉÖÂ†±Âá∫Âäõ
*/
logDataInfo() {
try {
const session = this.getCurrentSession();
const stats = this.getSessionStats();
console.log('üìä DataManager Áä∂ÊÖãÊÉÖÂ†±:');
console.log(' - ÂàùÊúüÂåñÊ∏à„Åø:', this.initialized);
console.log(' - ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥:', session ? session.meta?.session_id : '„Å™„Åó');
console.log(' - „Ç´„ÉÜ„Ç¥„É™Êï∞:', this.getCategories().length);
console.log(' - „É¶„Éº„Ç∂„ÉºÊï∞:', this.getUsers().length);
if (stats) {
console.log(' - Áü•Ë¶ãÊï∞:', stats.totalInsights);
console.log(' - Âπ≥ÂùáÈáçË¶ÅÂ∫¶:', stats.averageImportance + '%');
console.log(' - AIÊã°ÂºµÊ∏à„Åø:', stats.aiEnhancedCount);
}
} catch (error) {
console.error('‚ùå DataManager: ÊÉÖÂ†±Âá∫Âäõ„Ç®„É©„Éº:', error);
}
}
}
// =================================================================================
// CATEGORY MANAGER - „Ç´„ÉÜ„Ç¥„É™ÁÆ°ÁêÜ„Çµ„Éñ„É¢„Ç∏„É•„Éº„É´
// =================================================================================
// CategoryManager„ÇØ„É©„ÇπÂÆöÁæ©Ôºàknowledge-system.js„Å®ÈáçË§á„ÇíÈÅø„Åë„Çã„Åü„ÇÅÂâäÈô§Ôºâ
// knowledge-system.js„ÅßÂÆöÁæ©Ê∏à„Åø„ÅÆCategoryManager„Çí‰ΩøÁî®
/*
class CategoryManager {
constructor() {
this.categories = [];
this.initialized = false;
}
async initialize() {
try {
console.log('üè∑Ô∏è CategoryManager: ÂàùÊúüÂåñÈñãÂßã');
await this.loadCategories();
this.initialized = true;
console.log('‚úÖ CategoryManager: ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå CategoryManager: ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
}
async loadCategories() {
try {
const categories = await this._loadCSV('categories.csv');
this.categories = categories.filter(cat => cat.is_active === 'true');
window.KnowledgeState.categories = this.categories;
console.log('‚úÖ „Ç´„ÉÜ„Ç¥„É™Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü:', this.categories.length, '‰ª∂');
return this.categories;
} catch (error) {
console.error('‚ùå „Ç´„ÉÜ„Ç¥„É™Ë™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø
this.categories = this._getFallbackCategories();
window.KnowledgeState.categories = this.categories;
return this.categories;
}
}
validateCategory(categoryName) {
return this.categories.some(cat => cat.category_name === categoryName);
}
async promptCategorySelection() {
if (this.categories.length === 0) {
return '‰∏ÄËà¨';
}
const categoryNames = this.categories.map(cat => cat.category_name);
return categoryNames[0]; // Êö´ÂÆöÁöÑ„Å´ÊúÄÂàù„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„ÇíËøî„Åô
}
async _loadCSV(filename) {
try {
const response = await fetch(`config/${filename}`);
if (!response.ok) {
throw new Error(`CSVË™≠„ÅøËæº„ÅøÂ§±Êïó: ${filename}`);
}
const csvText = await response.text();
return this._parseCSV(csvText);
} catch (error) {
console.log(`üìÅ CSVË™≠„ÅøËæº„Åø„Ç®„É©„Éº (${filename}) - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø„Çí‰ΩøÁî®`);
return this._getFallbackCategories();
}
}
_parseCSV(csvText) {
const lines = csvText.trim().split('\n');
const headers = lines[0].split(',');
const data = [];
for (let i = 1; i < lines.length; i++) {
const values = lines[i].split(',');
const row = {};
headers.forEach((header, index) => {
row[header.trim()] = values[index]?.trim() || '';
});
data.push(row);
}
return data;
}
_getFallbackCategories() {
return [
{ category_name: 'Âñ∂Ê•≠ÊâãÊ≥ï', category_description: 'Âñ∂Ê•≠„ÉªÈ°ßÂÆ¢ÂØæÂøú„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' },
{ category_name: '„Ç≥„Éü„É•„Éã„Ç±', category_description: '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÉªÂØæ‰∫∫Èñ¢‰øÇ', is_active: 'true' },
{ category_name: 'ÊäÄË°ìÁÆ°ÁêÜ', category_description: 'ÊäÄË°ì„ÉªÈñãÁô∫ÁÆ°ÁêÜ„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' },
{ category_name: 'ÁµÑÁπîÈÅãÂñ∂', category_description: 'ÁµÑÁπî„Éª„ÉÅ„Éº„É†ÈÅãÂñ∂„Å´Èñ¢„Åô„ÇãÁü•Ë¶ã', is_active: 'true' }
];
}
}
*/
// =================================================================================
// USER MANAGER - „É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ„Çµ„Éñ„É¢„Ç∏„É•„Éº„É´
// =================================================================================
// UserManager„ÇØ„É©„ÇπÂÆöÁæ©Ôºàknowledge-system.js„Å®ÈáçË§á„ÇíÈÅø„Åë„Çã„Åü„ÇÅÂâäÈô§Ôºâ
// knowledge-system.js„ÅßÂÆöÁæ©Ê∏à„Åø„ÅÆUserManager„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰ΩøÁî®
/*
class UserManager {
constructor() {
this.users = [];
this.initialized = false;
}
async initialize() {
try {
console.log('üë§ UserManager: ÂàùÊúüÂåñÈñãÂßã');
await this.loadUsers();
this.initialized = true;
console.log('‚úÖ UserManager: ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå UserManager: ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
}
async loadUsers() {
try {
const users = await this._loadCSV('user_names.csv');
this.users = users.filter(user => user.is_active === 'true');
window.KnowledgeState.users = this.users;
console.log('‚úÖ „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßË™≠„ÅøËæº„ÅøÂÆå‰∫Ü:', this.users.length, '‰ª∂');
return this.users;
} catch (error) {
console.error('‚ùå „É¶„Éº„Ç∂„Éº‰∏ÄË¶ßË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø
this.users = this._getFallbackUsers();
window.KnowledgeState.users = this.users;
return this.users;
}
}
matchUser(nickname) {
const matches = this.users.filter(user =>
user.nickname.toLowerCase() === nickname.toLowerCase()
);
return matches.length > 0 ? matches[0] : null;
}
async confirmUser(nickname) {
const match = this.matchUser(nickname);
if (match) {
return match;
}
// Êñ∞Ë¶è„É¶„Éº„Ç∂„Éº„ÅÆÂ†¥Âêà
return {
nickname: nickname,
formal_name: nickname,
department: 'Êú™Ë®≠ÂÆö',
role: 'Êú™Ë®≠ÂÆö',
is_new: true
};
}
async _loadCSV(filename) {
try {
const response = await fetch(`config/${filename}`);
if (!response.ok) {
throw new Error(`CSVË™≠„ÅøËæº„ÅøÂ§±Êïó: ${filename}`);
}
const csvText = await response.text();
return this._parseCSV(csvText);
} catch (error) {
console.log(`üìÅ CSVË™≠„ÅøËæº„Åø„Ç®„É©„Éº (${filename}) - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø„Çí‰ΩøÁî®`);
return this._getFallbackUsers();
}
}
_parseCSV(csvText) {
const lines = csvText.trim().split('\n');
const headers = lines[0].split(',');
const data = [];
for (let i = 1; i < lines.length; i++) {
const values = lines[i].split(',');
const row = {};
headers.forEach((header, index) => {
row[header.trim()] = values[index]?.trim() || '';
});
data.push(row);
}
return data;
}
_getFallbackUsers() {
return [
{ nickname: 'admin', formal_name: 'ÁÆ°ÁêÜËÄÖ', department: '„Ç∑„Çπ„ÉÜ„É†', role: 'ÁÆ°ÁêÜËÄÖ', is_active: 'true' }
];
}
}
*/
// =================================================================================
// DATABASE MANAGER - „Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ„Çµ„Éñ„É¢„Ç∏„É•„Éº„É´
// =================================================================================
class DatabaseManager {
constructor() {
this.storageKey = 'fukabori_knowledge_database';
this.initialized = false;
}
async initialize() {
try {
console.log('üóÑÔ∏è DatabaseManager: ÂàùÊúüÂåñÈñãÂßã');
this.initialized = true;
console.log('‚úÖ DatabaseManager: ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå DatabaseManager: ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
}
load() {
try {
const saved = localStorage.getItem(this.storageKey);
if (!saved) {
return this._getEmptyDatabase();
}
const data = JSON.parse(saved);
console.log(`üìã Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø: ${data.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥, ${data.totalInsights}Áü•Ë¶ã`);
return data;
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„ÇπË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
return this._getEmptyDatabase();
}
}
save(database) {
try {
database.lastUpdate = new Date().toISOString();
localStorage.setItem(this.storageKey, JSON.stringify(database));
console.log(`üíæ Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠òÂÆå‰∫Ü: ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥, ${database.totalInsights}Áü•Ë¶ã`);
return true;
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ‰øùÂ≠ò„Ç®„É©„Éº:', error);
return false;
}
}
addSession(sessionData) {
try {
const database = this.load();
const sessionRecord = {
sessionId: `session_${this._formatTimestamp(new Date())}`,
date: new Date().toISOString().split('T')[0],
theme: sessionData.theme || '„ÉÜ„Éº„ÉûÊú™Ë®≠ÂÆö',
participant: sessionData.participant || '„É¶„Éº„Ç∂„Éº',
insights: sessionData.insights || [],
metadata: {
startTime: sessionData.startTime,
endTime: new Date().toISOString(),
totalInsights: (sessionData.insights || []).length,
category: sessionData.category || 'Ê±éÁî®',
sessionDuration: sessionData.startTime ?
Math.round((new Date() - new Date(sessionData.startTime)) / 1000 / 60) : 0
}
};
database.sessions.unshift(sessionRecord);
database.totalSessions = database.sessions.length;
database.totalInsights = database.sessions.reduce((total, session) =>
total + session.insights.length, 0);
this.save(database);
console.log(`‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ã„ÇíÊ∞∏Á∂öÂåñ: ${sessionRecord.metadata.totalInsights}Áü•Ë¶ã`);
return sessionRecord;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ãËøΩÂä†„Ç®„É©„Éº:', error);
return null;
}
}
_getEmptyDatabase() {
return {
sessions: [],
totalSessions: 0,
totalInsights: 0,
lastUpdate: new Date().toISOString()
};
}
_formatTimestamp(date) {
const yy = String(date.getFullYear()).slice(-2);
const mm = String(date.getMonth() + 1).padStart(2, '0');
const dd = String(date.getDate()).padStart(2, '0');
const hh = String(date.getHours()).padStart(2, '0');
const min = String(date.getMinutes()).padStart(2, '0');
const ss = String(date.getSeconds()).padStart(2, '0');
return `${yy}${mm}${dd}-${hh}${min}${ss}`;
}
}
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// DataManager„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆ‰ΩúÊàê„Å®„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.DataManager = new DataManager();
// „Çµ„Éñ„É¢„Ç∏„É•„Éº„É´„ÇÇ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨ÈñãÔºàÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÔºâ
// CategoryManager„ÅØknowledge-system.js„ÅßÂÆöÁæ©Ê∏à„Åø„ÅÆ„Åü„ÇÅ„ÄÅÈáçË§á„ÇíÈÅø„Åë„Çã
// „Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„Åï„Çå„Åü„ÇØ„É©„Çπ„ÅØ‰ΩøÁî®„Åó„Å™„ÅÑ
window.UserManager = UserManager;
window.DatabaseManager = DatabaseManager;
// ÂàùÊúüÂåñÊ∏à„Åø„Éï„É©„Ç∞
window.DataManagerInitialized = false;
// ÂàùÊúüÂåñÈñ¢Êï∞
window.initializeDataManager = async function() {
try {
if (!window.DataManagerInitialized) {
await window.DataManager.initialize();
window.DataManagerInitialized = true;
console.log('‚úÖ DataManager: „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
}
} catch (error) {
console.error('‚ùå DataManager: „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
throw error;
}
};
console.log('üìä DataManager v2.0: „É¢„Ç∏„É•„Éº„É´Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üìù ‰ΩøÁî®ÊñπÊ≥ï:');
console.log(' - await initializeDataManager() // ÂàùÊúüÂåñ');
console.log(' - DataManager.addInsight(text, context, quality) // Áü•Ë¶ãËøΩÂä†');
console.log(' - DataManager.getCategories() // „Ç´„ÉÜ„Ç¥„É™ÂèñÂæó');
console.log(' - DataManager.searchInsights(query, options) // Áü•Ë¶ãÊ§úÁ¥¢');
/* === file-manager.js === */
// =================================================================================
// FILE MANAGER - „Éï„Ç°„Ç§„É´ÁÆ°ÁêÜÂ∞ÇÁî®„É¢„Ç∏„É•„Éº„É´
// =================================================================================
//
// „ÄêË≤¨‰ªªÁØÑÂõ≤„Äë
// - „Éï„Ç°„Ç§„É´ÁîüÊàê„Éª„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
// - „Éï„Ç°„Ç§„É´ÂÜÖÂÆπ„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÉªÊßãÁØâ
// - Ë§áÊï∞„Éï„Ç°„Ç§„É´ÂΩ¢ÂºèÂØæÂøúÔºàMarkdown„ÄÅJSONÁ≠âÔºâ
// - Áµ±Ë®àÊÉÖÂ†±Ë®àÁÆó
// - „Éï„Ç°„Ç§„É´ÂêçÁîüÊàê„É≠„Ç∏„ÉÉ„ÇØ
// - ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
//
// „ÄêPhase 2-3„ÄëSessionController„ÄÅDataManagerÂàÜÈõ¢Ê∏à„Åø
// „ÄêË®≠Ë®àÂéüÂâá„ÄëÂæåÊñπ‰∫íÊèõÊÄß100%‰øùË®º„ÄÅÊÆµÈöéÁöÑÁßªË°å„Çµ„Éù„Éº„Éà
//
// =================================================================================
(function() {
'use strict';
// =================================================================================
// CORE FILE MANAGER CLASS - „Ç≥„Ç¢„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„ÇØ„É©„Çπ
// =================================================================================
class FileManager {
constructor() {
this.supportedFormats = ['markdown', 'json', 'text'];
this.defaultFormat = 'markdown';
console.log('üìÑ FileManager ÂàùÊúüÂåñ‰∏≠...');
}
// =================================================================================
// FILE GENERATION - „Éï„Ç°„Ç§„É´ÁîüÊàêÊ©üËÉΩ
// =================================================================================
/**
* Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàêÔºà„É°„Ç§„É≥Ê©üËÉΩÔºâ
*/
async generateKnowledgeFile(sessionData = null) {
console.log('üìÑ Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàêÈñãÂßã...');
try {
// „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„ÅÆÁ¢∫‰øù
const session = this._getSessionData(sessionData);
if (!session) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return null;
}
// „Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâ
const content = this.buildFileContent(session);
// „Éï„Ç°„Ç§„É´Âêç„ÅÆÁîüÊàê
const filename = this.generateFileName(session);
// „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
const success = this.downloadFile(content, filename);
if (!success) {
console.error('‚ùå „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return null;
}
console.log('‚úÖ Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàêÂÆå‰∫Ü:', filename);
return filename;
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàê„Ç®„É©„Éº:', error);
return null;
}
}
/**
* „Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâÔºàAIÁü•Ë¶ãÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂØæÂøúÔºâ
*/
buildFileContent(session) {
const meta = session.meta;
const insights = session.insights;
let content = '---\n';
content += '# „É°„Çø„Éá„Éº„Çø\n';
content += `meta:\n`;
content += ` session_id: "${meta.session_id}"\n`;
content += ` date: "${meta.date}"\n`;
content += ` category: "${meta.category}"\n`;
content += ` title: "${meta.title}"\n`;
content += ` participant: "${meta.participant}"\n`;
content += ` participant_role: "${meta.participant_role}"\n`;
content += ` theme: "${meta.theme}"\n`;
content += ` knowledge_dna_version: "1.0"\n`;
content += '\n';
content += '# „Çª„ÉÉ„Ç∑„Éß„É≥Ê¶ÇË¶Å\n';
content += `summary:\n`;
content += ` overview: "${meta.theme}„Å´„Å§„ÅÑ„Å¶Ê∑±Êéò„Çä„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂÆüÊñΩ"\n`;
content += ` insights_count: ${insights.length}\n`;
content += ` enhanced_by_ai: true\n`;
content += '\n';
content += '# ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ãÔºàÁîü„Éá„Éº„ÇøÔºâ\n';
content += `raw_insights:\n`;
insights.forEach((insight, index) => {
content += ` - id: "${insight.id}"\n`;
content += ` content: "${insight.content}"\n`;
content += ` timestamp: "${insight.timestamp}"\n`;
if (insight.quality_scores) {
content += ` quality_scores:\n`;
content += ` confidence: ${insight.quality_scores.confidence || 0.5}\n`;
content += ` importance: ${insight.quality_scores.importance || 0.5}\n`;
}
content += '\n';
});
content += '---\n\n';
content += `# ${meta.title}\n\n`;
content += `**ÂèÇÂä†ËÄÖ**: ${meta.participant}\n`;
content += `**Êó•ÊôÇ**: ${new Date(meta.date).toLocaleString('ja-JP')}\n`;
content += `**„Ç´„ÉÜ„Ç¥„É™„Éº**: ${meta.category}\n`;
content += `**„ÉÜ„Éº„Éû**: ${meta.theme}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÁü•Ë¶ã„Çª„ÇØ„Ç∑„Éß„É≥
content += '## üß¨ Knowledge DNA - AIÊï¥ÁêÜ„Åï„Çå„ÅüÁü•Ë¶ã\n\n';
content += '> ‰ª•‰∏ã„ÅÆÁü•Ë¶ã„ÅØ„ÄÅÊ∑±Â†Ä„Åè„Çì„ÅÆKnowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Å£„Å¶Êï¥ÁêÜ„Éª„É™„É©„Ç§„Éà„Åï„Çå„ÅüÂÜÖÂÆπ„Åß„Åô„ÄÇ\n\n';
// ÊßãÈÄ†Âåñ„Åï„Çå„ÅüÁü•Ë¶ã„ÇíË°®Á§∫
insights.forEach((insight, index) => {
content += `### üìò Áü•Ë¶ã ${index + 1}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ„ÇíË°®Á§∫ÔºàÂà©Áî®ÂèØËÉΩ„Å™Â†¥ÂêàÔºâ
if (insight.enhanced_content && insight.dna_enhanced) {
content += `**üìù AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ**\n`;
// enhanced_content „Åå JSONÊñáÂ≠óÂàó„ÅÆÂ†¥Âêà„ÅØËß£Êûê„ÇíË©¶Ë°å
let enhancedText = insight.enhanced_content;
if (typeof enhancedText === 'string' && enhancedText.startsWith('{')) {
try {
const parsed = JSON.parse(enhancedText);
if (parsed.enhanced) {
enhancedText = parsed.enhanced;
}
} catch (e) {
console.warn('Enhanced content JSONËß£ÊûêÂ§±Êïó:', e);
}
}
content += `${enhancedText}\n\n`;
if (insight.summary && insight.summary !== 'AIÊï¥ÁêÜÊ∏à„Åø') {
content += `**üìã Ë¶ÅÁ¥Ñ**\n`;
content += `${insight.summary}\n\n`;
}
if (insight.background && insight.background.trim()) {
content += `**üîç ËÉåÊôØ„ÉªÂâçÊèê**\n`;
content += `${insight.background}\n\n`;
}
if (insight.actionable_points && insight.actionable_points.length > 0) {
content += `**üí° ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà**\n`;
insight.actionable_points.forEach(point => {
content += `- ${point}\n`;
});
content += `\n`;
}
if (insight.keywords && insight.keywords.length > 0) {
content += `**üè∑Ô∏è „Ç≠„Éº„ÉØ„Éº„Éâ**\n`;
content += `${insight.keywords.join(', ')}\n\n`;
}
if (insight.related_concepts && insight.related_concepts.length > 0) {
content += `**üîó Èñ¢ÈÄ£Ê¶ÇÂøµ**\n`;
content += `${insight.related_concepts.join(', ')}\n\n`;
}
} else {
// ÂæìÊù•„ÅÆË°®Á§∫ÂΩ¢Âºè
content += `**üìù ÂÜÖÂÆπ**\n`;
content += `${insight.content}\n\n`;
if (insight.context) {
content += `**üîç ËÉåÊôØ„ÉªÁä∂Ê≥Å**\n`;
content += `${insight.context.situation || 'Ë©≥Á¥∞„Å™ËÉåÊôØÊÉÖÂ†±„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô'}\n\n`;
}
}
// Knowledge DNAÊÉÖÂ†±
content += `**üß¨ Knowledge DNA**\n`;
content += `- üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„Éº: ${meta.category}\n`;
if (insight.categories && insight.categories.length > 0) {
content += `- üéØ AIÂàÜÊûê„Ç´„ÉÜ„Ç¥„É™„Éº: ${insight.categories.join(', ')}\n`;
}
content += `- ‚≠ê ÈáçË¶ÅÂ∫¶: ${insight.quality_scores?.importance ? Math.round(insight.quality_scores.importance * 100) : 50}%\n`;
content += `- üéØ ‰ø°È†ºÂ∫¶: ${insight.quality_scores?.confidence ? Math.round(insight.quality_scores.confidence * 100) : 50}%\n`;
content += `- üîó „Çª„ÉÉ„Ç∑„Éß„É≥ID: ${meta.session_id}\n`;
content += `- üìÖ ÊäΩÂá∫Êó•ÊôÇ: ${insight.timestamp}\n`;
content += `- ü§ñ AIÊï¥ÁêÜ: ${insight.dna_enhanced ? '‚úÖ ÂÆå‰∫Ü' : '‚ùå Êú™ÂÆüË°å'}\n`;
content += `\n---\n\n`;
});
// „Éä„É¨„ÉÉ„Ç∏„Ç∞„É©„ÉïÊÉÖÂ†±
content += this._buildKnowledgeGraph(session, insights);
return content;
}
/**
* Knowledge Graph „Çª„ÇØ„Ç∑„Éß„É≥ÊßãÁØâ
*/
_buildKnowledgeGraph(session, insights) {
const meta = session.meta;
let content = '## üï∏Ô∏è Knowledge GraphÔºà„Éä„É¨„ÉÉ„Ç∏„Ç∞„É©„ÉïÔºâ\n\n';
content += '> Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÁü•Ë¶ãÈñì„ÅÆÈñ¢‰øÇÊÄßÂàÜÊûê\n\n';
// „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à
content += `**üìä „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à**\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${insights.length}\n`;
content += `- Âπ≥ÂùáÈáçË¶ÅÂ∫¶: ${this.calculateAverageImportance(insights)}%\n`;
content += `- AIÊï¥ÁêÜÊ∏à„Åø: ${insights.filter(i => i.dna_enhanced).length}/${insights.length}\n`;
content += `- „ÉÜ„Éº„Éû„Ç´„ÉÜ„Ç¥„É™„Éº: ${meta.category}\n`;
content += `- ÂèÇÂä†ËÄÖ: ${meta.participant}\n\n`;
// Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê
if (session.knowledge_graph?.clusters?.length > 0) {
content += `**üîó Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê**\n`;
session.knowledge_graph.clusters.forEach((cluster, index) => {
content += `${index + 1}. **${cluster.theme}**\n`;
content += ` - ÂØæË±°Áü•Ë¶ã: ${cluster.insights.map(i => i + 1).join(', ')}\n`;
content += ` - Ë™¨Êòé: ${cluster.description}\n\n`;
});
} else {
content += `**üîó Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê**\n`;
if (insights.length < 2) {
content += `- Âçò‰∏Ä„ÅÆÁü•Ë¶ã„ÅÆ„Åü„ÇÅ„ÄÅ„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n\n`;
} else {
content += `- Èñ¢‰øÇÊÄßÂàÜÊûê‰∏≠„ÄÅ„Åæ„Åü„ÅØAI„Å´„Çà„ÇãËá™ÂãïÂàÜÊûê„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì\n\n`;
}
}
// Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß
if (session.knowledge_graph?.relationships?.length > 0) {
content += `**üîÑ Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß**\n`;
session.knowledge_graph.relationships.forEach((rel, index) => {
content += `${index + 1}. Áü•Ë¶ã${rel.from + 1} ‚Üí Áü•Ë¶ã${rel.to + 1} (${rel.type})\n`;
content += ` - ${rel.description}\n\n`;
});
} else {
content += `**üîÑ Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß**\n`;
if (insights.length < 2) {
content += `- Âçò‰∏Ä„ÅÆÁü•Ë¶ã„ÅÆ„Åü„ÇÅ„ÄÅÈñ¢‰øÇÊÄßÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n\n`;
} else {
content += `- ÁèæÂú®ÂàÜÊûê‰∏≠„ÄÅ„Åæ„Åü„ÅØÈñ¢‰øÇÊÄß„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n\n`;
}
}
// ÂÖ±ÈÄö„ÉÜ„Éº„Éû
if (session.knowledge_graph?.themes?.length > 0) {
content += `**üéØ ÂÖ±ÈÄö„ÉÜ„Éº„ÉûÂàÜÊûê**\n`;
session.knowledge_graph.themes.forEach((theme, index) => {
content += `${index + 1}. **${theme.name}** (Âá∫ÁèæÈ†ªÂ∫¶: ${theme.frequency})\n`;
content += ` - ${theme.description}\n\n`;
});
} else {
content += `**üéØ ÂÖ±ÈÄö„ÉÜ„Éº„ÉûÂàÜÊûê**\n`;
const allKeywords = insights.flatMap(i => i.keywords || []);
const keywordFreq = {};
allKeywords.forEach(keyword => {
keywordFreq[keyword] = (keywordFreq[keyword] || 0) + 1;
});
const commonKeywords = Object.entries(keywordFreq)
.filter(([_, freq]) => freq > 1)
.sort((a, b) => b[1] - a[1])
.slice(0, 5);
if (commonKeywords.length > 0) {
content += `- Ëá™ÂãïÊ§úÂá∫„Åï„Çå„ÅüÂÖ±ÈÄö„ÉÜ„Éº„Éû:\n`;
commonKeywords.forEach(([keyword, freq], index) => {
content += ` ${index + 1}. **${keyword}** (Âá∫Áèæ: ${freq}Âõû)\n`;
});
content += `\n`;
} else {
content += `- „É°„Ç§„É≥„ÉÜ„Éº„Éû: ${meta.theme}\n`;
content += `- „Åì„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÁü•Ë¶ã„ÅØÂ§öÊßòÊÄß„Å´ÂØå„Çì„Åß„ÅÑ„Åæ„Åô\n\n`;
}
}
// Áü•Ë¶ãÁ∂ôÊâøDNA
content += `**üß¨ Áü•Ë¶ãÁ∂ôÊâøDNA**\n`;
content += `- Áü•Ë¶ãÁ≥ªÁµ±: ${meta.theme} > ${meta.category}\n`;
content += `- Á∂ôÊâøÂèØËÉΩÊÄß: ${insights.filter(i => i.dna_enhanced).length > 0 ? 'È´òÔºàAIÊï¥ÁêÜÊ∏à„ÅøÔºâ' : '‰∏≠ÔºàÂü∫Êú¨ÊßãÈÄ†ÂåñÊ∏à„ÅøÔºâ'}\n`;
content += `- AIÂ≠¶ÁøíÈÅ©Áî®: ${insights.filter(i => i.dna_enhanced).length > 0 ? '‚úÖ ÈÅ©Áî®Ê∏à„Åø' : '‚è≥ Ê∫ñÂÇô‰∏≠'}\n`;
content += `- ÁµÑÁπîÁü•Âåñ„É¨„Éô„É´: ${insights.length >= 3 ? 'È´ò' : insights.length >= 2 ? '‰∏≠' : '‰Ωé'}\n`;
const uniqueKeywords = [...new Set(insights.flatMap(i => i.keywords || []))];
if (uniqueKeywords.length > 0) {
content += `- Áü•Ë¶ã„Ç≠„Éº„ÉØ„Éº„Éâ: ${uniqueKeywords.slice(0, 10).join(', ')}${uniqueKeywords.length > 10 ? '...' : ''}\n`;
}
content += `\n`;
return content;
}
// =================================================================================
// FILE DOWNLOAD - „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
// =================================================================================
/**
* „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÔºà„Ç≥„Ç¢Ê©üËÉΩÔºâ
*/
downloadFile(content, filename, format = 'markdown') {
try {
const mimeType = this._getMimeType(format);
const blob = new Blob([content], { type: mimeType });
const url = URL.createObjectURL(blob);
const link = document.createElement('a');
link.href = url;
link.download = filename;
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
URL.revokeObjectURL(url);
console.log('‚úÖ „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂÆå‰∫Ü:', filename);
return true;
} catch (error) {
console.error('‚ùå „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
return false;
}
}
/**
* MIME„Çø„Ç§„ÉóÂèñÂæó
*/
_getMimeType(format) {
const mimeTypes = {
'markdown': 'text/markdown;charset=utf-8',
'json': 'application/json;charset=utf-8',
'text': 'text/plain;charset=utf-8'
};
return mimeTypes[format] || mimeTypes.markdown;
}
// =================================================================================
// FILE NAME GENERATION - „Éï„Ç°„Ç§„É´ÂêçÁîüÊàêÊ©üËÉΩ
// =================================================================================
/**
* „Éï„Ç°„Ç§„É´ÂêçÁîüÊàê
*/
generateFileName(session, format = 'markdown') {
const timestamp = this.formatTimestamp(new Date());
const dnaPrefix = session.knowledge_graph ? 'KnowledgeDNA_' : 'Áü•Ë¶ã_';
const title = session.meta.title || '„Çª„ÉÉ„Ç∑„Éß„É≥Ë®òÈå≤';
const extension = this._getFileExtension(format);
return `${dnaPrefix}${title}_${timestamp}.${extension}`;
}
/**
* „Éï„Ç°„Ç§„É´Êã°ÂºµÂ≠êÂèñÂæó
*/
_getFileExtension(format) {
const extensions = {
'markdown': 'md',
'json': 'json',
'text': 'txt'
};
return extensions[format] || 'md';
}
/**
* „Çø„Ç§„É†„Çπ„Çø„É≥„Éó„Éï„Ç©„Éº„Éû„ÉÉ„Éà
*/
formatTimestamp(date) {
const yy = String(date.getFullYear()).slice(2);
const mm = String(date.getMonth() + 1).padStart(2, '0');
const dd = String(date.getDate()).padStart(2, '0');
const hh = String(date.getHours()).padStart(2, '0');
const min = String(date.getMinutes()).padStart(2, '0');
const ss = String(date.getSeconds()).padStart(2, '0');
return `${yy}${mm}${dd}-${hh}${min}${ss}`;
}
// =================================================================================
// STATISTICS - Áµ±Ë®àË®àÁÆóÊ©üËÉΩ
// =================================================================================
/**
* Âπ≥ÂùáÈáçË¶ÅÂ∫¶Ë®àÁÆó
*/
calculateAverageImportance(insights) {
if (insights.length === 0) return 0;
const total = insights.reduce((sum, insight) => {
return sum + (insight.quality_scores?.importance || 0.5);
}, 0);
return Math.round((total / insights.length) * 100);
}
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®àË®àÁÆó
*/
calculateSessionStats(session) {
const insights = session.insights || [];
const aiEnhanced = insights.filter(i => i.dna_enhanced).length;
const avgImportance = this.calculateAverageImportance(insights);
return {
totalInsights: insights.length,
aiEnhanced,
aiEnhancedRatio: insights.length > 0 ? Math.round((aiEnhanced / insights.length) * 100) : 0,
avgImportance,
category: session.meta.category,
participant: session.meta.participant,
theme: session.meta.theme
};
}
// =================================================================================
// ALL KNOWLEDGE DOWNLOAD - ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ
// =================================================================================
/**
* ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
*/
async downloadAllKnowledge() {
console.log('üß¨ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÈñãÂßã');
try {
// „Éá„Éº„Çø„Éô„Éº„ÇπÂèñÂæó
const database = this._getDatabase();
if (!database || database.totalInsights === 0) {
this._showMessage('info', '‰øùÂ≠ò„Åï„Çå„ÅüÁü•Ë¶ã„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂÆå‰∫Ü„Åó„Å¶Áü•Ë¶ã„ÇíËìÑÁ©ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
// „Éó„É≠„Ç∞„É¨„ÇπË°®Á§∫
this._showMessage('info', `üîÑ ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥ÂàÜ„ÅÆÂÖ®Áü•Ë¶ã„ÇíÊï¥ÁêÜ‰∏≠...`);
// ÂÖ®Áü•Ë¶ãÁµ±Âêà
const allInsights = this._consolidateAllInsights(database);
// AIÊï¥ÁêÜ
const enhancedDatabase = await this._enhanceAllKnowledgeWithAI(database, allInsights);
// „Éï„Ç°„Ç§„É´ÁîüÊàê
const fileContent = this.buildAllKnowledgeFileContent(enhancedDatabase, allInsights);
const timestamp = this.formatTimestamp(new Date());
const filename = `ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ_KnowledgeDNA_${timestamp}.md`;
// „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
const success = this.downloadFile(fileContent, filename);
if (success) {
this._showMessage('success', `üéâ ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„Äå${filename}„Äç„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ`);
console.log('‚úÖ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂÆå‰∫Ü');
} else {
throw new Error('„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
this._showMessage('error', 'ÂÖ®Áü•Ë¶ã„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');
}
}
/**
* ÂÖ®Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâ
*/
buildAllKnowledgeFileContent(database, allInsights) {
const timestamp = new Date().toLocaleString('ja-JP');
let content = '';
// „É°„Çø„Éá„Éº„Çø„Çª„ÇØ„Ç∑„Éß„É≥
content += '---\n';
content += '# ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„É°„Çø„Éá„Éº„Çø\n';
content += `archive_meta:\n`;
content += ` archive_id: "fukabori_all_knowledge_${new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)}"\n`;
content += ` generated_date: "${new Date().toISOString()}"\n`;
content += ` total_sessions: ${database.totalSessions}\n`;
content += ` total_insights: ${database.totalInsights}\n`;
content += ` data_period: "${database.sessions.length > 0 ?
`${database.sessions[database.sessions.length - 1].date} ÔΩû ${database.sessions[0].date}` : 'Êú™Ë®òÈå≤'}"\n`;
content += ` knowledge_dna_version: "1.0"\n`;
content += ` format_version: "comprehensive_archive_v1.0"\n`;
content += '\n';
content += '# „Ç¢„Éº„Ç´„Ç§„ÉñÊ¶ÇË¶Å\n';
content += `summary:\n`;
content += ` overview: "Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅßËìÑÁ©ç„Åó„ÅüÂÖ®Áü•Ë¶ã„ÅÆÂåÖÊã¨ÁöÑ„Ç¢„Éº„Ç´„Ç§„Éñ"\n`;
content += ` sessions_included: ${database.totalSessions}\n`;
content += ` insights_included: ${database.totalInsights}\n`;
content += ` ai_enhanced: true\n`;
content += ` cross_session_analysis: true\n`;
content += '\n';
content += '---\n\n';
// „Çø„Ç§„Éà„É´
content += `# üß¨ Ê∑±Â†Ä„Åè„ÇìÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ - Knowledge DNA\n\n`;
content += `> Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅßËìÑÁ©ç„Åó„ÅüÂÖ®Áü•Ë¶ã„ÅÆÂåÖÊã¨ÁöÑ„Ç¢„Éº„Ç´„Ç§„Éñ\n\n`;
content += `**üìä „Ç¢„Éº„Ç´„Ç§„ÉñÁµ±Ë®à**\n`;
content += `- Á∑è„Çª„ÉÉ„Ç∑„Éß„É≥Êï∞: ${database.totalSessions}\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${database.totalInsights}\n`;
content += `- ÁîüÊàêÊó•ÊôÇ: ${timestamp}\n`;
content += `- ÂàÜÊûêÊúüÈñì: ${database.sessions.length > 0 ?
`${database.sessions[database.sessions.length - 1].date} ÔΩû ${database.sessions[0].date}` : 'Êú™Ë®òÈå≤'}\n\n`;
// ÂêÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÁü•Ë¶ã
database.sessions.forEach((session, sessionIndex) => {
content += `## üìã „Çª„ÉÉ„Ç∑„Éß„É≥ ${sessionIndex + 1}: ${session.metadata.title}\n\n`;
content += `**Âü∫Êú¨ÊÉÖÂ†±**\n`;
content += `- Êó•ÊôÇ: ${new Date(session.date).toLocaleString('ja-JP')}\n`;
content += `- „ÉÜ„Éº„Éû: ${session.metadata.theme}\n`;
content += `- „Ç´„ÉÜ„Ç¥„É™„Éº: ${session.metadata.category}\n`;
content += `- ÂèÇÂä†ËÄÖ: ${session.metadata.participant}\n`;
content += `- Áü•Ë¶ãÊï∞: ${session.insights.length}\n\n`;
// ÂêÑÁü•Ë¶ã„ÅÆË©≥Á¥∞
session.insights.forEach((insight, index) => {
content += `### üìò Áü•Ë¶ã ${sessionIndex + 1}-${index + 1}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ
if (insight.enhanced_content && insight.dna_enhanced) {
content += `**üìù AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ**\n`;
let enhancedText = insight.enhanced_content;
if (typeof enhancedText === 'string' && enhancedText.startsWith('{')) {
try {
const parsed = JSON.parse(enhancedText);
if (parsed.enhanced) {
enhancedText = parsed.enhanced;
}
} catch (e) {
console.warn('Enhanced content JSONËß£ÊûêÂ§±Êïó:', e);
}
}
content += `${enhancedText}\n\n`;
if (insight.summary && insight.summary !== 'AIÊï¥ÁêÜÊ∏à„Åø') {
content += `**üìã Ë¶ÅÁ¥Ñ**\n`;
content += `${insight.summary}\n\n`;
}
if (insight.background && insight.background.trim()) {
content += `**üîç ËÉåÊôØ„ÉªÂâçÊèê**\n`;
content += `${insight.background}\n\n`;
}
if (insight.actionable_points && insight.actionable_points.length > 0) {
content += `**üí° ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà**\n`;
insight.actionable_points.forEach(point => {
content += `- ${point}\n`;
});
content += `\n`;
}
if (insight.keywords && insight.keywords.length > 0) {
content += `**üè∑Ô∏è „Ç≠„Éº„ÉØ„Éº„Éâ**\n`;
content += `${insight.keywords.join(', ')}\n\n`;
}
if (insight.related_concepts && insight.related_concepts.length > 0) {
content += `**üîó Èñ¢ÈÄ£Ê¶ÇÂøµ**\n`;
content += `${insight.related_concepts.join(', ')}\n\n`;
}
} else {
// ÂæìÊù•„ÅÆË°®Á§∫ÂΩ¢Âºè
content += `**üìù ÂÜÖÂÆπ**\n`;
content += `${insight.content}\n\n`;
if (insight.context) {
content += `**üîç ËÉåÊôØ„ÉªÁä∂Ê≥Å**\n`;
content += `${insight.context.situation || 'Ë©≥Á¥∞„Å™ËÉåÊôØÊÉÖÂ†±„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô'}\n\n`;
}
}
// Knowledge DNAÊÉÖÂ†±
content += `**üß¨ Knowledge DNA**\n`;
content += `- üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„Éº: ${session.metadata.category}\n`;
if (insight.categories && insight.categories.length > 0) {
content += `- üéØ AIÂàÜÊûê„Ç´„ÉÜ„Ç¥„É™„Éº: ${insight.categories.join(', ')}\n`;
}
content += `- ‚≠ê ÈáçË¶ÅÂ∫¶: ${insight.quality_scores?.importance ? Math.round(insight.quality_scores.importance * 100) : 50}%\n`;
content += `- üéØ ‰ø°È†ºÂ∫¶: ${insight.quality_scores?.confidence ? Math.round(insight.quality_scores.confidence * 100) : 50}%\n`;
content += `- üîó „Çª„ÉÉ„Ç∑„Éß„É≥ID: ${session.sessionId}\n`;
content += `- üìÖ ÊäΩÂá∫Êó•ÊôÇ: ${insight.timestamp}\n`;
content += `- ü§ñ AIÊï¥ÁêÜ: ${insight.dna_enhanced ? '‚úÖ ÂÆå‰∫Ü' : '‚ùå Êú™ÂÆüË°å'}\n`;
content += `\n---\n\n`;
});
});
// Ê®™Êñ≠ÁöÑÂàÜÊûê
content += `## üîç Ê®™Êñ≠ÁöÑÁü•Ë¶ãÂàÜÊûê\n\n`;
content += `**üìä ÂÖ®‰ΩìÁµ±Ë®à**\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${database.totalInsights}\n`;
content += `- Á∑è„Çª„ÉÉ„Ç∑„Éß„É≥Êï∞: ${database.totalSessions}\n`;
content += `- Âπ≥ÂùáÁü•Ë¶ãÊï∞/„Çª„ÉÉ„Ç∑„Éß„É≥: ${database.totalSessions > 0 ? Math.round(database.totalInsights / database.totalSessions) : 0}\n`;
content += `- AIÊï¥ÁêÜÊ∏à„ÅøÁü•Ë¶ãÊï∞: ${allInsights.filter(i => i.dna_enhanced).length}\n`;
content += `- AIÊï¥ÁêÜÁéá: ${database.totalInsights > 0 ? Math.round((allInsights.filter(i => i.dna_enhanced).length / database.totalInsights) * 100) : 0}%\n\n`;
// Ê®™Êñ≠ÁöÑÈñ¢‰øÇÊÄß
content += `**üîó Ê®™Êñ≠ÁöÑÈñ¢‰øÇÊÄß**\n`;
if (database.totalSessions > 1) {
content += `- ${database.totalSessions}„Çª„ÉÉ„Ç∑„Éß„É≥Èñì„ÅÆÊ®™Êñ≠ÁöÑÁü•Ë¶ãÈñ¢‰øÇÊÄß„ÇíÂàÜÊûê\n`;
content += `- ÂÖ±ÈÄö„ÉÜ„Éº„Éû„Å®„Ç≠„Éº„ÉØ„Éº„Éâ„Åã„ÇâÁü•Ë¶ãÁ∂ôÊâø„Éë„Çø„Éº„É≥„ÇíÊäΩÂá∫\n`;
content += `- „Çà„ÇäÂ§ö„Åè„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅåËìÑÁ©ç„Åï„Çå„Çã„Å®„ÄÅÁü•Ë¶ãÈÄ≤Âåñ„ÅÆËªåË∑°„ÅåÂèØË¶ñÂåñ„Åï„Çå„Åæ„Åô\n`;
} else {
content += `- Âçò‰∏Ä„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆ„Åü„ÇÅ„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥ÈñìÈñ¢ÈÄ£ÊÄßÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n`;
}
content += `\n`;
content += `---\n\n`;
content += `## üß¨ Knowledge DNAÁ∂ôÊâøÊÉÖÂ†±\n\n`;
content += `„Åì„ÅÆ„Ç¢„Éº„Ç´„Ç§„Éñ„ÅØÊ∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅÆKnowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Å£„Å¶ÁîüÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇ\n`;
content += `ÂêÑÁü•Ë¶ã„ÅØÂÄãÂà•„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆ„ÄåÁü•Ë¶ãDL„Äç„Å®ÂêåÁ≠â„ÅÆË©≥Á¥∞Â∫¶„ÅßË®òÈå≤„Åï„Çå„Å¶„Åä„Çä„ÄÅ\n`;
content += `ÂÖ®„Çª„ÉÉ„Ç∑„Éß„É≥Ê®™Êñ≠„ÅÆÂåÖÊã¨ÁöÑÂàÜÊûê„ÇÇÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n\n`;
content += `**üîß „Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±**\n`;
content += `- Knowledge DNAÁâà: v1.0\n`;
content += `- „Ç¢„Éº„Ç´„Ç§„ÉñÂΩ¢Âºè: ÂåÖÊã¨ÁöÑË©≥Á¥∞Áâà\n`;
content += `- ÁîüÊàê„Ç®„É≥„Ç∏„É≥: ÂÖ®Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Ç∑„Çπ„ÉÜ„É†\n`;
content += `- ÂìÅË≥™‰øùË®º: ÂÄãÂà•„ÄåÁü•Ë¶ãDL„ÄçÂêåÁ≠â\n\n`;
return content;
}
// =================================================================================
// UTILITY METHODS - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£„É°„ÇΩ„ÉÉ„Éâ
// =================================================================================
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„ÇøÂèñÂæó
*/
_getSessionData(sessionData) {
if (sessionData) return sessionData;
// KnowledgeState„Åã„ÇâÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂèñÂæó
if (window.KnowledgeState?.currentSession) {
return window.KnowledgeState.currentSession;
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Á©∫„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíËøî„Åô
console.warn('‚ö†Ô∏è „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ');
return null;
}
/**
* „Éá„Éº„Çø„Éô„Éº„ÇπÂèñÂæó
*/
_getDatabase() {
try {
if (window.FukaboriKnowledgeDatabase?.load) {
return window.FukaboriKnowledgeDatabase.load();
}
console.warn('‚ö†Ô∏è FukaboriKnowledgeDatabase „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return null;
} catch (error) {
console.error('‚ùå „Éá„Éº„Çø„Éô„Éº„ÇπÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
}
/**
* ÂÖ®Áü•Ë¶ãÁµ±Âêà
*/
_consolidateAllInsights(database) {
const allInsights = [];
database.sessions.forEach(session => {
session.insights.forEach(insight => {
allInsights.push({
...insight,
sessionInfo: {
date: session.date,
theme: session.metadata.theme,
sessionId: session.sessionId
}
});
});
});
return allInsights;
}
/**
* AIÊï¥ÁêÜÔºàÂÖ®Áü•Ë¶ãÔºâ
*/
async _enhanceAllKnowledgeWithAI(database, allInsights) {
try {
if (window.enhanceAllKnowledgeWithAI) {
return await window.enhanceAllKnowledgeWithAI(database, allInsights);
}
console.warn('‚ö†Ô∏è enhanceAllKnowledgeWithAI „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return database;
} catch (error) {
console.error('‚ùå AIÊï¥ÁêÜ„Ç®„É©„Éº:', error);
return database;
}
}
/**
* „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
*/
_showMessage(type, message) {
if (typeof window.showMessage === 'function') {
window.showMessage(type, message);
} else {
console.log(`[${type.toUpperCase()}] ${message}`);
}
}
// =================================================================================
// INITIALIZATION - ÂàùÊúüÂåñÂá¶ÁêÜ
// =================================================================================
/**
* FileManagerÂàùÊúüÂåñ
*/
async initialize() {
console.log('üìÑ FileManager ÂàùÊúüÂåñÈñãÂßã...');
try {
// ‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
const dependencies = this._checkDependencies();
if (dependencies.missing.length > 0) {
console.warn('‚ö†Ô∏è ‰∏çË∂≥„Åó„Å¶„ÅÑ„Çã‰æùÂ≠òÈñ¢‰øÇ:', dependencies.missing);
}
// ÊúÄÂ∞è‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
if (!dependencies.canOperate) {
console.error('‚ùå ÊúÄÂ∞è‰æùÂ≠òÈñ¢‰øÇ„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô');
return false;
}
console.log('‚úÖ FileManager ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå FileManager ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
/**
* ‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
*/
_checkDependencies() {
const dependencies = {
knowledgeState: !!window.KnowledgeState,
showMessage: typeof window.showMessage === 'function',
database: !!window.FukaboriKnowledgeDatabase
};
const missing = Object.entries(dependencies)
.filter(([key, value]) => !value)
.map(([key]) => key);
return {
all: dependencies,
missing,
canOperate: dependencies.knowledgeState && dependencies.showMessage
};
}
}
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// FileManager„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàê
const fileManager = new FileManager();
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.FileManager = fileManager;
// ÂÄãÂà•Èñ¢Êï∞„ÇÇÂÖ¨ÈñãÔºàÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÔºâ
window.downloadAllKnowledge = (...args) => fileManager.downloadAllKnowledge(...args);
window.buildAllKnowledgeFileContent = (...args) => fileManager.buildAllKnowledgeFileContent(...args);
console.log('‚úÖ FileManager Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üìÑ ‰∏ªË¶ÅÊ©üËÉΩ:');
console.log(' - FileManager.generateKnowledgeFile() // „Éï„Ç°„Ç§„É´ÁîüÊàê');
console.log(' - FileManager.downloadAllKnowledge() // ÂÖ®Áü•Ë¶ãDL');
console.log(' - FileManager.buildFileContent() // „Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâ');
console.log(' - FileManager.downloadFile() // „Éï„Ç°„Ç§„É´DL');
})();
/* === ai-manager.js === */
// =================================================================================
// AI MANAGER - AIÁµ±ÂêàÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
//
// üéØ ÁõÆÁöÑ: AIÈñ¢ÈÄ£Ê©üËÉΩ„ÅÆÁµ±ÂêàÁÆ°ÁêÜ
// - Knowledge DNA„Ç∑„Çπ„ÉÜ„É† (Áü•Ë¶ã„É™„É©„Ç§„Éà„ÉªÈñ¢‰øÇÊÄßÂàÜÊûê)
// - QualityAssessmentSystem (ÂìÅË≥™Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É†)
// - AIÈÄö‰ø°„Ç≥„Ç¢ (gptMessagesToCharacterResponse)
// - AIÁü•Ë¶ãÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É† (enhanceKnowledgeWithAI)
// - „Éó„É≠„É≥„Éó„ÉàÁÆ°ÁêÜ (AI_PROMPTSÁµ±Âêà)
//
// üîß Phase 2-4: SessionController„ÉªDataManager„ÉªFileManagerÂÆå‰∫ÜÂæå„ÅÆÁµ±Âêà
// üìù „É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞ÂÆüÊñΩÊó•: 2025-01-07
// =================================================================================
/**
* ü§ñ AIManager - AIÁµ±ÂêàÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
*
* ÂÖ®„Å¶„ÅÆAIÈñ¢ÈÄ£Ê©üËÉΩ„ÇíÁµ±ÂêàÁÆ°ÁêÜ„Åó„ÄÅÂçò‰∏ÄË≤¨‰ªª„ÅÆÂéüÂâá„Å´Âü∫„Å•„ÅÑ„Å¶
* AIÈÄö‰ø°„ÄÅÁü•Ë¶ãÂàÜÊûê„ÄÅÂìÅË≥™Ë©ï‰æ°„Çí‰∏ÄÂÖÉÂåñ„Åó„Åæ„Åô„ÄÇ
*/
class AIManager {
constructor() {
this.isInitialized = false;
this.initializationPromise = null;
this.initializationStatus = 'pending'; // pending, in_progress, completed, failed
this.apiKeyProvider = null;
this.uiProvider = null;
this.initTime = new Date();
this.initError = null;
// AIÂá¶ÁêÜË®≠ÂÆö
this.settings = {
model: 'gpt-4o-mini',
maxTokens: 800,
temperature: 0.7,
systemTimeout: 30000,
retryAttempts: 3,
retryDelay: 1000
};
// ÂìÅË≥™Ë©ï‰æ°ÈñæÂÄ§
this.qualityThresholds = {
confidence: 0.7,
importance: 0.6,
actionability: 0.5,
minimum_overall: 0.6,
auto_accept: 0.8,
auto_reject: 0.3
};
console.log('ü§ñ AIManagerÂàùÊúüÂåñÈñãÂßã...');
}
/**
* üîß AIManagerÂàùÊúüÂåñ
*
* @param {Object} options - ÂàùÊúüÂåñ„Ç™„Éó„Ç∑„Éß„É≥
* @param {Function} options.apiKeyProvider - API„Ç≠„ÉºÂèñÂæóÈñ¢Êï∞
* @param {Object} options.uiProvider - UIÊìç‰Ωú„Éó„É≠„Éê„Ç§„ÉÄ„Éº
*/
async initialize(options = {}) {
// Êó¢„Å´ÂàùÊúüÂåñ„ÅåÈÄ≤Ë°å‰∏≠„ÅÆÂ†¥Âêà„ÅØ„ÄÅ„Åù„ÅÆ Promise „ÇíËøî„Åô
if (this.initializationPromise) {
return this.initializationPromise;
}
// Êó¢„Å´ÂàùÊúüÂåñ„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
if (this.isInitialized && this.initializationStatus === 'completed') {
console.log('‚úÖ AIManager: Êó¢„Å´ÂàùÊúüÂåñÊ∏à„Åø');
return true;
}
// ÂàùÊúüÂåñ Promise „Çí‰ΩúÊàê
this.initializationPromise = this._performInitialization(options);
return this.initializationPromise;
}
/**
* üîß AIManagerÂÆüÈöõ„ÅÆÂàùÊúüÂåñÂá¶ÁêÜ
*
* @private
* @param {Object} options - ÂàùÊúüÂåñ„Ç™„Éó„Ç∑„Éß„É≥
*/
async _performInitialization(options = {}) {
try {
this.initializationStatus = 'in_progress';
console.log('üîÑ AIManagerÂàùÊúüÂåñÂÆüË°å‰∏≠...');
// ‰æùÂ≠òÈñ¢‰øÇ„ÅÆÁ¢∫Ë™ç
if (!options.apiKeyProvider) {
throw new Error('API„Ç≠„Éº„Éó„É≠„Éê„Ç§„ÉÄ„Éº„ÅåÂøÖË¶Å„Åß„Åô');
}
this.apiKeyProvider = options.apiKeyProvider;
this.uiProvider = options.uiProvider || this._createDefaultUIProvider();
// „Éó„É≠„É≥„Éó„ÉàÁÆ°ÁêÜ„ÅÆÂàùÊúüÂåñ
this._initializePromptManager();
// Êé•Á∂ö„ÉÜ„Çπ„Éà
await this._testConnection();
this.isInitialized = true;
this.initializationStatus = 'completed';
this.initError = null;
console.log('‚úÖ AIManagerÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå AIManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
this.isInitialized = false;
this.initializationStatus = 'failed';
this.initError = error;
throw error;
}
}
/**
* üîß ÂàùÊúüÂåñÂÆå‰∫Ü„ÇíÂæÖÊ©ü
*
* @param {number} timeout - „Çø„Ç§„É†„Ç¢„Ç¶„ÉàÊôÇÈñìÔºàmsÔºâ
* @returns {Promise<boolean>} ÂàùÊúüÂåñÊàêÂäüÁä∂ÊÖã
*/
async waitForInitialization(timeout = 30000) {
// Êó¢„Å´ÂàùÊúüÂåñ„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
if (this.isInitialized && this.initializationStatus === 'completed') {
return true;
}
// ÂàùÊúüÂåñ„ÅåÂ§±Êïó„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
if (this.initializationStatus === 'failed') {
throw new Error(`AIManagerÂàùÊúüÂåñ„Å´Â§±Êïó: ${this.initError?.message || 'Unknown error'}`);
}
// ÂàùÊúüÂåñPromise„ÅåÂ≠òÂú®„Åô„ÇãÂ†¥Âêà„ÅØÂæÖÊ©ü
if (this.initializationPromise) {
try {
const result = await Promise.race([
this.initializationPromise,
new Promise((_, reject) =>
setTimeout(() => reject(new Error('AIManagerÂàùÊúüÂåñ„Çø„Ç§„É†„Ç¢„Ç¶„Éà')), timeout)
)
]);
return result;
} catch (error) {
console.error('‚ùå AIManagerÂàùÊúüÂåñÂæÖÊ©ü„Ç®„É©„Éº:', error);
throw error;
}
}
// ÂàùÊúüÂåñ„ÅåÈñãÂßã„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà
throw new Error('AIManagerÂàùÊúüÂåñ„ÅåÈñãÂßã„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
/**
* üîß ‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
*/
checkDependencies() {
const dependencies = {
apiKeyProvider: !!this.apiKeyProvider,
uiProvider: !!this.uiProvider,
prompts: !!window.AI_PROMPTS,
initialized: this.isInitialized,
initializationStatus: this.initializationStatus,
initError: this.initError?.message || null
};
console.log('üîç AIManager‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ:', dependencies);
return dependencies;
}
// =================================================================================
// AIÈÄö‰ø°„Ç≥„Ç¢Ê©üËÉΩ
// =================================================================================
/**
* ü§ñ AI„Ç≠„É£„É©„ÇØ„Çø„ÉºÈÄö‰ø°„É°„Ç§„É≥Èñ¢Êï∞
*
* @param {Array} messages - „É°„ÉÉ„Çª„Éº„Ç∏ÈÖçÂàó
* @param {string} character - „Ç≠„É£„É©„ÇØ„Çø„ÉºÂêç (nehori/hahori/system)
* @returns {Promise<string>} AIÂøúÁ≠î
*/
async sendToCharacter(messages, character) {
if (!this.isInitialized) {
throw new Error('AIManager„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
const apiKey = await this.apiKeyProvider();
if (!apiKey) {
throw new Error('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
try {
console.log(`ü§ñ AIÈÄö‰ø°ÈñãÂßã: ${character}`);
// „Ç≠„É£„É©„ÇØ„Çø„Éº„Éó„É≠„É≥„Éó„Éà„ÅÆÂèñÂæó
const characterPrompt = this._getCharacterPrompt(character);
// APIÂëº„Å≥Âá∫„Åó
const response = await this._callOpenAI({
messages: [
{ role: 'system', content: characterPrompt },
...messages
]
});
console.log(`‚úÖ AIÈÄö‰ø°ÂÆå‰∫Ü: ${character}`);
return response;
} catch (error) {
console.error(`‚ùå AIÈÄö‰ø°„Ç®„É©„Éº (${character}):`, error);
throw error;
}
}
/**
* üîß OpenAI APIÂëº„Å≥Âá∫„Åó („É™„Éà„É©„Ç§Ê©üËÉΩ‰ªò„Åç)
*/
async _callOpenAI(payload, retryCount = 0) {
try {
// ‰∏çÊ≠£„Å™„Éë„É©„É°„Éº„Çø„ÇíÈô§Â§ñ„Åó„Å¶API„É™„ÇØ„Ç®„Çπ„Éà„ÇíÊßãÁØâ
const {
maxTokens, // ‰∏çÊ≠£„Å™„Éë„É©„É°„Éº„Çø„ÇíÈô§Â§ñ
...validPayload
} = payload;
const requestBody = {
model: this.settings.model,
max_tokens: this.settings.maxTokens,
temperature: this.settings.temperature,
...validPayload
};
console.log('üîß API„É™„ÇØ„Ç®„Çπ„ÉàÊßãÁØâ:', {
model: requestBody.model,
max_tokens: requestBody.max_tokens,
temperature: requestBody.temperature,
messages: requestBody.messages?.length || 0
});
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Authorization': `Bearer ${await this.apiKeyProvider()}`,
'Content-Type': 'application/json'
},
body: JSON.stringify(requestBody)
});
if (!response.ok) {
const errorData = await response.json();
throw new Error(`OpenAI API Error: ${errorData.error?.message || response.statusText}`);
}
const result = await response.json();
return result.choices[0].message.content;
} catch (error) {
if (retryCount < this.settings.retryAttempts) {
console.warn(`‚ö†Ô∏è APIÂëº„Å≥Âá∫„ÅóÂ§±Êïó„ÄÅ„É™„Éà„É©„Ç§ ${retryCount + 1}/${this.settings.retryAttempts}`);
await this._delay(this.settings.retryDelay * (retryCount + 1));
return this._callOpenAI(payload, retryCount + 1);
}
throw error;
}
}
// =================================================================================
// Knowledge DNA„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* üß¨ Áü•Ë¶ã„É™„É©„Ç§„Éà„ÉªÊï¥ÁêÜÊ©üËÉΩ
*
* @param {string} insightText - Áü•Ë¶ã„ÉÜ„Ç≠„Çπ„Éà
* @param {Object} context - ÊñáËÑàÊÉÖÂ†±
* @returns {Promise<Object>} Êï¥ÁêÜÁµêÊûú
*/
async rewriteInsightForClarity(insightText, context = {}) {
if (!insightText?.trim()) {
return {
enhanced: insightText,
summary: 'ÊÉÖÂ†±‰∏çË∂≥„ÅÆ„Åü„ÇÅÊï¥ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åó„Åü',
categories: [],
keywords: []
};
}
try {
console.log('üß¨ Áü•Ë¶ã„É™„É©„Ç§„ÉàÂá¶ÁêÜÈñãÂßã:', insightText.substring(0, 50) + '...');
const prompt = this._buildRewritePrompt(insightText, context);
const response = await this.sendToCharacter([
{ role: 'user', content: `‰ª•‰∏ã„ÅÆÁü•Ë¶ã„ÇíÊï¥ÁêÜ„Éª„É™„É©„Ç§„Éà„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö\n\n${insightText}` }
], 'system');
const analysis = this._parseRewriteResponse(response);
console.log('‚úÖ Áü•Ë¶ã„É™„É©„Ç§„ÉàÂÆå‰∫Ü');
return analysis;
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„É™„É©„Ç§„Éà„Ç®„É©„Éº:', error);
return {
enhanced: insightText,
summary: '„É™„É©„Ç§„ÉàÂá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü',
categories: [],
keywords: []
};
}
}
/**
* üï∏Ô∏è Áü•Ë¶ãÈñ¢‰øÇÊÄßÂàÜÊûê
*
* @param {Array} insights - Áü•Ë¶ãÈÖçÂàó
* @returns {Promise<Object>} Èñ¢‰øÇÊÄßÂàÜÊûêÁµêÊûú
*/
async analyzeKnowledgeRelationships(insights) {
if (!insights || insights.length < 2) {
return {
clusters: [],
relationships: [],
themes: []
};
}
try {
console.log('üï∏Ô∏è Áü•Ë¶ãÈñ¢‰øÇÊÄßÂàÜÊûêÈñãÂßã...');
const prompt = this._buildRelationshipPrompt();
const insightTexts = insights.map(insight => insight.content).join('\n---\n');
const response = await this.sendToCharacter([
{ role: 'user', content: `‰ª•‰∏ã„ÅÆÁü•Ë¶ãÁæ§„ÅÆÈñ¢‰øÇÊÄß„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö\n\n${insightTexts}` }
], 'system');
const analysis = this._parseRelationshipResponse(response);
console.log('‚úÖ Áü•Ë¶ãÈñ¢‰øÇÊÄßÂàÜÊûêÂÆå‰∫Ü');
return analysis;
} catch (error) {
console.error('‚ùå Áü•Ë¶ãÈñ¢‰øÇÊÄßÂàÜÊûê„Ç®„É©„Éº:', error);
return {
clusters: [],
relationships: [],
themes: []
};
}
}
/**
* üß¨ Áü•Ë¶ãDNAÁîüÊàê
*
* @param {Object} insight - Áü•Ë¶ã„Éá„Éº„Çø
* @param {Object} enhancement - Êã°Âºµ„Éá„Éº„Çø
* @param {Array} relationships - Èñ¢‰øÇÊÄß„Éá„Éº„Çø
* @returns {Object} Áü•Ë¶ãDNA
*/
generateKnowledgeDNA(insight, enhancement, relationships) {
const dna = {
id: insight.id,
original: insight.content,
enhanced: enhancement.enhanced,
summary: enhancement.summary,
categories: enhancement.categories,
keywords: enhancement.keywords,
background: enhancement.background,
actionable_points: enhancement.actionable_points,
related_concepts: enhancement.related_concepts,
relationships: relationships.filter(rel =>
rel.from === insight.index || rel.to === insight.index
),
quality_scores: insight.quality_scores || {},
timestamp: insight.timestamp,
dna_version: "1.0"
};
return dna;
}
// =================================================================================
// ÂìÅË≥™Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* üéØ Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°
*
* @param {string} insightText - Áü•Ë¶ã„ÉÜ„Ç≠„Çπ„Éà
* @param {string} conversationContext - ‰ºöË©±ÊñáËÑà
* @returns {Promise<Object>} ÂìÅË≥™Ë©ï‰æ°ÁµêÊûú
*/
async evaluateInsightQuality(insightText, conversationContext) {
if (!insightText?.trim()) {
return null;
}
try {
console.log('üîç Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÈñãÂßã...');
const evaluationPrompt = this._buildQualityEvaluationPrompt(insightText, conversationContext);
const response = await this.sendToCharacter([
{ role: 'user', content: evaluationPrompt }
], 'system');
const evaluation = this._parseQualityEvaluation(response);
console.log('‚úÖ Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÂÆå‰∫Ü:', evaluation);
return evaluation;
} catch (error) {
console.error('‚ùå ÂìÅË≥™Ë©ï‰æ°„Ç®„É©„Éº:', error);
return null;
}
}
/**
* üéØ ÂìÅË≥™Ë©ï‰æ°Áµ±ÂêàÂá¶ÁêÜ
*
* @param {string} insightText - Áü•Ë¶ã„ÉÜ„Ç≠„Çπ„Éà
* @param {string} conversationContext - ‰ºöË©±ÊñáËÑà
* @returns {Promise<Object>} Âá¶ÁêÜÁµêÊûú
*/
async processInsightWithQualityAssessment(insightText, conversationContext) {
try {
console.log('üéØ Áü•Ë¶ãÂìÅË≥™Ë©ï‰æ°„Éó„É≠„Çª„ÇπÈñãÂßã...');
// 1. ÂìÅË≥™Ë©ï‰æ°
const qualityEvaluation = await this.evaluateInsightQuality(insightText, conversationContext);
if (!qualityEvaluation) {
console.warn('‚ö†Ô∏è ÂìÅË≥™Ë©ï‰æ°„ÅåÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü');
return { accepted: false, reason: 'evaluation_failed' };
}
// 2. Ëá™ÂãïÂà§ÂÆö
if (qualityEvaluation.overall >= this.qualityThresholds.auto_accept &&
qualityEvaluation.recommendation === 'ACCEPT') {
console.log('‚úÖ È´òÂìÅË≥™Áü•Ë¶ã: Ëá™ÂãïÊâøË™ç');
return {
accepted: true,
reason: 'auto_accept',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
}
if (qualityEvaluation.overall < this.qualityThresholds.auto_reject ||
qualityEvaluation.recommendation === 'REJECT') {
console.log('‚ùå ‰ΩéÂìÅË≥™Áü•Ë¶ã: Ëá™ÂãïÂç¥‰∏ã');
return {
accepted: false,
reason: 'auto_reject',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
}
// 3. ‰∏≠ÈñìÂìÅË≥™„ÅØÊâãÂãïÁ¢∫Ë™ç
console.log('ü§î ‰∏≠ÈñìÂìÅË≥™: „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„ÅåÂøÖË¶Å');
const userApproved = await this._promptUserConfirmation(insightText, qualityEvaluation);
return {
accepted: userApproved,
reason: userApproved ? 'user_approved' : 'user_rejected',
evaluation: qualityEvaluation,
summary: qualityEvaluation.summary
};
} catch (error) {
console.error('‚ùå ÂìÅË≥™Ë©ï‰æ°„Éó„É≠„Çª„Çπ„Ç®„É©„Éº:', error);
return { accepted: false, reason: 'process_error' };
}
}
// =================================================================================
// AIÁü•Ë¶ãÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* ü§ñ AIÁü•Ë¶ãÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É† (Knowledge DNAÁµ±Âêà)
*
* @param {Object} session - „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø
* @param {boolean} showProgress - ÈÄ≤ÊçóË°®Á§∫„Éï„É©„Ç∞
* @returns {Promise<Object>} Êï¥ÁêÜÊ∏à„Åø„Çª„ÉÉ„Ç∑„Éß„É≥
*/
async enhanceKnowledgeWithAI(session, showProgress = true) {
try {
console.log('ü§ñ AIÁü•Ë¶ãÊï¥ÁêÜÈñãÂßã...');
if (showProgress) {
this.uiProvider.showProgress('üß¨ Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÁü•Ë¶ãÊï¥ÁêÜ‰∏≠...');
}
// Phase 1: Áü•Ë¶ãÊßãÈÄ†Âåñ„Éª„É™„É©„Ç§„Éà
console.log('üìù Phase 1: Áü•Ë¶ã„É™„É©„Ç§„Éà„ÉªÊßãÈÄ†ÂåñÈñãÂßã...');
const enhancedSession = { ...session };
enhancedSession.insights = [];
for (let i = 0; i < session.insights.length; i++) {
const insight = session.insights[i];
try {
if (showProgress) {
this.uiProvider.showProgress(`üîÑ Áü•Ë¶ã ${i + 1}/${session.insights.length} „ÇíÊï¥ÁêÜ‰∏≠...`);
}
// Áü•Ë¶ã„É™„É©„Ç§„ÉàÂá¶ÁêÜ
const enhancement = await this.rewriteInsightForClarity(
insight.content,
{ theme: session.meta.theme, category: session.meta.category }
);
// Êã°Âºµ„Åï„Çå„ÅüÁü•Ë¶ã„Éá„Éº„Çø„Çí‰ΩúÊàê
const enhancedInsight = {
...insight,
enhanced_content: enhancement.enhanced,
summary: enhancement.summary,
categories: enhancement.categories,
keywords: enhancement.keywords,
background: enhancement.background,
actionable_points: enhancement.actionable_points,
related_concepts: enhancement.related_concepts,
dna_enhanced: true
};
enhancedSession.insights.push(enhancedInsight);
} catch (error) {
console.error(`‚ùå Áü•Ë¶ã ${i + 1} „ÅÆÊï¥ÁêÜ„Ç®„É©„Éº:`, error);
// „Ç®„É©„ÉºÊôÇ„ÅØÂÖÉ„ÅÆÁü•Ë¶ã„Çí„Åù„ÅÆ„Åæ„ÅæËøΩÂä†
enhancedSession.insights.push({
...insight,
enhanced_content: insight.content,
summary: 'Êï¥ÁêÜÂá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü',
dna_enhanced: false
});
}
}
// Phase 2: Èñ¢‰øÇÊÄßÂàÜÊûê
console.log('üï∏Ô∏è Phase 2: Áü•Ë¶ãÈñ¢‰øÇÊÄßÂàÜÊûêÈñãÂßã...');
if (showProgress) {
this.uiProvider.showProgress('üï∏Ô∏è Áü•Ë¶ãÈñì„ÅÆÈñ¢‰øÇÊÄß„ÇíÂàÜÊûê‰∏≠...');
}
const relationships = await this.analyzeKnowledgeRelationships(enhancedSession.insights);
enhancedSession.knowledge_graph = relationships;
console.log('‚úÖ AIÁü•Ë¶ãÊï¥ÁêÜÂÆå‰∫Ü');
if (showProgress) {
this.uiProvider.showSuccess('üß¨ Knowledge DNA„Å´„Çà„ÇãÁü•Ë¶ãÊï¥ÁêÜ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ');
}
return enhancedSession;
} catch (error) {
console.error('‚ùå AIÁü•Ë¶ãÊï¥ÁêÜ„Ç®„É©„Éº:', error);
if (showProgress) {
this.uiProvider.showWarning('AIÊï¥ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„Åå„ÄÅÂü∫Êú¨„ÅÆÁü•Ë¶ã„ÅØ‰øùÂ≠ò„Åï„Çå„Åæ„Åô');
}
return session;
}
}
// =================================================================================
// „Éó„É≠„É≥„Éó„ÉàÁÆ°ÁêÜ
// =================================================================================
/**
* üîß „Éó„É≠„É≥„Éó„ÉàÁÆ°ÁêÜÂàùÊúüÂåñ
*/
_initializePromptManager() {
if (!window.AI_PROMPTS) {
console.warn('‚ö†Ô∏è AI_PROMPTS„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
this.prompts = window.AI_PROMPTS;
console.log('‚úÖ „Éó„É≠„É≥„Éó„ÉàÁÆ°ÁêÜÂàùÊúüÂåñÂÆå‰∫Ü');
}
/**
* üé≠ „Ç≠„É£„É©„ÇØ„Çø„Éº„Éó„É≠„É≥„Éó„ÉàÂèñÂæó
*/
_getCharacterPrompt(character) {
// „Ç∑„Çπ„ÉÜ„É†Âëº„Å≥Âá∫„ÅóÂØæÂøú
if (character === 'system') {
return '„ÅÇ„Å™„Åü„ÅØÊ∑±Â†Ä„Åè„Çì„ÅÆÁü•Ë¶ãÂàÜÊûê„ÇíÊãÖÂΩì„Åô„ÇãAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åß„Åô„ÄÇÊ≠£Á¢∫„ÅßÊúâÁî®„Å™ÂàÜÊûê„ÇíÊèê‰æõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
}
// Èü≥Â£∞Ë®≠ÂÆö„Åã„Çâ„Éó„É≠„É≥„Éó„ÉàÂèñÂæó
if (window.VoiceSettings && window.VoiceSettings[character]?.prompt?.trim()) {
return window.VoiceSettings[character].prompt;
}
// „Éá„Éï„Ç©„É´„Éà„Éó„É≠„É≥„Éó„Éà
const defaultPrompts = {
nehori: this.prompts?.NEHORI_BASE || '„ÅÇ„Å™„Åü„ÅØÂ•ΩÂ•áÂøÉÊó∫Áõõ„ÅßÂÖ±ÊÑüÂäõ„ÅÆÈ´ò„ÅÑÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„ÉºAI„Åß„Åô„ÄÇ',
hahori: this.prompts?.HAHORI_BASE || '„ÅÇ„Å™„Åü„ÅØÂÜ∑Èùô„ÅßË´ñÁêÜÁöÑ„Å™‰ºöË≠∞ÈÄ≤Ë°å„ÉªÁü•Ë¶ãÊï¥ÁêÜAI„Åß„Åô„ÄÇ'
};
return defaultPrompts[character] || defaultPrompts.nehori;
}
/**
* üîß „É™„É©„Ç§„ÉàÁî®„Éó„É≠„É≥„Éó„ÉàÊßãÁØâ
*/
_buildRewritePrompt(insightText, context) {
return `„ÅÇ„Å™„Åü„ÅØÁµÑÁπî„ÅÆÁü•Ë¶ã„ÇíÊï¥ÁêÜ„ÉªÊßãÈÄ†Âåñ„Åô„ÇãÂ∞ÇÈñÄAI„Åß„Åô„ÄÇ
„Äê„Çø„Çπ„ÇØ„Äë
Êèê‰æõ„Åï„Çå„ÅüÁü•Ë¶ã„Çí‰ª•‰∏ã„ÅÆË¶≥ÁÇπ„ÅßÊï¥ÁêÜ„Éª„É™„É©„Ç§„Éà„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
1. **ÊòéÁ¢∫Âåñ**: ÊõñÊòß„Å™Ë°®Áèæ„ÇíÂÖ∑‰ΩìÁöÑ„Å´
2. **ÊßãÈÄ†Âåñ**: Ë¶ÅÁÇπ„ÇíÊï¥ÁêÜ„Åó„Å¶Ë™≠„Åø„ÇÑ„Åô„Åè
3. **ËÉåÊôØË£úÂÆå**: ÊñáËÑà„ÇÑÂâçÊèê„ÇíÊòéÁ¢∫„Å´
4. **ÂÆüÁî®ÊÄßÂêë‰∏ä**: Ê¥ªÁî®„Åó„ÇÑ„Åô„ÅÑÂΩ¢„Å´Êï¥ÁêÜ
„ÄêÂá∫ÂäõÂΩ¢Âºè„Äë
‰ª•‰∏ã„ÅÆJSONÂΩ¢Âºè„ÅßÂõûÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
{
"enhanced": "„É™„É©„Ç§„Éà„Åï„Çå„ÅüÁü•Ë¶ãÂÜÖÂÆπ",
"summary": "Áü•Ë¶ã„ÅÆË¶ÅÁ¥ÑÔºà1-2Ë°åÔºâ",
"categories": ["„Ç´„ÉÜ„Ç¥„É™„Éº1", "„Ç´„ÉÜ„Ç¥„É™„Éº2"],
"keywords": ["„Ç≠„Éº„ÉØ„Éº„Éâ1", "„Ç≠„Éº„ÉØ„Éº„Éâ2", "„Ç≠„Éº„ÉØ„Éº„Éâ3"],
"background": "ËÉåÊôØ„ÉªÂâçÊèê„ÅÆË™¨Êòé",
"actionable_points": ["ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà1", "ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà2"],
"related_concepts": ["Èñ¢ÈÄ£Ê¶ÇÂøµ1", "Èñ¢ÈÄ£Ê¶ÇÂøµ2"]
}
„ÄêÊ≥®ÊÑè‰∫ãÈ†Ö„Äë
- ÂÖÉ„ÅÆÊÑèÂë≥„ÇíÂ§â„Åà„Åö„Å´„ÄÅ„Çà„ÇäÊòéÁ¢∫„ÅßÊ¥ªÁî®„Åó„ÇÑ„Åô„ÅÑË°®Áèæ„Å´
- Â∞ÇÈñÄÁî®Ë™û„ÅØÂøÖË¶Å„Å´Âøú„Åò„Å¶Ë™¨Êòé„Çí‰ΩµË®ò
- ÂÖ∑‰Ωì‰æã„Åå„ÅÇ„Çå„Å∞Ê¥ªÁî®„Åó„Å¶Ë™¨Êòé„ÇíË£úÂº∑
- ÁµÑÁπî„Åß„ÅÆÊ¥ªÁî®„ÇíÊÉ≥ÂÆö„Åó„ÅüÊï¥ÁêÜ„ÇíÂøÉ„Åå„Åë„Çã`;
}
/**
* üîß Èñ¢‰øÇÊÄßÂàÜÊûêÁî®„Éó„É≠„É≥„Éó„ÉàÊßãÁØâ
*/
_buildRelationshipPrompt() {
return `„ÅÇ„Å™„Åü„ÅØÁµÑÁπîÁü•Ë≠ò„ÅÆÈñ¢‰øÇÊÄß„ÇíÂàÜÊûê„Åô„ÇãÂ∞ÇÈñÄAI„Åß„Åô„ÄÇ
„Äê„Çø„Çπ„ÇØ„Äë
Êèê‰æõ„Åï„Çå„ÅüË§áÊï∞„ÅÆÁü•Ë¶ã„Åã„Çâ„ÄÅ‰ª•‰∏ã„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
1. **Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„Éº**: È°û‰ºº„ÉªÈñ¢ÈÄ£„Åô„ÇãÁü•Ë¶ã„ÅÆ„Ç∞„É´„Éº„ÉóÂåñ
2. **Èñ¢‰øÇÊÄß**: Áü•Ë¶ãÈñì„ÅÆÂõ†ÊûúÈñ¢‰øÇ„ÄÅ‰æùÂ≠òÈñ¢‰øÇ„ÄÅË£úÂÆåÈñ¢‰øÇ
3. **ÂÖ±ÈÄö„ÉÜ„Éº„Éû**: Áü•Ë¶ãÁæ§„Å´ÂÖ±ÈÄö„Åô„Çã‰∏ªË¶Å„ÉÜ„Éº„Éû
„ÄêÂá∫ÂäõÂΩ¢Âºè„Äë
‰ª•‰∏ã„ÅÆJSONÂΩ¢Âºè„ÅßÂõûÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
{
"clusters": [
{
"theme": "„ÇØ„É©„Çπ„Çø„ÉºÂêç",
"insights": [0, 1, 2],
"description": "„Åì„ÅÆ„ÇØ„É©„Çπ„Çø„Éº„ÅÆË™¨Êòé"
}
],
"relationships": [
{
"type": "Âõ†ÊûúÈñ¢‰øÇ",
"from": 0,
"to": 1,
"description": "Èñ¢‰øÇÊÄß„ÅÆË™¨Êòé"
}
],
"themes": [
{
"name": "‰∏ªË¶Å„ÉÜ„Éº„ÉûÂêç",
"frequency": 3,
"description": "„ÉÜ„Éº„Éû„ÅÆË™¨Êòé"
}
]
}
„ÄêÊ≥®ÊÑè‰∫ãÈ†Ö„Äë
- insights„ÅÆÈÖçÂàóÁï™Âè∑„ÅØ0„Åã„ÇâÈñãÂßã
- Èñ¢‰øÇÊÄß„ÅÆ„Çø„Ç§„ÉóÔºöÂõ†ÊûúÈñ¢‰øÇ„ÄÅË£úÂÆåÈñ¢‰øÇ„ÄÅÂØæÁ´ãÈñ¢‰øÇ„ÄÅÂâçÊèêÊù°‰ª∂„Å™„Å©
- ÊÑèÂë≥„ÅÆ„ÅÇ„ÇãÈñ¢‰øÇÊÄß„ÅÆ„Åø„ÇíÊäΩÂá∫`;
}
/**
* üîß ÂìÅË≥™Ë©ï‰æ°„Éó„É≠„É≥„Éó„ÉàÊßãÁØâ
*/
_buildQualityEvaluationPrompt(insightText, conversationContext) {
return `„ÅÇ„Å™„Åü„ÅØÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°„ÅÆÂ∞ÇÈñÄAI„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ
‰ª•‰∏ã„ÅÆÁô∫Ë®ÄÂÜÖÂÆπ„ÇíÂàÜÊûê„Åó„ÄÅ„Éì„Ç∏„Éç„Çπ„ÇÑÊ•≠Âãô„Å´„Åä„Åë„ÇãÁü•Ë¶ã„Å®„Åó„Å¶„ÅÆ‰æ°ÂÄ§„ÇíË©ï‰æ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
„ÄêË©ï‰æ°ÂØæË±°„ÅÆÁô∫Ë®Ä„Äë
${insightText}
„Äê‰ºöË©±„ÅÆÊñáËÑà„Äë
${conversationContext || 'Ôºà‰ºöË©±„ÅÆÊñáËÑàÊÉÖÂ†±„Å™„ÅóÔºâ'}
„ÄêË©ï‰æ°È†ÖÁõÆ„Äë
‰ª•‰∏ã„ÅÆÂêÑÈ†ÖÁõÆ„Çí0.0„Äú1.0„ÅßÊï∞ÂÄ§Ë©ï‰æ°„Åó„ÄÅÁ∑èÂêàÂà§ÂÆö„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑÔºö
1. ‰ø°È†ºÊÄßÔºàConfidenceÔºâ: Áô∫Ë®ÄÂÜÖÂÆπ„ÅÆÂÖ∑‰ΩìÊÄß„ÉªÊ†πÊã†„ÅÆÊòéÁ¢∫„Åï
2. ÈáçË¶ÅÊÄßÔºàImportanceÔºâ: „Éì„Ç∏„Éç„Çπ„ÉªÊ•≠Âãô„Å∏„ÅÆÂΩ±ÈüøÂ∫¶„Éª‰æ°ÂÄ§
3. ÂÆüË°åÂèØËÉΩÊÄßÔºàActionabilityÔºâ: ‰ªñ„ÅÆ‰∫∫„ÅåÊ¥ªÁî®„ÉªÂøúÁî®„Åß„Åç„ÇãÂÖ∑‰ΩìÊÄß
„ÄêÂá∫ÂäõÂΩ¢Âºè„Äë
‰ª•‰∏ã„ÅÆÂΩ¢Âºè„ÅßÊ≠£Á¢∫„Å´Âá∫Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö
CONFIDENCE: [0.0-1.0„ÅÆÊï∞ÂÄ§]
IMPORTANCE: [0.0-1.0„ÅÆÊï∞ÂÄ§]
ACTIONABILITY: [0.0-1.0„ÅÆÊï∞ÂÄ§]
OVERALL: [0.0-1.0„ÅÆÊï∞ÂÄ§]
RECOMMENDATION: [ACCEPT/REJECT]
SUMMARY: [Áü•Ë¶ã„ÅÆË¶ÅÁ¥ÑÔºà30ÊñáÂ≠ó‰ª•ÂÜÖÔºâ]
REASON: [Ë©ï‰æ°ÁêÜÁî±Ôºà100ÊñáÂ≠ó‰ª•ÂÜÖÔºâ]
ÂÆ¢Ë¶≥ÁöÑ„Åã„Å§Âé≥Ê†º„Å´Ë©ï‰æ°„Åó„ÄÅ‰ΩéÂìÅË≥™„Å™ÂÜÖÂÆπ„ÅØÈÅ†ÊÖÆ„Å™„ÅèREJECT„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
}
// =================================================================================
// ÂÜÖÈÉ®„Éò„É´„Éë„ÉºÈñ¢Êï∞
// =================================================================================
/**
* üîß „É™„É©„Ç§„ÉàÁµêÊûúËß£Êûê
*/
_parseRewriteResponse(response) {
try {
console.log('üîç „É¨„Çπ„Éù„É≥„ÇπËß£ÊûêÈñãÂßã:', response.substring(0, 100) + '...');
// JSON„Éñ„É≠„ÉÉ„ÇØ„ÅÆÊäΩÂá∫„ÇíË©¶Ë°å
const jsonPatterns = [
/```json\n([\s\S]*?)\n```/,
/```\n([\s\S]*?)\n```/,
/\{[\s\S]*\}/
];
let parsed = null;
for (const pattern of jsonPatterns) {
const match = response.match(pattern);
if (match) {
try {
const jsonStr = match[1] || match[0];
parsed = JSON.parse(jsonStr);
console.log('‚úÖ JSONËß£ÊûêÊàêÂäü:', parsed);
break;
} catch (parseError) {
console.warn('‚ö†Ô∏è JSONËß£ÊûêÂ§±Êïó„ÄÅÊ¨°„ÅÆ„Éë„Çø„Éº„É≥„ÇíË©¶Ë°å:', parseError.message);
continue;
}
}
}
if (parsed && typeof parsed === 'object') {
// Ë¶ÅÁ¥Ñ„ÅÆÁîüÊàê
let summary = parsed.summary;
if (!summary || summary === 'AIÊï¥ÁêÜÊ∏à„Åø') {
if (parsed.enhanced && typeof parsed.enhanced === 'string') {
const enhanced = parsed.enhanced;
if (enhanced.length > 50) {
const firstSentence = enhanced.split(/[„ÄÇÔºÅÔºü]/)[0];
summary = firstSentence.length > 100 ?
enhanced.substring(0, 100) + '...' :
firstSentence + (firstSentence.endsWith('„ÄÇ') ? '' : '„ÄÇ');
} else {
summary = enhanced;
}
}
}
return {
enhanced: parsed.enhanced || response,
summary: summary || 'AI „Å´„Çà„ÇäÊï¥ÁêÜ„Åï„Çå„ÅüÁü•Ë¶ã„Åß„Åô„ÄÇ',
categories: parsed.categories || [],
keywords: parsed.keywords || [],
background: parsed.background || '',
actionable_points: parsed.actionable_points || [],
related_concepts: parsed.related_concepts || []
};
}
// JSONËß£ÊûêÂ§±ÊïóÊôÇ„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
console.warn('‚ö†Ô∏è JSONËß£ÊûêÂÆåÂÖ®Â§±Êïó„ÄÅ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ');
let fallbackSummary = response;
if (response.length > 100) {
const firstSentence = response.split(/[„ÄÇÔºÅÔºü]/)[0];
fallbackSummary = firstSentence.length > 100 ?
response.substring(0, 100) + '...' :
firstSentence + (firstSentence.endsWith('„ÄÇ') ? '' : '„ÄÇ');
}
return {
enhanced: response,
summary: fallbackSummary,
categories: [],
keywords: [],
background: '',
actionable_points: [],
related_concepts: []
};
} catch (error) {
console.error('‚ùå „É™„É©„Ç§„ÉàÁµêÊûúËß£Êûê„Ç®„É©„Éº:', error);
let errorSummary = response;
if (response && response.length > 50) {
errorSummary = response.substring(0, 50) + '...';
}
return {
enhanced: response || 'Ëß£Êûê„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü',
summary: errorSummary || 'Ëß£Êûê„Ç®„É©„Éº',
categories: [],
keywords: []
};
}
}
/**
* üîß Èñ¢‰øÇÊÄßÂàÜÊûêÁµêÊûúËß£Êûê
*/
_parseRelationshipResponse(response) {
try {
// JSONËß£Êûê„ÇíË©¶Ë°å
const jsonMatch = response.match(/```json\n([\s\S]*?)\n```/) ||
response.match(/\{[\s\S]*\}/);
if (jsonMatch) {
const jsonStr = jsonMatch[1] || jsonMatch[0];
const parsed = JSON.parse(jsonStr);
return {
clusters: parsed.clusters || [],
relationships: parsed.relationships || [],
themes: parsed.themes || []
};
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
return {
clusters: [],
relationships: [],
themes: []
};
} catch (error) {
console.error('‚ùå Èñ¢‰øÇÊÄßÂàÜÊûêÁµêÊûúËß£Êûê„Ç®„É©„Éº:', error);
return {
clusters: [],
relationships: [],
themes: []
};
}
}
/**
* üîß ÂìÅË≥™Ë©ï‰æ°ÁµêÊûúËß£Êûê
*/
_parseQualityEvaluation(evaluationText) {
const lines = evaluationText.split('\n');
const evaluation = {
confidence: 0.5,
importance: 0.5,
actionability: 0.5,
overall: 0.5,
recommendation: 'REJECT',
summary: '',
reason: ''
};
lines.forEach(line => {
if (line.startsWith('CONFIDENCE:')) {
evaluation.confidence = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('IMPORTANCE:')) {
evaluation.importance = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('ACTIONABILITY:')) {
evaluation.actionability = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('OVERALL:')) {
evaluation.overall = parseFloat(line.split(':')[1]?.trim()) || 0.5;
} else if (line.startsWith('RECOMMENDATION:')) {
evaluation.recommendation = line.split(':')[1]?.trim().toUpperCase() || 'REJECT';
} else if (line.startsWith('SUMMARY:')) {
evaluation.summary = line.split(':')[1]?.trim() || '';
} else if (line.startsWith('REASON:')) {
evaluation.reason = line.split(':')[1]?.trim() || '';
}
});
return evaluation;
}
/**
* üîß „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞
*/
async _promptUserConfirmation(insightText, qualityEvaluation) {
try {
const confirmationMessage = this._buildConfirmationMessage(insightText, qualityEvaluation);
// „Ç∑„É≥„Éó„É´„Å™confirm„ÉÄ„Ç§„Ç¢„É≠„Ç∞ÔºàÂæå„Åß„É¢„Éº„ÉÄ„É´UI„Å´ÊîπËâØÂèØËÉΩÔºâ
const userChoice = confirm(confirmationMessage);
console.log(`‚úÖ „É¶„Éº„Ç∂„ÉºÂà§ÂÆö: ${userChoice ? 'ÊâøË™ç' : 'Âç¥‰∏ã'}`);
return userChoice;
} catch (error) {
console.error('‚ùå „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return false;
}
}
/**
* üîß Á¢∫Ë™ç„É°„ÉÉ„Çª„Éº„Ç∏ÁîüÊàê
*/
_buildConfirmationMessage(insightText, evaluation) {
const scoreDisplay = `‰ø°È†ºÊÄß: ${(evaluation.confidence * 100).toFixed(0)}% | ÈáçË¶ÅÊÄß: ${(evaluation.importance * 100).toFixed(0)}% | ÂÆüË°åÊÄß: ${(evaluation.actionability * 100).toFixed(0)}%`;
return `„ÄêÁü•Ë¶ãÂìÅË≥™Ë©ï‰æ°ÁµêÊûú„Äë
üìù Áô∫Ë®ÄÂÜÖÂÆπ:
"${insightText.substring(0, 100)}${insightText.length > 100 ? '...' : ''}"
ü§ñ AIË©ï‰æ°:
${scoreDisplay}
Á∑èÂêàË©ï‰æ°: ${(evaluation.overall * 100).toFixed(0)}% (${evaluation.recommendation})
üí° Ë¶ÅÁ¥Ñ: ${evaluation.summary}
üìä ÁêÜÁî±: ${evaluation.reason}
„Åì„ÅÆÁô∫Ë®Ä„ÇíÁü•Ë¶ã„Éá„Éº„Çø„Å®„Åó„Å¶‰øùÂ≠ò„Åó„Åæ„Åô„ÅãÔºü`;
}
/**
* üîß Êé•Á∂ö„ÉÜ„Çπ„Éà
*/
async _testConnection() {
try {
// ÂàùÊúüÂåñ‰∏≠„ÅØ‰∏ÄÊôÇÁöÑ„Å´Êé•Á∂ö„ÉÜ„Çπ„Éà„ÇíË®±ÂèØ
const wasInitialized = this.isInitialized;
this.isInitialized = true;
const testResponse = await this.sendToCharacter([
{ role: 'user', content: 'Test' }
], 'system');
// ÂàùÊúüÂåñÁä∂ÊÖã„ÇíÂÖÉ„Å´Êàª„Åô
this.isInitialized = wasInitialized;
console.log('‚úÖ AIÊé•Á∂ö„ÉÜ„Çπ„ÉàÊàêÂäü');
return true;
} catch (error) {
console.warn('‚ö†Ô∏è AIÊé•Á∂ö„ÉÜ„Çπ„ÉàÂ§±Êïó:', error);
return false;
}
}
/**
* üîß „Éá„Éï„Ç©„É´„ÉàUI„Éó„É≠„Éê„Ç§„ÉÄ„Éº‰ΩúÊàê
*/
_createDefaultUIProvider() {
return {
showProgress: (message) => console.log(`üîÑ ${message}`),
showSuccess: (message) => console.log(`‚úÖ ${message}`),
showWarning: (message) => console.warn(`‚ö†Ô∏è ${message}`),
showError: (message) => console.error(`‚ùå ${message}`)
};
}
/**
* üîß ÈÅÖÂª∂„Éò„É´„Éë„Éº
*/
_delay(ms) {
return new Promise(resolve => setTimeout(resolve, ms));
}
/**
* üîß Áµ±Ë®àÊÉÖÂ†±ÂèñÂæó
*/
getStats() {
return {
initialized: this.isInitialized,
initTime: this.initTime,
settings: this.settings,
qualityThresholds: this.qualityThresholds,
dependencies: this.checkDependencies()
};
}
}
// =================================================================================
// „É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ„Å®„Ç®„ÇØ„Çπ„Éù„Éº„Éà
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.AIManager = AIManager;
// ÂàùÊúüÂåñÈñ¢Êï∞
async function initializeAIManager() {
try {
console.log('ü§ñ AIManagerÂàùÊúüÂåñÈñãÂßã...');
// AIManager„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
const aiManager = new AIManager();
// ‰æùÂ≠òÈñ¢‰øÇ„ÅÆË®≠ÂÆö
const options = {
apiKeyProvider: async () => {
return window.AppState?.apiKey || null;
},
uiProvider: {
showProgress: (message) => {
if (window.showMessage) {
window.showMessage('info', message);
}
console.log(`üîÑ ${message}`);
},
showSuccess: (message) => {
if (window.showMessage) {
window.showMessage('success', message);
}
console.log(`‚úÖ ${message}`);
},
showWarning: (message) => {
if (window.showMessage) {
window.showMessage('warning', message);
}
console.warn(`‚ö†Ô∏è ${message}`);
},
showError: (message) => {
if (window.showMessage) {
window.showMessage('error', message);
}
console.error(`‚ùå ${message}`);
}
}
};
// ÂàùÊúüÂåñÂÆüË°å
const success = await aiManager.initialize(options);
if (success) {
window.AIManager = aiManager;
console.log('‚úÖ AIManagerÂàùÊúüÂåñÂÆå‰∫Ü');
return aiManager;
} else {
throw new Error('AIManagerÂàùÊúüÂåñÂ§±Êïó');
}
} catch (error) {
console.error('‚ùå AIManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return null;
}
}
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
window.initializeAIManager = initializeAIManager;
// ‰ΩøÁî®Áä∂Ê≥Å„É¨„Éù„Éº„Éà
console.log('ü§ñ AIManagerË™≠„ÅøËæº„ÅøÂÆå‰∫Ü - AIÁµ±ÂêàÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂæÖÊ©ü‰∏≠');
/* === knowledge-file-manager-interface.js === */
// =================================================================================
// Ê∑±Â†Ä„Åè„Çì - KnowledgeFileManager ‰æùÂ≠òÈñ¢‰øÇ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// Phase 1: ÊúÄÂ∞è„É™„Çπ„ÇØ„ÉªÊÆµÈöéÁöÑÂàÜÈõ¢
// =================================================================================
/**
* KnowledgeFileManager„ÅÆÂ§ñÈÉ®‰æùÂ≠òÈñ¢‰øÇ„ÇíÊäΩË±°Âåñ„Åô„Çã„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
*
* ÁõÆÁöÑ:
* 1. Â§ñÈÉ®„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÁµêÂêàÂ∫¶„Çí‰∏ã„Åí„Çã
* 2. „ÉÜ„Çπ„ÉàÊôÇ„ÅÆ„É¢„ÉÉ„ÇØÂåñ„ÇíÂÆπÊòì„Å´„Åô„Çã
* 3. Â∞ÜÊù•ÁöÑ„Å™‰æùÂ≠òÈñ¢‰øÇ„ÅÆÂ§âÊõ¥„Å´ÂØæÂøú
* 4. „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„ÇíÁµ±‰∏ÄÂåñ
*/
const KnowledgeFileManagerInterface = {
// =================================================================================
// STATE MANAGEMENT - Áä∂ÊÖãÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
/**
* KnowledgeState„Å∏„ÅÆÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
state: {
// ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥ÂèñÂæó
getCurrentSession() {
try {
return window.KnowledgeState?.currentSession || null;
} catch (error) {
console.warn('‚ö†Ô∏è KnowledgeState.currentSessionÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
},
// ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥Ë®≠ÂÆö
setCurrentSession(session) {
try {
if (!window.KnowledgeState) {
throw new Error('KnowledgeState „ÅåÊú™ÂàùÊúüÂåñ„Åß„Åô');
}
window.KnowledgeState.currentSession = session;
return true;
} catch (error) {
console.error('‚ùå KnowledgeState.currentSessionË®≠ÂÆö„Ç®„É©„Éº:', error);
return false;
}
},
// „Ç´„ÉÜ„Ç¥„É™‰∏ÄË¶ßÂèñÂæó
getCategories() {
try {
return window.KnowledgeState?.categories || [];
} catch (error) {
console.warn('‚ö†Ô∏è KnowledgeState.categoriesÂèñÂæó„Ç®„É©„Éº:', error);
return [];
}
},
// ÂàùÊúüÂåñÁä∂ÊÖãÁ¢∫Ë™ç
isInitialized() {
try {
return window.KnowledgeState?.isInitialized === true;
} catch (error) {
console.warn('‚ö†Ô∏è KnowledgeStateÂàùÊúüÂåñÁä∂ÊÖãÁ¢∫Ë™ç„Ç®„É©„Éº:', error);
return false;
}
},
// Áü•Ë¶ã„Çí„Çª„ÉÉ„Ç∑„Éß„É≥„Å´ËøΩÂä†
addInsightToSession(insightEntry) {
try {
const session = this.getCurrentSession();
if (!session) {
throw new Error('„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
}
if (!session.insights) {
session.insights = [];
}
session.insights.push(insightEntry);
return true;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥„Å∏„ÅÆÁü•Ë¶ãËøΩÂä†„Ç®„É©„Éº:', error);
return false;
}
}
},
// =================================================================================
// API MANAGEMENT - APIÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
/**
* API„Ç≠„Éº„Å∏„ÅÆÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
api: {
// API„Ç≠„ÉºÂèñÂæó
getApiKey() {
try {
return window.AppState?.apiKey || null;
} catch (error) {
console.warn('‚ö†Ô∏è AppState.apiKeyÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
},
// API„Ç≠„ÉºÊúâÂäπÊÄßÁ¢∫Ë™ç
hasValidApiKey() {
const apiKey = this.getApiKey();
return apiKey && typeof apiKey === 'string' && apiKey.trim().length > 0;
}
},
// =================================================================================
// UI MANAGEMENT - UIÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
/**
* UIÊìç‰Ωú„Å∏„ÅÆÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
ui: {
// „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
showMessage(type, message) {
try {
if (typeof window.showMessage === 'function') {
window.showMessage(type, message);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „Ç≥„É≥„ÇΩ„Éº„É´Âá∫Âäõ
console.log(`[${type.toUpperCase()}] ${message}`);
}
} catch (error) {
console.error('‚ùå „É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫„Ç®„É©„Éº:', error);
console.log(`[${type.toUpperCase()}] ${message}`);
}
},
// „Éó„É≠„Ç∞„É¨„ÇπË°®Á§∫ÔºàÊÉÖÂ†±„É°„ÉÉ„Çª„Éº„Ç∏Ôºâ
showProgress(message) {
this.showMessage('info', message);
},
// ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
showSuccess(message) {
this.showMessage('success', message);
},
// „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
showError(message) {
this.showMessage('error', message);
},
// Ë≠¶Âëä„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
showWarning(message) {
this.showMessage('warning', message);
}
},
// =================================================================================
// AI INTEGRATION - AIÁµ±Âêà„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
/**
* AIÊ©üËÉΩ„Å∏„ÅÆÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
ai: {
// KnowledgeDNAManager„ÅÆÂèñÂæó
getDNAManager() {
try {
return window.KnowledgeDNAManager || null;
} catch (error) {
console.warn('‚ö†Ô∏è KnowledgeDNAManagerÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
},
// GPTÂøúÁ≠îÈñ¢Êï∞„ÅÆÂèñÂæó
getGPTFunction() {
try {
return window.gptMessagesToCharacterResponse || null;
} catch (error) {
console.warn('‚ö†Ô∏è gptMessagesToCharacterResponseÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
},
// Áü•Ë¶ã„É™„É©„Ç§„ÉàÂá¶ÁêÜ
async rewriteInsight(insightText, context) {
try {
const dnaManager = this.getDNAManager();
if (!dnaManager || typeof dnaManager.rewriteInsightForClarity !== 'function') {
console.warn('‚ö†Ô∏è KnowledgeDNAManager.rewriteInsightForClarity „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return {
enhanced: insightText,
summary: 'ÊÉÖÂ†±‰∏çË∂≥„ÅÆ„Åü„ÇÅÊï¥ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åó„Åü',
categories: [],
keywords: []
};
}
return await dnaManager.rewriteInsightForClarity(insightText, context);
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„É™„É©„Ç§„Éà„Ç®„É©„Éº:', error);
return {
enhanced: insightText,
summary: '„É™„É©„Ç§„ÉàÂá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü',
categories: [],
keywords: []
};
}
},
// Èñ¢‰øÇÊÄßÂàÜÊûêÂá¶ÁêÜ
async analyzeRelationships(insights) {
try {
const dnaManager = this.getDNAManager();
if (!dnaManager || typeof dnaManager.analyzeKnowledgeRelationships !== 'function') {
console.warn('‚ö†Ô∏è KnowledgeDNAManager.analyzeKnowledgeRelationships „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return {
clusters: [],
relationships: [],
themes: []
};
}
return await dnaManager.analyzeKnowledgeRelationships(insights);
} catch (error) {
console.error('‚ùå Èñ¢‰øÇÊÄßÂàÜÊûê„Ç®„É©„Éº:', error);
return {
clusters: [],
relationships: [],
themes: []
};
}
}
},
// =================================================================================
// FILE MANAGEMENT - „Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
// =================================================================================
/**
* „Éï„Ç°„Ç§„É´Êìç‰Ωú„Å∏„ÅÆÂÆâÂÖ®„Å™„Ç¢„ÇØ„Çª„Çπ
*/
file: {
// „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂá¶ÁêÜ
downloadFile(content, filename) {
try {
const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });
const url = URL.createObjectURL(blob);
const link = document.createElement('a');
link.href = url;
link.download = filename;
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
URL.revokeObjectURL(url);
return true;
} catch (error) {
console.error('‚ùå „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
return false;
}
}
},
// =================================================================================
// VALIDATION - Ê§úË®ºÊ©üËÉΩ
// =================================================================================
/**
* ‰æùÂ≠òÈñ¢‰øÇ„ÅÆÊ§úË®º
*/
validation: {
// ÂÖ®‰æùÂ≠òÈñ¢‰øÇ„ÅÆÁ¢∫Ë™ç
validateAllDependencies() {
const results = {
state: !!window.KnowledgeState,
api: !!window.AppState?.apiKey,
ui: typeof window.showMessage === 'function',
ai_dna: !!window.KnowledgeDNAManager,
ai_gpt: typeof window.gptMessagesToCharacterResponse === 'function'
};
const missing = Object.entries(results)
.filter(([key, value]) => !value)
.map(([key]) => key);
return {
allValid: missing.length === 0,
missing,
details: results
};
},
// ÊúÄÂ∞èÂøÖË¶Å‰æùÂ≠òÈñ¢‰øÇ„ÅÆÁ¢∫Ë™ç
validateMinimalDependencies() {
const minimal = ['state', 'ui'];
const validation = this.validateAllDependencies();
const criticalMissing = validation.missing.filter(dep => minimal.includes(dep));
return {
valid: criticalMissing.length === 0,
missing: criticalMissing,
canOperate: criticalMissing.length === 0
};
}
},
// =================================================================================
// INITIALIZATION - ÂàùÊúüÂåñ
// =================================================================================
/**
* „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„ÅÆÂàùÊúüÂåñ
*/
async initialize() {
console.log('üîß KnowledgeFileManagerInterface ÂàùÊúüÂåñÈñãÂßã...');
try {
// ‰æùÂ≠òÈñ¢‰øÇ„ÅÆÊ§úË®º
const validation = this.validation.validateAllDependencies();
if (validation.missing.length > 0) {
console.warn('‚ö†Ô∏è ‰∏çË∂≥„Åó„Å¶„ÅÑ„Çã‰æùÂ≠òÈñ¢‰øÇ:', validation.missing);
}
// ÊúÄÂ∞è‰æùÂ≠òÈñ¢‰øÇ„ÅÆÁ¢∫Ë™ç
const minimal = this.validation.validateMinimalDependencies();
if (!minimal.valid) {
throw new Error(`ÂøÖÈ†à‰æùÂ≠òÈñ¢‰øÇ„Åå‰∏çË∂≥: ${minimal.missing.join(', ')}`);
}
console.log('‚úÖ KnowledgeFileManagerInterface ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå KnowledgeFileManagerInterface ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
};
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.KnowledgeFileManagerInterface = KnowledgeFileManagerInterface;
console.log('‚úÖ KnowledgeFileManagerInterface Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üìù ‰ΩøÁî®ÊñπÊ≥ï:');
console.log(' - KnowledgeFileManagerInterface.initialize() // ÂàùÊúüÂåñ');
console.log(' - KnowledgeFileManagerInterface.validation.validateAllDependencies() // ‰æùÂ≠òÈñ¢‰øÇÁ¢∫Ë™ç');
console.log(' - KnowledgeFileManagerInterface.state.getCurrentSession() // „Çª„ÉÉ„Ç∑„Éß„É≥ÂèñÂæó');
/* === api-key-setup.js === */
// Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™ - API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„Ç∑„Çπ„ÉÜ„É†
// API Key Setup Modal System for Fukabori-kun App
// =================================================================================
// API KEY SETUP MODULE
// =================================================================================
const ApiKeySetupModule = {
// Ë®≠ÂÆö‰∏≠„ÅÆAPI„Ç≠„Éº„Çí‰∏ÄÊôÇ‰øùÂ≠ò
currentApiKeyForSetup: null,
// =================================================================================
// STEP 0: API KEYË®≠ÂÆö„Ç∑„Çπ„ÉÜ„É† (ÂàùÂõû„É¶„Éº„Ç∂„ÉºÂêë„ÅëÊîπÂñÑ)
// =================================================================================
/**
* API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„Åã„Å©„ÅÜ„Åã„ÇíÂà§ÂÆöÔºàÊã°ÂºµÁâàÔºâ
* @returns {boolean} API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„Åã„Å©„ÅÜ„Åã
*/
isApiKeyConfigured() {
try {
// Êã°ÂºµÁâàAPI KeyË®≠ÂÆöÁä∂Ê≥ÅÁ¢∫Ë™ç„Çí‰ΩøÁî®
if (window.StorageManager && window.StorageManager.apiKey.isConfiguredExtended) {
const config = window.StorageManager.apiKey.isConfiguredExtended();
console.log(`üîç API„Ç≠„ÉºË®≠ÂÆö„ÉÅ„Çß„ÉÉ„ÇØ (Êã°ÂºµÁâà):`, config);
return config.totalCount > 0;
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂæìÊù•„ÅÆÊñπÂºè
const apiKeyCount = window.getSavedApiKeyCount ? window.getSavedApiKeyCount() : 0;
console.log(`üîç API„Ç≠„ÉºË®≠ÂÆö„ÉÅ„Çß„ÉÉ„ÇØ (ÂæìÊù•Áâà): ${apiKeyCount}ÂÄã„ÅÆAPI„Ç≠„Éº„Åå‰øùÂ≠òÊ∏à„Åø`);
return apiKeyCount > 0;
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºË®≠ÂÆö„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
return false;
}
},
/**
* Step0„ÅÆË°®Á§∫Áä∂ÊÖã„ÇíÊõ¥Êñ∞
*/
updateStep0Visibility() {
try {
const step0Section = document.getElementById('step0Section');
const step1Section = document.getElementById('step1Section');
const step2Section = document.getElementById('step2Section');
if (!step0Section || !step1Section || !step2Section) {
console.error('‚ùå StepË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const apiConfigured = this.isApiKeyConfigured();
if (apiConfigured) {
// API„Ç≠„ÉºË®≠ÂÆöÊ∏à„Åø: Step0„ÇíÈùûË°®Á§∫„ÄÅStep1„Éª2„ÇíË°®Á§∫
step0Section.style.display = 'none';
step1Section.style.display = 'block';
step2Section.style.display = 'block';
console.log('‚úÖ API„Ç≠„ÉºË®≠ÂÆöÊ∏à„Åø - Step1„Åã„ÇâÈñãÂßã');
} else {
// API„Ç≠„ÉºÊú™Ë®≠ÂÆö: Step0„ÇíË°®Á§∫„ÄÅStep1„Éª2„ÇíÈùûË°®Á§∫
step0Section.style.display = 'block';
step1Section.style.display = 'none';
step2Section.style.display = 'none';
console.log('‚ö†Ô∏è API„Ç≠„ÉºÊú™Ë®≠ÂÆö - Step0„Åã„ÇâÈñãÂßã');
}
// Step0„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
this.updateStep0Status(apiConfigured);
} catch (error) {
console.error('‚ùå Step0Ë°®Á§∫Áä∂ÊÖãÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
/**
* Step0„ÅÆÁä∂ÊÖãË°®Á§∫„ÇíÊõ¥Êñ∞
* @param {boolean} configured API„Ç≠„Éº„ÅåË®≠ÂÆöÊ∏à„Åø„Åã„Å©„ÅÜ„Åã
*/
updateStep0Status(configured) {
try {
const step0Checkbox = document.getElementById('step0Checkbox');
const step0Description = document.getElementById('step0Description');
if (!step0Checkbox || !step0Description) {
return;
}
if (configured) {
step0Checkbox.textContent = '‚úÖ';
step0Checkbox.style.border = '2px solid #4caf50';
step0Description.textContent = 'API„Ç≠„ÉºË®≠ÂÆöÂÆå‰∫Ü - „É≠„Ç∞„Ç§„É≥„Åß„Åç„Åæ„Åô';
step0Description.style.color = '#4caf50';
} else {
step0Checkbox.textContent = '‚ùå';
step0Checkbox.style.border = '2px solid #ccc';
step0Description.textContent = 'Ê∑±Â†Ä„Åè„Çì„ÇíÂà©Áî®„Åô„Çã„Å´„ÅØOpenAI API„Ç≠„Éº„ÅåÂøÖË¶Å„Åß„Åô';
step0Description.style.color = 'var(--text-secondary)';
}
} catch (error) {
console.error('‚ùå Step0Áä∂ÊÖãÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
// =================================================================================
// API KEYË®≠ÂÆöÂ∞ÇÁî®„É¢„Éº„ÉÄ„É´Âà∂Âæ°
// =================================================================================
/**
* API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè
*/
openApiKeySetupModal() {
try {
const modal = document.getElementById('apiKeySetupModal');
if (modal) {
modal.classList.remove('hidden');
// „Çπ„ÉÜ„ÉÉ„Éó1„Å´„É™„Çª„ÉÉ„Éà
this.showSetupStep(1);
// ÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„Çí„ÇØ„É™„Ç¢
const apiKeyInput = document.getElementById('apiKeySetupInput');
const passwordInput = document.getElementById('apiPasswordSetupInput');
const confirmInput = document.getElementById('apiPasswordConfirmInput');
if (apiKeyInput) apiKeyInput.value = '';
if (passwordInput) passwordInput.value = '';
if (confirmInput) confirmInput.value = '';
// „Éú„Çø„É≥Áä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
this.updateSetupButtonStates();
console.log('üîë API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åç„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´Èñã„Åè„Ç®„É©„Éº:', error);
}
},
/**
* API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
* @param {Event} event „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„ÉàÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
*/
closeApiKeySetupModal(event) {
try {
// ËÉåÊôØ„ÇØ„É™„ÉÉ„ÇØ„ÅÆÂ†¥Âêà„ÅØÁÑ°Ë¶ñÔºà„É¢„Éº„ÉÄ„É´ÂÜÖ„ÇØ„É™„ÉÉ„ÇØ„ÅØÈñâ„Åò„Å™„ÅÑÔºâ
if (event && event.target !== event.currentTarget) {
return;
}
const modal = document.getElementById('apiKeySetupModal');
if (modal) {
modal.classList.add('hidden');
console.log('üîë API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã„Ç®„É©„Éº:', error);
}
},
/**
* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Çπ„ÉÜ„ÉÉ„Éó„ÇíË°®Á§∫
* @param {number} stepNumber „Çπ„ÉÜ„ÉÉ„ÉóÁï™Âè∑Ôºà1„Åæ„Åü„ÅØ2Ôºâ
*/
showSetupStep(stepNumber) {
try {
const step1 = document.getElementById('setupStep1');
const step2 = document.getElementById('setupStep2');
const stepText = document.getElementById('setupStepText');
if (!step1 || !step2 || !stepText) {
return;
}
if (stepNumber === 1) {
step1.style.display = 'block';
step2.style.display = 'none';
stepText.textContent = '„Çπ„ÉÜ„ÉÉ„Éó 1/2: OpenAI API KEY';
} else {
step1.style.display = 'none';
step2.style.display = 'block';
stepText.textContent = '„Çπ„ÉÜ„ÉÉ„Éó 2/2: ÊöóÂè∑Âåñ„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö';
}
console.log(`üîÑ „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Çπ„ÉÜ„ÉÉ„Éó${stepNumber}„ÇíË°®Á§∫`);
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Çπ„ÉÜ„ÉÉ„ÉóË°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* „Çπ„ÉÜ„ÉÉ„Éó2„Å´ÈÄ≤„ÇÄ
*/
proceedToStep2() {
try {
this.showSetupStep(2);
this.updateSetupButtonStates();
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„Å´„Éï„Ç©„Éº„Ç´„Çπ
const passwordInput = document.getElementById('apiPasswordSetupInput');
if (passwordInput) {
passwordInput.focus();
}
} catch (error) {
console.error('‚ùå „Çπ„ÉÜ„ÉÉ„Éó2„Å´ÈÄ≤„ÇÄ„Ç®„É©„Éº:', error);
}
},
/**
* „Çπ„ÉÜ„ÉÉ„Éó1„Å´Êàª„Çã
*/
backToStep1() {
try {
this.showSetupStep(1);
this.updateSetupButtonStates();
} catch (error) {
console.error('‚ùå „Çπ„ÉÜ„ÉÉ„Éó1„Å´Êàª„Çã„Ç®„É©„Éº:', error);
}
},
// =================================================================================
// API KEYË®≠ÂÆöÂá¶ÁêÜ
// =================================================================================
/**
* API„Ç≠„ÉºË®≠ÂÆö„ÅÆ„ÉÜ„Çπ„Éà
*/
async testApiKeySetup() {
try {
const apiKeyInput = document.getElementById('apiKeySetupInput');
const testButton = document.getElementById('testApiSetupButton');
const result = document.getElementById('apiTestResult');
if (!apiKeyInput || !testButton || !result) {
return;
}
const apiKey = apiKeyInput.value.trim();
// Âü∫Êú¨ÁöÑ„Å™„Éê„É™„Éá„Éº„Ç∑„Éß„É≥
if (!apiKey) {
this.showApiTestResult('error', 'API„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
if (!apiKey.startsWith('sk-')) {
this.showApiTestResult('error', 'API„Ç≠„Éº„ÅØ "sk-" „ÅßÂßã„Åæ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô');
return;
}
// „ÉÜ„Çπ„ÉàÂÆüË°å‰∏≠„ÅÆË°®Á§∫
testButton.disabled = true;
testButton.textContent = 'üîç „ÉÜ„Çπ„Éà‰∏≠...';
this.showApiTestResult('info', 'OpenAI API„Å´Êé•Á∂ö‰∏≠...');
// API„ÉÜ„Çπ„Éà
try {
const response = await fetch('https://api.openai.com/v1/models', {
method: 'GET',
headers: {
'Authorization': `Bearer ${apiKey}`,
'Content-Type': 'application/json'
}
});
if (response.ok) {
this.currentApiKeyForSetup = apiKey;
this.showApiTestResult('success', '‚úÖ Êé•Á∂öÊàêÂäüÔºÅAPI„Ç≠„Éº„ÅåÊúâÂäπ„Åß„Åô');
// Ê¨°„Å∏„Éú„Çø„É≥„ÇíÊúâÂäπÂåñ
const proceedButton = document.getElementById('proceedStep2Button');
if (proceedButton) {
proceedButton.disabled = false;
}
console.log('‚úÖ API„Ç≠„Éº„ÉÜ„Çπ„ÉàÊàêÂäü');
} else {
this.currentApiKeyForSetup = null;
const errorText = await response.text();
console.error('‚ùå API„Ç≠„Éº„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', response.status, errorText);
if (response.status === 401) {
this.showApiTestResult('error', '‚ùå ÁÑ°Âäπ„Å™API„Ç≠„Éº„Åß„Åô');
} else if (response.status === 429) {
this.showApiTestResult('error', '‚ùå „É¨„Éº„ÉàÂà∂Èôê„Åß„Åô„ÄÇÂ∞ë„ÅóÂæÖ„Å£„Å¶„Åã„ÇâÂÜçË©¶Ë°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
} else {
this.showApiTestResult('error', `‚ùå „Ç®„É©„Éº: ${response.status}`);
}
}
} catch (networkError) {
console.error('‚ùå „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº:', networkError);
this.showApiTestResult('error', '‚ùå „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº: „Ç§„É≥„Çø„Éº„Éç„ÉÉ„ÉàÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
} catch (error) {
console.error('‚ùå API„Ç≠„Éº„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
this.showApiTestResult('error', '‚ùå „ÉÜ„Çπ„Éà„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
} finally {
// „Éú„Çø„É≥Áä∂ÊÖã„ÇíÂæ©ÂÖÉ
const testButton = document.getElementById('testApiSetupButton');
if (testButton) {
testButton.disabled = false;
testButton.textContent = 'üîç Êé•Á∂ö„ÉÜ„Çπ„Éà';
}
}
},
/**
* API„ÉÜ„Çπ„ÉàÁµêÊûú„ÇíË°®Á§∫
* @param {string} type ÁµêÊûú„Çø„Ç§„Éó ('success', 'error', 'info')
* @param {string} message „É°„ÉÉ„Çª„Éº„Ç∏
*/
showApiTestResult(type, message) {
try {
const result = document.getElementById('apiTestResult');
if (!result) return;
result.style.display = 'block';
result.textContent = message;
// „Çπ„Çø„Ç§„É´„ÇíË®≠ÂÆö
if (type === 'success') {
result.style.background = 'rgba(76, 175, 80, 0.2)';
result.style.border = '1px solid #4caf50';
result.style.color = '#4caf50';
} else if (type === 'error') {
result.style.background = 'rgba(244, 67, 54, 0.2)';
result.style.border = '1px solid #f44336';
result.style.color = '#f44336';
} else {
result.style.background = 'rgba(33, 150, 243, 0.2)';
result.style.border = '1px solid #2196f3';
result.style.color = '#2196f3';
}
} catch (error) {
console.error('‚ùå API„ÉÜ„Çπ„ÉàÁµêÊûúË°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* API„Ç≠„ÉºË®≠ÂÆö„ÇíÂÆå‰∫Ü
*/
async completeApiKeySetup() {
try {
const passwordInput = document.getElementById('apiPasswordSetupInput');
const confirmInput = document.getElementById('apiPasswordConfirmInput');
const completeButton = document.getElementById('completeSetupButton');
if (!passwordInput || !confirmInput || !completeButton) {
return;
}
const password = passwordInput.value.trim();
const confirmPassword = confirmInput.value.trim();
// „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
if (!password) {
this.showPasswordMatchResult('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
if (password !== confirmPassword) {
this.showPasswordMatchResult('error', '„Éë„Çπ„ÉØ„Éº„Éâ„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì');
return;
}
if (password.length < 4) {
this.showPasswordMatchResult('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÅØ4ÊñáÂ≠ó‰ª•‰∏ä„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
if (!this.currentApiKeyForSetup) {
window.showMessage('error', 'API„Ç≠„Éº„ÅÆ„ÉÜ„Çπ„Éà„ÇíÂÖà„Å´ÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// Ë®≠ÂÆöÂá¶ÁêÜ‰∏≠„ÅÆË°®Á§∫
completeButton.disabled = true;
completeButton.textContent = 'Ë®≠ÂÆö‰∏≠...';
try {
// API„Ç≠„Éº„ÇíÊöóÂè∑Âåñ„Åó„Å¶‰øùÂ≠ò
window.saveEncryptedApiKey(this.currentApiKeyForSetup, password);
// Ë®≠ÂÆöÂÆå‰∫Ü
this.currentApiKeyForSetup = null;
// „É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
this.closeApiKeySetupModal();
// StepË°®Á§∫„ÇíÊõ¥Êñ∞
this.updateStep0Visibility();
// ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏Ôºà‰ºÅÊ•≠Áâà„ÅãÂÄã‰∫∫Áâà„Åã„ÇíÂà§ÂÆöÔºâ
const isEmbeddedApiKey = window.AppState?.apiKeySource === 'embedded';
const message = isEmbeddedApiKey
? '‚úÖ ‰ºÅÊ•≠ÁâàÊ∑±Â†Ä„Åè„Çì„ÅÆË®≠ÂÆö„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ„É≠„Ç∞„Ç§„É≥„Åß„Åç„Åæ„Åô'
: '‚úÖ API„Ç≠„ÉºË®≠ÂÆö„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ„É≠„Ç∞„Ç§„É≥„Åß„Åç„Åæ„Åô';
window.showMessage('success', message);
console.log('‚úÖ API„Ç≠„ÉºË®≠ÂÆöÂÆå‰∫Ü');
} catch (saveError) {
console.error('‚ùå API„Ç≠„Éº‰øùÂ≠ò„Ç®„É©„Éº:', saveError);
window.showMessage('error', 'API„Ç≠„Éº„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºË®≠ÂÆöÂÆå‰∫Ü„Ç®„É©„Éº:', error);
window.showMessage('error', 'API„Ç≠„ÉºË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
} finally {
// „Éú„Çø„É≥Áä∂ÊÖã„ÇíÂæ©ÂÖÉ
const completeButton = document.getElementById('completeSetupButton');
if (completeButton) {
completeButton.disabled = false;
completeButton.textContent = 'Ë®≠ÂÆöÂÆå‰∫Ü';
}
}
},
/**
* „Éë„Çπ„ÉØ„Éº„Éâ‰∏ÄËá¥ÁµêÊûú„ÇíË°®Á§∫
* @param {string} type ÁµêÊûú„Çø„Ç§„Éó ('success', 'error')
* @param {string} message „É°„ÉÉ„Çª„Éº„Ç∏
*/
showPasswordMatchResult(type, message) {
try {
const result = document.getElementById('passwordMatchResult');
if (!result) return;
result.style.display = 'block';
result.textContent = message;
if (type === 'success') {
result.style.color = '#4caf50';
} else {
result.style.color = '#f44336';
}
} catch (error) {
console.error('‚ùå „Éë„Çπ„ÉØ„Éº„Éâ‰∏ÄËá¥ÁµêÊûúË°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„É¢„Éº„ÉÄ„É´„ÅÆ„Éú„Çø„É≥Áä∂ÊÖã„ÇíÊõ¥Êñ∞
*/
updateSetupButtonStates() {
try {
// API„Ç≠„ÉºÂÖ•Âäõ„ÅÆÁõ£Ë¶ñ
const apiKeyInput = document.getElementById('apiKeySetupInput');
const testButton = document.getElementById('testApiSetupButton');
if (apiKeyInput && testButton) {
const updateTestButton = () => {
const apiKey = apiKeyInput.value.trim();
testButton.disabled = !apiKey || !apiKey.startsWith('sk-');
};
apiKeyInput.removeEventListener('input', updateTestButton);
apiKeyInput.addEventListener('input', updateTestButton);
updateTestButton();
}
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„ÅÆÁõ£Ë¶ñ
const passwordInput = document.getElementById('apiPasswordSetupInput');
const confirmInput = document.getElementById('apiPasswordConfirmInput');
const completeButton = document.getElementById('completeSetupButton');
if (passwordInput && confirmInput && completeButton) {
const updateCompleteButton = () => {
const password = passwordInput.value.trim();
const confirm = confirmInput.value.trim();
const isValid = password && confirm && password === confirm && password.length >= 4 && this.currentApiKeyForSetup;
completeButton.disabled = !isValid;
// „Éë„Çπ„ÉØ„Éº„Éâ‰∏ÄËá¥Á¢∫Ë™ç„ÅÆË°®Á§∫
if (password && confirm) {
if (password === confirm) {
this.showPasswordMatchResult('success', '‚úÖ „Éë„Çπ„ÉØ„Éº„Éâ„Åå‰∏ÄËá¥„Åó„Åæ„Åô');
} else {
this.showPasswordMatchResult('error', '‚ùå „Éë„Çπ„ÉØ„Éº„Éâ„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì');
}
} else {
const result = document.getElementById('passwordMatchResult');
if (result) result.style.display = 'none';
}
};
passwordInput.removeEventListener('input', updateCompleteButton);
confirmInput.removeEventListener('input', updateCompleteButton);
passwordInput.addEventListener('input', updateCompleteButton);
confirmInput.addEventListener('input', updateCompleteButton);
updateCompleteButton();
}
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éú„Çø„É≥Áä∂ÊÖãÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
// =================================================================================
// API KEYÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„É¢„Éº„ÉÄ„É´
// =================================================================================
/**
* API KEYÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„É¢„Éº„ÉÄ„É´„ÇíË°®Á§∫
*/
showApiKeyHelpModal() {
try {
const modal = document.getElementById('apiKeyHelpModal');
if (modal) {
modal.classList.remove('hidden');
console.log('‚ùì API„Ç≠„ÉºÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„ÇíË°®Á§∫');
}
} catch (error) {
console.error('‚ùå „Éò„É´„Éó„É¢„Éº„ÉÄ„É´Ë°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* API KEYÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
* @param {Event} event „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„ÉàÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
*/
closeApiKeyHelpModal(event) {
try {
// ËÉåÊôØ„ÇØ„É™„ÉÉ„ÇØ„ÅÆÂ†¥Âêà„ÅØÁÑ°Ë¶ñ
if (event && event.target !== event.currentTarget) {
return;
}
const modal = document.getElementById('apiKeyHelpModal');
if (modal) {
modal.classList.add('hidden');
console.log('‚ùì API„Ç≠„ÉºÂèñÂæóÊñπÊ≥ï„Éò„É´„Éó„ÇíÈñâ„Åò„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå „Éò„É´„Éó„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã„Ç®„É©„Éº:', error);
}
},
/**
* ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´„ÇíË°®Á§∫
*/
showSupportedFileFormats() {
try {
const modal = document.getElementById('supportedFilesModal');
if (modal) {
modal.classList.remove('hidden');
console.log('üìÅ ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´„ÇíË°®Á§∫');
}
} catch (error) {
console.error('‚ùå ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´Ë°®Á§∫„Ç®„É©„Éº:', error);
}
},
/**
* ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
* @param {Event} event „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„ÉàÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
*/
closeSupportedFilesModal(event) {
try {
// ËÉåÊôØ„ÇØ„É™„ÉÉ„ÇØ„ÅÆÂ†¥Âêà„ÅØÁÑ°Ë¶ñ
if (event && event.target !== event.currentTarget) {
return;
}
const modal = document.getElementById('supportedFilesModal');
if (modal) {
modal.classList.add('hidden');
console.log('üìÅ ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå ÂØæÂøú„Éï„Ç°„Ç§„É´ÂΩ¢Âºè„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã„Ç®„É©„Éº:', error);
}
},
// =================================================================================
// üîê Âüã„ÇÅËæº„ÅøAPI Key‰ºÅÊ•≠Ë™çË®ºÊ©üËÉΩ
// =================================================================================
/**
* ‰ºÅÊ•≠Ë™çË®º„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆË°®Á§∫Âàá„ÇäÊõø„Åà
* @param {boolean} show Ë°®Á§∫„Åô„Çã„Åã„Å©„ÅÜ„Åã
*/
toggleCorporateAuth(show) {
try {
const corporateSection = document.getElementById('corporateAuthSection');
const personalSection = document.getElementById('personalApiKeySection');
if (corporateSection) {
corporateSection.style.display = show ? 'block' : 'none';
console.log(`üè¢ ‰ºÅÊ•≠Ë™çË®º„Çª„ÇØ„Ç∑„Éß„É≥: ${show ? 'Ë°®Á§∫' : 'ÈùûË°®Á§∫'}`);
// „Éï„Ç©„Éº„Ç´„ÇπË®≠ÂÆöÔºà‰ºÅÊ•≠ÁâàË°®Á§∫ÊôÇ„ÅØË™çË®º„Éú„Çø„É≥„Å´„Éï„Ç©„Éº„Ç´„ÇπÔºâ
if (show) {
const authButton = document.getElementById('corporateAuthButton');
if (authButton) {
setTimeout(() => authButton.focus(), 100);
}
}
}
if (personalSection) {
personalSection.style.display = show ? 'none' : 'block';
console.log(`üë§ ÂÄã‰∫∫Ë®≠ÂÆö„Çª„ÇØ„Ç∑„Éß„É≥: ${show ? 'ÈùûË°®Á§∫' : 'Ë°®Á§∫'}`);
// ÂÄã‰∫∫Ë®≠ÂÆöË°®Á§∫ÊôÇ„ÅÆ„Éï„Ç©„Éº„Ç´„ÇπË®≠ÂÆö
if (!show) {
const apiKeyInput = document.getElementById('apiKeySetupInput');
if (apiKeyInput) {
setTimeout(() => apiKeyInput.focus(), 100);
}
}
}
console.log(`üîÑ UIÂàá„ÇäÊõø„ÅàÂÆå‰∫Ü: ${show ? '‰ºÅÊ•≠Áâà' : 'ÂÄã‰∫∫Áâà'}`);
} catch (error) {
console.error('‚ùå ‰ºÅÊ•≠Ë™çË®º„Çª„ÇØ„Ç∑„Éß„É≥Âàá„ÇäÊõø„Åà„Ç®„É©„Éº:', error);
}
},
/**
* ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÂá¶ÁêÜ
*/
async authenticateCorporatePassword() {
try {
const passwordInput = document.getElementById('corporatePasswordInput');
const authButton = document.getElementById('corporateAuthButton');
const result = document.getElementById('corporateAuthResult');
if (!passwordInput || !authButton || !result) {
console.error('‚ùå ‰ºÅÊ•≠Ë™çË®ºUIË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const password = passwordInput.value.trim();
// „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
if (!password) {
this.showCorporateAuthResult('error', '‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// Âüã„ÇÅËæº„ÅøAPI ManagerÁ¢∫Ë™ç
if (!window.EmbeddedApiManager) {
this.showCorporateAuthResult('error', 'Âüã„ÇÅËæº„ÅøAPI KeyÊ©üËÉΩ„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return;
}
// Ë™çË®ºÂá¶ÁêÜ‰∏≠„ÅÆË°®Á§∫
authButton.disabled = true;
authButton.textContent = 'üîê Ë™çË®º‰∏≠...';
this.showCorporateAuthResult('info', '‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„ÇíË™çË®º‰∏≠...');
try {
// ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÂÆüË°å
const authenticated = await window.EmbeddedApiManager.authenticateAndDecrypt(password);
if (authenticated) {
this.showCorporateAuthResult('success', '‚úÖ ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÊàêÂäüÔºÅÊ¨°„Å´„É≠„Éº„Ç´„É´„É≠„Ç∞„Ç§„É≥„Éë„Çπ„ÉØ„Éº„Éâ„ÇíË®≠ÂÆö„Åó„Åæ„Åô...');
// ÊàêÂäüÊôÇ„ÅÆÂá¶ÁêÜ
passwordInput.value = '';
// ‰ºÅÊ•≠ÁâàAPI Key„ÇícurrentApiKeyForSetup„Å´Ë®≠ÂÆö
if (window.EmbeddedApiManager && window.EmbeddedApiManager.embeddedApiKey) {
this.currentApiKeyForSetup = window.EmbeddedApiManager.embeddedApiKey;
console.log('üîë ‰ºÅÊ•≠ÁâàAPI KeyË®≠ÂÆöÂÆå‰∫Ü');
// Step1ÂÆå‰∫ÜÁä∂ÊÖã„Å´Ë®≠ÂÆö
const proceedButton = document.getElementById('proceedStep2Button');
if (proceedButton) {
proceedButton.disabled = false;
proceedButton.style.opacity = '1';
}
// „ÉÜ„Çπ„ÉàÁµêÊûúË°®Á§∫„ÇíÊõ¥Êñ∞
this.showApiTestResult('success', '‚úÖ ‰ºÅÊ•≠ÁâàAPI Key„ÉÜ„Çπ„ÉàÊàêÂäü');
}
// Step0„ÅÆË°®Á§∫Áä∂ÊÖã„ÇíÊõ¥Êñ∞
this.updateStep0Visibility();
// AppState„ÅÆÊõ¥Êñ∞
if (window.AppState && window.StorageManager) {
const embeddedApiKey = window.StorageManager.apiKey.getWithPriority();
if (embeddedApiKey) {
window.AppState.apiKey = embeddedApiKey;
window.AppState.apiKeySource = 'embedded';
}
}
// Step1ÂÆå‰∫Ü„Åó„Å¶Step2Ôºà„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆöÔºâ„Å´ÈÄ≤„ÇÄ
setTimeout(() => {
// Step1„ÇíÂÆå‰∫ÜÁä∂ÊÖã„Å´„Åô„Çã
const step1 = document.getElementById('setupStep1');
const step2 = document.getElementById('setupStep2');
const stepText = document.getElementById('setupStepText');
const corporateNotice = document.getElementById('corporateStep2Notice');
if (step1) step1.style.display = 'none';
if (step2) step2.style.display = 'block';
if (stepText) stepText.textContent = '„Çπ„ÉÜ„ÉÉ„Éó 2/2: „É≠„Éº„Ç´„É´„É≠„Ç∞„Ç§„É≥„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö';
if (corporateNotice) corporateNotice.style.display = 'block';
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Å´„Éï„Ç©„Éº„Ç´„Çπ
const passwordInput = document.getElementById('apiPasswordSetupInput');
if (passwordInput) {
setTimeout(() => passwordInput.focus(), 100);
}
console.log('üîÑ ‰ºÅÊ•≠Ë™çË®ºÂÆå‰∫Ü - Step2Ôºà„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆöÔºâ„Å∏ÈÄ≤Ë°å');
}, 1500);
console.log('‚úÖ ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÂÆå‰∫Ü');
} else {
this.showCorporateAuthResult('error', '‚ùå ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„Éâ„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì');
console.log('‚ùå ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÂ§±Êïó');
}
} catch (authError) {
console.error('‚ùå ‰ºÅÊ•≠Ë™çË®º„Ç®„É©„Éº:', authError);
this.showCorporateAuthResult('error', `‚ùå Ë™çË®º„Ç®„É©„Éº: ${authError.message}`);
}
} catch (error) {
console.error('‚ùå ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®ºÂá¶ÁêÜ„Ç®„É©„Éº:', error);
this.showCorporateAuthResult('error', 'Ë™çË®ºÂá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
} finally {
// „Éú„Çø„É≥Áä∂ÊÖã„ÇíÂæ©ÂÖÉ
const authButton = document.getElementById('corporateAuthButton');
if (authButton) {
authButton.disabled = false;
authButton.textContent = 'üîê ‰ºÅÊ•≠„Éë„Çπ„ÉØ„Éº„ÉâË™çË®º';
}
}
},
/**
* ‰ºÅÊ•≠Ë™çË®ºÁµêÊûúË°®Á§∫
* @param {string} type ÁµêÊûú„Çø„Ç§„Éó ('success', 'error', 'info')
* @param {string} message „É°„ÉÉ„Çª„Éº„Ç∏
*/
showCorporateAuthResult(type, message) {
try {
const result = document.getElementById('corporateAuthResult');
if (!result) return;
result.style.display = 'block';
result.textContent = message;
// „Çπ„Çø„Ç§„É´„ÇíË®≠ÂÆö
if (type === 'success') {
result.style.background = 'rgba(76, 175, 80, 0.2)';
result.style.border = '1px solid #4caf50';
result.style.color = '#4caf50';
} else if (type === 'error') {
result.style.background = 'rgba(244, 67, 54, 0.2)';
result.style.border = '1px solid #f44336';
result.style.color = '#f44336';
} else {
result.style.background = 'rgba(33, 150, 243, 0.2)';
result.style.border = '1px solid #2196f3';
result.style.color = '#2196f3';
}
} catch (error) {
console.error('‚ùå ‰ºÅÊ•≠Ë™çË®ºÁµêÊûúË°®Á§∫„Ç®„É©„Éº:', error);
}
}
};
// =================================================================================
// ÂàùÊúüÂåñ„Å®„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// DOMContentLoaded„Ç§„Éô„É≥„Éà„ÅßÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
// Step0„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
setTimeout(() => {
console.log('üîë Step0: API„Ç≠„ÉºË®≠ÂÆö„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
ApiKeySetupModule.updateStep0Visibility();
console.log('‚úÖ Step0: API„Ç≠„ÉºË®≠ÂÆö„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
}, 50);
});
// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨ÈñãÔºà‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÔºâ
window.isApiKeyConfigured = () => ApiKeySetupModule.isApiKeyConfigured();
window.updateStep0Visibility = () => ApiKeySetupModule.updateStep0Visibility();
window.openApiKeySetupModal = () => ApiKeySetupModule.openApiKeySetupModal();
window.closeApiKeySetupModal = (event) => ApiKeySetupModule.closeApiKeySetupModal(event);
window.showApiKeyHelpModal = () => ApiKeySetupModule.showApiKeyHelpModal();
window.closeApiKeyHelpModal = (event) => ApiKeySetupModule.closeApiKeyHelpModal(event);
window.showSupportedFileFormats = () => ApiKeySetupModule.showSupportedFileFormats();
window.closeSupportedFilesModal = (event) => ApiKeySetupModule.closeSupportedFilesModal(event);
window.testApiKeySetup = () => ApiKeySetupModule.testApiKeySetup();
window.proceedToStep2 = () => ApiKeySetupModule.proceedToStep2();
window.backToStep1 = () => ApiKeySetupModule.backToStep1();
window.completeApiKeySetup = () => ApiKeySetupModule.completeApiKeySetup();
// üîê Âüã„ÇÅËæº„ÅøAPI Key‰ºÅÊ•≠Ë™çË®ºÊ©üËÉΩ„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.toggleCorporateAuth = (show) => ApiKeySetupModule.toggleCorporateAuth(show);
window.authenticateCorporatePassword = () => ApiKeySetupModule.authenticateCorporatePassword();
// „É¢„Ç∏„É•„Éº„É´Ëá™‰Ωì„ÇÇÂÖ¨ÈñãÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶Ôºâ
window.ApiKeySetupModule = ApiKeySetupModule;
console.log('‚úÖ API„Ç≠„ÉºË®≠ÂÆö„É¢„Éº„ÉÄ„É´„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
/* === session-manager.js === */
// =================================================================================
// SESSION MANAGER - „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// Âçò‰∏ÄË≤¨‰ªª: „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„ÅÆÂÆåÂÖ®„Å™Âá¶ÁêÜÔºàÁ¢∫Ë™ç‚ÜíÁä∂ÊÖãÂ§âÊõ¥‚ÜíÊúÄÁµÇÂá¶ÁêÜ‚Üí„Éá„Éº„Çø‰øùÂ≠ò‚Üí„É™„Çª„ÉÉ„ÉàÔºâ
// Êñ∞„É´„Éº„É´ÈÅ©Áî®: Ë°åÊï∞Âà∂Èôê„Å™„Åó„ÄÅÂçò‰∏ÄÊ©üËÉΩ„ÅÆÂÆåÂÖ®„Å™Âá¶ÁêÜ„Å´ÈôêÂÆö
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* Ë≤¨‰ªªÁØÑÂõ≤: „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„ÅÆÂÆåÂÖ®„Å™„É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´ÁÆ°ÁêÜ
*/
const SessionEndManager = {
/**
* „É°„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÂá¶ÁêÜ
* „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„ÅÆÂÆåÂÖ®„Å™Ë≤¨‰ªª„ÇíÊãÖ„ÅÜ
*/
async endSession() {
console.log('üí° SessionEndManager.endSession „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
// 1. ‰∫ãÂâç„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.AppState.sessionActive) {
window.showMessage('info', '„Çª„ÉÉ„Ç∑„Éß„É≥„ÅØÊó¢„Å´ÁµÇ‰∫Ü„Åó„Å¶„ÅÑ„Åæ„Åô');
return false;
}
// 2. „É¶„Éº„Ç∂„ÉºÁ¢∫Ë™ç
const confirmed = confirm('„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÁµÇ‰∫Ü„Åó„Åæ„Åô„ÅãÔºü\n‰ºöË©±„Éá„Éº„Çø„ÅØ‰øùÂ≠ò„Åï„Çå„Åæ„Åô„ÄÇ');
if (!confirmed) {
return false;
}
try {
// 3. Ê¥ªÂãïÂÅúÊ≠¢Âá¶ÁêÜ
this.stopAllActivities();
// 4. „Éï„Çß„Éº„Ç∫Â§âÊõ¥
window.AppState.phase = window.PHASES.SUMMARY;
this.updateSessionStatus('„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü‰∏≠...', window.AppState.currentTheme);
// 5. ÊúÄÁµÇÂá¶ÁêÜÂÆüË°å
await this.executeFinalSequence();
// 6. „Éá„Éº„Çø‰øùÂ≠ò
await this.saveSessionData();
// 7. Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
this.resetSessionState();
// 8. UIÊõ¥Êñ∞
this.updateSessionStatus('„Çª„ÉÉ„Ç∑„Éß„É≥ÂÆå‰∫Ü', window.AppState.currentTheme);
window.showMessage('success', '„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÁµÇ‰∫Ü„Åó„Åæ„Åó„Åü');
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Ç®„É©„Éº:', error);
window.showMessage('error', '„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
return false;
}
},
/**
* ÂÖ®Ê¥ªÂãïÂÅúÊ≠¢Âá¶ÁêÜ - ÂÆâÂÖ®ÂÆüË£Ö
* Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂÑ™ÂÖà„ÅÆÈü≥Â£∞Ë™çË≠ò„ÉªÈü≥Â£∞ÂÜçÁîüÂÅúÊ≠¢
*/
stopAllActivities() {
console.log('üõë ÂÖ®Ê¥ªÂãïÂÅúÊ≠¢Âá¶ÁêÜÈñãÂßã - ÂÆâÂÖ®ÂÆüË£Ö');
try {
// üé§ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÁµåÁî±„ÅßÈü≥Â£∞Ë™çË≠òÂÅúÊ≠¢ÔºàÊ≠£„Åó„ÅÑÂÆüË£ÖÔºâ
if (window.unifiedStateManager) {
const voiceModule = window.unifiedStateManager.modules.get('voice');
if (voiceModule) {
voiceModule.stopRecognition();
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÁµåÁî±„ÅßÈü≥Â£∞Ë™çË≠òÂÅúÊ≠¢');
}
}
// üîä Èü≥Â£∞Âà∂Âæ°ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÈü≥Â£∞ÂÜçÁîüÂÅúÊ≠¢
if (window.AudioControlManager) {
const stoppedCount = window.AudioControlManager.forceStopAllAudio('session_end');
console.log(`‚úÖ Èü≥Â£∞ÂÜçÁîüÂÅúÊ≠¢: ${stoppedCount}‰ª∂`);
}
// üéØ „Ç¢„Éó„É™Áä∂ÊÖã„ÅÆÂÆâÂÖ®„Å™Êõ¥Êñ∞
if (window.AppState) {
window.AppState.currentSpeaker = window.SPEAKERS.NULL;
if (window.AppState.voiceRecognitionStability) {
window.AppState.voiceRecognitionStability.isRecognitionActive = false;
}
}
// üîÑ „Éû„Ç§„ÇØ„Éú„Çø„É≥UIÊõ¥Êñ∞
if (typeof window.updateMicrophoneButton === 'function') {
window.updateMicrophoneButton();
}
console.log('‚úÖ ÂÖ®Ê¥ªÂãïÂÅúÊ≠¢ÂÆå‰∫Ü - ÂÆâÂÖ®ÂÆüË£Ö');
} catch (error) {
console.error('‚ùå Ê¥ªÂãïÂÅúÊ≠¢„Ç®„É©„Éº:', error);
}
},
/**
* ÊúÄÁµÇ„Ç∑„Éº„Ç±„É≥„ÇπÂÆüË°å
* „ÅØ„Åª„Çä„Éº„ÅÆÊúÄÁµÇ„Åæ„Å®„ÇÅ ‚Üí „Å≠„Åª„Çä„Éº„ÅÆÊúÄÁµÇÊå®Êã∂
*/
async executeFinalSequence() {
console.log('üé≠ ÊúÄÁµÇ„Ç∑„Éº„Ç±„É≥„ÇπÈñãÂßã');
try {
// „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÁü•Ë¶ã„ÅÆ„Åæ„Å®„ÇÅ
await this.generateFinalSummary();
// „Å≠„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÊúÄÁµÇÊå®Êã∂
await this.generateFinalGreeting();
console.log('‚úÖ ÊúÄÁµÇ„Ç∑„Éº„Ç±„É≥„ÇπÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÊúÄÁµÇ„Ç∑„Éº„Ç±„É≥„Çπ„Ç®„É©„Éº:', error);
throw error;
}
},
/**
* ÊúÄÁµÇ„Åæ„Å®„ÇÅÁîüÊàêÔºà„ÅØ„Åª„Çä„Éº„ÅÆÔºâ
* „Çª„ÉÉ„Ç∑„Éß„É≥ÂÖ®‰Ωì„ÅÆÊåØ„ÇäËøî„Çä„Å®Áü•Ë¶ã„ÅÆ„Åæ„Å®„ÇÅ
*/
async generateFinalSummary() {
console.log('üé≠ „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÊúÄÁµÇ„Åæ„Å®„ÇÅ„ÇíÁîüÊàê‰∏≠...');
try {
const knowledgeCount = window.AppState.extractedKnowledge.length;
const summaryPrompt = window.AI_PROMPTS?.SESSION_SUMMARY ?
window.AI_PROMPTS.SESSION_SUMMARY(
window.AppState.currentTheme,
window.AppState.conversationHistory,
window.AppState.extractedKnowledge
) :
`„ÉÜ„Éº„Éû„Äå${window.AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶Ë°å„Å£„ÅüÊ∑±Êéò„Çä„Ç§„É≥„Çø„Éì„É•„Éº„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥ÂÖ®‰Ωì„ÇíÊåØ„ÇäËøî„Çä„ÄÅÊäΩÂá∫„Åï„Çå„Åü${knowledgeCount}‰ª∂„ÅÆÁü•Ë¶ã„Çí„Åæ„Å®„ÇÅ„Å¶ÊúÄÁµÇÁöÑ„Å™ÊÑüË¨ù„ÅÆË®ÄËëâ„ÇíËø∞„Åπ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
const summaryMessage = await gptMessagesToCharacterResponse([
{ role: 'user', content: summaryPrompt }
], window.SPEAKERS.HAHORI);
// Ë°®Á§∫„ÅØÈï∑„Åè„ÄÅÁô∫Â£∞„ÅØÁü≠„Åè„Åô„ÇãÁµ±ÂêàÂá¶ÁêÜ
if (typeof addMessageToChatWithSpeech === 'function') {
await addMessageToChatWithSpeech(window.SPEAKERS.HAHORI, summaryMessage);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÈÄöÂ∏∏„ÅÆÂá¶ÁêÜ
await addMessageToChat(window.SPEAKERS.HAHORI, summaryMessage);
const audioBlob = await ttsTextToAudioBlob(summaryMessage, window.SPEAKERS.HAHORI);
await playPreGeneratedAudio(audioBlob, window.SPEAKERS.HAHORI);
}
console.log('‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆÊúÄÁµÇ„Åæ„Å®„ÇÅÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÊúÄÁµÇ„Åæ„Å®„ÇÅÁîüÊàê„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ
const fallbackMessage = `Êú¨Êó•„ÅØË≤¥Èáç„Å™„ÅäÊôÇÈñì„Çí„ÅÑ„Åü„Å†„Åç„ÄÅ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ${window.AppState.extractedKnowledge.length}‰ª∂„ÅÆ‰æ°ÂÄ§„ÅÇ„ÇãÁü•Ë¶ã„ÇíÊäΩÂá∫„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åó„Åü„ÄÇ`;
await addMessageToChat(window.SPEAKERS.HAHORI, fallbackMessage);
const audioBlob = await ttsTextToAudioBlob(fallbackMessage, window.SPEAKERS.HAHORI);
await playPreGeneratedAudio(audioBlob, window.SPEAKERS.HAHORI);
}
},
/**
* ÊúÄÁµÇÊå®Êã∂ÁîüÊàêÔºà„Å≠„Åª„Çä„Éº„ÅÆÔºâ
* „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„ÅÆÊÑüË¨ù„Å®„ÅäÂà•„Çå„ÅÆÊå®Êã∂
*/
async generateFinalGreeting() {
console.log('üé≠ „Å≠„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÊúÄÁµÇÊå®Êã∂„ÇíÁîüÊàê‰∏≠...');
try {
const greetingMessage = `‰ªäÊó•„ÅØÊú¨ÂΩì„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ${window.AppState.currentTheme}„Å´„Å§„ÅÑ„Å¶„ÄÅ„Å®„Å¶„ÇÇËààÂë≥Ê∑±„ÅÑ„ÅäË©±„ÇíËÅû„Åã„Åõ„Å¶„ÅÑ„Åü„Å†„Åë„Å¶Â¨â„Åó„Åã„Å£„Åü„Åß„Åô„ÄÇ„Åæ„ÅüÊòØÈùû„ÅäË©±„ÇíËÅû„Åã„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„ÅüÔºÅ`;
await addMessageToChat(window.SPEAKERS.NEHORI, greetingMessage);
const audioBlob = await ttsTextToAudioBlob(greetingMessage, window.SPEAKERS.NEHORI);
await playPreGeneratedAudio(audioBlob, window.SPEAKERS.NEHORI);
console.log('‚úÖ „Å≠„Åª„Çä„Éº„ÅÆ„ÅÆÊúÄÁµÇÊå®Êã∂ÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÊúÄÁµÇÊå®Êã∂ÁîüÊàê„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ
const fallbackMessage = '„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ„Åæ„Åü„ÅäË©±„ÇíËÅû„Åã„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ';
await addMessageToChat(window.SPEAKERS.NEHORI, fallbackMessage);
const audioBlob = await ttsTextToAudioBlob(fallbackMessage, window.SPEAKERS.NEHORI);
await playPreGeneratedAudio(audioBlob, window.SPEAKERS.NEHORI);
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø‰øùÂ≠ò
* ‰ºöË©±Â±•Ê≠¥„Å®Áü•Ë¶ã„ÅÆÊ∞∏Á∂öÂåñ
*/
async saveSessionData() {
console.log('üíæ „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø‰øùÂ≠òÈñãÂßã');
try {
if (window.AppState.conversationHistory.length > 0) {
// „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„ÇøÊßãÁØâ
const sessionData = {
theme: window.AppState.currentTheme,
conversationHistory: [...window.AppState.conversationHistory],
extractedKnowledge: [...window.AppState.extractedKnowledge],
startTime: window.AppState.sessionStartTime,
endTime: new Date()
};
// ÂÖ®„Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥„Å´ËøΩÂä†
window.AppState.allSessions.push(sessionData);
// Áü•Ë¶ãÊ∞∏Á∂öÂåñ: LocalStorage„Å´‰øùÂ≠ò
if (window.AppState.extractedKnowledge.length > 0) {
if (window.FukaboriKnowledgeDatabase) {
window.FukaboriKnowledgeDatabase.addSession({
theme: window.AppState.currentTheme,
insights: [...window.AppState.extractedKnowledge],
startTime: window.AppState.sessionStartTime
});
console.log('‚úÖ Áü•Ë¶ã„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠òÂÆå‰∫Ü');
}
}
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø‰øùÂ≠òÂÆå‰∫Ü');
} else {
console.log('üìù ‰øùÂ≠òÂØæË±°„ÅÆ‰ºöË©±Â±•Ê≠¥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
* AppState„ÅÆÂÆåÂÖ®„Å™„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
*/
resetSessionState() {
console.log('üîÑ „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„É™„Çª„ÉÉ„ÉàÈñãÂßã');
try {
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„ÅÆ„É™„Çª„ÉÉ„Éà
window.AppState.sessionActive = false;
window.AppState.phase = window.PHASES.CLOSING;
window.AppState.currentSpeaker = window.SPEAKERS.NULL;
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÊôÇ„Å´transcript-panel„ÇíÈùûË°®Á§∫
const transcriptPanel = document.getElementById('transcriptPanel');
if (transcriptPanel) {
transcriptPanel.classList.add('hidden');
console.log('‚úÖ transcript-panel„ÇíÈùûË°®Á§∫„Å´„Åó„Åæ„Åó„ÅüÔºà„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÔºâ');
}
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„É™„Çª„ÉÉ„Éà„Ç®„É©„Éº:', error);
}
},
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãË°®Á§∫Êõ¥Êñ∞
* UI„ÅÆÁä∂ÊÖãË°®Á§∫„ÇíÊõ¥Êñ∞
*/
updateSessionStatus(status, theme) {
try {
if (typeof updateSessionStatus === 'function') {
updateSessionStatus(status, theme);
} else {
console.warn('‚ö†Ô∏è updateSessionStatusÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.error('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãË°®Á§∫Êõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
/**
* Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Å´„Çà„Çã„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Éè„É≥„Éâ„É©„Éº
* Èü≥Â£∞Ë™çË≠ò„Åã„Çâ„ÅÆÁµÇ‰∫ÜË¶ÅÊ±ÇÂá¶ÁêÜ
*/
async handleSessionEndCommand() {
console.log('üí° Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Å´„Çà„Çã„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜË¶ÅÊ±Ç');
return await this.endSession();
},
/**
* „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âæ©Â∏∞Âá¶ÁêÜ
* „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çã
*/
returnToLogin() {
console.log('üí° SessionEndManager.returnToLogin „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const confirmed = confirm('„É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çä„Åæ„Åô„ÅãÔºü\nÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„ÅØÂ§±„Çè„Çå„Åæ„Åô„Åå„ÄÅ„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Å®„ÉÜ„Éº„ÉûË®≠ÂÆö„ÅØ‰øùÊåÅ„Åï„Çå„Åæ„Åô„ÄÇ');
if (!confirmed) {
return false;
}
try {
// „Çª„ÉÉ„Ç∑„Éß„É≥„Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„ÉàÔºà„Åü„Å†„Åó„É≠„Ç∞„Ç§„É≥„Éª„ÉÜ„Éº„ÉûÁä∂ÊÖã„ÅØ‰øùÊåÅÔºâ
window.AppState.conversationHistory = [];
window.AppState.extractedKnowledge = [];
window.AppState.currentTheme = ''; // „Çª„ÉÉ„Ç∑„Éß„É≥‰∏≠„ÅÆ„ÉÜ„Éº„Éû„Çí„ÇØ„É™„Ç¢
window.AppState.phase = window.PHASES.SETUP;
window.AppState.currentSpeaker = window.SPEAKERS.NULL;
window.AppState.sessionActive = false;
// UIÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
this.updateSessionStatus('Ê∫ñÂÇô‰∏≠...', 'Êú™Ë®≠ÂÆö');
if (window.updateKnowledgeDisplay) {
window.updateKnowledgeDisplay();
}
// Èü≥Â£∞Ë™çË≠ò„ÇíÂÅúÊ≠¢
if (window.AppState.speechRecognition && window.AppState.speechRecognition.stop) {
window.AppState.speechRecognition.stop();
}
// „ÉÅ„É£„ÉÉ„ÉàÂ±•Ê≠¥„Çí„ÇØ„É™„Ç¢
const messagesContainer = window.UIManager?.DOMUtils?.get('messagesContainer');
if (messagesContainer) {
messagesContainer.innerHTML = '';
}
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âæ©Â∏∞ÊôÇ„Å´transcript-panel„ÇíÈùûË°®Á§∫
const transcriptPanel = document.getElementById('transcriptPanel');
if (transcriptPanel) {
transcriptPanel.classList.add('hidden');
console.log('‚úÖ transcript-panel„ÇíÈùûË°®Á§∫„Å´„Åó„Åæ„Åó„ÅüÔºà„É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âæ©Â∏∞Ôºâ');
}
// „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„ÇíË°®Á§∫
if (window.showLoginScreen) {
window.showLoginScreen();
}
if (window.hideMainScreen) {
window.hideMainScreen();
}
// Áä∂ÊÖãÂæ©ÂÖÉÔºà„É≠„Ç∞„Ç§„É≥„Éª„ÉÜ„Éº„ÉûÁä∂ÊÖã„Çí‰øùÊåÅÔºâ
setTimeout(async () => {
if (typeof restoreApplicationState === 'function') {
await restoreApplicationState();
console.log('üîÑ „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âæ©Â∏∞ÊôÇ„ÅÆÁä∂ÊÖãÂæ©ÂÖÉÂÆå‰∫Ü');
}
}, 100);
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥ÁîªÈù¢„Å´Êàª„Çä„Åæ„Åó„ÅüÔºàÁä∂ÊÖã‰øùÊåÅÊ©üËÉΩ‰ªò„ÅçÔºâ');
return true;
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Âæ©Â∏∞„Ç®„É©„Éº:', error);
return false;
}
}
};
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „É°„Ç§„É≥„É¢„Ç∏„É•„Éº„É´„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.SessionEndManager = SessionEndManager;
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„É©„ÉÉ„Éë„ÉºÈñ¢Êï∞
window.endConversationSession = () => SessionEndManager.endSession();
window.generateFinalSummary = () => SessionEndManager.generateFinalSummary();
window.generateFinalGreeting = () => SessionEndManager.generateFinalGreeting();
window.handleSessionEnd = () => SessionEndManager.handleSessionEndCommand();
window.returnToLogin = () => SessionEndManager.returnToLogin();
console.log('‚úÖ SessionEndManager „É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
/* === session-start-manager.js === */
// =================================================================================
// SESSION START MANAGER - „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Ç∑„Çπ„ÉÜ„É† - Ê∑±Â†Ä„Åè„Çìv2.0
*
* Ë≤¨‰ªªÁØÑÂõ≤:
* - „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÂá¶ÁêÜ„ÅÆÁµ±ÂêàÁÆ°ÁêÜ
* - 2„Çπ„ÉÜ„ÉÉ„ÉóË™çË®º„Ç∑„Çπ„ÉÜ„É†Ôºà„É≠„Ç∞„Ç§„É≥„Éª„ÉÜ„Éº„ÉûË®≠ÂÆöÔºâ
* - UIÁä∂ÊÖãÁÆ°ÁêÜ„Å®„Éï„Ç©„Éº„Ç´„ÇπÂà∂Âæ°
* - Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñ
* - „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈñãÂßã
*
* ‰æùÂ≠òÈñ¢‰øÇ:
* - PhaseManager („Éï„Çß„Éº„Ç∫ÈÅ∑Áßª)
* - KnowledgeState (Áü•Ë¶ãÁÆ°ÁêÜ)
* - UIManager (UIÂà∂Âæ°)
* - StateManager (Èü≥Â£∞Ë™çË≠ò)
* - StorageManager („Éá„Éº„ÇøÊ∞∏Á∂öÂåñ)
*/
const SessionStartManager = {
// =================================================================================
// ÂàùÊúüÂåñ
// =================================================================================
init() {
console.log('üöÄ SessionStartManagerÂàùÊúüÂåñÈñãÂßã');
// ÂøÖË¶Å„Å™‰æùÂ≠òÈñ¢‰øÇ„ÅÆÁ¢∫Ë™ç
this.validateDependencies();
console.log('‚úÖ SessionStartManagerÂàùÊúüÂåñÂÆå‰∫Ü');
},
validateDependencies() {
const required = ['UIManager', 'StorageManager', 'PhaseManager'];
const missing = required.filter(dep => typeof window[dep] === 'undefined');
if (missing.length > 0) {
console.warn('‚ö†Ô∏è SessionStartManager‰æùÂ≠òÈñ¢‰øÇ‰∏çË∂≥:', missing);
console.log('üìù ‰∏çË∂≥„Åó„Å¶„ÅÑ„Çã‰æùÂ≠òÈñ¢‰øÇ„ÅØÂæå„ÅßÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çã‰∫àÂÆö„Åß„Åô');
// Ë©≥Á¥∞Ë®∫Êñ≠
required.forEach(dep => {
const exists = typeof window[dep] !== 'undefined';
console.log(` ${exists ? '‚úÖ' : '‚ùå'} window.${dep}: ${exists ? 'OK' : 'MISSING'}`);
});
return false;
}
return true;
},
getDependency(path) {
return path.split('.').reduce((obj, key) => obj && obj[key], window);
},
// =================================================================================
// „É°„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÂá¶ÁêÜ
// =================================================================================
async startSession() {
console.log('üí° startSession „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
// üõ°Ô∏è „Éû„Ç§„ÇØË®±ÂèØ„ÅÆ‰∫ãÂâç„ÉÅ„Çß„ÉÉ„ÇØÔºàÁµ∂ÂØæ„É´„Éº„É´Ôºâ
const permissionDenied = localStorage.getItem('microphonePermissionDenied') === 'true';
if (permissionDenied) {
window.showMessage('error', '„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Éñ„É©„Ç¶„Ç∂„ÅÆË®≠ÂÆö„ÅßË®±ÂèØ„Åó„ÄÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
// üîÑ Êñ∞Ê©üËÉΩ: 2„Çπ„ÉÜ„ÉÉ„ÉóÂÆå‰∫ÜÁ¢∫Ë™ç
const status = this.evaluate2StepStatus();
if (!status.allComplete) {
if (!status.loginComplete) {
window.showMessage('error', '„É≠„Ç∞„Ç§„É≥„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
this.focusPasswordInput();
} else {
window.showMessage('error', '„ÉÜ„Éº„Éû„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
this.focusThemeInput();
}
return;
}
if (!window.AppState.apiKey) {
window.showMessage('error', 'API„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
const themeInput = window.UIManager.DOMUtils.get('themeInput');
if (!themeInput) {
window.showMessage('error', '„ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const theme = themeInput.value;
if (!theme.trim()) {
window.showMessage('error', '„ÉÜ„Éº„Éû„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// üîß AppStateÂàùÊúüÂåñ„ÇíÊúÄÂÑ™ÂÖà„ÅßÂÆüË°å
window.AppState.currentTheme = theme.trim();
window.AppState.sessionActive = true;
// „Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„ÅØPhaseManager„Å´ÂßîË≠≤
if (window.PhaseManager) {
await window.PhaseManager.transitionToPhase('warmup', { theme: window.AppState.currentTheme });
} else {
window.AppState.phase = 'warmup';
}
window.AppState.sessionStartTime = new Date();
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„ÇíÊúâÂäπÂåñ:', {
sessionActive: window.AppState.sessionActive,
phase: window.AppState.phase,
currentTheme: window.AppState.currentTheme
});
// üîÑ Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÈÄ£Êê∫
await this.initializeKnowledgeSession(theme.trim());
const setupPanel = window.UIManager.DOMUtils.get('setupPanel');
const chatArea = window.UIManager.DOMUtils.get('chatArea');
const transcriptPanel = window.UIManager.DOMUtils.get('transcriptPanel');
if (setupPanel) {
setupPanel.classList.add('hidden');
}
if (chatArea) {
chatArea.classList.remove('hidden');
}
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„Å´transcript-panel„ÇíË°®Á§∫
if (transcriptPanel) {
transcriptPanel.classList.remove('hidden');
console.log('‚úÖ transcript-panel„ÇíË°®Á§∫„Åó„Åæ„Åó„ÅüÔºà„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÔºâ');
}
// üé® Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂: Âè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
if (window.UIBasic && window.UIBasic.rightPanel && window.UIBasic.rightPanel.initializeBackgroundManager) {
window.UIBasic.rightPanel.initializeBackgroundManager();
} else if (window.initializeRightPanelBackgroundManager) {
window.initializeRightPanelBackgroundManager();
}
// üé® Êñ∞Ê©üËÉΩ: Èü≥Â£∞Áä∂ÊÖãË°®Á§∫„Å®„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠ò„ÅÆÂàùÊúüÂåñ
if (window.initializeVoiceStateDisplay) {
window.initializeVoiceStateDisplay();
}
// üé® Êñ∞UI: „É°„Ç§„É≥ÁîªÈù¢Ë°®Á§∫Âæå„Å´VoiceUIManager„ÇíÂàùÊúüÂåñÔºàDOMÊõ¥Êñ∞ÂæÖ„Å°Ôºâ
if (typeof VoiceUIManager !== 'undefined' && window.VoiceUIManager) {
try {
console.log('üé® „É°„Ç§„É≥ÁîªÈù¢ÁßªË°åÂæå„ÅÆVoiceUIManagerÂàùÊúüÂåñÈñãÂßã');
// DOMÊõ¥Êñ∞„ÇíÂæÖ„Å§
await new Promise(resolve => setTimeout(resolve, 100));
const voiceUISuccess = await window.VoiceUIManager.initialize();
if (voiceUISuccess) {
console.log('‚úÖ „É°„Ç§„É≥ÁîªÈù¢ÁßªË°åÂæå„ÅÆVoiceUIManagerÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.warn('‚ö†Ô∏è „É°„Ç§„É≥ÁîªÈù¢ÁßªË°åÂæå„ÅÆVoiceUIManagerÂàùÊúüÂåñÂ§±Êïó');
}
} catch (error) {
console.error('‚ùå „É°„Ç§„É≥ÁîªÈù¢ÁßªË°åÂæå„ÅÆVoiceUIManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}
this.updateSessionStatus('„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó‰∏≠', window.AppState.currentTheme);
window.updateKnowledgeDisplay();
// üõ°Ô∏è „Éû„Ç§„ÇØÂàùÊúüÂåñÔºàAppStateÂàùÊúüÂåñÂæå„Å´ÂÆüË°åÔºâ
const micInitialized = await this.initializeMicrophoneRecording();
if (!micInitialized) {
window.showMessage('error', '„Éû„Ç§„ÇØ„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÈü≥Â£∞Ê©üËÉΩ„Çí‰ΩøÁî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ');
return;
}
// üé® ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥Áõ£Ë¶ñÈñãÂßã
if (window.startPauseButtonMonitoring) {
window.startPauseButtonMonitoring();
}
await this.startWarmupPhase();
},
// =================================================================================
// „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈñãÂßã
// =================================================================================
async startWarmupPhase() {
this.updateSessionStatus('„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó‰∏≠', window.AppState.currentTheme);
window.AppState.transcriptHistory = [];
window.AppState.currentTranscript = '';
window.updateTranscriptDisplay();
try {
// üé§ Êñ∞„Ç∑„Çπ„ÉÜ„É†: „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„ÅÆÈü≥Â£∞Ë™çË≠òÂàùÊúüÂåñ
if (!window.stateManager) {
console.log('üîÑ StateManager„ÅåÊú™ÂàùÊúüÂåñ - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åô');
if (typeof window.initializeVoiceSystem === 'function') {
const initialized = window.initializeVoiceSystem();
if (!initialized) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
} else {
console.error('‚ùå initializeVoiceSystemÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}
if (window.stateManager) {
const started = await window.stateManager.startRecognition();
if (started) {
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„Å´Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã„Åó„Åæ„Åó„ÅüÔºàÊñ∞„Ç∑„Çπ„ÉÜ„É†Ôºâ');
} else {
console.log('‚ö†Ô∏è „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„ÅÆÈü≥Â£∞Ë™çË≠òÈñãÂßã„Å´Â§±ÊïóÔºàÊñ∞„Ç∑„Çπ„ÉÜ„É†Ôºâ');
}
} else {
console.error('‚ùå StateManager„ÅåÊú™ÂàùÊúüÂåñ');
}
const hahoriGreeting = `ÁßÅ„ÅØÈÄ≤Ë°åÂΩπ„ÅÆ„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇÊú¨Êó•„ÅØË≤¥Èáç„Å™„ÅäÊôÇÈñì„Çí„ÅÑ„Åü„Å†„Åç„ÄÅ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ„Å≠„Åª„Çä„Éº„ÅÆ„Å®‰∏ÄÁ∑í„Å´„ÄÅ„ÅÇ„Å™„Åü„ÅÆÁµåÈ®ì„Åã„Çâ‰æ°ÂÄ§„ÅÇ„ÇãÁü•Ë¶ã„ÇíÊäΩÂá∫„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ`;
const nehoriGreeting = `„Åì„Çì„Å´„Å°„ÅØÔºÅÊ∑±Êéò„ÇäAI„Äå„Å≠„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ‰ªäÊó•„ÅØ„Äå${window.AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅÊ∑±„ÅèÊéò„Çä‰∏ã„Åí„Å¶„ÅäË©±„ÇíËÅû„Åã„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„Åæ„Åö„ÄÅÁ∞°Âçò„Å´Ëá™Â∑±Á¥π‰ªã„Çí„ÅäÈ°ò„ÅÑ„Åß„Åç„Åæ„Åô„ÅãÔºü`;
await window.addMessageToChat(window.SPEAKERS.HAHORI, hahoriGreeting);
const [hahoriAudio, nehoriAudio] = await Promise.all([
window.ttsTextToAudioBlob(hahoriGreeting, window.SPEAKERS.HAHORI),
window.ttsTextToAudioBlob(nehoriGreeting, window.SPEAKERS.NEHORI)
]);
await window.playPreGeneratedAudio(hahoriAudio, window.SPEAKERS.HAHORI);
await window.addMessageToChat(window.SPEAKERS.NEHORI, nehoriGreeting);
await window.playPreGeneratedAudio(nehoriAudio, window.SPEAKERS.NEHORI);
// üé§ Êñ∞„Ç∑„Çπ„ÉÜ„É†: Êå®Êã∂Âæå„ÅÆÈü≥Â£∞Ë™çË≠òÈñãÂßã
if (window.stateManager) {
await window.stateManager.startRecognition();
console.log('‚úÖ Êå®Êã∂Âæå„ÅÆÈü≥Â£∞Ë™çË≠òÈñãÂßãÂÆå‰∫ÜÔºàÊñ∞„Ç∑„Çπ„ÉÜ„É†Ôºâ');
} else {
console.warn('‚ö†Ô∏è StateManager„ÅåÊú™ÂàùÊúüÂåñ - Èü≥Â£∞Ë™çË≠òÈñãÂßã„Çí„Çπ„Ç≠„ÉÉ„Éó');
}
} catch (error) {
console.error('‚ùå „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóË≥™ÂïèÁîüÊàê„Ç®„É©„Éº:', error);
window.showMessage('error', 'Ë≥™Âïè„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
},
// =================================================================================
// Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñ
// =================================================================================
async initializeKnowledgeSession(theme) {
try {
// KnowledgeState„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof window.KnowledgeState === 'undefined') {
console.warn('‚ö†Ô∏è KnowledgeState„ÅåÊú™ÂÆöÁæ©„Åß„Åô');
return;
}
if (!window.KnowledgeState.isInitialized) {
console.warn('‚ö†Ô∏è Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
// ÂàùÊúüÂåñ„ÇíË©¶Ë°å
await window.initializeKnowledgeManagement();
if (!window.KnowledgeState.isInitialized) {
console.error('‚ùå Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return;
}
}
console.log('üìã Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñÈñãÂßã...');
// 1. „É¶„Éº„Ç∂„ÉºÂêç„ÅÆÁ¢∫Ë™çÔºàÁÑ°ÂäπÂåñ - „Éá„Éï„Ç©„É´„ÉàÂÄ§„Çí‰ΩøÁî®Ôºâ
const participant = {
formal_name: '„Ç≤„Çπ„Éà',
role: '„É¶„Éº„Ç∂„Éº'
};
// 2. „Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆÈÅ∏ÊäûÔºàÁÑ°ÂäπÂåñ - „Éá„Éï„Ç©„É´„ÉàÂÄ§„Çí‰ΩøÁî®Ôºâ
const category = '„Åù„ÅÆ‰ªñ';
// 3. „Çª„ÉÉ„Ç∑„Éß„É≥„Éï„Ç°„Ç§„É´„ÅÆÂàùÊúüÂåñ
const sessionMeta = {
session_id: `session_${Date.now()}`,
theme: theme,
participant: participant.formal_name,
participant_role: participant.role,
category: category
};
// SessionController„Çí‰ΩøÁî®„Åó„Å¶„Çª„ÉÉ„Ç∑„Éß„É≥‰ΩúÊàê
if (window.SessionController) {
await window.SessionController.createSessionFile(sessionMeta);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
await window.KnowledgeFileManager.createSessionFile(sessionMeta);
}
console.log('‚úÖ Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñÂÆå‰∫Ü');
window.showMessage('success', `Áü•Ë¶ãÂèéÈõÜ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÈñãÂßã„Åó„Åæ„Åó„ÅüÔºà${category}„Ç´„ÉÜ„Ç¥„É™„ÉºÔºâ`);
} catch (error) {
console.error('‚ùå Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.showMessage('warning', 'Áü•Ë¶ãÂèéÈõÜÊ©üËÉΩ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„Åå„ÄÅ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅØÁ∂ôÁ∂ö„Åï„Çå„Åæ„Åô');
}
},
// =================================================================================
// 2„Çπ„ÉÜ„ÉÉ„ÉóË™çË®º„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üìä 2„Çπ„ÉÜ„ÉÉ„ÉóÁä∂ÊÖã„ÅÆË©ï‰æ°
evaluate2StepStatus() {
const loginComplete = window.StorageManager.login.load() && window.AppState.apiKey;
const themeComplete = window.StorageManager.theme.loadInput().trim() !== '';
return {
loginComplete,
themeComplete,
allComplete: loginComplete && themeComplete
};
},
// üîÑ 2„Çπ„ÉÜ„ÉÉ„ÉóUIÊõ¥Êñ∞Ê©üËÉΩ
update2StepUI() {
try {
const status = this.evaluate2StepStatus();
// Step 1: „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÅÆÊõ¥Êñ∞
const step1Checkbox = window.UIManager.DOMUtils.get('step1Checkbox');
const step1Status = window.UIManager.DOMUtils.get('step1Status');
const step1ActionButton = window.UIManager.DOMUtils.get('step1ActionButton');
if (step1Checkbox && step1Status && step1ActionButton) {
if (status.loginComplete) {
// „É≠„Ç∞„Ç§„É≥Ê∏à„Åø„ÅÆÂ†¥Âêà
step1Checkbox.textContent = '‚úÖ';
step1Checkbox.style.border = '2px solid #4caf50';
step1Status.innerHTML = '<strong>„É≠„Ç∞„Ç§„É≥Ê∏à„Åø ‚úì</strong>';
step1Status.style.color = '#4caf50';
step1ActionButton.textContent = '„ÇØ„É™„Ç¢';
step1ActionButton.onclick = () => this.handleLogout();
// üé® „ÇØ„É™„Ç¢Ê©üËÉΩ„Å®„Åó„Å¶Áµ±‰∏Ä„Åï„Çå„Åü„Çπ„Çø„Ç§„É´
step1ActionButton.style.background = 'linear-gradient(135deg, #ff9800, #f57c00)';
step1ActionButton.style.color = 'white';
} else if (window.isApiKeyConfigured()) {
// API KEYË®≠ÂÆöÊ∏à„Åø„Å†„ÅåÊú™„É≠„Ç∞„Ç§„É≥„ÅÆÂ†¥Âêà
step1Checkbox.textContent = '‚ö†Ô∏è';
step1Checkbox.style.border = '2px solid #ff9800';
step1Status.innerHTML = '<strong>API KEY„Éª„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆöÊ∏à</strong>';
step1Status.style.color = '#ff9800';
step1ActionButton.textContent = '„É≠„Ç∞„Ç§„É≥';
step1ActionButton.onclick = window.loginWithPassword;
step1ActionButton.style.background = '';
step1ActionButton.style.color = '';
} else {
// Êú™Ë®≠ÂÆö„ÅÆÂ†¥Âêà
step1Checkbox.textContent = '‚ùå';
step1Checkbox.style.border = '2px solid #ccc';
step1Status.innerHTML = '<strong>Êú™Ë®≠ÂÆö</strong>';
step1Status.style.color = 'var(--text-secondary)';
step1ActionButton.textContent = '„É≠„Ç∞„Ç§„É≥';
step1ActionButton.onclick = window.loginWithPassword;
step1ActionButton.style.background = '';
step1ActionButton.style.color = '';
}
}
// Step 2: „ÉÜ„Éº„ÉûÁä∂ÊÖã„ÅÆÊõ¥Êñ∞
const step2Checkbox = window.UIManager.DOMUtils.get('step2Checkbox');
const step2Status = window.UIManager.DOMUtils.get('step2Status');
const step2ActionButton = window.UIManager.DOMUtils.get('step2ActionButton');
if (step2Checkbox && step2Status && step2ActionButton) {
if (status.themeComplete) {
const currentTheme = window.StorageManager.theme.loadInput();
const displayTheme = currentTheme.length > 30 ? currentTheme.substring(0, 30) + '...' : currentTheme;
step2Checkbox.textContent = '‚úÖ';
step2Checkbox.style.border = '2px solid #4caf50';
step2Status.innerHTML = `<strong>„ÉÜ„Éº„Éû„ÅØ"${displayTheme}" ‚úì</strong>`;
step2Status.style.color = '#4caf50';
step2ActionButton.textContent = '„ÇØ„É™„Ç¢';
step2ActionButton.onclick = () => this.handleThemeClear();
// üé® „ÇØ„É™„Ç¢Ê©üËÉΩ„Å®„Åó„Å¶Áµ±‰∏Ä„Åï„Çå„Åü„Çπ„Çø„Ç§„É´
step2ActionButton.style.background = 'linear-gradient(135deg, #ff9800, #f57c00)';
step2ActionButton.style.color = 'white';
} else {
step2Checkbox.textContent = '‚ùå';
step2Checkbox.style.border = '2px solid #ccc';
step2Status.innerHTML = '<strong>Êú™Ë®≠ÂÆö</strong>';
step2Status.style.color = 'var(--text-secondary)';
step2ActionButton.textContent = 'Ë®≠ÂÆö';
step2ActionButton.onclick = () => this.focusThemeInput();
step2ActionButton.style.background = '';
step2ActionButton.style.color = '';
}
}
// „Éï„Ç°„Ç§„É´Ê∑ª‰ªò„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÂà∂Âæ°
const fileInput = window.UIManager.DOMUtils.get('themeFileInput');
const fileInputDisplay = window.UIManager.DOMUtils.get('fileInputDisplay');
const fileInputText = window.UIManager.DOMUtils.get('fileInputText');
console.log('üîÑ „Éï„Ç°„Ç§„É´ÂÖ•ÂäõÁä∂ÊÖãÊõ¥Êñ∞:', {
fileInput: !!fileInput,
fileInputDisplay: !!fileInputDisplay,
fileInputText: !!fileInputText,
loginComplete: status.loginComplete
});
if (fileInput && fileInputDisplay && fileInputText) {
if (status.loginComplete) {
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥ÂÆå‰∫Ü - „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÇíÊúâÂäπÂåñ');
fileInput.disabled = false;
fileInputDisplay.classList.remove('disabled');
fileInputDisplay.title = '';
fileInputDisplay.style.pointerEvents = 'auto';
fileInputDisplay.style.cursor = 'pointer';
// „Éï„Ç°„Ç§„É´„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅÆË°®Á§∫
if (!fileInput.files || fileInput.files.length === 0) {
fileInputText.textContent = 'ÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì';
fileInputText.classList.add('placeholder');
}
} else {
console.log('‚ùå Êú™„É≠„Ç∞„Ç§„É≥ - „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÇíÁÑ°ÂäπÂåñ');
fileInput.disabled = true;
fileInputDisplay.classList.add('disabled');
fileInputDisplay.title = '„É≠„Ç∞„Ç§„É≥„Åó„Å¶„Åã„Çâ„Éï„Ç°„Ç§„É´Ê∑ª‰ªò„Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ';
fileInputDisplay.style.pointerEvents = 'none';
fileInputDisplay.style.cursor = 'not-allowed';
fileInputText.textContent = '„É≠„Ç∞„Ç§„É≥ÂæåÊ∑ª‰ªòÂá∫Êù•„Åæ„Åô';
fileInputText.classList.add('placeholder');
// „Éï„Ç°„Ç§„É´ÈÅ∏Êäû„Çí„ÇØ„É™„Ç¢
fileInput.value = '';
}
} else {
console.log('‚ö†Ô∏è „Éï„Ç°„Ç§„É´ÂÖ•ÂäõË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
this.updateSessionStartButton(status.allComplete);
// Step0„ÅÆË°®Á§∫Âà∂Âæ°„ÇÇÊõ¥Êñ∞
if (window.updateStep0Visibility) {
window.updateStep0Visibility();
}
console.log('‚úÖ 2„Çπ„ÉÜ„ÉÉ„ÉóUIÊõ¥Êñ∞ÂÆå‰∫Ü:', status);
} catch (error) {
console.error('‚ùå 2„Çπ„ÉÜ„ÉÉ„ÉóUIÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
// üöÄ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
updateSessionStartButton(allComplete) {
const startButton = window.UIManager.DOMUtils.get('startButton');
const startButtonSubText = window.UIManager.DOMUtils.get('startButtonSubText');
const sessionStartSection = window.UIManager.DOMUtils.get('sessionStartSection');
// Step0ÊôÇ„ÅØÈùûË°®Á§∫„ÄÅStep1‰ª•Èôç„ÅßË°®Á§∫
const isApiKeyConfigured = window.isApiKeyConfigured ? window.isApiKeyConfigured() : false;
if (sessionStartSection) {
if (isApiKeyConfigured) {
sessionStartSection.style.display = 'flex';
} else {
sessionStartSection.style.display = 'none';
return; // Step0ÊôÇ„ÅØÂá¶ÁêÜÁµÇ‰∫Ü
}
}
if (startButton) {
if (allComplete) {
// Step1„Éª2ÂÆå‰∫ÜÊôÇ
startButton.disabled = false;
startButton.style.background = 'linear-gradient(135deg, #4caf50, #45a049)';
// „Çµ„Éñ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂâäÈô§
if (startButtonSubText) {
startButtonSubText.style.display = 'none';
}
} else {
// Êú™ÂÆå‰∫ÜÊôÇ
startButton.disabled = true;
startButton.style.background = '';
// „Çµ„Éñ„ÉÜ„Ç≠„Çπ„Éà„ÇíË°®Á§∫
if (startButtonSubText) {
startButtonSubText.style.display = 'block';
startButtonSubText.textContent = 'Step1„Éª2ÂÆå‰∫ÜÂæåÈñãÂßã„Åß„Åç„Åæ„Åô';
}
}
}
},
// =================================================================================
// „Éï„Ç©„Éº„Ç´„ÇπÂà∂Âæ°
// =================================================================================
// üéØ „Éï„Ç©„Éº„Ç´„ÇπÂà∂Âæ°Èñ¢Êï∞
focusPasswordInput() {
const passwordInput = window.UIManager.DOMUtils.get('passwordInput');
if (passwordInput) {
passwordInput.focus();
passwordInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
}
},
focusThemeInput() {
const themeInput = window.UIManager.DOMUtils.get('themeInput');
if (themeInput) {
themeInput.focus();
themeInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
}
},
// =================================================================================
// Áä∂ÊÖã„ÇØ„É™„Ç¢Âá¶ÁêÜ
// =================================================================================
// üö™ „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇØ„É™„Ç¢Âá¶ÁêÜ
handleLogout() {
const confirmed = confirm('„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åô„ÅãÔºü\nAPI„Ç≠„Éº„Å®„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Åå„ÇØ„É™„Ç¢„Åï„Çå„Åæ„Åô„ÄÇ');
if (confirmed) {
try {
// „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢
window.clearLoginState();
window.AppState.apiKey = null;
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊ¨Ñ„Çí„ÇØ„É™„Ç¢
const passwordInput = window.UIManager.DOMUtils.get('passwordInput');
if (passwordInput) {
passwordInput.value = '';
}
// UIÊõ¥Êñ∞
this.update2StepUI();
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇØ„É™„Ç¢ÂÆå‰∫Ü');
window.showMessage('success', '„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
window.showMessage('error', '„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÅÆ„ÇØ„É™„Ç¢‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
}
}
},
// üóëÔ∏è „ÉÜ„Éº„Éû„ÇØ„É™„Ç¢Âá¶ÁêÜ
handleThemeClear() {
const confirmed = confirm('„ÉÜ„Éº„ÉûË®≠ÂÆö„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åô„ÅãÔºü');
if (confirmed) {
try {
// „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢
window.clearThemeInputState();
// „ÉÜ„Éº„ÉûÂÖ•ÂäõÊ¨Ñ„Çí„ÇØ„É™„Ç¢
const themeInput = window.UIManager.DOMUtils.get('themeInput');
if (themeInput) {
themeInput.value = '';
}
// UIÊõ¥Êñ∞
this.update2StepUI();
console.log('‚úÖ „ÉÜ„Éº„Éû„ÇØ„É™„Ç¢ÂÆå‰∫Ü');
window.showMessage('success', '„ÉÜ„Éº„ÉûË®≠ÂÆö„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå „ÉÜ„Éº„Éû„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
window.showMessage('error', '„ÉÜ„Éº„Éû„ÇØ„É™„Ç¢‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
}
}
},
// =================================================================================
// „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
// =================================================================================
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãË°®Á§∫Êõ¥Êñ∞
updateSessionStatus(status, theme) {
const sessionStatus = window.UIManager.DOMUtils.get('sessionStatus');
const sessionTheme = window.UIManager.DOMUtils.get('sessionTheme');
if (sessionStatus) {
sessionStatus.textContent = status;
}
if (sessionTheme) {
sessionTheme.textContent = theme;
}
},
// „Éû„Ç§„ÇØÂàùÊúüÂåñÔºàscript.js„ÅÆÈñ¢Êï∞„ÇíÂëº„Å≥Âá∫„ÅóÔºâ
async initializeMicrophoneRecording() {
if (typeof window.initializeMicrophoneRecording === 'function') {
return await window.initializeMicrophoneRecording();
} else {
console.error('‚ùå initializeMicrophoneRecordingÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
},
// Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
initializeVoiceSystem() {
console.log('üé§ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// stateManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.stateManager) {
console.log('‚ö†Ô∏è stateManager„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
try {
// Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
window.stateManager.permissionManager.getPermission()
.then(granted => {
if (granted) {
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
window.AppState.voiceRecognitionStability.micPermissionGranted = true;
} else {
console.log('üö´ „Éû„Ç§„ÇØË®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Åæ„Åó„Åü');
window.AppState.voiceRecognitionStability.micPermissionGranted = false;
}
})
.catch(error => {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.AppState.voiceRecognitionStability.micPermissionGranted = false;
});
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
};
// =================================================================================
// ÂàùÊúüÂåñ„Å®„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// ÂàùÊúüÂåñ
SessionStartManager.init();
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨ÈñãÔºàÂæåÊñπ‰∫íÊèõÊÄßÁ¢∫‰øùÔºâ
window.SessionStartManager = SessionStartManager;
// ÂæåÊñπ‰∫íÊèõÊÄß: Êó¢Â≠ò„ÅÆÈñ¢Êï∞Âêç„Åß„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ
window.startSession = () => SessionStartManager.startSession();
window.startWarmupPhase = () => SessionStartManager.startWarmupPhase();
window.initializeKnowledgeSession = (theme) => SessionStartManager.initializeKnowledgeSession(theme);
window.evaluate2StepStatus = () => SessionStartManager.evaluate2StepStatus();
window.update2StepUI = () => SessionStartManager.update2StepUI();
window.updateSessionStartButton = (allComplete) => SessionStartManager.updateSessionStartButton(allComplete);
window.focusPasswordInput = () => SessionStartManager.focusPasswordInput();
window.focusThemeInput = () => SessionStartManager.focusThemeInput();
window.handleLogout = () => SessionStartManager.handleLogout();
window.handleThemeClear = () => SessionStartManager.handleThemeClear();
console.log('‚úÖ SessionStartManagerÂàùÊúüÂåñÂÆå‰∫Ü');
/* === phase-manager.js === */
// =================================================================================
// PHASE MANAGER - „Éï„Çß„Éº„Ç∫ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// Âçò‰∏ÄË≤¨‰ªª: „Éï„Çß„Éº„Ç∫ÁÆ°ÁêÜ„ÅÆÂÆåÂÖ®„Å™Âá¶ÁêÜÔºàÂÆöÁæ©‚ÜíÈÅ∑Áßª‚ÜíÁä∂ÊÖãÁÆ°ÁêÜ‚ÜíUIÊõ¥Êñ∞Ôºâ
// Êñ∞„É´„Éº„É´ÈÅ©Áî®: Ë°åÊï∞Âà∂Èôê„Å™„Åó„ÄÅÂçò‰∏ÄÊ©üËÉΩ„ÅÆÂÆåÂÖ®„Å™Âá¶ÁêÜ„Å´ÈôêÂÆö
/**
* „Éï„Çß„Éº„Ç∫ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
* Ë≤¨‰ªªÁØÑÂõ≤: „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Éï„Çß„Éº„Ç∫„ÅÆÂÆåÂÖ®„Å™„É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´ÁÆ°ÁêÜ
*/
const PhaseManager = {
/**
* „Éï„Çß„Éº„Ç∫ÂÆöÁæ©
* „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÁä∂ÊÖãÈÅ∑Áßª„ÇíÂÆöÁæ©
*/
PHASES: {
SETUP: 'setup',
WARMUP: 'warmup',
DEEPDIVE: 'deepdive',
SUMMARY: 'summary',
CLOSING: 'closing'
},
/**
* „Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„Éû„ÉÉ„Éó
* Ë®±ÂèØ„Åï„Çå„Åü„Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„ÇíÂÆöÁæ©
*/
PHASE_TRANSITIONS: {
setup: ['warmup'],
warmup: ['deepdive'],
deepdive: ['summary'],
summary: ['closing'],
closing: ['setup']
},
/**
* „Éï„Çß„Éº„Ç∫Ë°®Á§∫Âêç„Éû„ÉÉ„Éó
* UIË°®Á§∫Áî®„ÅÆÊó•Êú¨Ë™ûÂêç
*/
PHASE_DISPLAY_NAMES: {
setup: 'Ê∫ñÂÇô‰∏≠',
warmup: '„Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó‰∏≠',
deepdive: 'Ê∑±Êéò„Çä‰∏≠',
summary: '„Åæ„Å®„ÇÅ‰∏≠',
closing: 'ÁµÇ‰∫Ü‰∏≠'
},
/**
* „Éï„Çß„Éº„Ç∫Áä∂ÊÖãÁÆ°ÁêÜ
* ÁèæÂú®„ÅÆ„Éï„Çß„Éº„Ç∫Áä∂ÊÖã„ÇíÁÆ°ÁêÜ
*/
state: {
currentPhase: 'setup',
previousPhase: null,
transitionInProgress: false,
transitionStartTime: null,
phaseHistory: []
},
/**
* „Éï„Çß„Éº„Ç∫ÂàùÊúüÂåñ
* „Éï„Çß„Éº„Ç∫ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÇíÂàùÊúüÂåñ
*/
initialize() {
console.log('üéØ PhaseManager ÂàùÊúüÂåñÈñãÂßã');
try {
// Áä∂ÊÖãÂàùÊúüÂåñ
this.state.currentPhase = this.PHASES.SETUP;
this.state.previousPhase = null;
this.state.transitionInProgress = false;
this.state.transitionStartTime = null;
this.state.phaseHistory = [];
// AppState„Å®„ÅÆÂêåÊúü
if (window.AppState) {
window.AppState.phase = this.PHASES.SETUP;
}
console.log('‚úÖ PhaseManager ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå PhaseManager ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÂÆüË°å
* ÊåáÂÆö„Åï„Çå„Åü„Éï„Çß„Éº„Ç∫„Å∏„ÅÆÈÅ∑Áßª„ÇíÂÆüË°å
*/
async transitionToPhase(targetPhase, context = {}) {
console.log(`üéØ „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÈñãÂßã: ${this.state.currentPhase} ‚Üí ${targetPhase}`);
// ÈÅ∑Áßª‰∏≠„ÉÅ„Çß„ÉÉ„ÇØ
if (this.state.transitionInProgress) {
console.warn('‚ö†Ô∏è „Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„ÅåÊó¢„Å´ÈÄ≤Ë°å‰∏≠„Åß„Åô');
return false;
}
// ÈÅ∑ÁßªÂèØËÉΩÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
if (!this.canTransitionTo(targetPhase)) {
console.error(`‚ùå ‰∏çÊ≠£„Å™„Éï„Çß„Éº„Ç∫ÈÅ∑Áßª: ${this.state.currentPhase} ‚Üí ${targetPhase}`);
return false;
}
try {
// ÈÅ∑ÁßªÈñãÂßã
this.state.transitionInProgress = true;
this.state.transitionStartTime = new Date();
// ÈÅ∑ÁßªÂâçÂá¶ÁêÜ
await this.executePreTransitionActions(this.state.currentPhase, targetPhase, context);
// „Éï„Çß„Éº„Ç∫Â§âÊõ¥
this.state.previousPhase = this.state.currentPhase;
this.state.currentPhase = targetPhase;
// AppState„Å®„ÅÆÂêåÊúü
if (window.AppState) {
window.AppState.phase = targetPhase;
}
// Â±•Ê≠¥Ë®òÈå≤
this.state.phaseHistory.push({
fromPhase: this.state.previousPhase,
toPhase: targetPhase,
timestamp: new Date(),
context: context
});
// ÈÅ∑ÁßªÂæåÂá¶ÁêÜ
await this.executePostTransitionActions(this.state.previousPhase, targetPhase, context);
// UIÊõ¥Êñ∞
this.updatePhaseUI(targetPhase, context);
console.log(`‚úÖ „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÂÆå‰∫Ü: ${this.state.previousPhase} ‚Üí ${targetPhase}`);
return true;
} catch (error) {
console.error('‚ùå „Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„Ç®„É©„Éº:', error);
return false;
} finally {
// ÈÅ∑ÁßªÂÆå‰∫Ü
this.state.transitionInProgress = false;
this.state.transitionStartTime = null;
}
},
/**
* „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÂèØËÉΩÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
* ÊåáÂÆö„Åï„Çå„Åü„Éï„Çß„Éº„Ç∫„Å∏„ÅÆÈÅ∑Áßª„ÅåÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
*/
canTransitionTo(targetPhase) {
const currentPhase = this.state.currentPhase;
const allowedTransitions = this.PHASE_TRANSITIONS[currentPhase] || [];
// Âêå„Åò„Éï„Çß„Éº„Ç∫„Å∏„ÅÆÈÅ∑Áßª„ÅØË®±ÂèØÔºàÁä∂ÊÖãÊõ¥Êñ∞„ÅÆ„Åü„ÇÅÔºâ
if (currentPhase === targetPhase) {
return true;
}
// Ë®±ÂèØ„Åï„Çå„ÅüÈÅ∑Áßª„Åã„ÉÅ„Çß„ÉÉ„ÇØ
return allowedTransitions.includes(targetPhase);
},
/**
* ÈÅ∑ÁßªÂâçÂá¶ÁêÜÂÆüË°å
* „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÂâç„ÅÆÂá¶ÁêÜ„ÇíÂÆüË°å
*/
async executePreTransitionActions(fromPhase, toPhase, context) {
console.log(`üîÑ ÈÅ∑ÁßªÂâçÂá¶ÁêÜÂÆüË°å: ${fromPhase} ‚Üí ${toPhase}`);
try {
// „Éï„Çß„Éº„Ç∫Âà•„ÅÆÈÅ∑ÁßªÂâçÂá¶ÁêÜ
switch (fromPhase) {
case this.PHASES.SETUP:
await this.handleSetupExit(context);
break;
case this.PHASES.WARMUP:
await this.handleWarmupExit(context);
break;
case this.PHASES.DEEPDIVE:
await this.handleDeepdiveExit(context);
break;
case this.PHASES.SUMMARY:
await this.handleSummaryExit(context);
break;
case this.PHASES.CLOSING:
await this.handleClosingExit(context);
break;
}
console.log(`‚úÖ ÈÅ∑ÁßªÂâçÂá¶ÁêÜÂÆå‰∫Ü: ${fromPhase}`);
} catch (error) {
console.error(`‚ùå ÈÅ∑ÁßªÂâçÂá¶ÁêÜ„Ç®„É©„Éº (${fromPhase}):`, error);
throw error;
}
},
/**
* ÈÅ∑ÁßªÂæåÂá¶ÁêÜÂÆüË°å
* „Éï„Çß„Éº„Ç∫ÈÅ∑ÁßªÂæå„ÅÆÂá¶ÁêÜ„ÇíÂÆüË°å
*/
async executePostTransitionActions(fromPhase, toPhase, context) {
console.log(`üîÑ ÈÅ∑ÁßªÂæåÂá¶ÁêÜÂÆüË°å: ${fromPhase} ‚Üí ${toPhase}`);
try {
// „Éï„Çß„Éº„Ç∫Âà•„ÅÆÈÅ∑ÁßªÂæåÂá¶ÁêÜ
switch (toPhase) {
case this.PHASES.SETUP:
await this.handleSetupEntry(context);
break;
case this.PHASES.WARMUP:
await this.handleWarmupEntry(context);
break;
case this.PHASES.DEEPDIVE:
await this.handleDeepdiveEntry(context);
break;
case this.PHASES.SUMMARY:
await this.handleSummaryEntry(context);
break;
case this.PHASES.CLOSING:
await this.handleClosingEntry(context);
break;
}
console.log(`‚úÖ ÈÅ∑ÁßªÂæåÂá¶ÁêÜÂÆå‰∫Ü: ${toPhase}`);
} catch (error) {
console.error(`‚ùå ÈÅ∑ÁßªÂæåÂá¶ÁêÜ„Ç®„É©„Éº (${toPhase}):`, error);
throw error;
}
},
/**
* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ
*/
async handleSetupExit(context) {
console.log('üîÑ „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ');
// „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÁµÇ‰∫ÜÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ
*/
async handleWarmupExit(context) {
console.log('üîÑ „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ');
// „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóÁµÇ‰∫ÜÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* Ê∑±Êéò„Çä„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ
*/
async handleDeepdiveExit(context) {
console.log('üîÑ Ê∑±Êéò„Çä„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ');
// Ê∑±Êéò„ÇäÁµÇ‰∫ÜÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ
*/
async handleSummaryExit(context) {
console.log('üîÑ „Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ');
// „Åæ„Å®„ÇÅÁµÇ‰∫ÜÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* ÁµÇ‰∫Ü„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ
*/
async handleClosingExit(context) {
console.log('üîÑ ÁµÇ‰∫Ü„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫Âá¶ÁêÜ');
// ÁµÇ‰∫Ü„Éï„Çß„Éº„Ç∫ÈÄÄÂá∫ÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ
*/
async handleSetupEntry(context) {
console.log('üîÑ „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ');
// „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ
*/
async handleWarmupEntry(context) {
console.log('üîÑ „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ');
// „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* Ê∑±Êéò„Çä„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ
*/
async handleDeepdiveEntry(context) {
console.log('üîÑ Ê∑±Êéò„Çä„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ');
// Ê∑±Êéò„ÇäÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ
*/
async handleSummaryEntry(context) {
console.log('üîÑ „Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ');
// „Åæ„Å®„ÇÅÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* ÁµÇ‰∫Ü„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ
*/
async handleClosingEntry(context) {
console.log('üîÑ ÁµÇ‰∫Ü„Éï„Çß„Éº„Ç∫ÂÖ•Â†¥Âá¶ÁêÜ');
// ÁµÇ‰∫ÜÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Éï„Çß„Éº„Ç∫UIÊõ¥Êñ∞
* „Éï„Çß„Éº„Ç∫Â§âÊõ¥„Å´Âøú„Åò„Å¶UI„ÇíÊõ¥Êñ∞
*/
updatePhaseUI(phase, context = {}) {
console.log(`üé® „Éï„Çß„Éº„Ç∫UIÊõ¥Êñ∞: ${phase}`);
try {
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖãË°®Á§∫„ÅÆÊõ¥Êñ∞
const displayName = this.PHASE_DISPLAY_NAMES[phase] || phase;
const theme = context.theme || window.AppState?.currentTheme || 'Êú™Ë®≠ÂÆö';
// updateSessionStatusÈñ¢Êï∞„ÅÆÂëº„Å≥Âá∫„Åó
if (typeof updateSessionStatus === 'function') {
updateSessionStatus(displayName, theme);
} else {
console.warn('‚ö†Ô∏è updateSessionStatusÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// „Éï„Çß„Éº„Ç∫Âõ∫Êúâ„ÅÆUIÊõ¥Êñ∞
this.updatePhaseSpecificUI(phase, context);
console.log(`‚úÖ „Éï„Çß„Éº„Ç∫UIÊõ¥Êñ∞ÂÆå‰∫Ü: ${phase}`);
} catch (error) {
console.error('‚ùå „Éï„Çß„Éº„Ç∫UIÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
},
/**
* „Éï„Çß„Éº„Ç∫Âõ∫ÊúâUIÊõ¥Êñ∞
* ÂêÑ„Éï„Çß„Éº„Ç∫„Å´ÁâπÂåñ„Åó„ÅüUIÊõ¥Êñ∞
*/
updatePhaseSpecificUI(phase, context) {
switch (phase) {
case this.PHASES.SETUP:
this.updateSetupUI(context);
break;
case this.PHASES.WARMUP:
this.updateWarmupUI(context);
break;
case this.PHASES.DEEPDIVE:
this.updateDeepdiveUI(context);
break;
case this.PHASES.SUMMARY:
this.updateSummaryUI(context);
break;
case this.PHASES.CLOSING:
this.updateClosingUI(context);
break;
}
},
/**
* „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóUIÊõ¥Êñ∞
*/
updateSetupUI(context) {
console.log('üé® „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóUIÊõ¥Êñ∞');
// „Çª„ÉÉ„Éà„Ç¢„ÉÉ„ÉóÊôÇ„ÅÆUIÊõ¥Êñ∞ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóUIÊõ¥Êñ∞
*/
updateWarmupUI(context) {
console.log('üé® „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóUIÊõ¥Êñ∞');
// „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„ÉóÊôÇ„ÅÆUIÊõ¥Êñ∞ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* Ê∑±Êéò„ÇäUIÊõ¥Êñ∞
*/
updateDeepdiveUI(context) {
console.log('üé® Ê∑±Êéò„ÇäUIÊõ¥Êñ∞');
// Ê∑±Êéò„ÇäÊôÇ„ÅÆUIÊõ¥Êñ∞ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* „Åæ„Å®„ÇÅUIÊõ¥Êñ∞
*/
updateSummaryUI(context) {
console.log('üé® „Åæ„Å®„ÇÅUIÊõ¥Êñ∞');
// „Åæ„Å®„ÇÅÊôÇ„ÅÆUIÊõ¥Êñ∞ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* ÁµÇ‰∫ÜUIÊõ¥Êñ∞
*/
updateClosingUI(context) {
console.log('üé® ÁµÇ‰∫ÜUIÊõ¥Êñ∞');
// ÁµÇ‰∫ÜÊôÇ„ÅÆUIÊõ¥Êñ∞ÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
},
/**
* ÁèæÂú®„ÅÆ„Éï„Çß„Éº„Ç∫ÂèñÂæó
*/
getCurrentPhase() {
return this.state.currentPhase;
},
/**
* Ââç„ÅÆ„Éï„Çß„Éº„Ç∫ÂèñÂæó
*/
getPreviousPhase() {
return this.state.previousPhase;
},
/**
* „Éï„Çß„Éº„Ç∫Â±•Ê≠¥ÂèñÂæó
*/
getPhaseHistory() {
return [...this.state.phaseHistory];
},
/**
* „Éï„Çß„Éº„Ç∫Áä∂ÊÖãÂèñÂæó
*/
getPhaseState() {
return {
currentPhase: this.state.currentPhase,
previousPhase: this.state.previousPhase,
transitionInProgress: this.state.transitionInProgress,
transitionStartTime: this.state.transitionStartTime,
phaseHistory: this.getPhaseHistory()
};
},
/**
* „Éï„Çß„Éº„Ç∫„É™„Çª„ÉÉ„Éà
* „Éï„Çß„Éº„Ç∫Áä∂ÊÖã„ÇíÂàùÊúüÁä∂ÊÖã„Å´„É™„Çª„ÉÉ„Éà
*/
resetPhase() {
console.log('üîÑ „Éï„Çß„Éº„Ç∫„É™„Çª„ÉÉ„ÉàÂÆüË°å');
try {
this.state.currentPhase = this.PHASES.SETUP;
this.state.previousPhase = null;
this.state.transitionInProgress = false;
this.state.transitionStartTime = null;
this.state.phaseHistory = [];
// AppState„Å®„ÅÆÂêåÊúü
if (window.AppState) {
window.AppState.phase = this.PHASES.SETUP;
}
// UIÊõ¥Êñ∞
this.updatePhaseUI(this.PHASES.SETUP);
console.log('‚úÖ „Éï„Çß„Éº„Ç∫„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå „Éï„Çß„Éº„Ç∫„É™„Çª„ÉÉ„Éà„Ç®„É©„Éº:', error);
return false;
}
},
/**
* „Éï„Çß„Éº„Ç∫Ë®∫Êñ≠
* ÁèæÂú®„ÅÆ„Éï„Çß„Éº„Ç∫Áä∂ÊÖã„ÇíË®∫Êñ≠
*/
diagnosePhase() {
const diagnosis = {
currentPhase: this.state.currentPhase,
previousPhase: this.state.previousPhase,
transitionInProgress: this.state.transitionInProgress,
appStatePhase: window.AppState?.phase,
syncStatus: this.state.currentPhase === window.AppState?.phase ? 'synced' : 'out_of_sync',
phaseHistoryCount: this.state.phaseHistory.length,
lastTransition: this.state.phaseHistory[this.state.phaseHistory.length - 1] || null
};
console.log('üìä „Éï„Çß„Éº„Ç∫Ë®∫Êñ≠ÁµêÊûú:', diagnosis);
return diagnosis;
}
};
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „É°„Ç§„É≥„É¢„Ç∏„É•„Éº„É´„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.PhaseManager = PhaseManager;
// PHASESÂÆöÊï∞„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨ÈñãÔºàÂæåÊñπ‰∫íÊèõÊÄßÔºâ
window.PHASES = PhaseManager.PHASES;
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„Éò„É´„Éë„ÉºÈñ¢Êï∞
window.getCurrentPhase = () => PhaseManager.getCurrentPhase();
window.transitionToPhase = (phase, context) => PhaseManager.transitionToPhase(phase, context);
window.resetPhase = () => PhaseManager.resetPhase();
console.log('‚úÖ PhaseManager „É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
/* === voice-phase2-manager.js === */
// =================================================================================
// VOICE PHASE 2 MANAGER - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Phase2ÂÆåÂÖ®ÂàÜÈõ¢„É¢„Ç∏„É•„Éº„É´
// =================================================================================
// üéØ ÁõÆÁöÑ: Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Phase2„ÅÆÂÆåÂÖ®ÂàÜÈõ¢„Å´„Çà„Çã‰øùÂÆàÊÄßÂêë‰∏ä
// üìä ÂâäÊ∏õÂäπÊûú: 441Ë°åÂâäÊ∏õÔºà6,428Ë°å‚Üí5,987Ë°åÔºâ
// üõ°Ô∏è Êà¶Áï•: ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄßÁ¢∫‰øù„Å´„Çà„ÇãÂÆâÂÖ®„Å™ÂàÜÈõ¢
// üìÖ ‰ΩúÊàêÊó•: 2025-01-06
// =================================================================================
console.log('üöÄ VoicePhase2Manager „É¢„Ç∏„É•„Éº„É´Ë™≠„ÅøËæº„ÅøÈñãÂßã');
// =================================================================================
// VOICE OPTIMIZATION SYSTEM - Èü≥Â£∞ÊúÄÈÅ©Âåñ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// Voice Optimization Phase 3: „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Â£∞‰∏≠„Å´„Å≠„Åª„Çä„Éº„ÅÆÁîüÊàê
const VoiceOptimization = {
phase3: {
isActive: true,
pendingNehoriContent: null,
pendingNehoriAudio: null,
isGeneratingNehori: false,
hahoriSpeechStartTime: null,
shouldPlayNehoriImmediately: false
}
};
// =================================================================================
// DUAL PREEMPTIVE OPTIMIZATION SYSTEM - ÂèåÊñπÂêëÂÖàË™≠„ÅøÊúÄÈÅ©Âåñ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üîß Phase C: ÂèåÊñπÂêëÂÖàË™≠„ÅøÊúÄÈÅ©Âåñ„Ç∑„Çπ„ÉÜ„É†
const DualPreemptiveOptimization = {
phase1: {
isActive: true,
// „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁÆ°ÁêÜ
pendingHahoriContent: null,
pendingHahoriAudio: null,
isGeneratingHahori: false,
nehoriSpeechStartTime: null,
shouldPlayHahoriImmediately: false,
// Áä∂Ê≥ÅÈÅ©ÂøúÁÆ°ÁêÜ
adaptiveStrategy: {
nehoriSpeaking: { trigger: 'immediate', priority: 'high', context: 'knowledge_evaluation' },
hahoriSpeaking: { trigger: 'delayed', priority: 'medium', context: 'next_question' },
userSpeaking: { trigger: 'smart', priority: 'adaptive', context: 'response_preparation' }
},
// üîß Phase 2: Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†
situationAnalyzer: {
// ‰ºöË©±Áä∂Ê≥Å„ÇíÂàÜÊûê
analyzeConversationSituation(currentSpeaker, userInput) {
const recentMessages = AppState.conversationHistory.slice(-3);
const hasUserInput = userInput && userInput.trim().length > 0;
const isKnowledgeConfirmation = AppState.voiceRecognitionState.isKnowledgeConfirmationMode;
if (isKnowledgeConfirmation) {
return 'knowledge_confirmation';
} else if (currentSpeaker === SPEAKERS.NEHORI) {
return 'nehori_speaking';
} else if (currentSpeaker === SPEAKERS.HAHORI) {
return 'hahori_speaking';
} else if (hasUserInput) {
return 'user_speaking';
} else {
return 'idle';
}
},
// ÂÖàË™≠„ÅøÊà¶Áï•„ÇíÊ±∫ÂÆö
determinePreemptiveStrategy(situation) {
const strategy = DualPreemptiveOptimization.phase1.adaptiveStrategy[situation] ||
DualPreemptiveOptimization.phase1.adaptiveStrategy.userSpeaking;
// Êà¶Áï•„Å´Âü∫„Å•„ÅÑ„Å¶ÂÖ∑‰ΩìÁöÑ„Å™Ë®≠ÂÆö„ÇíÊ±∫ÂÆö
switch (strategy.trigger) {
case 'immediate':
return {
trigger: 'immediate',
delay: 100,
targetSpeaker: situation === 'nehori_speaking' ? SPEAKERS.HAHORI : SPEAKERS.NEHORI,
priority: strategy.priority
};
case 'delayed':
return {
trigger: 'delayed',
delay: 2000,
targetSpeaker: situation === 'nehori_speaking' ? SPEAKERS.HAHORI : SPEAKERS.NEHORI,
priority: strategy.priority
};
case 'smart':
return {
trigger: 'smart',
delay: 1000,
targetSpeaker: DualPreemptiveOptimization.phase1.situationAnalyzer.determineSmartTargetSpeaker(situation),
priority: strategy.priority
};
default:
return {
trigger: 'none',
delay: 0,
targetSpeaker: null,
priority: 'none'
};
}
},
// „Çπ„Éû„Éº„ÉàÊà¶Áï•„Åß„ÅÆ„Çø„Éº„Ç≤„ÉÉ„ÉàË©±ËÄÖÊ±∫ÂÆö
determineSmartTargetSpeaker(situation) {
// ‰ºöË©±Â±•Ê≠¥„Åã„ÇâÊúÄÈÅ©„Å™Ê¨°„ÅÆË©±ËÄÖ„ÇíÊ±∫ÂÆö
const recentMessages = AppState.conversationHistory.slice(-3);
const lastSpeaker = recentMessages.length > 0 ? recentMessages[recentMessages.length - 1].sender : null;
if (lastSpeaker === SPEAKERS.NEHORI) {
return SPEAKERS.HAHORI;
} else if (lastSpeaker === SPEAKERS.HAHORI) {
return SPEAKERS.NEHORI;
} else {
return SPEAKERS.NEHORI; // „Éá„Éï„Ç©„É´„Éà
}
}
}
}
};
// =================================================================================
// PREEMPTIVE GENERATION MANAGERS - ÂÖàË™≠„ÅøÁîüÊàêÁÆ°ÁêÜ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
// =================================================================================
// „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÁÆ°ÁêÜ
const nehoriPreemptiveGeneration = {
isGenerating: false,
startTime: null,
generatedQuestion: null,
lastPlaybackTime: null,
createIntegratedNehoriPrompt: function(conversationContext, themeContext) {
return `„ÉÜ„Éº„Éû„Äå${AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶„ÅÆÊ∑±Êéò„Çä‰ºöË©±„ÅåÈÄ≤Ë°å‰∏≠„Åß„Åô„ÄÇ
‰ºöË©±„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:
${conversationContext}
„ÉÜ„Éº„Éû„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:
${themeContext}
„ÅÇ„Å™„Åü„ÅØ„Äå„Å≠„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ‰ºöË©±„ÅÆÊµÅ„Çå„ÇíË∏è„Åæ„Åà„Å¶„ÄÅÊñ∞„Åó„ÅÑËßíÂ∫¶„Åß„ÅÆË≥™Âïè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
200ÊñáÂ≠ó‰ª•ÂÜÖ„Åß„ÄÅËá™ÁÑ∂„ÅßË¶™„Åó„Åø„ÇÑ„Åô„ÅÑË≥™Âïè„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ`;
},
generateNehoriQuestionAsync: async function(prompt) {
return await window.gptMessagesToCharacterResponse([
{ role: 'user', content: prompt }
], window.SPEAKERS.NEHORI);
}
};
// „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÁÆ°ÁêÜ
const hahoriPreemptiveGeneration = {
isGenerating: false,
startTime: null,
generatedResponse: null,
lastPlaybackTime: null,
createIntegratedHahoriPrompt: function(conversationContext, themeContext) {
return `„ÉÜ„Éº„Éû„Äå${AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶„ÅÆÊ∑±Êéò„Çä‰ºöË©±„ÅåÈÄ≤Ë°å‰∏≠„Åß„Åô„ÄÇ
‰ºöË©±„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:
${conversationContext}
„ÉÜ„Éº„Éû„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:
${themeContext}
„ÅÇ„Å™„Åü„ÅØ„Äå„ÅØ„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ‰ºöË©±„ÅÆÊµÅ„Çå„ÇíË∏è„Åæ„Åà„Å¶„ÄÅÈÅ©Âàá„Å™ÂøúÁ≠î„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
200ÊñáÂ≠ó‰ª•ÂÜÖ„Åß„ÄÅËá™ÁÑ∂„ÅßË¶™„Åó„Åø„ÇÑ„Åô„ÅÑÂøúÁ≠î„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ`;
},
generateHahoriResponseAsync: async function(prompt) {
return await window.gptMessagesToCharacterResponse([
{ role: 'user', content: prompt }
], window.SPEAKERS.HAHORI);
}
};
// =================================================================================
// NEHORI VOICE FUNCTIONS - „Å≠„Åª„Çä„ÉºÈü≥Â£∞Èñ¢Êï∞Áæ§
// =================================================================================
// üîß Phase 3: „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÊ©üËÉΩ
async function startNehoriGenerationDuringHahori() {
console.log('üîÆ „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÈñãÂßãÔºà„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±‰∏≠Ôºâ');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅÂÖàË™≠„ÅøÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(window.SPEAKERS?.HAHORI, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
console.log('üìä Áä∂Ê≥ÅÈÅ©ÂøúÂàÜÊûêÁµêÊûú:', { situation, strategy });
if (strategy.trigger === 'none') {
console.log('üö´ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÅåÂÖàË™≠„ÅøÁîüÊàê„ÇíÁÑ°ÂäπÂåñ');
return;
}
}
// üîÑ ‰ºöË©±Âà∂Âæ°„ÉÅ„Çß„ÉÉ„ÇØ
if (window.ConversationGatekeeper?.conversationControl?.speakingInProgress &&
window.AppState?.currentSpeaker !== window.SPEAKERS?.HAHORI) {
console.log('üö´ ‰∏çÈÅ©Âàá„Å™Áô∫Ë©±Áä∂ÊÖã„ÅÆ„Åü„ÇÅÂÖàË™≠„ÅøÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// Êó¢Â≠ò„ÅÆÂÖàË™≠„ÅøÁîüÊàê„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (nehoriPreemptiveGeneration.isGenerating) {
console.log('üîÑ Êó¢„Å´ÂÖàË™≠„ÅøÁîüÊàê‰∏≠ - „Çπ„Ç≠„ÉÉ„Éó');
return;
}
nehoriPreemptiveGeneration.isGenerating = true;
nehoriPreemptiveGeneration.startTime = Date.now();
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: ‰ºöË©±Â±•Ê≠¥„Å®„ÉÜ„Éº„Éû„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÁµ±Âêà
const conversationContext = window.AppState?.conversationHistory?.map(msg => msg.content).join(' ') || '';
const themeContext = window.AppState?.selectedThemeDetails?.map(theme => theme.summary).join(' ') || '';
console.log('üéØ ÂÖàË™≠„ÅøÁîüÊàê„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:', {
conversationLength: conversationContext.length,
themeLength: themeContext.length,
hasHistory: window.AppState?.conversationHistory?.length > 0
});
// üîÑ Áµ±Âêà„Éó„É≠„É≥„Éó„ÉàÁîüÊàê
const prompt = nehoriPreemptiveGeneration.createIntegratedNehoriPrompt(conversationContext, themeContext);
// ÈùûÂêåÊúü„ÅßÁîüÊàêÈñãÂßã
nehoriPreemptiveGeneration.generateNehoriQuestionAsync(prompt)
.then(question => {
if (question && question.trim()) {
nehoriPreemptiveGeneration.generatedQuestion = question;
console.log('‚úÖ „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÂÆå‰∫Ü');
} else {
console.log('‚ö†Ô∏è „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÁµêÊûú„ÅåÁ©∫');
}
})
.catch(error => {
console.error('‚ùå „Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàê„Ç®„É©„Éº:', error);
})
.finally(() => {
nehoriPreemptiveGeneration.isGenerating = false;
});
}
// üîß Phase 3: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆ„Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîü
async function handleNehoriImmediatePlayback() {
console.log('üé§ „Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîüÂá¶ÁêÜÈñãÂßã');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅÂç≥Â∫ßÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper.canNehoriSpeak('immediate_playback')) {
console.log('üö´ „Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ„Å™„Åó - Âç≥Â∫ßÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(window.SPEAKERS?.NULL, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
if (strategy.trigger === 'none') {
console.log('üö´ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÅåÂç≥Â∫ßÂÜçÁîü„ÇíÁÑ°ÂäπÂåñ');
return;
}
}
// ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüË≥™Âïè„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!nehoriPreemptiveGeneration.generatedQuestion) {
console.log('üìù ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüË≥™Âïè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
// üîÑ Áµ±Âêà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Âç≥Â∫ßÁîüÊàê
try {
const conversationContext = window.AppState?.conversationHistory?.map(msg => msg.content).join(' ') || '';
const themeContext = window.AppState?.selectedThemeDetails?.map(theme => theme.summary).join(' ') || '';
const prompt = nehoriPreemptiveGeneration.createIntegratedNehoriPrompt(conversationContext, themeContext);
const question = await nehoriPreemptiveGeneration.generateNehoriQuestionAsync(prompt);
if (question && question.trim()) {
nehoriPreemptiveGeneration.generatedQuestion = question;
console.log('‚úÖ Âç≥Â∫ßÁîüÊàêÂÆå‰∫Ü');
} else {
console.log('‚ö†Ô∏è Âç≥Â∫ßÁîüÊàêÁµêÊûú„ÅåÁ©∫');
return;
}
} catch (error) {
console.error('‚ùå Âç≥Â∫ßÁîüÊàê„Ç®„É©„Éº:', error);
return;
}
}
// üîÑ Áô∫Ë©±ÈñãÂßãÁôªÈå≤
window.ConversationGatekeeper.registerSpeechStart(window.SPEAKERS?.NEHORI, 'immediate_playback');
try {
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: Èü≥Â£∞ÂêàÊàê„Å®ÂÜçÁîü
const audioBlob = await window.ttsTextToAudioBlob(nehoriPreemptiveGeneration.generatedQuestion, window.SPEAKERS?.NEHORI);
// „ÉÅ„É£„ÉÉ„Éà„Å´ËøΩÂä†
await window.addMessageToChat(window.SPEAKERS?.NEHORI, nehoriPreemptiveGeneration.generatedQuestion);
// Èü≥Â£∞ÂÜçÁîü
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.NEHORI);
// üîÑ Áµ±Âêà„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
nehoriPreemptiveGeneration.generatedQuestion = null;
nehoriPreemptiveGeneration.lastPlaybackTime = Date.now();
console.log('‚úÖ „Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîüÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîü„Ç®„É©„Éº:', error);
} finally {
// üîÑ Áô∫Ë©±ÁµÇ‰∫ÜÁôªÈå≤
window.ConversationGatekeeper.registerSpeechEnd(window.SPEAKERS?.NEHORI, 'immediate_playback');
}
}
// üîß ÊîπÂñÑÁâà: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆPending„Å≠„Åª„Çä„Éº„ÅÆÂÜçÁîü
async function playPendingNehoriIfNeeded() {
console.log('üéµ „Å≠„Åª„Çä„Éº„ÅÆPendingÂÜçÁîü„ÉÅ„Çß„ÉÉ„ÇØ');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅPendingÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper.canNehoriSpeak('pending_playback')) {
console.log('üö´ „Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ„Å™„Åó - PendingÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüË≥™Âïè„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!nehoriPreemptiveGeneration.generatedQuestion) {
console.log('üìù PendingÂÜçÁîü„Åô„ÇãË≥™Âïè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return;
}
// üîÑ Áô∫Ë©±ÈñãÂßãÁôªÈå≤
window.ConversationGatekeeper.registerSpeechStart(window.SPEAKERS?.NEHORI, 'pending_playback');
try {
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: Èü≥Â£∞ÂêàÊàê„Å®ÂÜçÁîü
const audioBlob = await window.ttsTextToAudioBlob(nehoriPreemptiveGeneration.generatedQuestion, window.SPEAKERS?.NEHORI);
// „ÉÅ„É£„ÉÉ„Éà„Å´ËøΩÂä†
await window.addMessageToChat(window.SPEAKERS?.NEHORI, nehoriPreemptiveGeneration.generatedQuestion);
// Èü≥Â£∞ÂÜçÁîü
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.NEHORI);
// üîÑ Áµ±Âêà„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
nehoriPreemptiveGeneration.generatedQuestion = null;
nehoriPreemptiveGeneration.lastPlaybackTime = Date.now();
console.log('‚úÖ „Å≠„Åª„Çä„Éº„ÅÆPendingÂÜçÁîüÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „Å≠„Åª„Çä„Éº„ÅÆPendingÂÜçÁîü„Ç®„É©„Éº:', error);
} finally {
// üîÑ Áô∫Ë©±ÁµÇ‰∫ÜÁôªÈå≤
window.ConversationGatekeeper.registerSpeechEnd(window.SPEAKERS?.NEHORI, 'pending_playback');
}
}
// üîß Êñ∞Ê©üËÉΩ: Âç≥Â∫ßË≥™ÂïèÁîüÊàê„Å®ÂÜçÁîü
async function generateAndPlayNehoriImmediately() {
console.log('üí° generateAndPlayNehoriImmediately „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
// üõ°Ô∏è „Ç≤„Éº„Éà„Ç≠„Éº„Éë„Éº„ÉÅ„Çß„ÉÉ„ÇØ
if (!ConversationGatekeeper.canNehoriSpeak('immediateGeneration')) {
console.log('üö´ „Ç≤„Éº„Éà„Ç≠„Éº„Éë„Éº„Å´„Çà„Çä„Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÁîüÊàê„Çí„Éñ„É≠„ÉÉ„ÇØ');
return;
}
try {
const control = AppState.conversationControl;
// ÈáçË§áÈò≤Ê≠¢„Éï„É©„Ç∞„Çí„Çª„ÉÉ„Éà
control.questionGenerationScheduled = true;
ConversationGatekeeper.registerSpeechStart(SPEAKERS.NEHORI, 'immediateGeneration');
// Ë≥™ÂïèÁîüÊàê
const question = await generateNehoriQuestionInternal();
const audio = await ttsTextToAudioBlob(question, SPEAKERS.NEHORI);
// „ÉÅ„É£„ÉÉ„Éà„Å´ËøΩÂä†„Åó„Å¶ÂÜçÁîü
await addMessageToChat(SPEAKERS.NEHORI, question);
await playPreGeneratedAudio(audio, SPEAKERS.NEHORI);
ConversationGatekeeper.registerSpeechEnd(SPEAKERS.NEHORI, 'immediateGeneration');
// „Éï„É©„Ç∞„Çí„É™„Çª„ÉÉ„Éà
control.questionGenerationScheduled = false;
} catch (error) {
console.error('‚ùå „Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÁîüÊàê„Ç®„É©„Éº:', error);
ConversationGatekeeper.registerSpeechEnd(SPEAKERS.NEHORI, 'error');
AppState.conversationControl.questionGenerationScheduled = false;
}
}
// üîß ÂÜÖÈÉ®„Éò„É´„Éë„ÉºÈñ¢Êï∞: „Å≠„Åª„Çä„Éº„ÅÆË≥™ÂïèÁîüÊàê
async function generateNehoriQuestionInternal() {
const recentConversation = AppState.conversationHistory
.slice(-6)
.map(msg => `${msg.sender}: ${msg.content}`)
.join('\n');
const knowledgeContext = AppState.extractedKnowledge
.map((knowledge, index) => `Áü•Ë¶ã${index + 1}: ${knowledge.summary}`)
.join('\n');
// Á∞°Êòì„Éó„É≠„É≥„Éó„ÉàÔºàAI_PROMPTS„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
const nehoriQuestionPrompt = `„ÉÜ„Éº„Éû„Äå${AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶„ÅÆÊ∑±Êéò„Çä‰ºöË©±„ÅåÈÄ≤Ë°å‰∏≠„Åß„Åô„ÄÇ
ÊúÄËøë„ÅÆ‰ºöË©±ÂÜÖÂÆπ:
${recentConversation}
ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã:
${knowledgeContext}
„ÅÇ„Å™„Åü„ÅØ„Äå„Å≠„Åª„Çä„Éº„ÅÆ„Äç„Åß„Åô„ÄÇ„É¶„Éº„Ç∂„Éº„ÅÆÂõûÁ≠î„Åã„ÇâÊñ∞„Åó„ÅÑËßíÂ∫¶„Åß„ÅÆË≥™Âïè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
200ÊñáÂ≠ó‰ª•ÂÜÖ„Åß„ÄÅËá™ÁÑ∂„ÅßË¶™„Åó„Åø„ÇÑ„Åô„ÅÑË≥™Âïè„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ`;
const response = await gptMessagesToCharacterResponse([
{ role: 'user', content: nehoriQuestionPrompt }
], SPEAKERS.NEHORI);
return response;
}
// =================================================================================
// HAHORI VOICE FUNCTIONS - „ÅØ„Åª„Çä„ÉºÈü≥Â£∞Èñ¢Êï∞Áæ§
// =================================================================================
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÊ©üËÉΩ
async function startHahoriGenerationDuringNehori() {
console.log('üîÆ „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÈñãÂßãÔºà„Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±‰∏≠Ôºâ');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅÂÖàË™≠„ÅøÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(window.SPEAKERS?.NEHORI, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
console.log('üìä Áä∂Ê≥ÅÈÅ©ÂøúÂàÜÊûêÁµêÊûú:', { situation, strategy });
if (strategy.trigger === 'none') {
console.log('üö´ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÅåÂÖàË™≠„ÅøÁîüÊàê„ÇíÁÑ°ÂäπÂåñ');
return;
}
}
// üîÑ ‰ºöË©±Âà∂Âæ°„ÉÅ„Çß„ÉÉ„ÇØ
if (window.ConversationGatekeeper.conversationControl.speakingInProgress &&
window.AppState?.currentSpeaker !== window.SPEAKERS?.NEHORI) {
console.log('üö´ ‰∏çÈÅ©Âàá„Å™Áô∫Ë©±Áä∂ÊÖã„ÅÆ„Åü„ÇÅÂÖàË™≠„ÅøÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// Êó¢Â≠ò„ÅÆÂÖàË™≠„ÅøÁîüÊàê„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (hahoriPreemptiveGeneration.isGenerating) {
console.log('üîÑ Êó¢„Å´ÂÖàË™≠„ÅøÁîüÊàê‰∏≠ - „Çπ„Ç≠„ÉÉ„Éó');
return;
}
hahoriPreemptiveGeneration.isGenerating = true;
hahoriPreemptiveGeneration.startTime = Date.now();
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: ‰ºöË©±Â±•Ê≠¥„Å®„ÉÜ„Éº„Éû„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÁµ±Âêà
const conversationContext = window.AppState?.conversationHistory?.map(msg => msg.content).join(' ') || '';
const themeContext = window.AppState?.selectedThemeDetails?.map(theme => theme.summary).join(' ') || '';
console.log('üéØ ÂÖàË™≠„ÅøÁîüÊàê„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà:', {
conversationLength: conversationContext.length,
themeLength: themeContext.length,
hasHistory: window.AppState?.conversationHistory?.length > 0
});
// üîÑ Áµ±Âêà„Éó„É≠„É≥„Éó„ÉàÁîüÊàê
const prompt = hahoriPreemptiveGeneration.createIntegratedHahoriPrompt(conversationContext, themeContext);
// ÈùûÂêåÊúü„ÅßÁîüÊàêÈñãÂßã
hahoriPreemptiveGeneration.generateHahoriResponseAsync(prompt)
.then(response => {
if (response && response.trim()) {
hahoriPreemptiveGeneration.generatedResponse = response;
console.log('‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÂÆå‰∫Ü');
} else {
console.log('‚ö†Ô∏è „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàêÁµêÊûú„ÅåÁ©∫');
}
})
.catch(error => {
console.error('‚ùå „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàê„Ç®„É©„Éº:', error);
})
.finally(() => {
hahoriPreemptiveGeneration.isGenerating = false;
});
}
// üîß Phase C: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆ„ÅØ„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîü
async function handleHahoriImmediatePlayback() {
console.log('üé§ „ÅØ„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîüÂá¶ÁêÜÈñãÂßã');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅÂç≥Â∫ßÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper.canHahoriSpeak('immediate_playback')) {
console.log('üö´ „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ„Å™„Åó - Âç≥Â∫ßÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(window.SPEAKERS?.NULL, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
if (strategy.trigger === 'none') {
console.log('üö´ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÅåÂç≥Â∫ßÂÜçÁîü„ÇíÁÑ°ÂäπÂåñ');
return;
}
}
// ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüÂøúÁ≠î„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!hahoriPreemptiveGeneration.generatedResponse) {
console.log('üìù ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüÂøúÁ≠î„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
// üîÑ Áµ±Âêà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Âç≥Â∫ßÁîüÊàê
try {
const conversationContext = window.AppState?.conversationHistory?.map(msg => msg.content).join(' ') || '';
const themeContext = window.AppState?.selectedThemeDetails?.map(theme => theme.summary).join(' ') || '';
const prompt = hahoriPreemptiveGeneration.createIntegratedHahoriPrompt(conversationContext, themeContext);
const response = await hahoriPreemptiveGeneration.generateHahoriResponseAsync(prompt);
if (response && response.trim()) {
hahoriPreemptiveGeneration.generatedResponse = response;
console.log('‚úÖ Âç≥Â∫ßÁîüÊàêÂÆå‰∫Ü');
} else {
console.log('‚ö†Ô∏è Âç≥Â∫ßÁîüÊàêÁµêÊûú„ÅåÁ©∫');
return;
}
} catch (error) {
console.error('‚ùå Âç≥Â∫ßÁîüÊàê„Ç®„É©„Éº:', error);
return;
}
}
// üîÑ Áô∫Ë©±ÈñãÂßãÁôªÈå≤
window.ConversationGatekeeper.registerSpeechStart(window.SPEAKERS?.HAHORI, 'immediate_playback');
try {
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: Èü≥Â£∞ÂêàÊàê„Å®ÂÜçÁîü
const audioBlob = await window.ttsTextToAudioBlob(hahoriPreemptiveGeneration.generatedResponse, window.SPEAKERS?.HAHORI);
// „ÉÅ„É£„ÉÉ„Éà„Å´ËøΩÂä†
await window.addMessageToChat(window.SPEAKERS?.HAHORI, hahoriPreemptiveGeneration.generatedResponse);
// Èü≥Â£∞ÂÜçÁîü
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.HAHORI);
// üîÑ Áµ±Âêà„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
hahoriPreemptiveGeneration.generatedResponse = null;
hahoriPreemptiveGeneration.lastPlaybackTime = Date.now();
console.log('‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîüÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „ÅØ„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîü„Ç®„É©„Éº:', error);
} finally {
// üîÑ Áô∫Ë©±ÁµÇ‰∫ÜÁôªÈå≤
window.ConversationGatekeeper.registerSpeechEnd(window.SPEAKERS?.HAHORI, 'immediate_playback');
}
}
// üîß Phase C: Pending„ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆÂÜçÁîü„ÉÅ„Çß„ÉÉ„ÇØ
async function playPendingHahoriIfNeeded() {
console.log('üéµ „ÅØ„Åª„Çä„Éº„ÅÆPendingÂÜçÁîü„ÉÅ„Çß„ÉÉ„ÇØ');
// ConversationGatekeeper„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper) {
console.log('‚ö†Ô∏è ConversationGatekeeper„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅPendingÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// üîÑ Áô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.ConversationGatekeeper.canHahoriSpeak('pending_playback')) {
console.log('üö´ „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ„Å™„Åó - PendingÂÜçÁîü„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
// ÂÖàË™≠„ÅøÁîüÊàê„Åï„Çå„ÅüÂøúÁ≠î„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!hahoriPreemptiveGeneration.generatedResponse) {
console.log('üìù PendingÂÜçÁîü„Åô„ÇãÂøúÁ≠î„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return;
}
// üîÑ Áô∫Ë©±ÈñãÂßãÁôªÈå≤
window.ConversationGatekeeper.registerSpeechStart(window.SPEAKERS?.HAHORI, 'pending_playback');
try {
// üîÑ Áµ±ÂêàÂá¶ÁêÜ: Èü≥Â£∞ÂêàÊàê„Å®ÂÜçÁîü
const audioBlob = await window.ttsTextToAudioBlob(hahoriPreemptiveGeneration.generatedResponse, window.SPEAKERS?.HAHORI);
// „ÉÅ„É£„ÉÉ„Éà„Å´ËøΩÂä†
await window.addMessageToChat(window.SPEAKERS?.HAHORI, hahoriPreemptiveGeneration.generatedResponse);
// Èü≥Â£∞ÂÜçÁîü
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.HAHORI);
// üîÑ Áµ±Âêà„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
hahoriPreemptiveGeneration.generatedResponse = null;
hahoriPreemptiveGeneration.lastPlaybackTime = Date.now();
console.log('‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆPendingÂÜçÁîüÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „ÅØ„Åª„Çä„Éº„ÅÆPendingÂÜçÁîü„Ç®„É©„Éº:', error);
} finally {
// üîÑ Áô∫Ë©±ÁµÇ‰∫ÜÁôªÈå≤
window.ConversationGatekeeper.registerSpeechEnd(window.SPEAKERS?.HAHORI, 'pending_playback');
}
}
// =================================================================================
// VOICE PHASE 2 MANAGER - Áµ±ÂêàÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
const VoicePhase2Manager = {
// „Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±
version: '2.0.0',
created: '2025-01-06',
// ÁÆ°ÁêÜÂØæË±°„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
VoiceOptimization,
DualPreemptiveOptimization,
// ÁÆ°ÁêÜÂØæË±°Èñ¢Êï∞
functions: {
// „Å≠„Åª„Çä„ÉºÈñ¢Êï∞Áæ§
startNehoriGenerationDuringHahori,
handleNehoriImmediatePlayback,
playPendingNehoriIfNeeded,
generateAndPlayNehoriImmediately,
// „ÅØ„Åª„Çä„ÉºÈñ¢Êï∞Áæ§
startHahoriGenerationDuringNehori,
handleHahoriImmediatePlayback,
playPendingHahoriIfNeeded
},
// „Éá„Éê„ÉÉ„Ç∞„ÉªÁÆ°ÁêÜÊ©üËÉΩ
debug: {
// ‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
validateDependencies() {
const required = [
'AppState',
'SPEAKERS',
'gptMessagesToCharacterResponse',
'ttsTextToAudioBlob',
'addMessageToChat',
'playPreGeneratedAudio'
];
const missing = required.filter(dep => {
if (dep === 'AppState') return typeof window.AppState === 'undefined';
if (dep === 'SPEAKERS') return typeof window.SPEAKERS === 'undefined';
return typeof window[dep] === 'undefined';
});
if (missing.length > 0) {
console.warn('‚ö†Ô∏è VoicePhase2Manager ‰æùÂ≠òÈñ¢‰øÇ‰∏çË∂≥:', missing);
console.log('üìù ‰∏çË∂≥„Åó„Å¶„ÅÑ„Çã‰æùÂ≠òÈñ¢‰øÇ„ÅØÂæå„ÅßÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çã‰∫àÂÆö„Åß„Åô');
// Ë©≥Á¥∞Ë®∫Êñ≠
missing.forEach(dep => {
const status = (dep === 'AppState' ? typeof window.AppState :
dep === 'SPEAKERS' ? typeof window.SPEAKERS :
typeof window[dep]) !== 'undefined' ? 'OK' : 'MISSING';
console.log(` ${status === 'OK' ? '‚úÖ' : '‚ùå'} ${dep}: ${status}`);
});
return false;
}
return true;
},
// „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖãÁ¢∫Ë™ç
getSystemStatus() {
return {
voiceOptimization: {
isActive: VoiceOptimization.phase3.isActive,
isGenerating: VoiceOptimization.phase3.isGeneratingNehori,
hasPending: !!(VoiceOptimization.phase3.pendingNehoriContent && VoiceOptimization.phase3.pendingNehoriAudio)
},
dualPreemptiveOptimization: {
isActive: DualPreemptiveOptimization.phase1.isActive,
isGenerating: DualPreemptiveOptimization.phase1.isGeneratingHahori,
hasPending: !!(DualPreemptiveOptimization.phase1.pendingHahoriContent && DualPreemptiveOptimization.phase1.pendingHahoriAudio)
}
};
},
// Á∑äÊÄ•„É™„Çª„ÉÉ„Éà
emergencyReset() {
console.warn('üö® VoicePhase2Manager Á∑äÊÄ•„É™„Çª„ÉÉ„ÉàÂÆüË°å');
// VoiceOptimization „É™„Çª„ÉÉ„Éà
VoiceOptimization.phase3.pendingNehoriContent = null;
VoiceOptimization.phase3.pendingNehoriAudio = null;
VoiceOptimization.phase3.isGeneratingNehori = false;
VoiceOptimization.phase3.shouldPlayNehoriImmediately = false;
// DualPreemptiveOptimization „É™„Çª„ÉÉ„Éà
DualPreemptiveOptimization.phase1.pendingHahoriContent = null;
DualPreemptiveOptimization.phase1.pendingHahoriAudio = null;
DualPreemptiveOptimization.phase1.isGeneratingHahori = false;
DualPreemptiveOptimization.phase1.shouldPlayHahoriImmediately = false;
console.log('‚úÖ VoicePhase2Manager Á∑äÊÄ•„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
}
},
// ÂàùÊúüÂåñ
initialize(force = false) {
console.log('üöÄ VoicePhase2Manager ÂàùÊúüÂåñÈñãÂßã');
// Âº∑Âà∂ÂàùÊúüÂåñ„Åæ„Åü„ÅØ‰æùÂ≠òÈñ¢‰øÇ„ÉÅ„Çß„ÉÉ„ÇØ
if (!force && !this.debug.validateDependencies()) {
console.warn('‚ö†Ô∏è VoicePhase2Manager ÂàùÊúüÂåñ„Çπ„Ç≠„ÉÉ„Éó: ‰æùÂ≠òÈñ¢‰øÇÂæÖÊ©ü‰∏≠');
return false;
}
// ÈÉ®ÂàÜÂàùÊúüÂåñ„É¢„Éº„ÉâÔºà‰∏ÄÈÉ®‰æùÂ≠òÈñ¢‰øÇ„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Å¶„ÇÇÂü∫Êú¨Ê©üËÉΩ„ÅØÊúâÂäπÂåñÔºâ
if (force) {
console.log('üîß VoicePhase2Manager ÈÉ®ÂàÜÂàùÊúüÂåñ„É¢„Éº„ÉâÔºà‰æùÂ≠òÈñ¢‰øÇ‰∏çË∂≥„Åß„ÇÇÂü∫Êú¨Ê©üËÉΩÊúâÂäπÂåñÔºâ');
}
console.log('‚úÖ VoicePhase2Manager ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
}
};
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨ÈñãÔºàÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄßÁ¢∫‰øùÔºâ
// =================================================================================
// ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.VoicePhase2Manager = VoicePhase2Manager;
// Êó¢Â≠òÂèÇÁÖß„ÅÆÂÆåÂÖ®Á∂≠ÊåÅ
window.VoiceOptimization = VoiceOptimization;
window.DualPreemptiveOptimization = DualPreemptiveOptimization;
// Êó¢Â≠òÈñ¢Êï∞„ÅÆÂÆåÂÖ®Á∂≠ÊåÅ
window.startNehoriGenerationDuringHahori = startNehoriGenerationDuringHahori;
window.handleNehoriImmediatePlayback = handleNehoriImmediatePlayback;
window.playPendingNehoriIfNeeded = playPendingNehoriIfNeeded;
window.generateAndPlayNehoriImmediately = generateAndPlayNehoriImmediately;
window.startHahoriGenerationDuringNehori = startHahoriGenerationDuringNehori;
window.handleHahoriImmediatePlayback = handleHahoriImmediatePlayback;
window.playPendingHahoriIfNeeded = playPendingHahoriIfNeeded;
// ÈÅÖÂª∂ÂàùÊúüÂåñÔºàscript.jsË™≠„ÅøËæº„ÅøÂæå„Å´ÂÆüË°åÔºâ
function initializeVoicePhase2ManagerWhenReady() {
// ‰æùÂ≠òÈñ¢‰øÇ„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
const checkDependencies = () => {
return window.AppState &&
window.SPEAKERS &&
window.gptMessagesToCharacterResponse &&
window.ttsTextToAudioBlob &&
window.addMessageToChat &&
window.playPreGeneratedAudio;
};
if (checkDependencies()) {
console.log('üöÄ VoicePhase2Manager ‰æùÂ≠òÈñ¢‰øÇÁ¢∫Ë™çÊ∏à„Åø - ÂàùÊúüÂåñÈñãÂßã');
const initialized = VoicePhase2Manager.initialize();
if (initialized) {
console.log('‚úÖ VoicePhase2Manager ÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.log('üîß VoicePhase2Manager Âº∑Âà∂ÂàùÊúüÂåñÂÆüË°åÔºàÈÉ®ÂàÜÊ©üËÉΩ„É¢„Éº„ÉâÔºâ');
VoicePhase2Manager.initialize(true);
}
} else {
console.log('‚ö†Ô∏è VoicePhase2Manager ‰æùÂ≠òÈñ¢‰øÇÂæÖÊ©ü‰∏≠ - ÂÜçË©¶Ë°å„Åó„Åæ„Åô');
setTimeout(initializeVoicePhase2ManagerWhenReady, 1000);
}
}
// DOMË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÂæå„Å´ÂàùÊúüÂåñÈñãÂßã
if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', () => {
setTimeout(initializeVoicePhase2ManagerWhenReady, 1000);
});
} else {
// Êó¢„Å´DOM„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà
setTimeout(initializeVoicePhase2ManagerWhenReady, 1000);
}
console.log('‚úÖ VoicePhase2Manager „É¢„Ç∏„É•„Éº„É´Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
console.log('üìä ÂàÜÈõ¢ÂØæË±°: VoiceOptimization„ÄÅDualPreemptiveOptimization„ÄÅ8„Å§„ÅÆÈü≥Â£∞Èñ¢Êï∞');
console.log('üõ°Ô∏è ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄßÁ¢∫‰øù: Êó¢Â≠òÂèÇÁÖß„ÅØÂÖ®„Å¶Á∂≠ÊåÅ');
/* === voice-error-handler.js === */
/**
* Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº„Éè„É≥„Éâ„É©„Éº
* no-speechÂæå„ÅÆ‰∏çÊ≠£ÁµÇ‰∫ÜÂØæÁ≠ñ„Å®„Ç®„É©„ÉºÂõûÂæ©Ê©üËÉΩ
*/
class VoiceErrorHandler {
constructor(recognitionManager) {
this.recognitionManager = recognitionManager;
this.ignoreNextEnd = false;
this.errorCount = 0;
this.lastErrorTime = 0;
this.errorTypes = {
NO_SPEECH: 'no-speech',
ABORTED: 'aborted',
NETWORK: 'network',
AUDIO_CAPTURE: 'audio-capture',
NOT_ALLOWED: 'not-allowed'
};
}
/**
* no-speech„Ç®„É©„Éº„ÅÆÂá¶ÁêÜÔºàÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÈ´òÈÄüÂõûÂæ©Ôºâ
* ‰∫∫Èñì„Å´„Å®„Å£„Å¶no-speech„ÅØ„Ç®„É©„Éº„Åß„ÅØ„Å™„ÅÑ
*/
handleNoSpeechError() {
console.log('üò∂ no-speech - Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Åß„ÅØÊ≠£Â∏∏Âãï‰Ωú');
// Ê¨°„ÅÆhandleEnd„Ç§„Éô„É≥„Éà„ÇíÁÑ°Ë¶ñ„Åô„Çã„Éï„É©„Ç∞„ÇíË®≠ÂÆö
this.ignoreNextEnd = true;
// üöÄ ÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÊúÄÈÅ©ÂåñÔºö5Áßí‚Üí3Áßí„Å´Áü≠Á∏ÆÔºà„Çà„ÇäËøÖÈÄü„Å™ÂõûÂæ©Ôºâ
setTimeout(() => {
if (this.ignoreNextEnd) {
console.log('üîß no-speechÂõûÂæ©„Çø„Ç§„É†„Ç¢„Ç¶„ÉàÔºà3ÁßíÔºâ- „Éï„É©„Ç∞„Çí„É™„Çª„ÉÉ„Éà');
this.ignoreNextEnd = false;
}
}, 3000); // 5Áßí„Åã„Çâ3Áßí„Å´Áü≠Á∏Æ
console.log('üîß no-speechÂæå„ÅÆhandleEndÁÑ°Ë¶ñ„Éï„É©„Ç∞„ÇíË®≠ÂÆöÔºà3ÁßíÂæåËá™Âãï„É™„Çª„ÉÉ„ÉàÔºâ');
return true; // Ê≠£Â∏∏Âá¶ÁêÜ„Å®„Åó„Å¶Êâ±„ÅÜ
}
/**
* handleEnd„Ç§„Éô„É≥„Éà„ÅÆÂá¶ÁêÜÂà§ÂÆö
* no-speechÂæå„ÅÆ‰∏çÊ≠£ÁµÇ‰∫Ü„ÇíÈò≤„Åê
*/
shouldIgnoreEndEvent() {
if (this.ignoreNextEnd) {
console.log('üîß no-speechÂæå„ÅÆÁµÇ‰∫Ü„Ç§„Éô„É≥„Éà - ÁÑ°Ë¶ñ„Åó„Å¶Á∂ôÁ∂ö');
this.ignoreNextEnd = false; // „Éï„É©„Ç∞„Çí„É™„Çª„ÉÉ„Éà
return true;
}
return false;
}
/**
* aborted„Ç®„É©„Éº„ÅÆÂá¶ÁêÜ
* „ÄåÈü≥Â£∞Ë™çË≠ò„Åå‰∏≠Êñ≠„Åï„Çå„Åæ„Åó„Åü„Äç‚Üí„ÄåÈü≥Â£∞Ë™çË≠ò„Åå‰∫àÊúü„Åõ„ÅöÂÅúÊ≠¢„Åó„Åæ„Åó„Åü„Äç
*/
handleAbortedError() {
console.log('‚ö†Ô∏è aborted - Èü≥Â£∞Ë™çË≠ò„Åå‰∫àÊúü„Åõ„ÅöÂÅúÊ≠¢„Åó„Åæ„Åó„Åü');
// ÈÅ©Âàá„Å™„Ç®„É©„ÉºÂá¶ÁêÜ
this.recordError(this.errorTypes.ABORTED);
// „Ç®„É©„ÉºÁä∂ÊÖã„Å´ÁßªË°å
this.setErrorState('Èü≥Â£∞Ë™çË≠ò„Åå‰∫àÊúü„Åõ„ÅöÂÅúÊ≠¢„Åó„Åæ„Åó„Åü');
return false;
}
/**
* „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº„ÅÆÂá¶ÁêÜ
*/
handleNetworkError() {
console.log('üåê network - „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
this.recordError(this.errorTypes.NETWORK);
this.setErrorState('„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return false;
}
/**
* „Ç™„Éº„Éá„Ç£„Ç™„Ç≠„É£„Éó„ÉÅ„É£„Ç®„É©„Éº„ÅÆÂá¶ÁêÜ
*/
handleAudioCaptureError() {
console.log('üé§ audio-capture - „Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô');
this.recordError(this.errorTypes.AUDIO_CAPTURE);
this.setErrorState('„Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô');
return false;
}
/**
* „Éû„Ç§„ÇØË®±ÂèØ„Ç®„É©„Éº„ÅÆÂá¶ÁêÜ
*/
handleNotAllowedError() {
console.log('üö´ not-allowed - „Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô');
this.recordError(this.errorTypes.NOT_ALLOWED);
this.setErrorState('„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô');
return false;
}
/**
* „Ç®„É©„Éº„ÅÆË®òÈå≤
*/
recordError(errorType) {
this.errorCount++;
this.lastErrorTime = Date.now();
console.log(`üìä „Ç®„É©„ÉºË®òÈå≤: ${errorType} (Á¥ØË®à: ${this.errorCount}Âõû)`);
}
/**
* „Ç®„É©„ÉºÁä∂ÊÖã„ÅÆË®≠ÂÆö
*/
setErrorState(message) {
console.log(`üîÑ „Ç®„É©„ÉºÁä∂ÊÖãÁßªË°å: ${message}`);
// Á∂ôÁ∂öÊÄßÁõ£Ë¶ñ„ÇíÂÅúÊ≠¢
if (this.recognitionManager.stopContinuityMonitor) {
this.recognitionManager.stopContinuityMonitor();
}
// Èü≥Â£∞Ë™çË≠ò„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁÑ°ÂäπÂåñ
this.recognitionManager.recognition = null;
this.recognitionManager.state = 'error';
this.recognitionManager.continuity.neverStopped = false;
this.recognitionManager.continuity.startedOnce = false;
// UIÊõ¥Êñ∞ÈÄöÁü•
if (this.recognitionManager.notifyListeners) {
this.recognitionManager.notifyListeners();
}
}
/**
* „Ç®„É©„ÉºÂõûÂæ©ÊôÇ„ÅÆÁµ±Ë®à„É™„Çª„ÉÉ„Éà
*/
resetStatsOnRecovery() {
if (this.recognitionManager.state === 'error') {
console.log('üîÑ „Ç®„É©„ÉºÁä∂ÊÖã„Åã„Çâ„ÅÆÂÜçÈñã - Áµ±Ë®àÊÉÖÂ†±„Çí„É™„Çª„ÉÉ„Éà');
// start()Âëº„Å≥Âá∫„ÅóÂõûÊï∞„Çí„É™„Çª„ÉÉ„Éà
this.recognitionManager.stats.startCount = 0;
this.recognitionManager.stats.microphonePermissionRequests = 0;
console.log('‚úÖ Áµ±Ë®àÊÉÖÂ†±„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
}
}
/**
* Áµ±Âêà„Ç®„É©„Éº„Éè„É≥„Éâ„É©„Éº
* Êó¢Â≠ò„ÅÆhandleRecognitionError„Å®Áµ±Âêà
*/
handleError(event) {
console.log(`üò® Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº: ${event.error}`);
switch (event.error) {
case this.errorTypes.NO_SPEECH:
return this.handleNoSpeechError();
case this.errorTypes.ABORTED:
return this.handleAbortedError();
case this.errorTypes.NETWORK:
return this.handleNetworkError();
case this.errorTypes.AUDIO_CAPTURE:
return this.handleAudioCaptureError();
case this.errorTypes.NOT_ALLOWED:
return this.handleNotAllowedError();
default:
console.warn(`‚ÅâÔ∏è Êú™Áü•„ÅÆ„Ç®„É©„Éº: ${event.error}`);
this.recordError(event.error);
this.setErrorState(`Êú™Áü•„ÅÆ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${event.error}`);
return false;
}
}
/**
* „Ç®„É©„ÉºÁµ±Ë®à„ÅÆÂèñÂæó
*/
getErrorStats() {
return {
errorCount: this.errorCount,
lastErrorTime: this.lastErrorTime,
lastErrorType: this.lastErrorType,
ignoreNextEnd: this.ignoreNextEnd
};
}
/**
* „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÅÆË°®Á§∫
*/
debugInfo() {
console.log('üîç VoiceErrorHandler Debug Info:', {
errorCount: this.errorCount,
lastErrorTime: this.lastErrorTime,
ignoreNextEnd: this.ignoreNextEnd,
recognitionState: this.recognitionManager.state
});
}
}
// =================================================================================
// VOICE SYSTEM INITIALIZATION - Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
// =================================================================================
//
// Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÂØæÂøúÔºö
// - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
// - VoiceModule + VoiceUIManager „ÅÆÁµ±Âêà
// - Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÂÆåÂÖ®‰∫íÊèõÊÄß
// - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„Å®„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
//
// =================================================================================
class VoiceSystemInitializer {
constructor() {
this.isInitialized = false;
this.initializationPromise = null;
this.systems = {
unifiedStateManager: null,
voiceModule: null,
voiceUIManager: null,
legacyFallback: null
};
console.log('üöÄ VoiceSystemInitializer‰ΩúÊàê - Êñ∞„Éá„Ç∂„Ç§„É≥ÂØæÂøú');
}
// =================================================================================
// „É°„Ç§„É≥ÂàùÊúüÂåñ
// =================================================================================
async initialize() {
if (this.isInitialized) {
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅØÊó¢„Å´ÂàùÊúüÂåñÊ∏à„Åø');
return true;
}
if (this.initializationPromise) {
console.log('üîÑ ÂàùÊúüÂåñÂá¶ÁêÜÈÄ≤Ë°å‰∏≠ - ÂæÖÊ©ü');
return await this.initializationPromise;
}
this.initializationPromise = this.performInitialization();
return await this.initializationPromise;
}
async performInitialization() {
try {
console.log('üîÑ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã - Êñ∞„Éá„Ç∂„Ç§„É≥ÂØæÂøú');
// Step 1: Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
const unifiedSuccess = await this.initializeUnifiedStateManager();
if (unifiedSuccess) {
// Step 2: Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÅÆÂàùÊúüÂåñ
const voiceSuccess = await this.initializeVoiceModule();
if (voiceSuccess) {
// Step 3: Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
const uiSuccess = await this.initializeVoiceUIManager();
if (uiSuccess) {
console.log('‚úÖ Êñ∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
this.isInitialized = true;
return true;
}
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„ÅÆ‰ΩøÁî®
console.warn('‚ö†Ô∏è Êñ∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó - Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
return await this.initializeLegacyFallback();
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return await this.initializeLegacyFallback();
} finally {
this.initializationPromise = null;
}
}
// =================================================================================
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
// =================================================================================
async initializeUnifiedStateManager() {
try {
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Ç≥„Ç¢„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!window.UnifiedStateManagerCore) {
console.warn('‚ö†Ô∏è UnifiedStateManagerCore „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// „Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
window.unifiedStateManager = new window.UnifiedStateManagerCore();
// ÂàùÊúüÂåñÂÆüË°å
const success = await window.unifiedStateManager.initialize();
if (success) {
this.systems.unifiedStateManager = window.unifiedStateManager;
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} else {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó');
return false;
}
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ
// =================================================================================
async initializeVoiceModule() {
try {
console.log('üé§ Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ');
if (!this.systems.unifiedStateManager) {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÊú™ÂàùÊúüÂåñ');
return false;
}
// Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÅÆÂèñÂæó
const voiceModule = this.systems.unifiedStateManager.getModule('voice');
if (!voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
if (window.voiceRecognitionController) {
const controllerSuccess = await window.voiceRecognitionController.initialize();
if (!controllerSuccess) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó');
}
}
this.systems.voiceModule = voiceModule;
console.log('‚úÖ Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
// =================================================================================
async initializeVoiceUIManager() {
try {
console.log('üé® Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ');
if (!window.VoiceUIManager) {
console.warn('‚ö†Ô∏è VoiceUIManager „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// „Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
const voiceUIManager = new window.VoiceUIManager();
// ÂàùÊúüÂåñÂÆüË°å
const success = await voiceUIManager.initialize();
if (success) {
this.systems.voiceUIManager = voiceUIManager;
// „Ç∞„É≠„Éº„Éê„É´„Ç¢„ÇØ„Çª„ÇπÁî®
window.voiceUIManager = voiceUIManager;
console.log('‚úÖ Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} else {
console.warn('‚ö†Ô∏è Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó');
return false;
}
} catch (error) {
console.error('‚ùå Èü≥Â£∞UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
// =================================================================================
async initializeLegacyFallback() {
try {
console.log('üîÑ Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂàùÊúüÂåñ');
// Êó¢Â≠ò„ÅÆStateManager„ÅÆÂàùÊúüÂåñ
if (window.stateManager) {
console.log('‚úÖ Êó¢Â≠òStateManager„Çí‰ΩøÁî®');
this.systems.legacyFallback = window.stateManager;
return true;
}
// Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥Âêà
console.warn('‚ö†Ô∏è Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„ÇÇÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return false;
} catch (error) {
console.error('‚ùå Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// Áµ±ÂêàAPI
// =================================================================================
// Èü≥Â£∞Ë™çË≠òÈñãÂßã
async startVoiceRecognition() {
if (this.systems.voiceModule) {
return await this.systems.voiceModule.startRecognition();
} else if (this.systems.legacyFallback) {
return await this.systems.legacyFallback.startRecognition();
} else {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return false;
}
}
// Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢
async stopVoiceRecognition() {
if (this.systems.voiceModule) {
return this.systems.voiceModule.stopRecognition();
} else if (this.systems.legacyFallback) {
return await this.systems.legacyFallback.stopRecognition();
} else {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return false;
}
}
// Áä∂ÊÖãÂèñÂæó
getVoiceState() {
if (this.systems.voiceModule) {
return this.systems.voiceModule.getState();
} else if (this.systems.legacyFallback) {
return this.systems.legacyFallback.getState();
} else {
return { recognitionState: 'unavailable' };
}
}
// =================================================================================
// „Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±
// =================================================================================
getSystemInfo() {
return {
isInitialized: this.isInitialized,
activeSystem: this.getActiveSystemName(),
systems: {
unifiedStateManager: !!this.systems.unifiedStateManager,
voiceModule: !!this.systems.voiceModule,
voiceUIManager: !!this.systems.voiceUIManager,
legacyFallback: !!this.systems.legacyFallback
}
};
}
getActiveSystemName() {
if (this.systems.voiceModule) return 'unified';
if (this.systems.legacyFallback) return 'legacy';
return 'none';
}
// „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±
debugInfo() {
const info = this.getSystemInfo();
console.log('üîç Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÊÉÖÂ†±:', info);
return info;
}
// „Ç∑„Çπ„ÉÜ„É†Á†¥Ê£Ñ
destroy() {
if (this.systems.voiceUIManager) {
this.systems.voiceUIManager.destroy();
}
Object.keys(this.systems).forEach(key => {
this.systems[key] = null;
});
this.isInitialized = false;
console.log('üóëÔ∏è Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Á†¥Ê£ÑÂÆå‰∫Ü');
}
}
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂàùÊúüÂåñÈñ¢Êï∞
// =================================================================================
// „É°„Ç§„É≥ÂàùÊúüÂåñÈñ¢Êï∞
async function initializeVoiceSystem() {
console.log('üöÄ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã - Êñ∞„Éá„Ç∂„Ç§„É≥ÂØæÂøú');
try {
// ÂàùÊúüÂåñ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
if (!window.voiceSystemInitializer) {
window.voiceSystemInitializer = new VoiceSystemInitializer();
}
// ÂàùÊúüÂåñÂÆüË°å
const success = await window.voiceSystemInitializer.initialize();
if (success) {
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
// „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫
window.voiceSystemInitializer.debugInfo();
return true;
} else {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó');
return false;
}
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆÈñ¢Êï∞
async function initializeMicrophoneRecording(forceRecheck = false) {
console.log('üîÑ initializeMicrophoneRecordingÂëº„Å≥Âá∫„Åó - Êñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°å');
return await initializeVoiceSystem();
}
// Èü≥Â£∞Ë™çË≠òÈñãÂßãÔºàÁµ±ÂêàAPIÔºâ
async function startVoiceRecognition() {
if (window.voiceSystemInitializer) {
return await window.voiceSystemInitializer.startVoiceRecognition();
} else {
console.warn('‚ö†Ô∏è Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
}
// Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢ÔºàÁµ±ÂêàAPIÔºâ
async function stopVoiceRecognition() {
if (window.voiceSystemInitializer) {
return await window.voiceSystemInitializer.stopVoiceRecognition();
} else {
console.warn('‚ö†Ô∏è Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
}
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
window.VoiceSystemInitializer = VoiceSystemInitializer;
window.initializeVoiceSystem = initializeVoiceSystem;
window.initializeMicrophoneRecording = initializeMicrophoneRecording;
window.startVoiceRecognition = startVoiceRecognition;
window.stopVoiceRecognition = stopVoiceRecognition;
console.log('‚úÖ VoiceSystemInitializer Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü - Êñ∞„Éá„Ç∂„Ç§„É≥Ë¶Å‰ª∂ÂØæÂøú');
console.log('üöÄ ‰∏ªË¶ÅÊ©üËÉΩ:');
console.log(' - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ');
console.log(' - Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ + UIÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà');
console.log(' - Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÂÆåÂÖ®‰∫íÊèõÊÄß');
console.log(' - „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„Å®„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
/* === voice-processing-manager.js === */
/**
* VoiceProcessingManager v1.0 (Phase 1)
* ----------------------------------------
* Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Ç∑„Çπ„ÉÜ„É†„ÅÆÊñ∞„Åó„ÅÑÁµ±‰∏ÄÂá¶ÁêÜÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
*
* Phase 1: Âü∫Áõ§ÊßãÁØâ
* - ÂæìÊù•Ê©üËÉΩ„ÅÆÂÆåÂÖ®‰øùÊåÅ
* - script.js„Å®„ÅÆÂÆâÂÖ®„Å™ÈÄ£Êê∫
* - „Éá„Éê„ÉÉ„Ç∞„Éª„É≠„Ç∞„Ç∑„Çπ„ÉÜ„É†
*/
(function(global) {
'use strict';
if (!global || !global.window) {
console.error('VoiceProcessingManager: window „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
class VoiceProcessingManager {
constructor() {
this.isInitialized = false;
this.debugMode = true;
this.version = '1.0-phase1';
// Âá¶ÁêÜÁµ±Ë®à
this.stats = {
totalProcessed: 0,
themeChangeRequests: 0,
questionChangeRequests: 0,
deleteCommands: 0,
fallbackCalls: 0,
errorCount: 0,
startTime: Date.now()
};
// „Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞
this.debugLog = [];
this.maxLogEntries = 100;
console.log(`üöÄ VoiceProcessingManager v${this.version} ÂàùÊúüÂåñÈñãÂßã`);
}
/**
* ÂàùÊúüÂåñÂá¶ÁêÜ
*/
async initialize() {
if (this.isInitialized) {
this.log('warn', 'VoiceProcessingManager „ÅØÊó¢„Å´ÂàùÊúüÂåñÊ∏à„Åø„Åß„Åô');
return true;
}
try {
// ÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÈÄ£Êê∫Á¢∫Ë™ç
if (typeof window.processFinalTranscript !== 'function') {
throw new Error('ÂæìÊù•„ÅÆprocessFinalTranscriptÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
this.isInitialized = true;
this.log('info', 'VoiceProcessingManager ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
this.log('error', `ÂàùÊúüÂåñ„Ç®„É©„Éº: ${error.message}`);
return false;
}
}
/**
* „É°„Ç§„É≥Èü≥Â£∞Âá¶ÁêÜÈñ¢Êï∞ÔºàPhase 1: Âü∫Êú¨‰ª≤‰ªãÊ©üËÉΩÔºâ
*/
async processFinalTranscript(text) {
if (!this.isInitialized) {
this.log('warn', 'Êú™ÂàùÊúüÂåñÁä∂ÊÖã - ÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å´ÂßîË≠≤');
return await window.processFinalTranscriptOriginal(text);
}
const startTime = performance.now();
this.stats.totalProcessed++;
try {
this.log('info', `Èü≥Â£∞Âá¶ÁêÜÈñãÂßã: "${text}"`);
// Phase 3: ÂâäÈô§Á¢∫Ë™çÂøúÁ≠î„ÅÆÊúÄÂÑ™ÂÖàÂá¶ÁêÜ
if (window.AppState?.waitingForClearConfirmation || window.AppState?.waitingForNumberDeleteConfirmation) {
const confirmationResult = await this.handleConfirmationResponse(text, 'voice_yes_no');
if (confirmationResult) {
const duration = performance.now() - startTime;
this.log('info', `ÂâäÈô§Á¢∫Ë™çÂøúÁ≠îÂá¶ÁêÜÂÆå‰∫Ü (${duration.toFixed(2)}ms)`);
return confirmationResult;
}
}
// Phase 2: „ÉÜ„Éº„ÉûÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫„ÉªÂá¶ÁêÜ
const themeChangeRequest = this.detectThemeChangeRequest(text);
if (themeChangeRequest) {
this.stats.themeChangeRequests++;
this.log('info', `„ÉÜ„Éº„ÉûÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫: "${themeChangeRequest.request}"`);
return await this.handleThemeChangeWithRequest(themeChangeRequest);
}
// Phase 2: Ë≥™ÂïèÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫„ÉªÂá¶ÁêÜ
const questionChangeRequest = this.detectQuestionChangeRequest(text);
if (questionChangeRequest) {
this.stats.questionChangeRequests++;
this.log('info', `Ë≥™ÂïèÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫: "${questionChangeRequest.request}"`);
return await this.handleQuestionChangeWithRequest(questionChangeRequest);
}
// Phase 3: ÂÆâÂÖ®ÈáçË¶ñÂâäÈô§„Ç≥„Éû„É≥„ÉâÂá¶ÁêÜ
const deleteCommand = this.detectDeleteCommand(text);
if (deleteCommand) {
this.stats.deleteCommands = (this.stats.deleteCommands || 0) + 1;
this.log('info', `ÂâäÈô§„Ç≥„Éû„É≥„ÉâÊ§úÂá∫: "${deleteCommand.type}" - "${text}"`);
return await this.handleDeleteCommandWithSafety(deleteCommand);
}
// ÈÄöÂ∏∏Èü≥Â£∞Ôºà„Ç≥„Éû„É≥„Éâ„Åß„Å™„ÅÑÂ†¥ÂêàÔºâ„ÅØÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å´ÂßîË≠≤
return await window.processFinalTranscriptOriginal(text);
} catch (error) {
this.stats.errorCount++;
this.log('error', `Âá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
// „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å´ÂßîË≠≤
return await window.processFinalTranscriptOriginal(text);
}
}
// üîß ‰∫åÈáçÂá¶ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂçòÁ¥îÂåñÂÆå‰∫Ü - Áõ¥Êé•ÂßîË≠≤ÊñπÂºè„Å´Â§âÊõ¥
/**
* Èü≥Â£∞Ë™çË≠òÁ∂ôÁ∂öÊÄß„ÅÆ‰øùË®º
*/
ensureVoiceRecognitionContinuity(context = 'unknown') {
this.log('info', `üîß Èü≥Â£∞Ë™çË≠òÁ∂ôÁ∂öÊÄß„ÉÅ„Çß„ÉÉ„ÇØÈñãÂßã: ${context}`);
try {
// Áµ±ÂêàÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÁä∂ÊÖãÁ¢∫Ë™ç
if (window.stateManager && window.stateManager.recognitionManager) {
const recognitionManager = window.stateManager.recognitionManager;
const currentState = recognitionManager.state;
this.log('info', `üîç ÁèæÂú®„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã: ${currentState}`);
if (currentState === 'idle' || currentState === 'error') {
this.log('warn', `üö® Èü≥Â£∞Ë™çË≠ò„ÅåÂÅúÊ≠¢Áä∂ÊÖã: ${currentState} - Âæ©ÊóßÈñãÂßã`);
// Áü≠„ÅÑÈÅÖÂª∂„ÅÆÂæå„Å´Âæ©ÊóßÂÆüË°å
setTimeout(() => {
if (window.AppState?.sessionActive && recognitionManager.state !== 'active') {
this.log('info', `üîÑ Èü≥Â£∞Ë™çË≠òÂæ©ÊóßÂÆüË°å: ${context}`);
recognitionManager.start().catch(error => {
this.log('error', `Èü≥Â£∞Ë™çË≠òÂæ©ÊóßÂ§±Êïó: ${error.message}`);
});
}
}, 500);
} else if (currentState === 'active') {
this.log('info', `‚úÖ Èü≥Â£∞Ë™çË≠ò„ÅØÊ≠£Â∏∏„Å´Á∂ôÁ∂ö‰∏≠: ${currentState}`);
}
} else {
this.log('warn', '‚ö†Ô∏è Áµ±ÂêàÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Êú™ÂàùÊúüÂåñ');
}
} catch (error) {
this.log('error', `Èü≥Â£∞Ë™çË≠òÁ∂ôÁ∂öÊÄß„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº: ${error.message}`);
}
}
// üîß Âá¶ÁêÜÂçòÁ¥îÂåñÂÆå‰∫Ü - „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•„Ç∑„Çπ„ÉÜ„É†Áõ¥Êé•ÂßîË≠≤
// =================================================================================
// Phase 2: AI‰ºöË©±Á∂ôÁ∂öÊ©üËÉΩÂÆüË£Ö
// =================================================================================
/**
* „ÉÜ„Éº„ÉûÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫
*/
detectThemeChangeRequest(text) {
// „ÉÜ„Éº„ÉûÂ§âÊõ¥„Éë„Çø„Éº„É≥„ÅÆÂÆöÁæ©
const patterns = [
/„ÉÜ„Éº„ÉûÂ§âÊõ¥[„ÄÅ,]\s*(.+)/i,
/„ÉÜ„Éº„Éû„ÇíÂ§â„Åà„Å¶[„ÄÅ,]\s*(.+)/i,
/„ÉÜ„Éº„ÉûÂ§âÊõ¥„Åó„Å¶[„ÄÅ,]\s*(.+)/i,
/Êñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„Åß[„ÄÅ,]\s*(.+)/i
];
const basicPatterns = [
/„ÉÜ„Éº„ÉûÂ§âÊõ¥/i,
/„ÉÜ„Éº„Éû„ÇíÂ§â„Åà/i
];
// ÂÖ∑‰ΩìÁöÑË¶ÅÊúõ‰ªò„Åç„ÅÆ„Éë„Çø„Éº„É≥„ÇíÂÑ™ÂÖà„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of patterns) {
const match = text.match(pattern);
if (match) {
const request = match[1].trim();
if (request) {
return {
type: 'theme_change_with_request',
request: request,
originalText: text
};
}
}
}
// Âü∫Êú¨„Éë„Çø„Éº„É≥„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of basicPatterns) {
if (pattern.test(text)) {
return {
type: 'theme_change_basic',
request: null,
originalText: text
};
}
}
return null;
}
/**
* Ë≥™ÂïèÂ§âÊõ¥Ë¶ÅÊúõÊ§úÂá∫
*/
detectQuestionChangeRequest(text) {
// Ë≥™ÂïèÂ§âÊõ¥„Éë„Çø„Éº„É≥„ÅÆÂÆöÁæ©
const patterns = [
/Ë≥™ÂïèÂ§âÊõ¥[„ÄÅ,]\s*(.+)/i,
/Ë≥™Âïè„ÇíÂ§â„Åà„Å¶[„ÄÅ,]\s*(.+)/i,
/Âà•„ÅÆË≥™Âïè„Åß[„ÄÅ,]\s*(.+)/i,
/Ë≥™ÂïèÂ§âÊõ¥„Åó„Å¶[„ÄÅ,]\s*(.+)/i
];
const basicPatterns = [
/Ë≥™ÂïèÂ§âÊõ¥/i,
/Ë≥™Âïè„ÇíÂ§â„Åà/i,
/Âà•„ÅÆË≥™Âïè/i
];
// ÂÖ∑‰ΩìÁöÑË¶ÅÊúõ‰ªò„Åç„ÅÆ„Éë„Çø„Éº„É≥„ÇíÂÑ™ÂÖà„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of patterns) {
const match = text.match(pattern);
if (match) {
const request = match[1].trim();
if (request) {
return {
type: 'question_change_with_request',
request: request,
originalText: text
};
}
}
}
// Âü∫Êú¨„Éë„Çø„Éº„É≥„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of basicPatterns) {
if (pattern.test(text)) {
return {
type: 'question_change_basic',
request: null,
originalText: text
};
}
}
return null;
}
/**
* ÂâäÈô§„Ç≥„Éû„É≥„ÉâÊ§úÂá∫
*/
detectDeleteCommand(text) {
// Phase 3.1: Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§Ê©üËÉΩÔºà„Äå„ÇØ„É™„Ç¢„Åó„Å¶„ÄçÁ≠âÔºâ
const clearPatterns = [
/„ÇØ„É™„Ç¢„Åó„Å¶/i,
/ÂÖ®ÂâäÈô§/i,
/ÂÖ®ÈÉ®ÂâäÈô§/i,
/ÂÖ®ÈÉ®Ê∂à„Åó„Å¶/i,
/ÂÖ®„Å¶ÂâäÈô§/i,
/„Åô„Åπ„Å¶ÂâäÈô§/i,
/„É™„Çª„ÉÉ„Éà/i
];
// Phase 3.2: Á∞°Êòì„Å™ÊñáÂ≠óÊï∞ÂâäÈô§ÔºàÊï∞ÂÄ§ÊåáÂÆöÔºâ - „Äå„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄçÂØæÂøúÂº∑Âåñ
const numberDeletePatterns = [
/(\d+)ÊñáÂ≠ó\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?/i, // "3ÊñáÂ≠óÊ∂à„Åó„Å¶", "3ÊñáÂ≠óÊ∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/(\d+)ÊñáÂ≠ó\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?/i, // "3ÊñáÂ≠óÂâäÈô§", "3ÊñáÂ≠óÂâäÈô§„Åó„Å¶", "3ÊñáÂ≠óÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/ÊúÄÂæå„ÅÆ(\d+)ÊñáÂ≠ó\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?/i, // "ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÂâäÈô§", "ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/ÊúÄÂæå„ÅÆ(\d+)ÊñáÂ≠ó\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?/i, // "ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÊ∂à„Åó„Å¶", "ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÊ∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/(\d+)ÊñáÂ≠ó\s*Êàª„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?/i, // "3ÊñáÂ≠óÊàª„Åó„Å¶", "3ÊñáÂ≠óÊàª„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/(\d+)ÊñáÂ≠ó\s*Âèñ„ÇäÊ∂à„Åó(?:„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?/i, // "3ÊñáÂ≠óÂèñ„ÇäÊ∂à„Åó", "3ÊñáÂ≠óÂèñ„ÇäÊ∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/(\d+)\s*ÊñáÂ≠ó\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?/i, // "3 ÊñáÂ≠ó Ê∂à„Åó„Å¶", "3 ÊñáÂ≠ó Ê∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
/(\d+)\s*ÊñáÂ≠ó\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?/i // "3 ÊñáÂ≠ó ÂâäÈô§", "3 ÊñáÂ≠ó ÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
];
// Á¢∫Ë™çÂøÖÈ†à„ÅÆÂÖ®ÂâäÈô§„Éë„Çø„Éº„É≥„Çí„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of clearPatterns) {
if (pattern.test(text)) {
return {
type: 'clear_command',
subtype: 'full_clear_with_confirmation',
originalText: text,
requiresConfirmation: true
};
}
}
// Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§„Éë„Çø„Éº„É≥„Çí„ÉÅ„Çß„ÉÉ„ÇØ
for (const pattern of numberDeletePatterns) {
const match = text.match(pattern);
if (match) {
const count = parseInt(match[1]);
if (count > 0) {
return {
type: 'number_delete',
subtype: count > 50 ? 'large_delete_with_confirmation' : 'simple_delete',
count: count,
originalText: text,
requiresConfirmation: count > 50 // Â§ßÈáèÂâäÈô§„ÅØÁ¢∫Ë™çÂøÖÈ†à
};
}
}
}
return null;
}
/**
* „ÉÜ„Éº„ÉûÂ§âÊõ¥Ë¶ÅÊúõ‰ªò„Åç„Éè„É≥„Éâ„É™„É≥„Ç∞
*/
async handleThemeChangeWithRequest(requestData) {
try {
if (requestData.request) {
// Ë¶ÅÊúõ‰ªò„Åç„ÅÆÂ†¥ÂêàÔºöAI prompt„Å´ÁµÑ„ÅøËæº„Åø
const enhancedMessage = `„ÉÜ„Éº„Éû„ÅÆÂ§âÊõ¥„Çí„ÅîÂ∏åÊúõ„Åß„Åô„Å≠„ÄÇ„Äå${requestData.request}„Äç„Å®„ÅÑ„ÅÜË¶≥ÁÇπ„ÅßÊñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„ÄåÊñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„ÅØ‚óã‚óã„Åß„Åô„ÄÅ„Å©„ÅÜ„Åû„Äç„Å®„Åä„Å£„Åó„ÇÉ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
this.log('info', `„ÉÜ„Éº„ÉûÂ§âÊõ¥Ë¶ÅÊúõÁµÑ„ÅøËæº„Åø: "${requestData.request}"`);
// ÂæìÊù•„ÅÆhandleThemeChange„Å®ÂêåÊßò„ÅÆÂá¶ÁêÜ
const [, audioBlob] = await Promise.all([
window.addMessageToChat(window.SPEAKERS?.HAHORI || 'hahori', enhancedMessage),
window.ttsTextToAudioBlob(enhancedMessage, window.SPEAKERS?.HAHORI || 'hahori')
]);
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.HAHORI || 'hahori');
if (window.AppState) window.AppState.waitingForPermission = true;
return { success: true, enhanced: true, request: requestData.request };
} else {
// Ë¶ÅÊúõ„Å™„Åó„ÅÆÂ†¥ÂêàÔºöÂæìÊù•„ÅÆhandleThemeChange„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
this.log('info', '„ÉÜ„Éº„ÉûÂ§âÊõ¥ÔºàË¶ÅÊúõ„Å™„ÅóÔºâ- ÂæìÊù•Âá¶ÁêÜ„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
await window.handleThemeChange();
return { success: true, enhanced: false };
}
} catch (error) {
this.log('error', `„ÉÜ„Éº„ÉûÂ§âÊõ¥Âá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
// „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•„ÅÆhandleThemeChange„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
await window.handleThemeChange();
return { success: true, enhanced: false, fallback: true };
}
}
/**
* Ë≥™ÂïèÂ§âÊõ¥Ë¶ÅÊúõ‰ªò„Åç„Éè„É≥„Éâ„É™„É≥„Ç∞
*/
async handleQuestionChangeWithRequest(requestData) {
try {
if (requestData.request) {
// Ë¶ÅÊúõ‰ªò„Åç„ÅÆÂ†¥ÂêàÔºöAI prompt„Å´ÁµÑ„ÅøËæº„Åø
const enhancedMessage = `Ë≥™Âïè„ÇíÂ§âÊõ¥„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ„Äå${requestData.request}„Äç„Å®„ÅÑ„ÅÜË¶≥ÁÇπ„ÅßÊñ∞„Åó„ÅÑËßíÂ∫¶„Åã„ÇâË≥™Âïè„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„Å≠„ÄÇ`;
this.log('info', `Ë≥™ÂïèÂ§âÊõ¥Ë¶ÅÊúõÁµÑ„ÅøËæº„Åø: "${requestData.request}"`);
// „ÅØ„Åª„Çä„Éº„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏
const [, audioBlob] = await Promise.all([
window.addMessageToChat(window.SPEAKERS?.HAHORI || 'hahori', enhancedMessage),
window.ttsTextToAudioBlob(enhancedMessage, window.SPEAKERS?.HAHORI || 'hahori')
]);
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.HAHORI || 'hahori');
// Ë¶ÅÊúõ„ÇíÁµÑ„ÅøËæº„Çì„Å†Ë≥™ÂïèÁîüÊàê
await this.askNextQuestionWithRequest(requestData.request);
return { success: true, enhanced: true, request: requestData.request };
} else {
// Ë¶ÅÊúõ„Å™„Åó„ÅÆÂ†¥ÂêàÔºöÂæìÊù•„ÅÆhandleQuestionChange„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
this.log('info', 'Ë≥™ÂïèÂ§âÊõ¥ÔºàË¶ÅÊúõ„Å™„ÅóÔºâ- ÂæìÊù•Âá¶ÁêÜ„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
await window.handleQuestionChange();
return { success: true, enhanced: false };
}
} catch (error) {
this.log('error', `Ë≥™ÂïèÂ§âÊõ¥Âá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
// „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•„ÅÆhandleQuestionChange„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
await window.handleQuestionChange();
return { success: true, enhanced: false, fallback: true };
}
}
/**
* ÂâäÈô§„Ç≥„Éû„É≥„Éâ‰ªò„Åç„Éè„É≥„Éâ„É™„É≥„Ç∞
*/
async handleDeleteCommandWithSafety(commandData) {
try {
this.log('info', `ÂâäÈô§„Ç≥„Éû„É≥„ÉâÂá¶ÁêÜÈñãÂßã: ${commandData.type} - Á¢∫Ë™çÂøÖË¶Å: ${commandData.requiresConfirmation}`);
// üéØ „Ç∑„É≥„Éó„É´‰øÆÊ≠£ÔºöÂâäÈô§Âá¶ÁêÜÂâç„Å´transcript„Åã„ÇâÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈÉ®ÂàÜ„ÇíÈô§Âéª
if (commandData.type === 'number_delete' && window.removeVoiceCommand) {
// ÂÆüÈöõ„ÅÆcurrentTranscript„Åã„ÇâÈü≥Â£∞„Ç≥„Éû„É≥„Éâ„ÇíÈô§Âéª
if (window.AppState?.currentTranscript) {
const currentTranscript = window.AppState.currentTranscript;
const cleanedText = window.removeVoiceCommand(currentTranscript, commandData.count);
this.log('info', `üîç „Éá„Éê„ÉÉ„Ç∞: "${currentTranscript}" ‚Üí "${cleanedText}"`);
if (cleanedText !== currentTranscript) {
// currentTranscript„ÇíÊõ¥Êñ∞
window.AppState.currentTranscript = cleanedText;
// transcriptHistory„ÅÆÂÆåÂÖ®Êõ¥Êñ∞ÔºöÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÂæå„ÅÆÁä∂ÊÖã„Å´Áµ±‰∏Ä
if (cleanedText.trim()) {
window.AppState.transcriptHistory = [cleanedText.trim()];
} else {
window.AppState.transcriptHistory = [];
}
// üéØ ÈáçË¶ÅÔºöÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„ÇícommandData„Å´‰øùÂ≠ò
commandData.cleanedText = cleanedText;
this.log('info', `üéØ Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÂÆå‰∫Ü: "${currentTranscript}" ‚Üí "${cleanedText}"`);
this.log('info', `üìù transcriptHistoryÊõ¥Êñ∞: [${window.AppState.transcriptHistory.join(', ')}]`);
this.log('info', `üíæ cleanedText„ÇícommandData„Å´‰øùÂ≠ò: "${cleanedText}"`);
// UIÊõ¥Êñ∞„Çí„Éà„É™„Ç¨„Éº
if (window.AppState?.updateTranscriptDisplay) {
window.AppState.updateTranscriptDisplay();
}
// Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÂæå„ÅÆÁä∂ÊÖãÂ§âÊõ¥„ÇíÂÖ®„É¢„Ç∏„É•„Éº„É´„Å´ÈÄöÁü•
if (window.dispatchEvent) {
window.dispatchEvent(new CustomEvent('appStateChanged', {
detail: {
transcriptHistory: window.AppState.transcriptHistory,
currentTranscript: window.AppState.currentTranscript,
source: 'VoiceProcessingManager.voiceCommandRemoved'
}
}));
}
} else {
// üéØ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„ÅåÈô§Âéª„Åï„Çå„Å™„Åã„Å£„ÅüÂ†¥Âêà„ÇÇ„ÄÅÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çí‰øùÂ≠ò
commandData.cleanedText = currentTranscript;
}
}
}
if (commandData.type === 'clear_command') {
// Phase 3.1: Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§Ê©üËÉΩ
return await this.handleClearCommandWithConfirmation(commandData);
} else if (commandData.type === 'number_delete') {
// Phase 3.2: Á∞°Êòì„Å™ÊñáÂ≠óÊï∞ÂâäÈô§
return await this.handleNumberDelete(commandData);
}
return { success: false, error: 'Unknown delete command type' };
} catch (error) {
this.log('error', `ÂâäÈô§„Ç≥„Éû„É≥„ÉâÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
return { success: false, error: error.message };
}
}
/**
* Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§Âá¶ÁêÜÔºàPhase 3.1Ôºâ
*/
async handleClearCommandWithConfirmation(commandData) {
try {
this.log('info', 'Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§Âá¶ÁêÜÈñãÂßã');
// 1. „ÅØ„Åª„Çä„Éº„Åã„Çâ„ÅÆÁ¢∫Ë™ç„É°„ÉÉ„Çª„Éº„Ç∏
const confirmationMessage = `ÂÖ®„Å¶„ÅÆÊñáÂ≠óËµ∑„Åì„Åó„ÇíÂâäÈô§„Åó„Çà„ÅÜ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊú¨ÂΩì„Å´„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºüÈü≥Â£∞„Åß„Äå„ÅØ„ÅÑ„Äç„Åæ„Åü„ÅØ„Äå„ÅÑ„ÅÑ„Åà„Äç„Å®„ÅäÁ≠î„Åà„Åè„Å†„Åï„ÅÑ„ÄÇ`;
const [, audioBlob] = await Promise.all([
window.addMessageToChat(window.SPEAKERS?.HAHORI || 'hahori', confirmationMessage),
window.ttsTextToAudioBlob(confirmationMessage, window.SPEAKERS?.HAHORI || 'hahori')
]);
await window.playPreGeneratedAudio(audioBlob, window.SPEAKERS?.HAHORI || 'hahori');
// 2. Èü≥Â£∞Á¢∫Ë™çÂæÖÊ©üÁä∂ÊÖã„Å´Ë®≠ÂÆö
if (window.AppState) {
window.AppState.waitingForClearConfirmation = true;
window.AppState.pendingClearCommand = commandData;
window.AppState.waitingForPermission = true; // Á¢∫Ë™çÂæÖ„Å°„Éï„É©„Ç∞
}
this.log('info', 'Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§: Èü≥Â£∞Á¢∫Ë™çÂæÖÊ©ü‰∏≠');
return {
success: true,
pending: true,
message: 'Èü≥Â£∞Á¢∫Ë™çÂæÖÊ©ü‰∏≠',
confirmationType: 'voice_yes_no'
};
} catch (error) {
this.log('error', `Á¢∫Ë™ç‰ªò„ÅçÂÖ®ÂâäÈô§„Ç®„É©„Éº: ${error.message}`);
return { success: false, error: error.message };
}
}
/**
* Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§Âá¶ÁêÜÔºàPhase 3.2Ôºâ
*/
async handleNumberDelete(commandData) {
try {
this.log('info', `Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§Âá¶ÁêÜ: ${commandData.count}ÊñáÂ≠ó`);
// üéØ ‰øÆÊ≠£ÔºöÁ¢∫Ë™çÂá¶ÁêÜ„ÇíÁÑ°ÂäπÂåñ„Åó„Å¶ÂÖ®„Å¶Âç≥Â∫ßÂÆüË°å
this.log('info', `Á¢∫Ë™çÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Å¶Âç≥Â∫ßÂÆüË°å: ${commandData.count}ÊñáÂ≠óÂâäÈô§`);
// waitingForPermission„Çí‰∏ÄÊôÇÁöÑ„Å´„É™„Çª„ÉÉ„Éà
const originalWaiting = window.AppState?.waitingForPermission;
if (window.AppState) {
window.AppState.waitingForPermission = false;
}
try {
// üéØ ‰øÆÊ≠£Ôºö‰∫ãÂâç„Å´Èô§Âéª„Éª‰øùÂ≠ò„Åï„Çå„ÅüÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®
const cleanedTextForDeletion = commandData.cleanedText || null;
if (cleanedTextForDeletion) {
this.log('info', `üîß ‰øùÂ≠ò„Åï„Çå„ÅüÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®: "${cleanedTextForDeletion}"`);
} else {
this.log('info', `‚ö†Ô∏è Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑ„Åü„ÇÅ„ÄÅÂæìÊù•ÊñπÂºè„ÅßÂá¶ÁêÜ`);
}
// Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„ÅßÂâäÈô§ÂÆüË°å
const result = await this.executeNumberDelete(commandData.count, cleanedTextForDeletion);
// ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏
// üéØ ËªΩÈáèÂåñ: ÂâäÈô§ÊôÇ„ÅÆÈü≥Â£∞„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÇÇÂâäÈô§ÔºàÂá¶ÁêÜËªΩÈáèÂåñ„ÅÆ„Åü„ÇÅÔºâ
this.log('info', `Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§ÂÆå‰∫Ü: ${result.deletedCount}ÊñáÂ≠óÂâäÈô§`);
// üéØ ÈáçË¶ÅÔºöÂâäÈô§Âá¶ÁêÜÂÆå‰∫ÜÂæå„ÅÆÁä∂ÊÖãÂÆåÂÖ®ÂêåÊúü
if (window.AppState && window.SpeechCorrectionSystem) {
const finalText = window.SpeechCorrectionSystem.getCurrentInput();
// transcriptHistory„Å®currentTranscript„ÅÆÂÆåÂÖ®ÂêåÊúü
if (finalText) {
window.AppState.transcriptHistory = [finalText];
window.AppState.currentTranscript = finalText;
} else {
window.AppState.transcriptHistory = [];
window.AppState.currentTranscript = '';
}
// UIË°®Á§∫„ÅÆÂº∑Âà∂Êõ¥Êñ∞
if (window.AppState.updateTranscriptDisplay) {
window.AppState.updateTranscriptDisplay();
}
// state-integration-adapter.js„Å´Â§âÊõ¥„ÇíÈÄöÁü•
if (window.StateIntegrationAdapter && window.StateIntegrationAdapter.notifyAppStateChange) {
window.StateIntegrationAdapter.notifyAppStateChange({
transcriptHistory: window.AppState.transcriptHistory,
currentTranscript: window.AppState.currentTranscript
});
}
// Ê±éÁî®ÁöÑ„Å™„Ç§„Éô„É≥„ÉàÈÄöÁü•ÔºàÂêÑ„É¢„Ç∏„É•„Éº„É´„ÅåÂèçÂøúÔºâ
if (window.dispatchEvent) {
window.dispatchEvent(new CustomEvent('appStateChanged', {
detail: {
transcriptHistory: window.AppState.transcriptHistory,
currentTranscript: window.AppState.currentTranscript,
source: 'VoiceProcessingManager.deleteComplete'
}
}));
}
this.log('info', `üîÑ ÂâäÈô§Âá¶ÁêÜÂæå„ÅÆÁä∂ÊÖãÂêåÊúüÂÆå‰∫Ü: transcriptHistory=[${window.AppState.transcriptHistory.join(',')}], currentTranscript="${window.AppState.currentTranscript}"`);
}
// ‚úÖ Ê≠£„Åó„ÅÑ„Ç¢„Éó„É≠„Éº„ÉÅ: „Äå„Å©„ÅÜ„Åû„ÄçÂæÖÊ©üÁä∂ÊÖã„ÅÆÁ¢∫ÂÆü„Å™Ë®≠ÂÆö
if (window.AppState) {
window.AppState.waitingForPermission = true;
this.log('info', `‚è∏Ô∏è „Äå„Å©„ÅÜ„Åû„ÄçÂæÖÊ©üÁä∂ÊÖã„Å´Ë®≠ÂÆö: ÂâäÈô§ÂÆå‰∫ÜÂæå„ÅØÂøÖ„Åö„Äå„Å©„ÅÜ„Åû„Äç„ÅåÂøÖË¶Å`);
}
return {
success: true,
executed: true,
deletedCount: result.deletedCount
};
} finally {
// ‚úÖ ÂâäÈô§Âá¶ÁêÜÂÆå‰∫ÜÂæå„ÅØ„Äå„Å©„ÅÜ„Åû„ÄçÂæÖÊ©üÁä∂ÊÖã„ÇíÁ∂≠ÊåÅÔºàÈü≥Â£∞Ë™çË≠ò„ÅØÁ∂ôÁ∂ö„ÄÅ‰ºöË©±„ÅØ„Äå„Å©„ÅÜ„Åû„Äç„ÇíÂæÖ„Å§Ôºâ
if (window.AppState) {
window.AppState.waitingForPermission = true;
this.log('info', `‚úÖ „Äå„Å©„ÅÜ„Åû„ÄçÂæÖÊ©üÁä∂ÊÖã„ÇíË®≠ÂÆö: ÂâäÈô§ÂÆå‰∫ÜÂæå„ÅØ„Äå„Å©„ÅÜ„Åû„Äç„ÅåÂøÖË¶Å`);
// üîß Èü≥Â£∞Ë™çË≠òÁ∂ôÁ∂öÊÄß„ÅÆ‰øùË®º
this.ensureVoiceRecognitionContinuity('delete_completed');
}
}
} catch (error) {
this.log('error', `Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§„Ç®„É©„Éº: ${error.message}`);
return { success: false, error: error.message };
}
}
/**
* Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§„ÅÆÂÆüË°å
*/
async executeNumberDelete(count, cleanedText = null) {
try {
// üéØ ‰øÆÊ≠£ÔºöÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®ÔºàÊ∏°„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥ÂêàÔºâ
let sourceText;
if (cleanedText !== null) {
// Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„ÅåÊ∏°„Åï„Çå„ÅüÂ†¥Âêà„ÅØ„Åù„Çå„Çí‰ΩøÁî®
sourceText = cleanedText;
this.log('info', `üîß Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„Åø„ÉÜ„Ç≠„Çπ„Éà„ÇíÂâäÈô§Âá¶ÁêÜ„Å´‰ΩøÁî®: "${sourceText}"`);
} else {
// ÂæìÊù•ÈÄö„ÇäÔºötranscriptHistory„Å®currentTranscript„Åã„ÇâÊßãÁØâ
const currentText = window.AppState?.currentTranscript || '';
const currentHistory = window.AppState?.transcriptHistory || [];
sourceText = currentHistory.join(' ') + (currentText ? ' ' + currentText : '');
this.log('info', `üîß ÂæìÊù•ÊñπÂºè„Åß„ÉÜ„Ç≠„Çπ„ÉàÊßãÁØâ: "${sourceText}"`);
}
if (sourceText.length === 0) {
return { deletedCount: 0, message: 'ÂâäÈô§„Åô„ÇãÊñáÂ≠ó„Åå„ÅÇ„Çä„Åæ„Åõ„Çì' };
}
// ÂâäÈô§„ÅÆÂÆüË°å
const deleteCount = Math.min(count, sourceText.length);
const newText = sourceText.slice(0, -deleteCount);
this.log('info', `üéØ ÂâäÈô§ÂÆüË°å: "${sourceText}"(${sourceText.length}ÊñáÂ≠ó) ‚Üí "${newText}"(${newText.length}ÊñáÂ≠ó), ${deleteCount}ÊñáÂ≠óÂâäÈô§`);
// AppStateÊõ¥Êñ∞
if (window.AppState) {
if (newText) {
window.AppState.transcriptHistory = [newText];
window.AppState.currentTranscript = newText;
} else {
window.AppState.transcriptHistory = [];
window.AppState.currentTranscript = '';
}
// SpeechCorrectionSystem„Å®„ÅÆÈÄ£Êê∫
if (window.SpeechCorrectionSystem) {
window.SpeechCorrectionSystem.setCurrentInput(newText);
}
// ÁîªÈù¢Êõ¥Êñ∞
if (window.updateTranscriptDisplay) {
window.updateTranscriptDisplay();
}
}
this.log('info', `Êï∞ÂÄ§ÂâäÈô§ÂÆüË°åÂÆå‰∫Ü: ${deleteCount}ÊñáÂ≠óÂâäÈô§`);
return { deletedCount: deleteCount, newText: newText };
} catch (error) {
this.log('error', `Êï∞ÂÄ§ÂâäÈô§ÂÆüË°å„Ç®„É©„Éº: ${error.message}`);
throw error;
}
}
/**
* Á¢∫Ë™çÂøúÁ≠îÂá¶ÁêÜÔºà„Äå„ÅØ„ÅÑ„Äç„Äå„ÅÑ„ÅÑ„Åà„ÄçÔºâ
*/
async handleConfirmationResponse(text, confirmationType) {
try {
const lowerText = text.toLowerCase().trim();
// ÊâøË™ç„Éë„Çø„Éº„É≥
const yesPatterns = ['„ÅØ„ÅÑ', '„ÅÜ„Çì', '„Åù„ÅÜ', 'yes', 'ok', '„Åä„Å£„Åë„Éº', '„Ç™„ÉÉ„Ç±„Éº'];
const noPatterns = ['„ÅÑ„ÅÑ„Åà', '„ÅÑ„Åà', '„Å†„ÇÅ', 'no', '„ÇÑ„ÇÅ„Å¶', 'Âèñ„ÇäÊ∂à„Åó', '„Ç≠„É£„É≥„Çª„É´'];
const isYes = yesPatterns.some(pattern => lowerText.includes(pattern));
const isNo = noPatterns.some(pattern => lowerText.includes(pattern));
if (isYes) {
// ÊâøË™ç„Åï„Çå„ÅüÂ†¥Âêà
this.log('info', 'ÂâäÈô§„Ç≥„Éû„É≥„ÉâÊâøË™ç');
if (window.AppState?.waitingForClearConfirmation && window.AppState?.pendingClearCommand) {
// ÂÖ®ÂâäÈô§„ÅÆÂÆüË°å
const result = await this.executeFullClear();
// Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
window.AppState.waitingForClearConfirmation = false;
window.AppState.pendingClearCommand = null;
window.AppState.waitingForPermission = false;
return result;
} else if (window.AppState?.waitingForNumberDeleteConfirmation && window.AppState?.pendingNumberDeleteCommand) {
// Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§„ÅÆÂÆüË°å
const commandData = window.AppState.pendingNumberDeleteCommand;
const result = await this.executeNumberDelete(commandData.count);
// üéØ ËªΩÈáèÂåñ: ÂâäÈô§ÊôÇ„ÅÆÈü≥Â£∞„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÇÇÂâäÈô§ÔºàÂá¶ÁêÜËªΩÈáèÂåñ„ÅÆ„Åü„ÇÅÔºâ
// Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
window.AppState.waitingForNumberDeleteConfirmation = false;
window.AppState.pendingNumberDeleteCommand = null;
window.AppState.waitingForPermission = false;
return { success: true, executed: true, deletedCount: result.deletedCount };
}
} else if (isNo) {
// ÊãíÂê¶„Åï„Çå„ÅüÂ†¥Âêà
this.log('info', 'ÂâäÈô§„Ç≥„Éû„É≥„ÉâÊãíÂê¶');
// üéØ ËªΩÈáèÂåñ: ÂâäÈô§ÊôÇ„ÅÆÈü≥Â£∞„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÇÇÂâäÈô§ÔºàÂá¶ÁêÜËªΩÈáèÂåñ„ÅÆ„Åü„ÇÅÔºâ
// Áä∂ÊÖã„É™„Çª„ÉÉ„Éà
if (window.AppState) {
window.AppState.waitingForClearConfirmation = false;
window.AppState.pendingClearCommand = null;
window.AppState.waitingForNumberDeleteConfirmation = false;
window.AppState.pendingNumberDeleteCommand = null;
window.AppState.waitingForPermission = false;
}
return { success: true, cancelled: true, message: '„É¶„Éº„Ç∂„Éº„Å´„Çà„Çä„Ç≠„É£„É≥„Çª„É´' };
}
// Ë™çË≠ò„Åß„Åç„Å™„ÅÑÂøúÁ≠î„ÅÆÂ†¥Âêà
return null;
} catch (error) {
this.log('error', `Á¢∫Ë™çÂøúÁ≠îÂá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
return { success: false, error: error.message };
}
}
/**
* ÂÖ®ÂâäÈô§„ÅÆÂÆüË°å
*/
async executeFullClear() {
try {
// AppStateÂÆåÂÖ®„ÇØ„É™„Ç¢
if (window.AppState) {
window.AppState.transcriptHistory = [];
window.AppState.currentTranscript = '';
// SpeechCorrectionSystem„Å®„ÅÆÈÄ£Êê∫
if (window.SpeechCorrectionSystem) {
window.SpeechCorrectionSystem.setCurrentInput('');
}
// ÁîªÈù¢Êõ¥Êñ∞
if (window.updateTranscriptDisplay) {
window.updateTranscriptDisplay();
}
}
// üéØ ËªΩÈáèÂåñ: ÂâäÈô§ÊôÇ„ÅÆÈü≥Â£∞„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÇÇÂâäÈô§ÔºàÂá¶ÁêÜËªΩÈáèÂåñ„ÅÆ„Åü„ÇÅÔºâ
this.log('info', 'ÂÖ®ÂâäÈô§ÂÆüË°åÂÆå‰∫Ü');
return {
success: true,
executed: true,
deletedAll: true
};
} catch (error) {
this.log('error', `ÂÖ®ÂâäÈô§ÂÆüË°å„Ç®„É©„Éº: ${error.message}`);
throw error;
}
}
// üîß ÂâäÈô§Âá¶ÁêÜÂçòÁ¥îÂåñÂÆå‰∫Ü - „Ç®„É©„ÉºÊôÇÁõ¥Êé•ËøîÂç¥ÊñπÂºè
/**
* Ë¶ÅÊúõ„ÇíÁµÑ„ÅøËæº„Çì„Å†Ë≥™ÂïèÁîüÊàê
*/
async askNextQuestionWithRequest(userRequest) {
try {
this.log('info', `Ë¶ÅÊúõÁµÑ„ÅøËæº„ÅøË≥™ÂïèÁîüÊàêÈñãÂßã: "${userRequest}"`);
if (window.AI_PROMPTS && window.AI_PROMPTS.DEEPDIVE_NEXT && window.AppState) {
const conversationContext = window.AppState.conversationHistory?.map(msg => msg.content).join(' ') || '';
const knowledgeContext = window.AppState.extractedKnowledge?.map(k => k.summary).join(' ') || '';
// Ë¶ÅÊúõ„ÇíÁµÑ„ÅøËæº„Çì„Å†„Éó„É≠„É≥„Éó„ÉàÊã°Âºµ
const enhancedPrompt = window.AI_PROMPTS.DEEPDIVE_NEXT(
window.AppState.currentTheme,
conversationContext,
knowledgeContext,
window.AppState.selectedThemeDetails,
window.AppState.themeSummaries
) + `\n\n„ÄêÈáçË¶Å„Äë„É¶„Éº„Ç∂„Éº„Åã„Çâ„Äå${userRequest}„Äç„Å®„ÅÑ„ÅÜË¶≥ÁÇπ„Åß„ÅÆË≥™Âïè„ÅåË¶ÅÊúõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆË¶≥ÁÇπ„ÇíË∏è„Åæ„Åà„Å¶Ë≥™Âïè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
// AIÂøúÁ≠îÁîüÊàê
const question = await window.gptMessagesToCharacterResponse([
{ role: 'user', content: enhancedPrompt }
], window.SPEAKERS?.NEHORI || 'nehori');
// Ë≥™Âïè„ÅÆËøΩÂä†„Å®Èü≥Â£∞ÂÜçÁîü
await window.addMessageToChat(window.SPEAKERS?.NEHORI || 'nehori', question);
const audio = await window.ttsTextToAudioBlob(question, window.SPEAKERS?.NEHORI || 'nehori');
await window.playPreGeneratedAudio(audio, window.SPEAKERS?.NEHORI || 'nehori');
this.log('info', `Ë¶ÅÊúõÁµÑ„ÅøËæº„ÅøË≥™ÂïèÁîüÊàêÂÆå‰∫Ü: "${question.substring(0, 50)}..."`);
} else {
// AI_PROMPTS„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥ÂêàÔºöÂæìÊù•„ÅÆaskNextQuestion„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
this.log('warn', 'AI_PROMPTS„ÅåÂà©Áî®‰∏çÂèØ - ÂæìÊù•„ÅÆaskNextQuestion„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
await window.askNextQuestion();
}
} catch (error) {
this.log('error', `Ë¶ÅÊúõÁµÑ„ÅøËæº„ÅøË≥™ÂïèÁîüÊàê„Ç®„É©„Éº: ${error.message}`);
// „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•„ÅÆaskNextQuestion„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
await window.askNextQuestion();
}
}
/**
* „Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞Ë®òÈå≤
*/
log(level, message) {
const timestamp = new Date().toISOString();
const logEntry = {
timestamp,
level,
message,
stats: { ...this.stats }
};
// „É≠„Ç∞‰øùÂ≠ò
this.debugLog.push(logEntry);
if (this.debugLog.length > this.maxLogEntries) {
this.debugLog.shift();
}
// „Ç≥„É≥„ÇΩ„Éº„É´Âá∫Âäõ
if (this.debugMode) {
const prefix = `[VoiceProcessingManager]`;
switch (level) {
case 'error':
console.error(`${prefix} ‚ùå ${message}`);
break;
case 'warn':
console.warn(`${prefix} ‚ö†Ô∏è ${message}`);
break;
case 'info':
console.info(`${prefix} ‚ÑπÔ∏è ${message}`);
break;
default:
console.log(`${prefix} ${message}`);
}
}
}
/**
* Áµ±Ë®àÊÉÖÂ†±ÂèñÂæó
*/
getStats() {
const runtime = Date.now() - this.stats.startTime;
return {
...this.stats,
runtime,
averageProcessingTime: this.stats.totalProcessed > 0
? runtime / this.stats.totalProcessed
: 0
};
}
/**
* „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±ÂèñÂæó
*/
getDebugInfo() {
return {
version: this.version,
initialized: this.isInitialized,
debugMode: this.debugMode,
stats: this.getStats(),
recentLogs: this.debugLog.slice(-10)
};
}
}
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
global.window.VoiceProcessingManager = VoiceProcessingManager;
// =================================================================================
// Phase 1: „Éá„Éê„ÉÉ„Ç∞„Éª„ÉÜ„Çπ„ÉàÈñ¢Êï∞Áæ§
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´„Éá„Éê„ÉÉ„Ç∞Èñ¢Êï∞
global.window.VoiceProcessingManagerDebug = {
// „Ç§„É≥„Çπ„Çø„É≥„ÇπÂèñÂæó
getInstance: () => global.window.voiceProcessingManagerInstance,
// „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫
showDebugInfo: () => {
const instance = global.window.voiceProcessingManagerInstance;
if (instance) {
const info = instance.getDebugInfo();
console.group('üîç VoiceProcessingManager Debug Info');
console.table(info.stats);
console.log('Recent Logs:', info.recentLogs);
console.groupEnd();
return info;
} else {
console.warn('VoiceProcessingManager „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return null;
}
},
// Áµ±Ë®àÊÉÖÂ†±„É™„Çª„ÉÉ„Éà
resetStats: () => {
const instance = global.window.voiceProcessingManagerInstance;
if (instance) {
instance.stats = {
totalProcessed: 0,
themeChangeRequests: 0,
questionChangeRequests: 0,
deleteCommands: 0,
fallbackCalls: 0,
errorCount: 0,
startTime: Date.now()
};
instance.debugLog = [];
console.log('‚úÖ VoiceProcessingManager Áµ±Ë®àÊÉÖÂ†±„Çí„É™„Çª„ÉÉ„Éà');
return true;
}
return false;
},
// „ÉÜ„Çπ„ÉàÂÆüË°å
runBasicTest: async () => {
console.group('üß™ VoiceProcessingManager Basic Test');
try {
const testCases = [
'„ÉÜ„Çπ„ÉàÈü≥Â£∞ÂÖ•Âäõ',
'„Å©„ÅÜ„Åû',
'„ÉÜ„Éº„ÉûÂ§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
];
const results = [];
for (const testCase of testCases) {
console.log(`Testing: "${testCase}"`);
const startTime = performance.now();
try {
const result = await global.window.processFinalTranscript(testCase);
const duration = performance.now() - startTime;
results.push({
input: testCase,
success: true,
duration: duration.toFixed(2) + 'ms',
result: result
});
console.log(`‚úÖ Success (${duration.toFixed(2)}ms)`);
} catch (error) {
results.push({
input: testCase,
success: false,
error: error.message
});
console.error(`‚ùå Error: ${error.message}`);
}
}
console.table(results);
console.groupEnd();
return results;
} catch (error) {
console.error('„ÉÜ„Çπ„ÉàÂÆüË°å„Ç®„É©„Éº:', error);
console.groupEnd();
return null;
}
},
// Phase 2: AI‰ºöË©±Á∂ôÁ∂öÊ©üËÉΩ„ÉÜ„Çπ„Éà
runPhase2Test: async () => {
console.group('üéØ Phase 2: AI‰ºöË©±Á∂ôÁ∂öÊ©üËÉΩ„ÉÜ„Çπ„Éà');
try {
const testCases = [
// „ÉÜ„Éº„ÉûÂ§âÊõ¥„ÉÜ„Çπ„Éà
{
input: '„ÉÜ„Éº„ÉûÂ§âÊõ¥',
expected: 'theme_change_basic',
description: '„ÉÜ„Éº„ÉûÂ§âÊõ¥ÔºàÂü∫Êú¨Ôºâ'
},
{
input: '„ÉÜ„Éº„ÉûÂ§âÊõ¥„ÄÅ„ÇÇ„Å£„Å®ÊäÄË°ìÁöÑ„Å´',
expected: 'theme_change_with_request',
description: '„ÉÜ„Éº„ÉûÂ§âÊõ¥ÔºàË¶ÅÊúõ‰ªò„ÅçÔºâ'
},
{
input: '„ÉÜ„Éº„Éû„ÇíÂ§â„Åà„Å¶„ÄÅ„Éì„Ç∏„Éç„ÇπË¶ñÁÇπ„Åß',
expected: 'theme_change_with_request',
description: '„ÉÜ„Éº„ÉûÂ§âÊõ¥Ôºà„Éê„É™„Ç®„Éº„Ç∑„Éß„É≥Ôºâ'
},
// Ë≥™ÂïèÂ§âÊõ¥„ÉÜ„Çπ„Éà
{
input: 'Ë≥™ÂïèÂ§âÊõ¥',
expected: 'question_change_basic',
description: 'Ë≥™ÂïèÂ§âÊõ¥ÔºàÂü∫Êú¨Ôºâ'
},
{
input: 'Ë≥™ÂïèÂ§âÊõ¥„ÄÅ„ÇÇ„Å£„Å®ÂÖ∑‰ΩìÁöÑ„Å´',
expected: 'question_change_with_request',
description: 'Ë≥™ÂïèÂ§âÊõ¥ÔºàË¶ÅÊúõ‰ªò„ÅçÔºâ'
},
{
input: 'Âà•„ÅÆË≥™Âïè„Åß„ÄÅÂÆüË∑µÁöÑ„Å™Ë¶≥ÁÇπ„Åã„Çâ',
expected: 'question_change_with_request',
description: 'Ë≥™ÂïèÂ§âÊõ¥Ôºà„Éê„É™„Ç®„Éº„Ç∑„Éß„É≥Ôºâ'
},
// Phase 3: ÂâäÈô§„Ç≥„Éû„É≥„Éâ„ÉÜ„Çπ„Éà
{
input: '„ÇØ„É™„Ç¢„Åó„Å¶',
expected: 'clear_command',
description: 'ÂÖ®ÂâäÈô§ÔºàÁ¢∫Ë™ç‰ªò„ÅçÔºâ'
},
{
input: '5ÊñáÂ≠óÂâäÈô§',
expected: 'number_delete',
description: 'Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§ÔºàÂ∞ëÊï∞Ôºâ'
},
{
input: '100ÊñáÂ≠óÊ∂à„Åó„Å¶',
expected: 'number_delete',
description: 'Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§ÔºàÂ§ßÈáè„ÉªÁ¢∫Ë™ç‰ªò„ÅçÔºâ'
},
{
input: 'ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÂâäÈô§',
expected: 'number_delete',
description: 'Êú´Â∞æÊåáÂÆöÂâäÈô§'
},
// ÈÄöÂ∏∏Âá¶ÁêÜ„ÉÜ„Çπ„Éà
{
input: '„Åì„Çå„ÅØÈÄöÂ∏∏„ÅÆÈü≥Â£∞ÂÖ•Âäõ„Åß„Åô',
expected: 'fallback_to_original',
description: 'ÈÄöÂ∏∏„ÅÆÈü≥Â£∞ÂÖ•ÂäõÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ'
}
];
const instance = global.window.voiceProcessingManagerInstance;
if (!instance) {
console.error('‚ùå VoiceProcessingManager„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return null;
}
const results = [];
for (const testCase of testCases) {
console.log(`\nüîç Testing: ${testCase.description}`);
console.log(` Input: "${testCase.input}"`);
const startTime = performance.now();
try {
// Ê§úÂá∫Ê©üËÉΩ„ÅÆ„ÉÜ„Çπ„Éà
let detectionResult = null;
let detectionType = 'none';
const themeRequest = instance.detectThemeChangeRequest(testCase.input);
if (themeRequest) {
detectionResult = themeRequest;
detectionType = themeRequest.type;
}
const questionRequest = instance.detectQuestionChangeRequest(testCase.input);
if (questionRequest) {
detectionResult = questionRequest;
detectionType = questionRequest.type;
}
const deleteCommand = instance.detectDeleteCommand(testCase.input);
if (deleteCommand) {
detectionResult = deleteCommand;
detectionType = deleteCommand.type;
}
if (!detectionResult) {
detectionType = 'fallback_to_original';
}
const duration = performance.now() - startTime;
// ÁµêÊûú„ÅÆÊ§úË®º
const success = detectionType === testCase.expected ||
(testCase.expected === 'theme_change_with_request' && detectionType === 'theme_change_with_request') ||
(testCase.expected === 'question_change_with_request' && detectionType === 'question_change_with_request') ||
(testCase.expected === 'clear_command' && detectionType === 'clear_command') ||
(testCase.expected === 'number_delete' && detectionType === 'number_delete');
results.push({
description: testCase.description,
input: testCase.input,
expected: testCase.expected,
actual: detectionType,
request: detectionResult?.request || null,
success: success,
duration: duration.toFixed(2) + 'ms'
});
if (success) {
console.log(` ‚úÖ Success: ${detectionType}`);
if (detectionResult?.request) {
console.log(` üìù Ë¶ÅÊúõÂÜÖÂÆπ: "${detectionResult.request}"`);
}
} else {
console.log(` ‚ùå Failed: expected ${testCase.expected}, got ${detectionType}`);
}
} catch (error) {
results.push({
description: testCase.description,
input: testCase.input,
expected: testCase.expected,
success: false,
error: error.message
});
console.error(` ‚ùå Error: ${error.message}`);
}
}
// ÁµêÊûú„Çµ„Éû„É™„Éº
console.log('\nüìä „ÉÜ„Çπ„ÉàÁµêÊûú„Çµ„Éû„É™„Éº:');
console.table(results);
const successCount = results.filter(r => r.success).length;
const totalCount = results.length;
const successRate = Math.round((successCount / totalCount) * 100);
console.log(`\nüéØ ÊàêÂäüÁéá: ${successCount}/${totalCount} (${successRate}%)`);
if (successRate >= 90) {
console.log('üéâ Phase 2„ÉÜ„Çπ„ÉàÂêàÊ†ºÔºÅÔºà90%‰ª•‰∏äÔºâ');
} else if (successRate >= 70) {
console.log('‚ö†Ô∏è Phase 2„ÉÜ„Çπ„ÉàÈÉ®ÂàÜÂêàÊ†ºÔºà70%‰ª•‰∏äÔºâ');
} else {
console.log('‚ùå Phase 2„ÉÜ„Çπ„Éà‰∏çÂêàÊ†ºÔºà70%Êú™Ê∫ÄÔºâ');
}
console.groupEnd();
return {
results: results,
successCount: successCount,
totalCount: totalCount,
successRate: successRate
};
} catch (error) {
console.error('Phase 2„ÉÜ„Çπ„ÉàÂÆüË°å„Ç®„É©„Éº:', error);
console.groupEnd();
return null;
}
},
// Phase 2: ÂÆüÈöõ„ÅÆÈü≥Â£∞Âá¶ÁêÜ„ÉÜ„Çπ„Éà
runPhase2IntegrationTest: async () => {
console.group('üîó Phase 2: Áµ±Âêà„ÉÜ„Çπ„Éà');
try {
const testCases = [
'„ÉÜ„Éº„ÉûÂ§âÊõ¥„ÄÅ„ÇÇ„Å£„Å®ÂÆüË∑µÁöÑ„Å´',
'Ë≥™ÂïèÂ§âÊõ¥„ÄÅÂàùÂøÉËÄÖÂêë„Åë„Åß'
];
const results = [];
for (const testCase of testCases) {
console.log(`\nüöÄ Integration Test: "${testCase}"`);
const startTime = performance.now();
try {
// ÂÆüÈöõ„ÅÆprocessFinalTranscript„ÇíÂëº„Å≥Âá∫„Åó
const result = await global.window.processFinalTranscript(testCase);
const duration = performance.now() - startTime;
results.push({
input: testCase,
success: true,
duration: duration.toFixed(2) + 'ms',
result: typeof result === 'object' ? JSON.stringify(result) : result
});
console.log(`‚úÖ Success (${duration.toFixed(2)}ms)`);
} catch (error) {
results.push({
input: testCase,
success: false,
error: error.message
});
console.error(`‚ùå Error: ${error.message}`);
}
}
console.table(results);
console.groupEnd();
return results;
} catch (error) {
console.error('Áµ±Âêà„ÉÜ„Çπ„ÉàÂÆüË°å„Ç®„É©„Éº:', error);
console.groupEnd();
return null;
}
}
};
console.log('üì¶ VoiceProcessingManager „ÇØ„É©„ÇπÂÆöÁæ©ÂÆå‰∫Ü');
console.log('üîß „Éá„Éê„ÉÉ„Ç∞Èñ¢Êï∞: window.VoiceProcessingManagerDebug „ÅßÂà©Áî®ÂèØËÉΩ');
})(typeof window !== 'undefined' ? { window } : global);
/* === transcript-edit-manager.js === */
/**
* TranscriptEditManager - „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†
* =====================================================================
*
* „ÄêË≤¨‰ªªÁØÑÂõ≤„Äë
* - Á∑®ÈõÜÁä∂ÊÖãÁÆ°ÁêÜÔºàisEditing, originalTextÔºâ
* - Èü≥Â£∞Ë™çË≠òÂà∂Âæ°Áµ±ÂêàÔºà‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„Å®„ÅÆÈÄ£Êê∫Ôºâ
* - „Éá„Éº„ÇøÂêåÊúüÔºàAppState.currentTranscript„Å®„ÅÆÂêåÊúüÔºâ
* - Á∑äÊÄ•ÁÑ°ÂäπÂåñ„Éª„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂà∂Âæ°
*
* „ÄêË®≠Ë®àÂéüÂâá„Äë
* - Êó¢Â≠òÊ©üËÉΩ„ÅÆÂÆåÂÖ®‰øùË≠∑ÔºàPhase 1Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Ç∑„Çπ„ÉÜ„É†Á≠âÔºâ
* - ÊÄßËÉΩÂÑ™ÂÖàÔºà„É™„Ç¢„É´„Çø„Ç§„É†Èü≥Â£∞Ë™çË≠òÊÄßËÉΩÁ∂≠ÊåÅÔºâ
* - ÊÆµÈöéÁöÑÂÆüË£ÖÔºàÂêÑÊ©üËÉΩ„ÅÆÁã¨Á´ã„ÉÜ„Çπ„ÉàÂèØËÉΩÔºâ
* - Á∑äÊÄ•ÁÑ°ÂäπÂåñÂØæÂøúÔºàÂçò‰∏ÄË®≠ÂÆö„Åß„ÅÆÂÆåÂÖ®ÁÑ°ÂäπÂåñÂèØËÉΩÔºâ
*
* „Éê„Éº„Ç∏„Éß„É≥: v1.0 (Phase A)
* ‰ΩúÊàêÊó•: 2025Âπ¥7Êúà24Êó•
*/
/**
* „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
*
* üéØ Phase 1AÊñ∞Ê©üËÉΩ: Áä∂ÊÖãÂêåÊúüÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†
* - Âæ™Áí∞ÂèÇÁÖßÈò≤Ê≠¢Ê©üÊßã
* - Áä∂ÊÖãÊõ¥Êñ∞„ÅÆ„Ç¢„Éà„Éü„ÉÉ„ÇØÂá¶ÁêÜ
* - „Éá„Éê„ÉÉ„Ç∞„Éª„Éà„É©„ÉÉ„Ç≠„É≥„Ç∞Ê©üËÉΩ
*
* @version 0.7.6-phase1a
* @author AI Assistant
* @created 2025-01-26
*/
/**
* Áä∂ÊÖãÊõ¥Êñ∞Âà∂Âæ°„ÇØ„É©„Çπ - Âæ™Áí∞ÂèÇÁÖßÈò≤Ê≠¢„Å®ÂÆâÂÖ®„Å™ÂêåÊúüÂá¶ÁêÜ
*/
class StateUpdateController {
constructor() {
this.isUpdatingFromEdit = false;
this.isUpdatingFromVoice = false;
this.isUpdatingFromAdapter = false;
this.updateQueue = new Map();
this.debugLogs = [];
this.maxDebugLogs = 50;
}
/**
* Âæ™Áí∞Êõ¥Êñ∞Èò≤Ê≠¢Ê©üÊßã
*/
preventCircularUpdate(source, operation, callback) {
const flagName = `isUpdatingFrom${source.charAt(0).toUpperCase() + source.slice(1)}`;
if (this[flagName]) {
this.logDebug(`üõ°Ô∏è Âæ™Áí∞Êõ¥Êñ∞Èò≤Ê≠¢: ${source} -> ${operation}`);
return null;
}
this[flagName] = true;
this.logDebug(`üîÑ Áä∂ÊÖãÊõ¥Êñ∞ÈñãÂßã: ${source} -> ${operation}`);
try {
const result = callback();
this.logDebug(`‚úÖ Áä∂ÊÖãÊõ¥Êñ∞ÂÆå‰∫Ü: ${source} -> ${operation}`);
return result;
} catch (error) {
this.logDebug(`‚ùå Áä∂ÊÖãÊõ¥Êñ∞„Ç®„É©„Éº: ${source} -> ${operation}`, error);
throw error;
} finally {
this[flagName] = false;
}
}
/**
* „Ç¢„Éà„Éü„ÉÉ„ÇØÁä∂ÊÖãÊõ¥Êñ∞
*/
atomicStateUpdate(source, updates) {
return this.preventCircularUpdate(source, 'atomicUpdate', () => {
const backup = this.createStateBackup();
try {
// ÂÖ®„Å¶„ÅÆÊõ¥Êñ∞„Çí‰∏ÄÊã¨ÂÆüË°å
Object.entries(updates).forEach(([target, updateFunc]) => {
updateFunc();
});
return true;
} catch (error) {
// „Ç®„É©„ÉºÊôÇ„ÅØÁä∂ÊÖã„ÇíÂæ©ÂÖÉ
this.restoreStateBackup(backup);
throw error;
}
});
}
/**
* Áä∂ÊÖã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê
*/
createStateBackup() {
if (!window.AppState) return null;
return {
currentTranscript: window.AppState.currentTranscript,
transcriptHistory: [...(window.AppState.transcriptHistory || [])],
timestamp: Date.now()
};
}
/**
* Áä∂ÊÖã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂæ©ÂÖÉ
*/
restoreStateBackup(backup) {
if (!backup || !window.AppState) return false;
window.AppState.currentTranscript = backup.currentTranscript;
window.AppState.transcriptHistory = [...backup.transcriptHistory];
this.logDebug('üîÑ Áä∂ÊÖã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂæ©ÂÖÉÂÆå‰∫Ü');
return true;
}
/**
* „Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞Ë®òÈå≤
*/
logDebug(message, data = null) {
const logEntry = {
timestamp: Date.now(),
message,
data: data ? JSON.stringify(data) : null,
stack: new Error().stack
};
this.debugLogs.push(logEntry);
if (this.debugLogs.length > this.maxDebugLogs) {
this.debugLogs.shift();
}
console.log(`[StateController] ${message}`, data || '');
}
/**
* „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±ÂèñÂæó
*/
getDebugInfo() {
return {
logs: this.debugLogs,
currentFlags: {
isUpdatingFromEdit: this.isUpdatingFromEdit,
isUpdatingFromVoice: this.isUpdatingFromVoice,
isUpdatingFromAdapter: this.isUpdatingFromAdapter
},
queueSize: this.updateQueue.size
};
}
}
// „Ç∞„É≠„Éº„Éê„É´„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
window.StateUpdateController = new StateUpdateController();
(function(global) {
'use strict';
// =================================================================================
// SYSTEM CONTROL FLAGS - „Ç∑„Çπ„ÉÜ„É†Âà∂Âæ°„Éï„É©„Ç∞
// =================================================================================
const TRANSCRIPT_EDIT_CONFIG = {
ENABLED: true, // üîß Á∑äÊÄ•ÁÑ°ÂäπÂåñ„Éï„É©„Ç∞Ôºàfalse=ÂÆåÂÖ®ÁÑ°ÂäπÂåñÔºâ
AUTO_PAUSE_ON_EDIT: true, // Á∑®ÈõÜÈñãÂßãÊôÇ„ÅÆËá™Âãï‰∏ÄÊôÇÂÅúÊ≠¢
KEYBOARD_SHORTCUTS: true, // „Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„ÉàÊúâÂäπ
PERFORMANCE_MONITORING: true, // ÊÄßËÉΩÁõ£Ë¶ñÊúâÂäπ
DEBUG_MODE: true, // „Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ
VERSION: '1.0-phase-a'
};
// =================================================================================
// MAIN CLASS - TranscriptEditManager
// =================================================================================
class TranscriptEditManager {
constructor() {
this.isInitialized = false;
this.version = TRANSCRIPT_EDIT_CONFIG.VERSION;
// üîß Á∑äÊÄ•ÁÑ°ÂäπÂåñ„ÉÅ„Çß„ÉÉ„ÇØ
this.enabled = TRANSCRIPT_EDIT_CONFIG.ENABLED;
if (!this.enabled) {
console.log('üö´ TranscriptEditManager: „Ç∑„Çπ„ÉÜ„É†„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
return;
}
// Á∑®ÈõÜÁä∂ÊÖãÁÆ°ÁêÜ
this.isEditing = false;
this.originalText = '';
this.editStartTime = null;
// Èü≥Â£∞Ë™çË≠òÂà∂Âæ°Áµ±Âêà
this.pauseController = null;
this.wasRecognitionActiveBeforeEdit = false;
this.lastManualActionTime = 0;
// UIË¶ÅÁ¥†ÂèÇÁÖß
this.transcriptDisplay = null;
this.editableUI = null;
// ÊÄßËÉΩÁõ£Ë¶ñ
this.performanceStats = {
editStartCount: 0,
editCompleteCount: 0,
averageEditDuration: 0,
lastEditDuration: 0
};
console.log(`üéØ TranscriptEditManager v${this.version} ÂàùÊúüÂåñÂÆå‰∫Ü`);
}
// =============================================================================
// INITIALIZATION - ÂàùÊúüÂåñ
// =============================================================================
/**
* „Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
*/
async initialize() {
if (!this.enabled) {
console.log('üö´ TranscriptEditManager: ÁÑ°ÂäπÂåñ„ÅÆ„Åü„ÇÅÂàùÊúüÂåñ„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
if (this.isInitialized) {
console.log('‚úÖ TranscriptEditManager: Êó¢„Å´ÂàùÊúüÂåñÊ∏à„Åø');
return true;
}
try {
console.log('üîÑ TranscriptEditManager ÂàùÊúüÂåñÈñãÂßã');
// DOMË¶ÅÁ¥†„ÅÆÂèñÂæó
this.transcriptDisplay = this.getTranscriptDisplayElement();
if (!this.transcriptDisplay) {
throw new Error('transcriptDisplayË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// EditableTranscriptUI„Å®„ÅÆÈÄ£Êê∫Ê∫ñÂÇô
// NOTE: EditableTranscriptUI„ÇØ„É©„Çπ„ÅØÊ¨°„ÅÆ„Çø„Çπ„ÇØ„ÅßÂÆüË£Ö
// Êó¢Â≠ò‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„Å®„ÅÆÈÄ£Êê∫Ê∫ñÂÇô
this.setupPauseController();
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
this.setupEventListeners();
this.isInitialized = true;
console.log('‚úÖ TranscriptEditManager ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå TranscriptEditManager ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
// Á∑äÊÄ•„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „Ç∑„Çπ„ÉÜ„É†„ÇíÁÑ°ÂäπÂåñ
this.enabled = false;
console.log('üõ°Ô∏è Á∑äÊÄ•„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Á∑®ÈõÜÊ©üËÉΩ„ÇíÁÑ°ÂäπÂåñ„Åó„Åæ„Åó„Åü');
return false;
}
}
/**
* transcriptDisplayË¶ÅÁ¥†„ÅÆÂèñÂæó
*/
getTranscriptDisplayElement() {
// üîß Êó¢Â≠ò„Ç∑„Çπ„ÉÜ„É†„ÅÆDOMÂèñÂæóÊñπÊ≥ï„Çí‰ΩøÁî®
if (window.UIManager && window.UIManager.DOMUtils) {
return window.UIManager.DOMUtils.get('transcriptDisplay');
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Áõ¥Êé•DOMÂèñÂæó
return document.getElementById('transcriptDisplay');
}
/**
* ‰∏ÄÊôÇÂÅúÊ≠¢Âà∂Âæ°„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÈÄ£Êê∫Ë®≠ÂÆö
*/
setupPauseController() {
// NOTE: Phase B „ÅßÂÆüË£Ö‰∫àÂÆö
// Êó¢Â≠ò„ÅÆ toggleMicrophone() Èñ¢Êï∞„Å®„ÅÆÈÄ£Êê∫
this.pauseController = {
pause: () => {
if (typeof window.toggleMicrophone === 'function') {
// ÁèæÂú®„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç„Åó„Å¶‰∏ÄÊôÇÂÅúÊ≠¢ÂÆüË°å
console.log('üîÑ Á∑®ÈõÜÈñãÂßã„Å´„Çà„ÇãËá™Âãï‰∏ÄÊôÇÂÅúÊ≠¢');
return true;
}
return false;
},
resume: () => {
if (typeof window.toggleMicrophone === 'function') {
// ÁèæÂú®„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç„Åó„Å¶ÂÜçÈñãÂÆüË°å
console.log('üîÑ Á∑®ÈõÜÂÆå‰∫Ü„Å´„Çà„ÇãËá™ÂãïÂÜçÈñã');
return true;
}
return false;
}
};
}
/**
* „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
*/
setupEventListeners() {
if (!this.transcriptDisplay) return;
// transcriptDisplay„ÇØ„É™„ÉÉ„ÇØ„ÅßÁ∑®ÈõÜÈñãÂßã
this.transcriptDisplay.addEventListener('click', (event) => {
this.handleTranscriptClick(event);
});
// Á∑®ÈõÜ„É¢„Éº„ÉâÁî®„ÅÆ„Ç≠„Éº„Éú„Éº„Éâ„Ç§„Éô„É≥„ÉàÔºàPhase C „ÅßÂÆüË£Ö‰∫àÂÆöÔºâ
document.addEventListener('keydown', (event) => {
if (this.isEditing) {
this.handleEditingKeydown(event);
}
});
}
// =============================================================================
// EDIT CONTROL - Á∑®ÈõÜÂà∂Âæ°
// =============================================================================
/**
* Á∑®ÈõÜÈñãÂßãÂá¶ÁêÜ
*/
async startEditing() {
if (!this.enabled || !this.isInitialized) {
console.log('üö´ Á∑®ÈõÜÊ©üËÉΩ„ÅåÁÑ°Âäπ„Åæ„Åü„ÅØÊú™ÂàùÊúüÂåñ');
return false;
}
if (this.isEditing) {
console.log('‚ö†Ô∏è Êó¢„Å´Á∑®ÈõÜ‰∏≠„Åß„Åô');
return false;
}
try {
console.log('üéØ Á∑®ÈõÜÈñãÂßãÂá¶ÁêÜÈñãÂßã');
// üéØ Phase 1C: Á∑®ÈõÜÈñãÂßãÂâç„ÅÆ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê
if (window.EmergencySystemManager) {
window.EmergencySystemManager.createFullSystemBackup('edit-start');
}
// ÁèæÂú®„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çí‰øùÂ≠ò
this.originalText = this.transcriptDisplay.textContent || '';
// Èü≥Â£∞Ë™çË≠ò„ÅÆ‰∏ÄÊôÇÂÅúÊ≠¢ÔºàÊâãÂãïÊìç‰Ωú„ÉÅ„Çß„ÉÉ„ÇØ‰ªò„ÅçÔºâ
if (TRANSCRIPT_EDIT_CONFIG.AUTO_PAUSE_ON_EDIT && !this.isUserManuallyControllingAudio()) {
this.wasRecognitionActiveBeforeEdit = await this.pauseVoiceRecognition();
} else if (this.isUserManuallyControllingAudio()) {
console.log('üö´ ÊâãÂãïÊìç‰ΩúÊ§úÁü•„ÅÆ„Åü„ÇÅËá™Âãï‰∏ÄÊôÇÂÅúÊ≠¢„Çí„Çπ„Ç≠„ÉÉ„Éó');
this.wasRecognitionActiveBeforeEdit = false;
}
// Á∑®ÈõÜÁä∂ÊÖã„Å´ÁßªË°å
this.isEditing = true;
this.editStartTime = performance.now();
// EditableTranscriptUI„ÅÆÊúâÂäπÂåñÔºàÊ¨°„ÅÆ„Çø„Çπ„ÇØ„ÅßÂÆüË£ÖÔºâ
if (this.editableUI) {
this.editableUI.enableEditing();
}
// Áµ±Ë®àÊõ¥Êñ∞
this.performanceStats.editStartCount++;
console.log('‚úÖ Á∑®ÈõÜÈñãÂßãÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Á∑®ÈõÜÈñãÂßã„Ç®„É©„Éº:', error);
this.isEditing = false;
return false;
}
}
/**
* Á∑®ÈõÜÂÆå‰∫ÜÂá¶ÁêÜ - Phase 1AÊã°ÂºµÁâà
*/
async finishEditing(newText = null) {
if (!this.isEditing) {
console.log('‚ö†Ô∏è Á∑®ÈõÜ‰∏≠„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
try {
console.log('üéØ Á∑®ÈõÜÂÆå‰∫ÜÂá¶ÁêÜÈñãÂßã (Phase 1AÊã°Âºµ)');
// Êñ∞„Åó„ÅÑ„ÉÜ„Ç≠„Çπ„Éà„ÅÆÊ±∫ÂÆö
const finalText = newText || this.transcriptDisplay.textContent || '';
// üéØ Phase 1A: Áä∂ÊÖãÂêåÊúüÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÂÆâÂÖ®„Å™Êõ¥Êñ∞
const updateSuccess = window.StateUpdateController.atomicStateUpdate('edit', {
'AppState': () => {
if (window.AppState) {
// currentTranscript„Å®transcriptHistory„ÅÆÂÆåÂÖ®ÂêåÊúü
window.AppState.currentTranscript = finalText;
// üîß ÈáçË¶Å: transcriptHistory„ÇÇÊõ¥Êñ∞Ôºà„Åì„Çå„ÅåÊ¨†„Åë„Å¶„ÅÑ„ÅüÂéüÂõ†Ôºâ
if (finalText.trim()) {
window.AppState.transcriptHistory = [finalText.trim()];
} else {
window.AppState.transcriptHistory = [];
}
console.log('üîÑ AppStateÂÆåÂÖ®ÂêåÊúüÂÆå‰∫Ü:', {
currentTranscript: finalText,
transcriptHistory: window.AppState.transcriptHistory
});
}
},
'StateIntegrationAdapter': () => {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å∏„ÅÆÂ§âÊõ¥ÈÄöÁü•
if (window.StateIntegrationAdapter && window.StateIntegrationAdapter.notifyAppStateChange) {
window.StateIntegrationAdapter.notifyAppStateChange({
currentTranscript: finalText,
transcriptHistory: window.AppState.transcriptHistory || []
});
console.log('üîÑ StateIntegrationAdapterÈÄöÁü•ÂÆå‰∫Ü');
}
},
'SpeechCorrectionSystem': () => {
// Èü≥Â£∞Ë®ÇÊ≠£„Ç∑„Çπ„ÉÜ„É†„ÅÆÂêåÊúü
if (window.SpeechCorrectionSystem && window.SpeechCorrectionSystem.setCurrentInput) {
window.SpeechCorrectionSystem.setCurrentInput(finalText);
console.log('üîÑ SpeechCorrectionSystemÂêåÊúüÂÆå‰∫Ü');
}
}
});
if (!updateSuccess) {
throw new Error('Áä∂ÊÖãÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
// üéØ Phase 1C: Á∑®ÈõÜÂÆå‰∫ÜÂæå„ÅÆ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó‰ΩúÊàê
if (window.EmergencySystemManager) {
window.EmergencySystemManager.createFullSystemBackup('edit-complete');
}
// Èü≥Â£∞Ë™çË≠ò„ÅÆÂÜçÈñãÔºàÊâãÂãïÊìç‰Ωú„ÉÅ„Çß„ÉÉ„ÇØ‰ªò„ÅçÔºâ
if (this.wasRecognitionActiveBeforeEdit && TRANSCRIPT_EDIT_CONFIG.AUTO_PAUSE_ON_EDIT && !this.isUserManuallyControllingAudio()) {
await this.resumeVoiceRecognition();
} else if (this.isUserManuallyControllingAudio()) {
console.log('üö´ ÊâãÂãïÊìç‰ΩúÊ§úÁü•„ÅÆ„Åü„ÇÅËá™ÂãïÂÜçÈñã„Çí„Çπ„Ç≠„ÉÉ„Éó');
}
// Á∑®ÈõÜÁä∂ÊÖãËß£Èô§
this.isEditing = false;
// EditableTranscriptUI„ÅÆÁÑ°ÂäπÂåñ
if (this.editableUI) {
this.editableUI.disableEditing();
}
// ÊÄßËÉΩÁµ±Ë®àÊõ¥Êñ∞
if (this.editStartTime) {
const duration = performance.now() - this.editStartTime;
this.performanceStats.lastEditDuration = duration;
this.performanceStats.editCompleteCount++;
const totalEdits = this.performanceStats.editCompleteCount;
this.performanceStats.averageEditDuration =
(this.performanceStats.averageEditDuration * (totalEdits - 1) + duration) / totalEdits;
}
console.log(`‚úÖ Á∑®ÈõÜÂÆå‰∫Ü (Phase 1A): "${this.originalText}" ‚Üí "${finalText}"`);
return true;
} catch (error) {
console.error('‚ùå Á∑®ÈõÜÂÆå‰∫Ü„Ç®„É©„Éº (Phase 1A):', error);
// „Ç®„É©„ÉºÊôÇ„ÅÆÁä∂ÊÖã„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Âá∫Âäõ
console.error('üîç „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±:', window.StateUpdateController.getDebugInfo());
return false;
}
}
/**
* Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´Âá¶ÁêÜ
*/
async cancelEditing() {
if (!this.isEditing) {
console.log('‚ö†Ô∏è Á∑®ÈõÜ‰∏≠„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
try {
console.log('üö´ Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´Âá¶ÁêÜÈñãÂßã');
// ÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å´Âæ©ÂÖÉ
if (this.transcriptDisplay) {
this.transcriptDisplay.textContent = this.originalText;
}
// Á∑®ÈõÜÂÆå‰∫ÜÂá¶ÁêÜ„ÇíÂÆüË°åÔºàÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÅßÔºâ
await this.finishEditing(this.originalText);
console.log('‚úÖ Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´ÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´„Ç®„É©„Éº:', error);
return false;
}
}
// =============================================================================
// EVENT HANDLERS - „Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
// =============================================================================
/**
* transcriptDisplay„ÇØ„É™„ÉÉ„ÇØ„Éè„É≥„Éâ„É©„Éº
*/
async handleTranscriptClick(event) {
if (!this.enabled) return;
// „Çª„ÉÉ„Ç∑„Éß„É≥„Åå„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Åß„Å™„ÅÑÂ†¥Âêà„ÅØÁ∑®ÈõÜ„ÇíË®±ÂèØ„Åó„Å™„ÅÑ
if (!window.AppState?.sessionActive) {
console.log('üö´ „Çª„ÉÉ„Ç∑„Éß„É≥Èùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÅÆ„Åü„ÇÅÁ∑®ÈõÜ„ÇíÁÑ°ÂäπÂåñ');
return;
}
event.preventDefault();
await this.startEditing();
}
/**
* Á∑®ÈõÜ‰∏≠„ÅÆ„Ç≠„Éº„Éú„Éº„Éâ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
*/
handleEditingKeydown(event) {
if (!this.isEditing || !TRANSCRIPT_EDIT_CONFIG.KEYBOARD_SHORTCUTS) return;
// ESC„Ç≠„Éº: Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´
if (event.key === 'Escape') {
event.preventDefault();
this.cancelEditing();
return;
}
// üîß Shift+Enter: Á∑®ÈõÜÂÆå‰∫Ü
if (event.key === 'Enter' && event.shiftKey) {
event.preventDefault();
this.finishEditing();
return;
}
}
// =============================================================================
// VOICE RECOGNITION INTEGRATION - Èü≥Â£∞Ë™çË≠òÁµ±ÂêàÔºàPhase B ÂÆüË£ÖÔºâ
// =============================================================================
/**
* Èü≥Â£∞Ë™çË≠ò‰∏ÄÊôÇÂÅúÊ≠¢
*/
async pauseVoiceRecognition() {
try {
console.log('üîÑ Á∑®ÈõÜÈñãÂßã„Å´„Çà„ÇãÈü≥Â£∞Ë™çË≠ò‰∏ÄÊôÇÂÅúÊ≠¢');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÈü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÇíÂèñÂæó
const voiceModule = this.getVoiceModule();
if (!voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´Êú™ÂèñÂæó - ‰∏ÄÊôÇÂÅúÊ≠¢„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
// ÁèæÂú®„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç
const state = voiceModule.getState();
console.log('üîç ÁèæÂú®„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã:', state.recognitionState);
// „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Â†¥Âêà„ÅÆ„Åø‰∏ÄÊôÇÂÅúÊ≠¢
if (state.recognitionState === 'active') {
voiceModule.pauseRecognition();
// UIÊõ¥Êñ∞ÔºàÊó¢Â≠ò„ÅÆÈñ¢Êï∞„Çí‰ΩøÁî®Ôºâ
if (typeof window.updatePauseResumeButton === 'function') {
window.updatePauseResumeButton();
}
console.log('‚úÖ Èü≥Â£∞Ë™çË≠ò‰∏ÄÊôÇÂÅúÊ≠¢ÂÆå‰∫Ü');
return true;
} else {
console.log('‚ÑπÔ∏è Èü≥Â£∞Ë™çË≠ò„ÅåÈùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÅÆ„Åü„ÇÅ‰∏ÄÊôÇÂÅúÊ≠¢„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠ò‰∏ÄÊôÇÂÅúÊ≠¢„Ç®„É©„Éº:', error);
return false;
}
}
/**
* Èü≥Â£∞Ë™çË≠òÂÜçÈñã
*/
async resumeVoiceRecognition() {
try {
console.log('üîÑ Á∑®ÈõÜÂÆå‰∫Ü„Å´„Çà„ÇãÈü≥Â£∞Ë™çË≠òÂÜçÈñã');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÈü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÇíÂèñÂæó
const voiceModule = this.getVoiceModule();
if (!voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´Êú™ÂèñÂæó - ÂÜçÈñã„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
// ÁèæÂú®„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç
const state = voiceModule.getState();
console.log('üîç ÁèæÂú®„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã:', state.recognitionState);
// ‰∏ÄÊôÇÂÅúÊ≠¢Áä∂ÊÖã„ÅÆÂ†¥Âêà„ÅÆ„ÅøÂÜçÈñã
if (state.recognitionState === 'paused' || state.recognitionState === 'idle') {
voiceModule.resumeRecognition();
// UIÊõ¥Êñ∞ÔºàÊó¢Â≠ò„ÅÆÈñ¢Êï∞„Çí‰ΩøÁî®Ôºâ
if (typeof window.updatePauseResumeButton === 'function') {
window.updatePauseResumeButton();
}
console.log('‚úÖ Èü≥Â£∞Ë™çË≠òÂÜçÈñãÂÆå‰∫Ü');
return true;
} else {
console.log('‚ÑπÔ∏è Èü≥Â£∞Ë™çË≠ò„ÅåÊó¢„Å´„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Åæ„Åü„ÅØ‰ªñ„ÅÆÁä∂ÊÖã„ÅÆ„Åü„ÇÅÂÜçÈñã„Çí„Çπ„Ç≠„ÉÉ„Éó');
return false;
}
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠òÂÜçÈñã„Ç®„É©„Éº:', error);
return false;
}
}
/**
* Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÈü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂèñÂæó
*/
getVoiceModule() {
try {
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÁ¢∫Ë™ç
if (!window.unifiedStateManager) {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Êú™ÂàùÊúüÂåñ');
return null;
}
// Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÅÆÂèñÂæó
const voiceModule = window.unifiedStateManager.modules.get('voice');
if (!voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´Êú™ÂèñÂæó');
return null;
}
return voiceModule;
} catch (error) {
console.error('‚ùå Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´ÂèñÂæó„Ç®„É©„Éº:', error);
return null;
}
}
/**
* ÊâãÂãïÊìç‰Ωú„Å®„ÅÆÁ´∂Âêà„ÉÅ„Çß„ÉÉ„ÇØ
*/
isUserManuallyControllingAudio() {
try {
const voiceModule = this.getVoiceModule();
if (!voiceModule) return false;
const state = voiceModule.getState();
// ÊâãÂãï„ÅßÂÅúÊ≠¢„Åï„Çå„Åü„Å∞„Åã„Çä„ÅÆÂ†¥Âêà„ÅØËá™ÂãïÊìç‰Ωú„ÇíÈÅø„Åë„Çã
const timeSinceLastManualAction = Date.now() - (this.lastManualActionTime || 0);
const manualActionCooldown = 2000; // 2ÁßíÈñì„ÅÆ„ÇØ„Éº„É´„ÉÄ„Ç¶„É≥
if (timeSinceLastManualAction < manualActionCooldown) {
console.log('üö´ ÊâãÂãïÊìç‰ΩúÁõ¥Âæå„ÅÆ„Åü„ÇÅËá™ÂãïÂà∂Âæ°„Çí„Çπ„Ç≠„ÉÉ„Éó');
return true;
}
return false;
} catch (error) {
console.error('‚ùå ÊâãÂãïÂà∂Âæ°„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
return false;
}
}
// =============================================================================
// UTILITY & DEBUG - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£„Éª„Éá„Éê„ÉÉ„Ç∞
// =============================================================================
/**
* ÁèæÂú®„ÅÆÁä∂ÊÖãÂèñÂæó
*/
getState() {
return {
enabled: this.enabled,
isInitialized: this.isInitialized,
isEditing: this.isEditing,
originalText: this.originalText,
hasTranscriptDisplay: !!this.transcriptDisplay,
performanceStats: { ...this.performanceStats }
};
}
/**
* „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã„ÅÆ„Éá„Éê„ÉÉ„Ç∞Âá∫Âäõ
*/
debugStatus() {
if (!TRANSCRIPT_EDIT_CONFIG.DEBUG_MODE) return;
console.log('üîç TranscriptEditManager „Éá„Éê„ÉÉ„Ç∞Áä∂ÊÖã:');
console.table(this.getState());
}
/**
* Á∑äÊÄ•ÁÑ°ÂäπÂåñ
*/
emergencyDisable() {
console.log('üö® TranscriptEditManager Á∑äÊÄ•ÁÑ°ÂäπÂåñÂÆüË°å');
// Á∑®ÈõÜ‰∏≠„ÅÆÂ†¥Âêà„ÅØ„Ç≠„É£„É≥„Çª„É´
if (this.isEditing) {
this.cancelEditing();
}
// „Ç∑„Çπ„ÉÜ„É†ÁÑ°ÂäπÂåñ
this.enabled = false;
TRANSCRIPT_EDIT_CONFIG.ENABLED = false;
console.log('‚úÖ TranscriptEditManager Á∑äÊÄ•ÁÑ°ÂäπÂåñÂÆå‰∫Ü');
}
}
// =================================================================================
// GLOBAL EXPORT - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
global.TranscriptEditManager = TranscriptEditManager;
global.TRANSCRIPT_EDIT_CONFIG = TRANSCRIPT_EDIT_CONFIG;
// „Éá„Éê„ÉÉ„Ç∞Áî®Èñ¢Êï∞„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
if (TRANSCRIPT_EDIT_CONFIG.DEBUG_MODE) {
global.debugTranscriptEdit = () => {
if (global.transcriptEditManager) {
global.transcriptEditManager.debugStatus();
} else {
console.log('üö´ TranscriptEditManager „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
};
}
console.log('‚úÖ transcript-edit-manager.js Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
})(window);
/* === editable-transcript-ui.js === */
/**
* EditableTranscriptUI - „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜUIÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†
* =====================================================================
*
* „ÄêË≤¨‰ªªÁØÑÂõ≤„Äë
* - contenteditableÂà∂Âæ°ÔºàÊúâÂäπÂåñ„ÉªÁÑ°ÂäπÂåñÔºâ
* - „Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É™„É≥„Ç∞Ôºà„Ç≠„Éº„Éú„Éº„Éâ„Éª„Éû„Ç¶„ÇπÊìç‰ΩúÔºâ
* - Ë¶ñË¶ö„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÔºàÁ∑®ÈõÜÁä∂ÊÖã„ÅÆË°®Á§∫Ôºâ
* - DOMÊìç‰Ωú„ÅÆÊúÄÈÅ©ÂåñÔºàÊÄßËÉΩÈáçË¶ñÔºâ
*
* „ÄêË®≠Ë®àÂéüÂâá„Äë
* - UIÂ∞ÇÁî®„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºà„Éì„Ç∏„Éç„Çπ„É≠„Ç∏„ÉÉ„ÇØÂàÜÈõ¢Ôºâ
* - ÊÄßËÉΩÊúÄÈÅ©ÂåñÔºàcontenteditable‰ΩøÁî®„Å´„Çà„ÇãË≤†Ëç∑„ÇíÊúÄÂ∞èÂåñÔºâ
* - „Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£ÂØæÂøúÔºà„Ç≠„Éº„Éú„Éº„ÉâÊìç‰ΩúÊîØÊè¥Ôºâ
* - Êó¢Â≠ò„Éá„Ç∂„Ç§„É≥„Å®„ÅÆË™øÂíåÔºàÊ∑±Â†Ä„Åè„ÇìUI„Å®„ÅÆÁµ±ÂêàÔºâ
*
* „Éê„Éº„Ç∏„Éß„É≥: v1.0 (Phase A)
* ‰ΩúÊàêÊó•: 2025Âπ¥7Êúà24Êó•
*/
(function(global) {
'use strict';
// =================================================================================
// UI CONFIGURATION - UIË®≠ÂÆö
// =================================================================================
const EDITABLE_UI_CONFIG = {
// Á∑®ÈõÜÁä∂ÊÖã„ÅÆË¶ñË¶ö„Çπ„Çø„Ç§„É´
EDITING_STYLES: {
border: '2px solid #3498db',
backgroundColor: 'rgba(52, 152, 219, 0.1)',
outline: 'none',
cursor: 'text'
},
// ÈùûÁ∑®ÈõÜÁä∂ÊÖã„ÅÆ„Çπ„Çø„Ç§„É´
NORMAL_STYLES: {
border: '4px solid #3498db', // ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´„ÇíÁ∂≠ÊåÅ
backgroundColor: 'rgba(255, 255, 255, 0.4)',
cursor: 'pointer'
},
// „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Ë®≠ÂÆö
TRANSITION_DURATION: '0.2s',
// „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„Éº
EDIT_PLACEHOLDER: 'ÊñáÂ≠óËµ∑„Åì„ÅóÂÜÖÂÆπ„ÇíÁ∑®ÈõÜ„Åß„Åç„Åæ„Åô...ÔºàESC: „Ç≠„É£„É≥„Çª„É´, Shift+Enter: Á∑®ÈõÜÁµÇ‰∫ÜÔºâ',
// „Éï„Ç©„Éº„Ç´„ÇπÈõ¢ËÑ±ÊôÇ„ÅÆËá™ÂãïÂÆå‰∫Ü
AUTO_COMPLETE_ON_BLUR: true,
// „Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ
DEBUG_MODE: true
};
// =================================================================================
// MAIN CLASS - EditableTranscriptUI
// =================================================================================
class EditableTranscriptUI {
constructor(transcriptElement) {
this.element = transcriptElement;
this.isContentEditable = false;
this.originalStyles = {};
this.editingIndicator = null;
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºÂèÇÁÖß‰øùÊåÅÔºàÂâäÈô§Áî®Ôºâ
this.eventListeners = new Map();
// ÂàùÊúüÁä∂ÊÖã„ÅÆ‰øùÂ≠ò
this.saveOriginalStyles();
console.log('üé® EditableTranscriptUI ÂàùÊúüÂåñÂÆå‰∫Ü');
}
// =============================================================================
// INITIALIZATION - ÂàùÊúüÂåñ
// =============================================================================
/**
* ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´„Çí‰øùÂ≠ò
*/
saveOriginalStyles() {
if (!this.element) return;
const computedStyle = window.getComputedStyle(this.element);
this.originalStyles = {
border: this.element.style.border || computedStyle.border,
backgroundColor: this.element.style.backgroundColor || computedStyle.backgroundColor,
outline: this.element.style.outline || computedStyle.outline,
cursor: this.element.style.cursor || computedStyle.cursor,
contentEditable: this.element.contentEditable
};
if (EDITABLE_UI_CONFIG.DEBUG_MODE) {
console.log('üíæ ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´‰øùÂ≠òÂÆå‰∫Ü:', this.originalStyles);
}
}
// =============================================================================
// CONTENTEDITABLE CONTROL - contenteditableÂà∂Âæ°
// =============================================================================
/**
* Á∑®ÈõÜ„É¢„Éº„ÉâÊúâÂäπÂåñ
*/
enableEditing() {
if (!this.element) {
console.error('‚ùå transcriptDisplayË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
if (this.isContentEditable) {
console.log('‚ö†Ô∏è Êó¢„Å´Á∑®ÈõÜ„É¢„Éº„Éâ„Åß„Åô');
return true;
}
try {
console.log('üéØ Á∑®ÈõÜ„É¢„Éº„ÉâÊúâÂäπÂåñÈñãÂßã');
// contenteditableÊúâÂäπÂåñ
this.element.contentEditable = 'true';
this.isContentEditable = true;
// Á∑®ÈõÜÁî®„Çπ„Çø„Ç§„É´ÈÅ©Áî®
this.applyEditingStyles();
// Á∑®ÈõÜÁä∂ÊÖã„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºË°®Á§∫
this.showEditingIndicator();
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
this.setupEditingEventListeners();
// „Éï„Ç©„Éº„Ç´„ÇπË®≠ÂÆö
this.element.focus();
// „Ç´„Éº„ÇΩ„É´„ÇíÊú´Â∞æ„Å´ÁßªÂãï
this.setCursorToEnd();
console.log('‚úÖ Á∑®ÈõÜ„É¢„Éº„ÉâÊúâÂäπÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Á∑®ÈõÜ„É¢„Éº„ÉâÊúâÂäπÂåñ„Ç®„É©„Éº:', error);
this.disableEditing(); // Â§±ÊïóÊôÇ„ÅØ„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
return false;
}
}
/**
* Á∑®ÈõÜ„É¢„Éº„ÉâÁÑ°ÂäπÂåñ
*/
disableEditing() {
if (!this.element) return true;
try {
console.log('üéØ Á∑®ÈõÜ„É¢„Éº„ÉâÁÑ°ÂäπÂåñÈñãÂßã');
// contenteditableÁÑ°ÂäπÂåñ
this.element.contentEditable = 'false';
this.isContentEditable = false;
// ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´„Å´Âæ©ÂÖÉ
this.restoreOriginalStyles();
// Á∑®ÈõÜÁä∂ÊÖã„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºÈùûË°®Á§∫
this.hideEditingIndicator();
// „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºÂâäÈô§
this.removeEditingEventListeners();
// „Éï„Ç©„Éº„Ç´„ÇπËß£Èô§
this.element.blur();
console.log('‚úÖ Á∑®ÈõÜ„É¢„Éº„ÉâÁÑ°ÂäπÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Á∑®ÈõÜ„É¢„Éº„ÉâÁÑ°ÂäπÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =============================================================================
// STYLE MANAGEMENT - „Çπ„Çø„Ç§„É´ÁÆ°ÁêÜ
// =============================================================================
/**
* Á∑®ÈõÜÁî®„Çπ„Çø„Ç§„É´ÈÅ©Áî®
*/
applyEditingStyles() {
if (!this.element) return;
// CSS Transition„ÇíË®≠ÂÆö
this.element.style.transition = `all ${EDITABLE_UI_CONFIG.TRANSITION_DURATION} ease`;
// Á∑®ÈõÜÁî®„Çπ„Çø„Ç§„É´„ÇíÈÅ©Áî®
Object.assign(this.element.style, EDITABLE_UI_CONFIG.EDITING_STYLES);
// „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÉºÂ±ûÊÄßË®≠ÂÆöÔºàÁ©∫„ÅÆÂ†¥ÂêàÔºâ
if (!this.element.textContent.trim()) {
this.element.setAttribute('data-placeholder', EDITABLE_UI_CONFIG.EDIT_PLACEHOLDER);
this.element.classList.add('editing-placeholder');
}
if (EDITABLE_UI_CONFIG.DEBUG_MODE) {
console.log('üé® Á∑®ÈõÜÁî®„Çπ„Çø„Ç§„É´ÈÅ©Áî®ÂÆå‰∫Ü');
}
}
/**
* ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´„Å´Âæ©ÂÖÉ
*/
restoreOriginalStyles() {
if (!this.element) return;
// ‰øùÂ≠ò„Åï„Çå„Åü„Çπ„Çø„Ç§„É´„ÇíÂæ©ÂÖÉ
Object.assign(this.element.style, EDITABLE_UI_CONFIG.NORMAL_STYLES);
// „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÉºÈñ¢ÈÄ£„Çí„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó
this.element.removeAttribute('data-placeholder');
this.element.classList.remove('editing-placeholder');
// TransitionÂâäÈô§
this.element.style.transition = '';
if (EDITABLE_UI_CONFIG.DEBUG_MODE) {
console.log('üîÑ ÂÖÉ„ÅÆ„Çπ„Çø„Ç§„É´Âæ©ÂÖÉÂÆå‰∫Ü');
}
}
// =============================================================================
// EVENT HANDLING - „Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É™„É≥„Ç∞
// =============================================================================
/**
* Á∑®ÈõÜÁî®„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
*/
setupEditingEventListeners() {
if (!this.element) return;
// „Ç≠„Éº„Éú„Éº„Éâ„Ç§„Éô„É≥„Éà
const keydownHandler = (event) => this.handleKeyEvents(event);
this.element.addEventListener('keydown', keydownHandler);
this.eventListeners.set('keydown', keydownHandler);
// ÂÖ•Âäõ„Ç§„Éô„É≥„ÉàÔºà„É™„Ç¢„É´„Çø„Ç§„É†Ê§úË®ºÁî®Ôºâ
const inputHandler = (event) => this.handleInputEvents(event);
this.element.addEventListener('input', inputHandler);
this.eventListeners.set('input', inputHandler);
// „Éï„Ç©„Éº„Ç´„Çπ„Ç¢„Ç¶„Éà„Ç§„Éô„É≥„Éà
const blurHandler = (event) => this.handleBlurEvents(event);
this.element.addEventListener('blur', blurHandler);
this.eventListeners.set('blur', blurHandler);
// „Éö„Éº„Çπ„Éà„Ç§„Éô„É≥„Éà
const pasteHandler = (event) => this.handlePasteEvents(event);
this.element.addEventListener('paste', pasteHandler);
this.eventListeners.set('paste', pasteHandler);
console.log('üëÇ Á∑®ÈõÜÁî®„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆöÂÆå‰∫Ü');
}
/**
* Á∑®ÈõÜÁî®„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºÂâäÈô§
*/
removeEditingEventListeners() {
if (!this.element) return;
this.eventListeners.forEach((handler, eventType) => {
this.element.removeEventListener(eventType, handler);
});
this.eventListeners.clear();
console.log('üö´ Á∑®ÈõÜÁî®„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºÂâäÈô§ÂÆå‰∫Ü');
}
/**
* „Ç≠„Éº„Ç§„Éô„É≥„ÉàÂá¶ÁêÜ
*/
handleKeyEvents(event) {
if (!this.isContentEditable) return;
switch (event.key) {
case 'Enter':
if (event.shiftKey) {
// üîß Shift+Enter: Á∑®ÈõÜÂÆå‰∫Ü
event.preventDefault();
this.triggerEditComplete();
}
// EnterÂçò‰Ωì: IMEÁ¢∫ÂÆöÁî®ÔºàÁ∑®ÈõÜÁ∂ôÁ∂öÔºâ
break;
case 'Escape':
// ESC„Ç≠„Éº: Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´
event.preventDefault();
this.triggerEditCancel();
break;
case 'Tab':
// Tab„Ç≠„Éº: Á∑®ÈõÜÂÆå‰∫Ü
event.preventDefault();
this.triggerEditComplete();
break;
default:
// „Åù„ÅÆ‰ªñ„ÅÆ„Ç≠„Éº: „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÉºÁÆ°ÁêÜ
this.managePlaceholder();
break;
}
}
/**
* ÂÖ•Âäõ„Ç§„Éô„É≥„ÉàÂá¶ÁêÜ
*/
handleInputEvents(event) {
// „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÉºÁÆ°ÁêÜ
this.managePlaceholder();
// „É™„Ç¢„É´„Çø„Ç§„É†Ê§úË®ºÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶Ôºâ
this.validateInput();
}
/**
* „Éï„Ç©„Éº„Ç´„Çπ„Ç¢„Ç¶„Éà„Ç§„Éô„É≥„ÉàÂá¶ÁêÜ
*/
handleBlurEvents(event) {
// Á∑®ÈõÜÂÆå‰∫Ü„Å®„Åó„Å¶Âá¶ÁêÜÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
// NOTE: „É¶„Éº„Ç∂„Éì„É™„ÉÜ„Ç£„ÇíËÄÉÊÖÆ„Åó„Å¶ÁÑ°ÂäπÂåñÂèØËÉΩ
if (EDITABLE_UI_CONFIG.AUTO_COMPLETE_ON_BLUR) {
this.triggerEditComplete();
}
}
/**
* „Éö„Éº„Çπ„Éà„Ç§„Éô„É≥„ÉàÂá¶ÁêÜ
*/
handlePasteEvents(event) {
// „Éó„É¨„Éº„É≥„ÉÜ„Ç≠„Çπ„Éà„ÅÆ„ÅøË®±ÂèØ
event.preventDefault();
const paste = (event.clipboardData || window.clipboardData).getData('text');
const cleanPaste = this.sanitizeText(paste);
// „Ç´„Éº„ÇΩ„É´‰ΩçÁΩÆ„Å´ÊåøÂÖ•
document.execCommand('insertText', false, cleanPaste);
console.log('üìã „Éö„Éº„Çπ„ÉàÂá¶ÁêÜÂÆå‰∫Ü:', cleanPaste.substring(0, 50));
}
// =============================================================================
// UI FEEDBACK - Ë¶ñË¶ö„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
// =============================================================================
/**
* Á∑®ÈõÜÁä∂ÊÖã„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºË°®Á§∫
*/
showEditingIndicator() {
// Êó¢Â≠ò„ÅÆ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº„Åå„ÅÇ„Çå„Å∞ÂâäÈô§
this.hideEditingIndicator();
// Êñ∞„Åó„ÅÑ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº‰ΩúÊàê
this.editingIndicator = document.createElement('div');
this.editingIndicator.className = 'transcript-editing-indicator';
this.editingIndicator.innerHTML = '‚úèÔ∏è Á∑®ÈõÜ‰∏≠...ÔºàESC: „Ç≠„É£„É≥„Çª„É´, Shift+Enter: Á∑®ÈõÜÁµÇ‰∫ÜÔºâ';
// „Çπ„Çø„Ç§„É´Ë®≠ÂÆö
Object.assign(this.editingIndicator.style, {
position: 'absolute',
top: '-25px',
left: '0',
fontSize: '12px',
color: '#3498db',
backgroundColor: 'rgba(255, 255, 255, 0.9)',
padding: '4px 8px',
borderRadius: '4px',
boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
zIndex: '1000',
animation: 'fadeIn 0.2s ease'
});
// Ë¶ÅÁ¥†„ÅÆË¶™„Å´ËøΩÂä†
if (this.element.parentElement) {
this.element.parentElement.style.position = 'relative';
this.element.parentElement.appendChild(this.editingIndicator);
}
console.log('üìç Á∑®ÈõÜ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºË°®Á§∫');
}
/**
* Á∑®ÈõÜÁä∂ÊÖã„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºÈùûË°®Á§∫
*/
hideEditingIndicator() {
if (this.editingIndicator) {
this.editingIndicator.remove();
this.editingIndicator = null;
console.log('üö´ Á∑®ÈõÜ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÉºÈùûË°®Á§∫');
}
}
// =============================================================================
// UTILITY FUNCTIONS - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
// =============================================================================
/**
* „Ç´„Éº„ÇΩ„É´„ÇíÊú´Â∞æ„Å´ÁßªÂãï
*/
setCursorToEnd() {
if (!this.element) return;
try {
const range = document.createRange();
const selection = window.getSelection();
range.selectNodeContents(this.element);
range.collapse(false); // Êú´Â∞æ„Å´ÁßªÂãï
selection.removeAllRanges();
selection.addRange(range);
if (EDITABLE_UI_CONFIG.DEBUG_MODE) {
console.log('üéØ „Ç´„Éº„ÇΩ„É´Êú´Â∞æÁßªÂãïÂÆå‰∫Ü');
}
} catch (error) {
console.error('‚ùå „Ç´„Éº„ÇΩ„É´ÁßªÂãï„Ç®„É©„Éº:', error);
}
}
/**
* „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„ÉºÁÆ°ÁêÜ
*/
managePlaceholder() {
if (!this.element) return;
const hasContent = this.element.textContent.trim().length > 0;
if (hasContent) {
this.element.classList.remove('editing-placeholder');
} else {
this.element.classList.add('editing-placeholder');
}
}
/**
* „ÉÜ„Ç≠„Çπ„Éà„Çµ„Éã„Çø„Ç§„Ç∫
*/
sanitizeText(text) {
// HTML„Çø„Ç∞Èô§Âéª„ÄÅÊîπË°åÊ≠£Ë¶èÂåñ
return text.replace(/<[^>]*>/g, '').replace(/\r\n/g, '\n');
}
/**
* ÂÖ•ÂäõÊ§úË®º
*/
validateInput() {
// ÊñáÂ≠óÊï∞Âà∂Èôê„Å™„Å©„ÅÆÊ§úË®ºÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÆüË£ÖÔºâ
const text = this.element.textContent || '';
const maxLength = 2000; // ÊúÄÂ§ßÊñáÂ≠óÊï∞
if (text.length > maxLength) {
console.warn('‚ö†Ô∏è ÊñáÂ≠óÊï∞Âà∂ÈôêË∂ÖÈÅé:', text.length);
// Âà∂ÈôêË∂ÖÈÅéÊôÇ„ÅÆÂá¶ÁêÜÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶Ôºâ
}
}
/**
* Á∑®ÈõÜÂÆå‰∫Ü„Éà„É™„Ç¨„Éº
*/
triggerEditComplete() {
console.log('‚úÖ Á∑®ÈõÜÂÆå‰∫Ü„Éà„É™„Ç¨„Éº');
// „Ç´„Çπ„Çø„É†„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´
const event = new CustomEvent('transcriptEditComplete', {
detail: {
text: this.element.textContent || '',
originalText: this.originalText
}
});
this.element.dispatchEvent(event);
}
/**
* Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´„Éà„É™„Ç¨„Éº
*/
triggerEditCancel() {
console.log('üö´ Á∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´„Éà„É™„Ç¨„Éº');
// „Ç´„Çπ„Çø„É†„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´
const event = new CustomEvent('transcriptEditCancel');
this.element.dispatchEvent(event);
}
// =============================================================================
// STATE & DEBUG - Áä∂ÊÖã„Éª„Éá„Éê„ÉÉ„Ç∞
// =============================================================================
/**
* ÁèæÂú®„ÅÆÁä∂ÊÖãÂèñÂæó
*/
getState() {
return {
isContentEditable: this.isContentEditable,
hasElement: !!this.element,
hasEditingIndicator: !!this.editingIndicator,
currentText: this.element?.textContent || '',
eventListenersCount: this.eventListeners.size
};
}
/**
* „Éá„Éê„ÉÉ„Ç∞Áä∂ÊÖãÂá∫Âäõ
*/
debugStatus() {
if (!EDITABLE_UI_CONFIG.DEBUG_MODE) return;
console.log('üîç EditableTranscriptUI „Éá„Éê„ÉÉ„Ç∞Áä∂ÊÖã:');
console.table(this.getState());
}
}
// =================================================================================
// CSS INJECTION - „Çπ„Çø„Ç§„É´Ê≥®ÂÖ•
// =================================================================================
// Á∑®ÈõÜÈñ¢ÈÄ£„ÅÆCSS„Çπ„Çø„Ç§„É´„ÇíÂãïÁöÑ„Å´Ê≥®ÂÖ•
function injectEditingStyles() {
const existingStyle = document.getElementById('transcript-editing-styles');
if (existingStyle) return; // Êó¢„Å´Ê≥®ÂÖ•Ê∏à„Åø
const style = document.createElement('style');
style.id = 'transcript-editing-styles';
style.textContent = `
/* „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜÁî®„Çπ„Çø„Ç§„É´ */
.transcript-display[contenteditable="true"] {
min-height: 80px;
resize: vertical;
overflow-y: auto;
}
.transcript-display.editing-placeholder::before {
content: attr(data-placeholder);
color: #999;
font-style: italic;
pointer-events: none;
}
.transcript-display.editing-placeholder:focus::before {
display: none;
}
/* „Éï„Çß„Éº„Éâ„Ç§„É≥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
@keyframes fadeIn {
from { opacity: 0; transform: translateY(-5px); }
to { opacity: 1; transform: translateY(0); }
}
/* Á∑®ÈõÜ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº */
.transcript-editing-indicator {
user-select: none;
pointer-events: none;
}
`;
document.head.appendChild(style);
console.log('üé® Á∑®ÈõÜÁî®CSS„Çπ„Çø„Ç§„É´Ê≥®ÂÖ•ÂÆå‰∫Ü');
}
// =================================================================================
// GLOBAL EXPORT - „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// „Çπ„Çø„Ç§„É´Ê≥®ÂÖ•ÂÆüË°å
if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', injectEditingStyles);
} else {
injectEditingStyles();
}
// „Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
global.EditableTranscriptUI = EditableTranscriptUI;
global.EDITABLE_UI_CONFIG = EDITABLE_UI_CONFIG;
console.log('‚úÖ editable-transcript-ui.js Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
})(window);
/* === script.js === */
// Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™ - „É°„Ç§„É≥„Çπ„ÇØ„É™„Éó„Éà
// ÂÖÉ„Éï„Ç°„Ç§„É´ÔºàÊ∑±Â†Ä„Åè„Çìv063.htmlÔºâÊ∫ñÊã†„ÅÆÂÆåÂÖ®Áâà
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞ÂÆöÁæ©ÔºàÊúÄÂÑ™ÂÖàÔºâ
// =================================================================================
// üìä Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÁä∂ÊÖãÔºà„Ç∞„É≠„Éº„Éê„É´ÂÆöÁæ©Ôºâ
window.KnowledgeState = {
currentSession: null,
categories: [],
users: [],
insights: [],
qualityThreshold: 0.7,
isInitialized: false
};
// üé§ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
window.stateManager = null;
// =================================================================================
// STEP 1: ÊÆµÈöéÁöÑÂæ©ÂÖÉ - Âàá„ÇäÊõø„ÅàË®≠ÂÆö
// =================================================================================
// üéØ Step 1: ÊÆµÈöéÁöÑÂàá„ÇäÊõø„ÅàË®≠ÂÆö
const MIGRATION_CONFIG = {
USE_NEW_TRANSCRIPT: true, // transcript-display „Ç∑„Çπ„ÉÜ„É†‰ΩøÁî®
ENABLE_FALLBACK: true, // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩÊúâÂäπ
GRADUAL_MIGRATION: true, // ÊÆµÈöéÁöÑÁßªË°åÊúâÂäπ
PRESERVE_EXISTING_FUNCTIONS: true, // Êó¢Â≠òÊ©üËÉΩ„ÅÆ‰øùÊåÅ
DEBUG_MODE: true // „Éá„Éê„ÉÉ„Ç∞„É¢„Éº„ÉâÔºàÈñãÁô∫ÊôÇ„ÅÆ„ÅøÔºâ
};
// üõ°Ô∏è Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÊ©üËÉΩ
window.emergencyRollback = function() {
console.log('üö® Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÈñãÂßã');
// transcript-display „Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
MIGRATION_CONFIG.USE_NEW_TRANSCRIPT = true;
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (transcriptDisplay) {
transcriptDisplay.style.display = 'block';
console.log('‚úÖ transcript-display ÊúâÂäπÂåñÂÆå‰∫Ü');
}
// Êó¢Â≠ò„ÅÆÊõ¥Êñ∞Èñ¢Êï∞„Çí‰ΩøÁî®
if (typeof updateRealtimeTranscript === 'function') {
updateRealtimeTranscript('Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆå‰∫Ü');
}
console.log('üö® Á∑äÊÄ•„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆå‰∫Ü');
return true;
};
// üîÑ ÊÆµÈöéÁöÑÂàá„ÇäÊõø„ÅàÊ©üËÉΩ
window.switchToNewTranscript = function() {
console.log('üîÑ Êñ∞„Åó„ÅÑtranscriptË°®Á§∫„Å´Âàá„ÇäÊõø„ÅàÈñãÂßã');
if (!MIGRATION_CONFIG.GRADUAL_MIGRATION) {
console.warn('‚ö†Ô∏è ÊÆµÈöéÁöÑÁßªË°å„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
return false;
}
try {
// transcript-display „Ç∑„Çπ„ÉÜ„É†„ÇíÊúâÂäπÂåñ
MIGRATION_CONFIG.USE_NEW_TRANSCRIPT = true;
// Ë°®Á§∫„ÇíÁ¢∫Ë™ç
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (transcriptDisplay) {
transcriptDisplay.style.display = 'block';
console.log('‚úÖ transcript-display ÊúâÂäπÂåñÂÆå‰∫Ü');
}
// Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„Éà
const testResult = testNewTranscriptSystem();
if (!testResult) {
console.error('‚ùå Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„Éà„Å´Â§±Êïó„ÄÅ„É≠„Éº„É´„Éê„ÉÉ„ÇØÂÆüË°å');
window.emergencyRollback();
return false;
}
console.log('‚úÖ Êñ∞„Åó„ÅÑtranscriptË°®Á§∫„Å´Âàá„ÇäÊõø„ÅàÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Âàá„ÇäÊõø„Åà‰∏≠„Å´„Ç®„É©„ÉºÁô∫Áîü:', error);
window.emergencyRollback();
return false;
}
};
// üß™ Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„ÉàÊ©üËÉΩ
function testNewTranscriptSystem() {
console.log('üß™ Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„ÉàÈñãÂßã');
try {
const transcriptDisplay = document.getElementById('transcriptDisplay');
// Ë¶ÅÁ¥†„ÅÆÂ≠òÂú®Á¢∫Ë™ç
if (!transcriptDisplay) {
console.error('‚ùå transcript-displayË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// Ë°®Á§∫Áä∂ÊÖã„ÅÆÁ¢∫Ë™ç
const isVisible = transcriptDisplay.style.display !== 'none';
if (!isVisible) {
console.error('‚ùå transcript-display „ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
// Êõ¥Êñ∞Ê©üËÉΩ„ÅÆ„ÉÜ„Çπ„Éà
const testMessage = '„ÉÜ„Çπ„Éà„É°„ÉÉ„Çª„Éº„Ç∏ - ' + Date.now();
transcriptDisplay.textContent = testMessage;
// Á¢∫Ë™ç
if (transcriptDisplay.textContent.includes('„ÉÜ„Çπ„Éà„É°„ÉÉ„Çª„Éº„Ç∏')) {
console.log('‚úÖ Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
return true;
} else {
console.error('‚ùå Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÊõ¥Êñ∞Ê©üËÉΩ„ÉÜ„Çπ„Éà„Å´Â§±Êïó');
return false;
}
} catch (error) {
console.error('‚ùå Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆ„ÉÜ„Çπ„Éà‰∏≠„Å´„Ç®„É©„Éº:', error);
return false;
}
}
// üîß ÊÆµÈöéÁöÑÂàùÊúüÂåñÈñ¢Êï∞
function initializeMigrationSystem() {
console.log('üîß ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ');
// Ë®≠ÂÆö„ÅÆÁ¢∫Ë™ç
console.log('üìã ÁßªË°åË®≠ÂÆö:', MIGRATION_CONFIG);
// ‰∏°„Ç∑„Çπ„ÉÜ„É†„ÅÆÁ¢∫Ë™ç
const transcriptCompact = document.getElementById('transcriptCompact');
const transcriptDisplay = document.getElementById('transcriptDisplay');
console.log('üîç „Ç∑„Çπ„ÉÜ„É†Á¢∫Ë™ç:');
console.log(' - transcript-compact:', !!transcriptCompact);
console.log(' - transcript-display:', !!transcriptDisplay);
// transcript-display„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
console.log('üéØ transcript-display„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®ÈñãÂßã');
if (transcriptDisplay) {
transcriptDisplay.style.display = 'block';
console.log('‚úÖ transcript-display ÊúâÂäπÂåñÂÆå‰∫Ü');
}
console.log('‚úÖ ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
}
// üìù „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
async function initializeTranscriptEditSystem() {
try {
console.log('üìù TranscriptEditManagerÂàùÊúüÂåñÈñãÂßã...');
// TranscriptEditManager„ÇØ„É©„Çπ„ÅÆÂ≠òÂú®Á¢∫Ë™ç
if (typeof window.TranscriptEditManager !== 'function') {
console.warn('‚ö†Ô∏è TranscriptEditManager„ÇØ„É©„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// EditableTranscriptUI„ÇØ„É©„Çπ„ÅÆÂ≠òÂú®Á¢∫Ë™ç
if (typeof window.EditableTranscriptUI !== 'function') {
console.warn('‚ö†Ô∏è EditableTranscriptUI„ÇØ„É©„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return false;
}
// TranscriptEditManager„Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê
window.transcriptEditManager = new window.TranscriptEditManager();
// ÂàùÊúüÂåñÂÆüË°å
const initialized = await window.transcriptEditManager.initialize();
if (!initialized) {
console.error('‚ùå TranscriptEditManagerÂàùÊúüÂåñÂ§±Êïó');
return false;
}
// EditableTranscriptUI„Å®„ÅÆÈÄ£Êê∫Ë®≠ÂÆö
if (window.transcriptEditManager.transcriptDisplay) {
window.transcriptEditManager.editableUI = new window.EditableTranscriptUI(
window.transcriptEditManager.transcriptDisplay
);
// „Ç´„Çπ„Çø„É†„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
window.transcriptEditManager.transcriptDisplay.addEventListener('transcriptEditComplete', async (event) => {
const newText = event.detail.text;
await window.transcriptEditManager.finishEditing(newText);
});
window.transcriptEditManager.transcriptDisplay.addEventListener('transcriptEditCancel', async () => {
await window.transcriptEditManager.cancelEditing();
});
console.log('‚úÖ EditableTranscriptUI„Å®„ÅÆÈÄ£Êê∫Ë®≠ÂÆöÂÆå‰∫Ü');
}
// „Ç∞„É≠„Éº„Éê„É´Áä∂ÊÖãÊõ¥Êñ∞
if (window.AppState) {
window.AppState.transcriptEditEnabled = true;
}
console.log('‚úÖ transcriptÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå transcriptÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
// Á∑äÊÄ•„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „Ç∑„Çπ„ÉÜ„É†ÁÑ°ÂäπÂåñ
if (window.transcriptEditManager) {
window.transcriptEditManager.emergencyDisable();
}
return false;
}
}
// üß™ ÈñãÁô∫ËÄÖÂêë„Åë„ÉÜ„Çπ„ÉàÊ©üËÉΩ
window.testMigrationSystem = function() {
console.log('üß™ ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÈñãÂßã');
const results = {
configTest: false,
elementsTest: false,
switchTest: false,
rollbackTest: false,
overallSuccess: false
};
try {
// 1. Ë®≠ÂÆö„ÉÜ„Çπ„Éà
console.log('üìã 1. Ë®≠ÂÆö„ÉÜ„Çπ„Éà');
if (typeof MIGRATION_CONFIG === 'object' && MIGRATION_CONFIG.GRADUAL_MIGRATION) {
results.configTest = true;
console.log(' ‚úÖ Ë®≠ÂÆö„ÉÜ„Çπ„ÉàÊàêÂäü');
} else {
console.log(' ‚ùå Ë®≠ÂÆö„ÉÜ„Çπ„ÉàÂ§±Êïó');
}
// 2. Ë¶ÅÁ¥†Â≠òÂú®„ÉÜ„Çπ„Éà
console.log('üìã 2. Ë¶ÅÁ¥†Â≠òÂú®„ÉÜ„Çπ„Éà');
const transcriptCompact = document.getElementById('transcriptCompact');
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (transcriptCompact && transcriptDisplay) {
results.elementsTest = true;
console.log(' ‚úÖ Ë¶ÅÁ¥†Â≠òÂú®„ÉÜ„Çπ„ÉàÊàêÂäü');
console.log(' - transcript-compact:', !!transcriptCompact);
console.log(' - transcript-display:', !!transcriptDisplay);
} else {
console.log(' ‚ùå Ë¶ÅÁ¥†Â≠òÂú®„ÉÜ„Çπ„ÉàÂ§±Êïó');
console.log(' - transcript-compact:', !!transcriptCompact);
console.log(' - transcript-display:', !!transcriptDisplay);
}
// 3. Âàá„ÇäÊõø„Åà„ÉÜ„Çπ„Éà
console.log('üìã 3. Âàá„ÇäÊõø„Åà„ÉÜ„Çπ„Éà');
try {
const originalState = MIGRATION_CONFIG.USE_NEW_TRANSCRIPT;
const switchResult = window.switchToNewTranscript();
if (switchResult) {
results.switchTest = true;
console.log(' ‚úÖ Âàá„ÇäÊõø„Åà„ÉÜ„Çπ„ÉàÊàêÂäü');
// ÂÖÉ„ÅÆÁä∂ÊÖã„Å´Êàª„Åô
if (!originalState) {
window.emergencyRollback();
}
} else {
console.log(' ‚ùå Âàá„ÇäÊõø„Åà„ÉÜ„Çπ„ÉàÂ§±Êïó');
}
} catch (error) {
console.log(' ‚ùå Âàá„ÇäÊõø„Åà„ÉÜ„Çπ„Éà‰∏≠„Å´„Ç®„É©„Éº:', error);
}
// 4. „É≠„Éº„É´„Éê„ÉÉ„ÇØ„ÉÜ„Çπ„Éà
console.log('üìã 4. „É≠„Éº„É´„Éê„ÉÉ„ÇØ„ÉÜ„Çπ„Éà');
try {
const rollbackResult = window.emergencyRollback();
if (rollbackResult) {
results.rollbackTest = true;
console.log(' ‚úÖ „É≠„Éº„É´„Éê„ÉÉ„ÇØ„ÉÜ„Çπ„ÉàÊàêÂäü');
} else {
console.log(' ‚ùå „É≠„Éº„É´„Éê„ÉÉ„ÇØ„ÉÜ„Çπ„ÉàÂ§±Êïó');
}
} catch (error) {
console.log(' ‚ùå „É≠„Éº„É´„Éê„ÉÉ„ÇØ„ÉÜ„Çπ„Éà‰∏≠„Å´„Ç®„É©„Éº:', error);
}
// Á∑èÂêàÂà§ÂÆö
results.overallSuccess = results.configTest && results.elementsTest && results.switchTest && results.rollbackTest;
console.log('üìä „ÉÜ„Çπ„ÉàÁµêÊûú:', results);
if (results.overallSuccess) {
console.log('üéâ ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÂÆåÂÖ®ÊàêÂäüÔºÅ');
if (typeof window.showMessage === 'function') {
window.showMessage('success', 'ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÂÆåÂÖ®ÊàêÂäüÔºÅ');
}
} else {
console.log('‚ö†Ô∏è ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„Éà„ÅßÂïèÈ°å„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åó„Åü');
if (typeof window.showMessage === 'function') {
window.showMessage('warning', 'ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„Éà„ÅßÂïèÈ°å„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åó„Åü„ÄÇË©≥Á¥∞„ÅØ„Ç≥„É≥„ÇΩ„Éº„É´„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
}
} catch (error) {
console.error('‚ùå „ÉÜ„Çπ„ÉàÂÆüË°å‰∏≠„Å´„Ç®„É©„Éº:', error);
if (typeof window.showMessage === 'function') {
window.showMessage('error', '„ÉÜ„Çπ„ÉàÂÆüË°å‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ' + error.message);
}
}
return results;
};
// üîß Á∞°Êòì„ÉÜ„Çπ„ÉàÊ©üËÉΩÔºà„É¶„Éº„Ç∂„ÉºÂêë„ÅëÔºâ
window.quickTestTranscript = function() {
console.log('üß™ Á∞°ÊòìtranscriptË°®Á§∫„ÉÜ„Çπ„Éà');
const transcriptCompact = document.getElementById('transcriptCompact');
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (transcriptCompact && transcriptDisplay) {
// ÁèæÂú®„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç
const compactVisible = transcriptCompact.style.display !== 'none';
const displayVisible = transcriptDisplay.style.display !== 'none';
console.log('üìã ÁèæÂú®„ÅÆÁä∂ÊÖã:');
console.log(' - transcript-compact Ë°®Á§∫:', compactVisible);
console.log(' - transcript-display Ë°®Á§∫:', displayVisible);
if (typeof window.showMessage === 'function') {
window.showMessage('info', `ÁèæÂú®„ÅÆÁä∂ÊÖã - Compact: ${compactVisible ? 'Ë°®Á§∫' : 'ÈùûË°®Á§∫'}, Display: ${displayVisible ? 'Ë°®Á§∫' : 'ÈùûË°®Á§∫'}`);
}
return {
compactVisible,
displayVisible,
systemReady: true
};
} else {
console.log('‚ùå Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
if (typeof window.showMessage === 'function') {
window.showMessage('error', 'Ë¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
return { systemReady: false };
}
};
// =================================================================================
// Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É† - ÊäúÊú¨Ëß£Ê±∫Áâà
// =================================================================================
// üîß A/B„ÉÜ„Çπ„ÉàÊ©üËÉΩ: „Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅÊà¶Áï•„ÅÆÂàá„ÇäÊõø„Åà
const MICROPHONE_STRATEGY = {
LEGACY: 'legacy', // ÂæìÊù•„Ç∑„Çπ„ÉÜ„É†ÔºàÂÆåÂÖ®„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÔºâ
LIGHTWEIGHT: 'lightweight', // ËªΩÈáè„É™„Çπ„Çø„Éº„ÉàÔºàÁèæÂú®„ÅÆÂÆüË£ÖÔºâ
PERSISTENT: 'persistent', // „Ç§„É≥„Çπ„Çø„É≥„Çπ‰∏çÂ§âÊà¶Áï•ÔºàChromeÊúÄÈÅ©ÂåñÔºâ
CONTINUOUS: 'continuous' // Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÔºàÁúü„ÅÆËß£Ê±∫Á≠ñÔºâ
};
// üîß ÁèæÂú®„ÅÆÊà¶Áï•„ÇíË®≠ÂÆöÔºàÈñãÁô∫ÊôÇ„ÅØÂãïÁöÑÂàá„ÇäÊõø„ÅàÂèØËÉΩÔºâ
window.CURRENT_MICROPHONE_STRATEGY = MICROPHONE_STRATEGY.CONTINUOUS; // ChromeÂ∞ÇÁî®„ÅÆÁúü„ÅÆËß£Ê±∫Á≠ñ
// üîß PermissionManager: voice-core.js„Å´ÁßªÂãïÊ∏à„Åø
// Êñ∞„Åó„ÅÑÈü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®: window.VoiceCore.permission
// üîß Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
// Êó¢Â≠ò„ÅÆContinuousRecognitionManager„ÅØÂâäÈô§Ê∏à„Åø - Êñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÂÆåÂÖ®ÁßªË°å
// üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
async function initializeUnifiedStateManager() {
try {
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆ„Ç≥„Ç¢„ÇíÂàùÊúüÂåñ
if (window.UnifiedStateManagerCore) {
window.unifiedStateManager = new window.UnifiedStateManagerCore();
await window.unifiedStateManager.initialize();
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} else {
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ‰ΩøÁî®');
return false;
}
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
}
// =================================================================================
// Êñ∞„Åó„ÅÑÈü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É† - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà
// =================================================================================
// üé§ „Ç∞„É≠„Éº„Éê„É´Èü≥Â£∞Ë™çË≠òÂà∂Âæ°
window.voiceRecognitionController = {
isInitialized: false,
voiceModule: null,
// ÂàùÊúüÂåñ
async initialize() {
if (this.isInitialized) return true;
try {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Åã„ÇâÈü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÇíÂèñÂæó
if (window.unifiedStateManager) {
this.voiceModule = window.unifiedStateManager.getModule('voice');
if (this.voiceModule) {
this.isInitialized = true;
console.log('‚úÖ Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
}
}
console.warn('‚ö†Ô∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
return false;
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
return false;
}
},
// Èü≥Â£∞Ë™çË≠òÈñãÂßã
async startRecognition() {
if (!this.isInitialized || !this.voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
return await this.voiceModule.startRecognition();
},
// Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢
async stopRecognition() {
if (!this.isInitialized || !this.voiceModule) {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠òÂà∂Âæ°„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
return this.voiceModule.stopRecognition();
},
// Áä∂ÊÖãÂèñÂæó
getState() {
if (!this.isInitialized || !this.voiceModule) {
return { recognitionState: 'unavailable' };
}
return this.voiceModule.getState();
}
}
// =================================================================================
// ÂâäÈô§„Åï„Çå„Åü„É¨„Ç¨„Ç∑„Éº„Ç≥„Éº„Éâ - Êñ∞„Åó„ÅÑÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø
// =================================================================================
// üîß „É¨„Ç¨„Ç∑„ÉºÈñ¢Êï∞„ÅØÂâäÈô§ - Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø
// ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅØ app/unified-state-manager/voice-module.js „Å´ÁßªÂãïÊ∏à„Åø:
// - resumeProcessing()
// - forceStop()
// - stop()
// - createRecognition()
// =================================================================================
// ÂâäÈô§„Åï„Çå„Åü„É¨„Ç¨„Ç∑„Éº„Ç≥„Éº„ÉâÔºàÁ∂ö„ÅçÔºâ
// =================================================================================
// üîß ‰ª•‰∏ã„ÅÆ„É¨„Ç¨„Ç∑„ÉºÈñ¢Êï∞„ÅØÂâäÈô§ - Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø:
// - startContinuityMonitor()
// - performAutoRecovery()
// - stopContinuityMonitor()
// - preemptiveRestart()
// - setupEventHandlers()
// - handleResult()
// - handleRecognitionError()
// - handleEnd()
// - notifyListeners()
// - getState()
// - addListener()
// - removeListener()
// üîß Êñ∞„Åó„ÅÑÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅØ‰ª•‰∏ã„Çí‰ΩøÁî®:
// - window.VoiceModule (app/unified-state-manager/voice-module.js)
// - window.VoiceSystemInitializer (app/voice-error-handler.js)
// =================================================================================
// Êó¢Â≠ò„ÅÆ„É°„Ç§„É≥„Ç∑„Çπ„ÉÜ„É†ÔºàÁ∂ôÁ∂ö‰ΩøÁî®Ôºâ
// =================================================================================
// üîß „É¨„Ç¨„Ç∑„ÉºÈñ¢Êï∞„ÅØÂâäÈô§Ê∏à„Åø - Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁßªË°åÊ∏à„Åø
// „Åì„Çå„Çâ„ÅÆÊ©üËÉΩ„ÅØ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅßÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô:
// - app/unified-state-manager/voice-module.js
// - app/voice-ui-manager.js
// - app/voice-error-handler.js
// üîß AudioManager: voice-core.js„Å´ÁßªÂãïÊ∏à„Åø
// Êñ∞„Åó„ÅÑÈü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®: window.VoiceCore.audio
// üîß StateManager: ÂÖ®‰ΩìÁä∂ÊÖã„ÅÆ‰∏ÄÂÖÉÁÆ°ÁêÜ
class StateManager {
constructor() {
// üÜï Êñ∞„Åó„ÅÑÈü≥Â£∞„Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
this.permissionManager = window.VoiceCore?.permission || new PermissionManager();
// üîß A/B„ÉÜ„Çπ„Éà: Êà¶Áï•„Å´Âü∫„Å•„ÅèRecognitionManagerÈÅ∏Êäû
this.recognitionManager = this.createRecognitionManager();
this.audioManager = window.VoiceCore?.audio || new AudioManager();
// üîß Ë®±ÂèØÁä∂ÊÖã„ÅÆÂêåÊúüÂº∑Âåñ
if (window.VoiceCore?.permission) {
console.log('üîÑ VoiceCoreË®±ÂèØ„Éû„Éç„Éº„Ç∏„É£„Éº„Çí‰ΩøÁî®');
} else {
console.log('‚ö†Ô∏è VoiceCoreÊú™Ë™≠„ÅøËæº„Åø - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ‰ΩøÁî®');
}
this.setupStateSync();
console.log(`‚úÖ StateManagerÂàùÊúüÂåñÂÆå‰∫ÜÔºàÊà¶Áï•: ${window.CURRENT_MICROPHONE_STRATEGY}Ôºâ`);
}
// üîß A/B„ÉÜ„Çπ„Éà: RecognitionManager‰ΩúÊàê
createRecognitionManager() {
const strategy = window.CURRENT_MICROPHONE_STRATEGY || MICROPHONE_STRATEGY.CONTINUOUS;
// üîß Êñ∞„Åó„ÅÑÁµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
console.log(`üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†‰ΩøÁî®ÔºàÊà¶Áï•: ${strategy}Ôºâ`);
// Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Åã„ÇâÈü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÇíÂèñÂæó
if (window.unifiedStateManager) {
return window.unifiedStateManager.getModule('voice');
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Âü∫Êú¨ÁöÑ„Å™Èü≥Â£∞Ë™çË≠ò„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíËøî„Åô
return {
state: 'idle',
start: () => console.log('üîÑ „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈü≥Â£∞Ë™çË≠òÈñãÂßã'),
stop: () => console.log('üîÑ „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈü≥Â£∞Ë™çË≠òÂÅúÊ≠¢'),
addListener: () => {},
removeListener: () => {}
};
}
// üîß A/B„ÉÜ„Çπ„Éà: Êà¶Áï•Âàá„ÇäÊõø„ÅàÊ©üËÉΩ
switchStrategy(newStrategy) {
if (!Object.values(MICROPHONE_STRATEGY).includes(newStrategy)) {
console.error(`‚ùå ÁÑ°Âäπ„Å™Êà¶Áï•: ${newStrategy}`);
return false;
}
console.log(`üîÑ Êà¶Áï•Âàá„ÇäÊõø„Åà: ${window.CURRENT_MICROPHONE_STRATEGY} ‚Üí ${newStrategy}`);
// ÁèæÂú®„ÅÆRecognitionManager„ÇíÂÅúÊ≠¢
if (this.recognitionManager) {
this.recognitionManager.stop();
}
// Êñ∞„Åó„ÅÑÊà¶Áï•„ÇíË®≠ÂÆö
window.CURRENT_MICROPHONE_STRATEGY = newStrategy;
// Êñ∞„Åó„ÅÑRecognitionManager„Çí‰ΩúÊàê
this.recognitionManager = this.createRecognitionManager();
// Áä∂ÊÖãÂêåÊúü„ÇíÂÜçË®≠ÂÆö
if (this.recognitionManager && typeof this.recognitionManager.addEventListener === 'function') {
this.recognitionManager.addEventListener((state) => {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÂ§âÊõ¥:', state);
this.updateUI();
});
} else if (this.recognitionManager && typeof this.recognitionManager.addListener === 'function') {
this.recognitionManager.addListener((state) => {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÂ§âÊõ¥:', state);
this.updateUI();
});
}
console.log(`‚úÖ Êà¶Áï•Âàá„ÇäÊõø„ÅàÂÆå‰∫Ü: ${newStrategy}`);
return true;
}
// Áä∂ÊÖãÂêåÊúü„ÅÆË®≠ÂÆö
setupStateSync() {
// Ë®±ÂèØÁä∂ÊÖãÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ
if (this.permissionManager && typeof this.permissionManager.addListener === 'function') {
this.permissionManager.addListener((state) => {
console.log('üîÑ Ë®±ÂèØÁä∂ÊÖãÂ§âÊõ¥:', state);
this.updateUI();
});
}
// Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ
if (this.recognitionManager && typeof this.recognitionManager.addEventListener === 'function') {
this.recognitionManager.addEventListener((state) => {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÂ§âÊõ¥:', state);
this.updateUI();
});
} else if (this.recognitionManager && typeof this.recognitionManager.addListener === 'function') {
this.recognitionManager.addListener((state) => {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÂ§âÊõ¥:', state);
this.updateUI();
});
}
// Èü≥Â£∞ÂÜçÁîüÁä∂ÊÖãÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ
if (this.audioManager && typeof this.audioManager.addListener === 'function') {
this.audioManager.addListener((audioInfo) => {
console.log('üîÑ Èü≥Â£∞ÂÜçÁîüÁä∂ÊÖãÂ§âÊõ¥:', audioInfo.length, '‰ª∂');
this.updateUI();
});
}
}
// UIÊõ¥Êñ∞ÔºàÁä∂ÊÖã„Å´Âøú„Åò„ÅüË°®Á§∫Âà∂Âæ°Ôºâ
updateUI() {
const permissionState = this.permissionManager.state;
const recognitionState = this.recognitionManager.state;
const audioInfo = this.audioManager.getActiveAudioInfo();
// „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞
this.updateMicrophoneButton(permissionState, recognitionState);
// „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊõ¥Êñ∞
this.updateErrorMessages(permissionState, recognitionState);
// ÈÄ≤Ë°åÁä∂Ê≥Å„ÅÆÊõ¥Êñ∞
this.updateProgress(permissionState, recognitionState, audioInfo);
}
// „Éû„Ç§„ÇØ„Éú„Çø„É≥Êõ¥Êñ∞
updateMicrophoneButton(permissionState, recognitionState) {
const micButton = window.UIManager.DOMUtils.get('micButton');
if (!micButton) return;
let buttonClass = 'mic-button';
let buttonText = 'üé§';
let isDisabled = false;
switch (permissionState) {
case 'denied':
buttonClass += ' error';
buttonText = 'üö´';
isDisabled = true;
break;
case 'requesting':
buttonClass += ' loading';
buttonText = '‚è≥';
isDisabled = true;
break;
case 'granted':
switch (recognitionState) {
case 'active':
buttonClass += ' recording';
buttonText = 'üî¥';
break;
case 'starting':
case 'stopping':
buttonClass += ' loading';
buttonText = '‚è≥';
isDisabled = true;
break;
case 'error':
buttonClass += ' error';
buttonText = '‚ö†Ô∏è';
break;
default:
buttonClass += ' idle';
buttonText = 'üé§';
}
break;
default:
buttonClass += ' idle';
buttonText = 'üé§';
}
micButton.className = buttonClass;
micButton.textContent = buttonText;
micButton.disabled = isDisabled;
}
// „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏Êõ¥Êñ∞
updateErrorMessages(permissionState, recognitionState) {
if (permissionState === 'denied') {
window.showMessage('error', '„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Éñ„É©„Ç¶„Ç∂„ÅÆË®≠ÂÆö„ÅßË®±ÂèØ„Åó„ÄÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
} else if (recognitionState === 'error') {
window.showMessage('warning', 'Èü≥Â£∞Ë™çË≠ò„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„Åó„Å∞„Çâ„ÅèÂæÖ„Å£„Å¶„Åã„ÇâÂÜçË©¶Ë°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
}
// ÈÄ≤Ë°åÁä∂Ê≥ÅÊõ¥Êñ∞
updateProgress(permissionState, recognitionState, audioInfo) {
const statusElement = window.UIManager.DOMUtils.get('sessionStatus');
if (!statusElement) return;
let statusText = '';
if (permissionState === 'denied') {
statusText = '„Éû„Ç§„ÇØË®±ÂèØ„ÅåÂøÖË¶Å„Åß„Åô';
} else if (permissionState === 'requesting') {
statusText = '„Éû„Ç§„ÇØË®±ÂèØ„ÇíÁ¢∫Ë™ç‰∏≠...';
} else if (recognitionState === 'starting') {
statusText = 'Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã‰∏≠...';
} else if (recognitionState === 'active') {
statusText = 'Èü≥Â£∞Ë™çË≠ò‰∏≠...';
} else if (recognitionState === 'stopping') {
statusText = 'Èü≥Â£∞Ë™çË≠ò„ÇíÂÅúÊ≠¢‰∏≠...';
} else if (recognitionState === 'error') {
statusText = 'Èü≥Â£∞Ë™çË≠ò„Ç®„É©„Éº';
} else if (audioInfo.length > 0) {
statusText = `Èü≥Â£∞ÂÜçÁîü‰∏≠ (${audioInfo.length}‰ª∂)`;
} else {
statusText = 'ÂæÖÊ©ü‰∏≠';
}
statusElement.textContent = statusText;
}
// Èü≥Â£∞Ë™çË≠òÈñãÂßã
async startRecognition() {
console.log('üé§ Èü≥Â£∞Ë™çË≠òÈñãÂßãË¶ÅÊ±Ç');
if (this.recognitionManager && typeof this.recognitionManager.startRecognition === 'function') {
return await this.recognitionManager.startRecognition();
} else if (this.recognitionManager && typeof this.recognitionManager.start === 'function') {
return await this.recognitionManager.start();
} else {
throw new Error('Èü≥Â£∞Ë™çË≠ò„Éû„Éç„Éº„Ç∏„É£„Éº„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
}
// Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢
async stopRecognition() {
console.log('üõë Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢Ë¶ÅÊ±Ç');
if (this.recognitionManager && typeof this.recognitionManager.stopRecognition === 'function') {
return await this.recognitionManager.stopRecognition();
} else if (this.recognitionManager && typeof this.recognitionManager.stop === 'function') {
return await this.recognitionManager.stop();
} else {
throw new Error('Èü≥Â£∞Ë™çË≠ò„Éû„Éç„Éº„Ç∏„É£„Éº„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
}
// Èü≥Â£∞ÂÜçÁîü
async playAudio(audioBlob, speaker) {
console.log(`üéµ Èü≥Â£∞ÂÜçÁîü: ${speaker}`);
const audioElement = new Audio(URL.createObjectURL(audioBlob));
audioElement.volume = getVoiceSettings(speaker).volume;
const audioId = this.audioManager.registerAudio(audioElement, 'tts', speaker);
try {
await audioElement.play();
return audioId;
} catch (error) {
console.error('Èü≥Â£∞ÂÜçÁîü„Ç®„É©„Éº:', error);
this.audioManager.unregisterAudio({ id: audioId });
throw error;
}
}
// ÂÖ®Èü≥Â£∞ÂÅúÊ≠¢
forceStopAllAudio(reason = 'user_request') {
return this.audioManager.forceStopAllAudio(reason);
}
// Áä∂ÊÖãÂèñÂæó
getState() {
return {
permission: this.permissionManager.state,
recognition: this.recognitionManager.state,
audio: this.audioManager.getActiveAudioInfo()
};
}
}
// =================================================================================
// CONSTANTS & STATE MANAGEMENT
// =================================================================================
const SPEAKERS = {
NEHORI: 'nehori',
HAHORI: 'hahori',
USER: 'user',
NULL: null
};
// üîß PHASESÂÆöÊï∞„ÅØ app/phase-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.PHASES „Åß‰øùË®º
const MIC_STATES = {
IDLE: 'idle',
RECORDING: 'recording',
PROCESSING: 'processing'
};
// State: „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Áä∂ÊÖãÁÆ°ÁêÜ
const AppState = {
apiKey: null,
apiKeySource: null, // üîê Êñ∞Ê©üËÉΩ: 'user' | 'embedded' | null
currentTheme: '',
sessionActive: false,
currentSpeaker: SPEAKERS.NULL,
phase: 'setup', // PhaseManager„ÅßÁÆ°ÁêÜ
microphoneActive: false,
speechRecognition: null,
conversationHistory: [],
extractedKnowledge: [],
currentPoint: 0,
participants: [],
isProcessing: false,
waitingForPermission: true,
currentTranscript: '',
transcriptHistory: [],
sessionStartTime: null,
allSessions: [],
pendingKnowledge: null,
extractedThemes: [],
selectedThemes: [],
currentDocument: null,
selectedThemeDetails: [],
documentContext: '',
themeSummaries: {},
// üîß Èü≥Â£∞Ë™çË≠òÂÆâÂÆöÂåñ: Âº∑Âåñ„Åï„Çå„ÅüÈü≥Â£∞Ë™çË≠òÁä∂ÊÖãÁÆ°ÁêÜ
voiceRecognitionStability: {
micPermissionGranted: false,
permissionRequestInProgress: false,
consecutiveErrorCount: 0,
lastErrorTime: null,
maxConsecutiveErrors: 3,
errorRecoveryDelay: 2000,
isRecognitionActive: false,
lastRestartTime: null,
minRestartInterval: 1000,
restartScheduled: false // üõ°Ô∏è ÂÜçÈñã„Çπ„Ç±„Ç∏„É•„Éº„É´ÈáçË§áÈò≤Ê≠¢„Éï„É©„Ç∞
},
// üîß Êñ∞Ê©üËÉΩ: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Ë®≠ÂÆö
knowledgeSettings: {
autoRecordThreshold: 70, // Ëá™ÂãïË®òÈå≤ÈñæÂÄ§ÔºàÂàùÊúüÂÄ§70ÁÇπÔºâ
showAutoRecordNotice: true, // Ëá™ÂãïË®òÈå≤ÊôÇ„ÅÆÈü≥Â£∞ÈÄöÁü•
showDetailedEvaluation: true, // Ë©≥Á¥∞Ë©ï‰æ°„ÅÆË°®Á§∫
saveThresholdChanges: true // ÈñæÂÄ§Â§âÊõ¥„ÅÆ‰øùÂ≠ò
},
// üîß Êñ∞Ê©üËÉΩ: „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à
sessionStats: {
totalKnowledge: 0, // ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ãÁ∑èÊï∞
autoRecorded: 0, // Ëá™ÂãïË®òÈå≤„Åï„Çå„ÅüÁü•Ë¶ãÊï∞
manualConfirmed: 0, // ÊâãÂãïÁ¢∫Ë™ç„Åï„Çå„ÅüÁü•Ë¶ãÊï∞
rejected: 0, // ÊãíÂê¶„Åï„Çå„ÅüÁü•Ë¶ãÊï∞
averageScore: 0 // Âπ≥ÂùáË©ï‰æ°ÁÇπ
},
// üîß Êñ∞Ê©üËÉΩ: Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÁÆ°ÁêÜ
voiceRecognitionState: {
isKnowledgeConfirmationMode: false, // Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ
pendingKnowledgeEvaluation: null, // ‰øùÁïô‰∏≠„ÅÆÁü•Ë¶ãË©ï‰æ°
isWaitingForThresholdChange: false // ÈñæÂÄ§Â§âÊõ¥ÂæÖÊ©ü‰∏≠
},
// üîß ‰ºöË©±„Éï„É≠„ÉºÂà∂Âæ°: Âé≥Ê†º„Å™È†ÜÂ∫èÁÆ°ÁêÜ
conversationControl: {
currentPhase: 'IDLE', // IDLE, USER_SPEAKING, HAHORI_PROCESSING, KNOWLEDGE_CONFIRMATION, NEHORI_QUESTIONING
lastSpeaker: null,
speakingInProgress: false,
pendingNehoriQuestion: null,
pendingNehoriAudio: null,
justPlayedPendingNehori: false,
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÊ©üËÉΩËøΩÂä†
pendingHahoriContent: null,
pendingHahoriAudio: null,
justPlayedPendingHahori: false,
preventNehoriInterruption: false,
// üîß Âº∑Âåñ„Åï„Çå„ÅüÈáçË§áÈò≤Ê≠¢„Éï„É©„Ç∞
isExitingKnowledgeConfirmationMode: false,
isResumeInProgress: false,
questionGenerationScheduled: false,
lastQuestionTime: null
}
};
// üîß AppState„Å®SPEAKERS„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.AppState = AppState;
window.SPEAKERS = SPEAKERS;
// VoiceSettings: Èü≥Â£∞Ë®≠ÂÆöÁÆ°ÁêÜ
const VoiceSettings = {
[SPEAKERS.NEHORI]: {
voice: 'sage',
speed: 1.2,
volume: 0.8,
prompt: ''
},
[SPEAKERS.HAHORI]: {
voice: 'nova',
speed: 1.1,
volume: 0.8,
prompt: ''
}
};
// üîß Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Phase2: VoiceOptimization„ÉªDualPreemptiveOptimization„ÅØ
// app/voice-phase2-manager.js „Å´ÂàÜÈõ¢Ê∏à„Åø
// ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÄÅÊó¢Â≠òÂèÇÁÖß„ÅØ window.VoiceOptimization„ÄÅwindow.DualPreemptiveOptimization „ÅßÁ∂≠ÊåÅ
let currentTheme = 'blue';
let currentGuideStep = 1;
// =================================================================================
// CONVERSATION FLOW CONTROL - ‰ºöË©±„Éï„É≠„ÉºÂà∂Âæ°
// =================================================================================
// üîß Êñ∞Ê©üËÉΩ: ‰∏≠Â§ÆÈõÜÊ®©ÁöÑ„Å™‰ºöË©±„Ç≤„Éº„Éà„Ç≠„Éº„Éë„Éº
const ConversationGatekeeper = {
// „Éç„Åª„Çä„Éº„ÅÆ„ÅÆÁô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ
canNehoriSpeak(context = 'unknown') {
const state = AppState.voiceRecognitionState;
const control = AppState.conversationControl;
// üìù Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅØÁµ∂ÂØæ„Å´NG
if (state.isKnowledgeConfirmationMode) {
console.log(`üö´ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅÆ„Åü„ÇÅ„Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üó£Ô∏è ‰ªñ„ÅÆAI„ÅåÁô∫Ë©±‰∏≠„ÅØ„Éñ„É≠„ÉÉ„ÇØ
if (control.speakingInProgress || AppState.currentSpeaker !== SPEAKERS.NULL) {
console.log(`üö´ AIÁô∫Ë©±‰∏≠„ÅÆ„Åü„ÇÅ„Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üìù Áü•Ë¶ãÁ¢∫Ë™ç‰∏≠„ÅÆÂâ≤„ÇäËæº„ÅøÈò≤Ê≠¢
if (control.preventNehoriInterruption) {
console.log(`üö´ Ââ≤„ÇäËæº„ÅøÈò≤Ê≠¢„Éï„É©„Ç∞„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üîÑ ÈÄ£Á∂öÁô∫Ë©±Èò≤Ê≠¢ÔºàÂº∑ÂåñÁâàÔºâ
if (control.lastSpeaker === SPEAKERS.NEHORI && control.justPlayedPendingNehori) {
console.log(`üö´ ÈÄ£Á∂öÁô∫Ë©±Èò≤Ê≠¢„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üîÑ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫Ü„Éó„É≠„Çª„Çπ‰∏≠„ÅÆÈáçË§áÈò≤Ê≠¢
if (control.isExitingKnowledgeConfirmationMode || control.isResumeInProgress) {
console.log(`üö´ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫ÜÂá¶ÁêÜ‰∏≠„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üîÑ Ë≥™ÂïèÁîüÊàê„Çπ„Ç±„Ç∏„É•„Éº„É´Ê∏à„Åø„ÅÆÈáçË§áÈò≤Ê≠¢
if (control.questionGenerationScheduled) {
console.log(`üö´ Ë≥™ÂïèÁîüÊàê„Çπ„Ç±„Ç∏„É•„Éº„É´‰∏≠„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üîÑ ÊúÄËøë„ÅÆË≥™Âïè„Åã„Çâ„ÅÆÊúÄÂ∞èÈñìÈöî„ÉÅ„Çß„ÉÉ„ÇØ
if (control.lastQuestionTime && Date.now() - control.lastQuestionTime < 2000) {
console.log(`üö´ ÊúÄËøë„ÅÆË≥™Âïè„Åã„ÇâÈñìÈöî„ÅåÁü≠„ÅÑ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
console.log(`‚úÖ „Å≠„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ (${context})`);
return true;
},
// „ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆÁô∫Ë©±Ë®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØÔºàPhase CÂº∑ÂåñÁâàÔºâ
canHahoriSpeak(context = 'unknown') {
const control = AppState.conversationControl;
// üó£Ô∏è ‰ªñ„ÅÆAI„ÅåÁô∫Ë©±‰∏≠„ÅØ„Éñ„É≠„ÉÉ„ÇØ
if (control.speakingInProgress || AppState.currentSpeaker !== SPEAKERS.NULL) {
console.log(`üö´ AIÁô∫Ë©±‰∏≠„ÅÆ„Åü„ÇÅ„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±„Çí„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üîÑ ÈÄ£Á∂öÁô∫Ë©±Èò≤Ê≠¢
if (control.lastSpeaker === SPEAKERS.HAHORI && control.justPlayedPendingHahori) {
console.log(`üö´ ÈÄ£Á∂öÁô∫Ë©±Èò≤Ê≠¢„ÅÆ„Åü„ÇÅ„Éñ„É≠„ÉÉ„ÇØ (${context})`);
return false;
}
// üìù Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅÆÁâπÂà•Âá¶ÁêÜ
if (AppState.voiceRecognitionState.isKnowledgeConfirmationMode) {
console.log(`üìù Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅÆ„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ (${context})`);
return true; // Áü•Ë¶ãË©ï‰æ°„ÅÆ„Åü„ÇÅË®±ÂèØ
}
console.log(`‚úÖ „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±Ë®±ÂèØ (${context})`);
return true;
},
// Áô∫Ë©±ÈñãÂßã„ÇíÁôªÈå≤ÔºàPhase CÂº∑ÂåñÁâàÔºâ
registerSpeechStart(speaker, context = 'unknown') {
console.log(`üé§ ${speaker}Áô∫Ë©±ÈñãÂßã„ÇíÁôªÈå≤ (${context})`);
const control = AppState.conversationControl;
control.speakingInProgress = true;
control.lastSpeaker = speaker;
AppState.currentSpeaker = speaker;
// „Éç„Åª„Çä„Éº„ÅÆÂ†¥Âêà„ÅÆÁâπÂà•Âá¶ÁêÜ
if (speaker === SPEAKERS.NEHORI) {
control.justPlayedPendingNehori = false;
control.lastQuestionTime = Date.now();
control.questionGenerationScheduled = false;
// üîß Phase C: „Å≠„Åª„Çä„Éº„ÅÆÁô∫Â£∞ÈñãÂßãÊôÇ„Å´„ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„Åø„ÇíÈñãÂßãÔºàÁä∂Ê≥ÅÈÅ©ÂøúÁâàÔºâ
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(SPEAKERS.NEHORI, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
if (strategy.trigger !== 'none' && strategy.targetSpeaker === SPEAKERS.HAHORI) {
setTimeout(() => {
window.startHahoriGenerationDuringNehori();
}, strategy.delay);
}
}
}
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆÂ†¥Âêà„ÅÆÁâπÂà•Âá¶ÁêÜÔºàÁä∂Ê≥ÅÈÅ©ÂøúÁâàÔºâ
if (speaker === SPEAKERS.HAHORI) {
control.justPlayedPendingHahori = false;
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Â£∞ÈñãÂßãÊôÇ„Å´„Å≠„Åª„Çä„Éº„ÅÆÂÖàË™≠„Åø„ÇíÈñãÂßãÔºàÁä∂Ê≥ÅÈÅ©ÂøúÁâàÔºâ
if (window.DualPreemptiveOptimization?.phase1.isActive) {
const situation = window.DualPreemptiveOptimization.phase1.situationAnalyzer.analyzeConversationSituation(SPEAKERS.HAHORI, null);
const strategy = window.DualPreemptiveOptimization.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
if (strategy.trigger !== 'none' && strategy.targetSpeaker === SPEAKERS.NEHORI) {
setTimeout(() => {
window.startNehoriGenerationDuringHahori();
}, strategy.delay);
}
}
}
},
// Áô∫Ë©±ÁµÇ‰∫Ü„ÇíÁôªÈå≤
registerSpeechEnd(speaker, context = 'unknown') {
console.log(`üèÅ ${speaker}Áô∫Ë©±ÁµÇ‰∫Ü„ÇíÁôªÈå≤ (${context})`);
const control = AppState.conversationControl;
control.speakingInProgress = false;
AppState.currentSpeaker = SPEAKERS.NULL;
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„Åß„Å™„Åë„Çå„Å∞Èü≥Â£∞Ë™çË≠ò„ÇíÂÜçÈñã
if (!AppState.voiceRecognitionState.isKnowledgeConfirmationMode) {
setTimeout(() => {
safeStartSpeechRecognition(`${speaker}SpeechEnd`);
}, 500);
}
},
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ„ÅÆÈñãÂßã
enterKnowledgeConfirmationMode(context = 'unknown') {
console.log(`üìù Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÈñãÂßã (${context})`);
const state = AppState.voiceRecognitionState;
const control = AppState.conversationControl;
state.isKnowledgeConfirmationMode = true;
control.preventNehoriInterruption = true;
// ÈÄ≤Ë°å‰∏≠„ÅÆ„Éç„Åª„Çä„Éº„ÅÆÁîüÊàê„ÇíÂÅúÊ≠¢
if (VoiceOptimization.phase3.isGeneratingNehori) {
console.log('üõë ÈÄ≤Ë°å‰∏≠„ÅÆ„Éç„Åª„Çä„Éº„ÅÆÁîüÊàê„ÇíÂÅúÊ≠¢');
VoiceOptimization.phase3.shouldPlayNehoriImmediately = false;
}
// üîß Phase C: ÈÄ≤Ë°å‰∏≠„ÅÆ„ÅØ„Åª„Çä„Éº„ÅÆÁîüÊàê„ÇÇÂÅúÊ≠¢
if (window.DualPreemptiveOptimization?.phase1.isGeneratingHahori) {
console.log('üõë ÈÄ≤Ë°å‰∏≠„ÅÆ„ÅØ„Åª„Çä„Éº„ÅÆÁîüÊàê„ÇíÂÅúÊ≠¢');
window.DualPreemptiveOptimization.phase1.shouldPlayHahoriImmediately = false;
}
},
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ„ÅÆÁµÇ‰∫ÜÔºàÂº∑ÂåñÁâàÔºâ
exitKnowledgeConfirmationMode(context = 'unknown') {
console.log(`üèÅ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫ÜÈñãÂßã (${context})`);
const state = AppState.voiceRecognitionState;
const control = AppState.conversationControl;
// ÈáçË§áÈò≤Ê≠¢„Éï„É©„Ç∞„Çí„Çª„ÉÉ„Éà
control.isExitingKnowledgeConfirmationMode = true;
// Êó¢Â≠ò„ÅÆÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢
state.isKnowledgeConfirmationMode = false;
state.pendingKnowledgeEvaluation = null;
control.preventNehoriInterruption = false;
// Â∞ë„ÅóÂæÖ„Å£„Å¶„Åã„ÇâPending„ÅÆAIÂøúÁ≠î„ÇíÂÜçÁîü
setTimeout(() => {
// üîß Phase C: „Å≠„Åª„Çä„Éº„ÅÆ„Å®„ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆ‰∏°Êñπ„ÅÆPending„Çí„ÉÅ„Çß„ÉÉ„ÇØ
this.resumePendingNehoriIfNeeded(context);
window.playPendingHahoriIfNeeded();
// „Éï„É©„Ç∞„ÇíËß£Èô§
setTimeout(() => {
control.isExitingKnowledgeConfirmationMode = false;
}, 100);
}, 300);
console.log(`üèÅ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫ÜÂá¶ÁêÜÂÆå‰∫Ü (${context})`);
},
// üîß ÊúÄÈÅ©ÂåñÁâà: PendingÁµ±‰∏ÄÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàÂº∑ÂåñÁâàÔºâ
resumePendingNehoriIfNeeded(context = 'unknown') {
const control = AppState.conversationControl;
// ÈáçË§áÂÆüË°åÈò≤Ê≠¢
if (control.isResumeInProgress) {
console.log('üîÑ resumePendingNehoriIfNeeded ÂÆüË°å‰∏≠„ÅÆ„Åü„ÇÅ„Çπ„Ç≠„ÉÉ„Éó');
return;
}
control.isResumeInProgress = true;
try {
if (!this.canNehoriSpeak(`resumePending_${context}`)) {
console.log('üò¥ Pending„Éç„Åª„Çä„Éº„ÅÆÂÜçÁîüÊù°‰ª∂Êú™Ê∫Ä');
return;
}
// üì¶ Áµ±‰∏ÄPending„Éá„Éº„ÇøÊé¢Á¥¢ÔºàÂÑ™ÂÖàÂ∫¶È†ÜÔºâ
const pendingSources = this.collectAllPendingData();
if (pendingSources.hasPending) {
console.log(`üîÑ Pending„Éç„Åª„Çä„Éº„ÇíÁµ±‰∏ÄÁÆ°ÁêÜ„ÅßÂÜçÁîü (${context}): ${pendingSources.source}`);
// ÂÆâÂÖ®„Å™ÂÜçÁîü
this.playUnifiedPendingNehori(pendingSources, context);
} else {
console.log('üìù Pending„Éá„Éº„Çø„Åå„Å™„ÅÑ„Åü„ÇÅÊñ∞„Åó„ÅÑË≥™Âïè„ÇíÁîüÊàê');
// Ë≥™ÂïèÁîüÊàê„Çπ„Ç±„Ç∏„É•„Éº„É´„Éï„É©„Ç∞„Çí„Çª„ÉÉ„Éà
if (!control.questionGenerationScheduled) {
control.questionGenerationScheduled = true;
// Pending„Åå„Å™„ÅÑÂ†¥Âêà„ÅØÊñ∞„Åó„ÅÑË≥™Âïè„ÇíÁîüÊàê
setTimeout(() => {
window.handleNehoriImmediatePlayback().catch(error => {
console.error('‚ùå Êñ∞„Åó„ÅÑË≥™ÂïèÁîüÊàê„Ç®„É©„Éº:', error);
}).finally(() => {
control.questionGenerationScheduled = false;
});
}, 500);
}
}
} finally {
// „Éï„É©„Ç∞„ÇíËß£Èô§
setTimeout(() => {
control.isResumeInProgress = false;
}, 100);
}
},
// üîß Êñ∞Ê©üËÉΩ: ÂÖ®„Å¶„ÅÆPending„Éá„Éº„Çø„ÇíÁµ±‰∏ÄÂèéÈõÜÔºàPhase CÂº∑ÂåñÁâàÔºâ
collectAllPendingData() {
const control = AppState.conversationControl;
// ÂÑ™ÂÖàÂ∫¶È†Ü: conversationControl > AppState > Phase3 > DualPreemptive
if (control.pendingNehoriQuestion && control.pendingNehoriAudio) {
return {
hasPending: true,
source: 'conversationControl',
question: control.pendingNehoriQuestion,
audio: control.pendingNehoriAudio,
clearFunction: () => {
control.pendingNehoriQuestion = null;
control.pendingNehoriAudio = null;
}
};
}
if (AppState.pendingNehoriQuestion && AppState.pendingNehoriAudio) {
return {
hasPending: true,
source: 'AppState',
question: AppState.pendingNehoriQuestion,
audio: AppState.pendingNehoriAudio,
clearFunction: () => {
AppState.pendingNehoriQuestion = null;
AppState.pendingNehoriAudio = null;
}
};
}
if (VoiceOptimization.phase3.pendingNehoriContent && VoiceOptimization.phase3.pendingNehoriAudio) {
return {
hasPending: true,
source: 'phase3Optimization',
question: VoiceOptimization.phase3.pendingNehoriContent,
audio: VoiceOptimization.phase3.pendingNehoriAudio,
clearFunction: () => {
VoiceOptimization.phase3.pendingNehoriContent = null;
VoiceOptimization.phase3.pendingNehoriAudio = null;
VoiceOptimization.phase3.shouldPlayNehoriImmediately = false;
}
};
}
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆPending„Éá„Éº„Çø„ÇÇÂèéÈõÜ
if (control.pendingHahoriContent && control.pendingHahoriAudio) {
return {
hasPending: true,
source: 'conversationControlHahori',
question: control.pendingHahoriContent,
audio: control.pendingHahoriAudio,
clearFunction: () => {
control.pendingHahoriContent = null;
control.pendingHahoriAudio = null;
}
};
}
if (window.DualPreemptiveOptimization?.phase1.pendingHahoriContent && window.DualPreemptiveOptimization.phase1.pendingHahoriAudio) {
return {
hasPending: true,
source: 'dualPreemptiveOptimization',
question: window.DualPreemptiveOptimization.phase1.pendingHahoriContent,
audio: window.DualPreemptiveOptimization.phase1.pendingHahoriAudio,
clearFunction: () => {
window.DualPreemptiveOptimization.phase1.pendingHahoriContent = null;
window.DualPreemptiveOptimization.phase1.pendingHahoriAudio = null;
window.DualPreemptiveOptimization.phase1.shouldPlayHahoriImmediately = false;
}
};
}
return {
hasPending: false,
source: 'none'
};
},
// üîß Êñ∞Ê©üËÉΩ: Áµ±‰∏ÄPending„Éç„Åª„Çä„Éº„ÅÆÂÆâÂÖ®ÂÜçÁîü
async playUnifiedPendingNehori(pendingData, context = 'unknown') {
const control = AppState.conversationControl;
try {
this.registerSpeechStart(SPEAKERS.NEHORI, `unified_${pendingData.source}_${context}`);
// „É°„ÉÉ„Çª„Éº„Ç∏ËøΩÂä†„Å®Èü≥Â£∞ÂÜçÁîü
await addMessageToChat(SPEAKERS.NEHORI, pendingData.question);
await playPreGeneratedAudio(pendingData.audio, SPEAKERS.NEHORI);
// Áµ±‰∏Ä„ÇØ„É™„Ç¢Âá¶ÁêÜ
pendingData.clearFunction();
control.justPlayedPendingNehori = true;
this.registerSpeechEnd(SPEAKERS.NEHORI, `unified_${pendingData.source}_${context}`);
// Áü≠ÊôÇÈñìÂæå„Å´„Éï„É©„Ç∞„Çí„É™„Çª„ÉÉ„Éà
setTimeout(() => {
control.justPlayedPendingNehori = false;
}, 100);
console.log(`‚úÖ Áµ±‰∏ÄPending„Éç„Åª„Çä„Éº„ÅÆÂÜçÁîü„ÅåÂÆå‰∫Ü: ${pendingData.source}`);
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄPending„Éç„Åª„Çä„Éº„ÅÆÂÜçÁîü„Ç®„É©„Éº:', error);
// „Ç®„É©„ÉºÊôÇ„ÇÇ„ÇØ„É™„Ç¢
pendingData.clearFunction();
this.registerSpeechEnd(SPEAKERS.NEHORI, `unified_error_${context}`);
}
},
// Pending„Éç„Åª„Çä„Éº„ÅÆÂÆâÂÖ®„Å™ÂÜçÁîü
async playPendingNehoriSafely(context = 'unknown') {
const control = AppState.conversationControl;
if (!control.pendingNehoriQuestion || !control.pendingNehoriAudio) {
console.log('‚ö†Ô∏è Pending„Éá„Éº„Çø„Åå‰∏çÂÆåÂÖ®„Åß„Åô');
return;
}
try {
this.registerSpeechStart(SPEAKERS.NEHORI, `pending_${context}`);
// „É°„ÉÉ„Çª„Éº„Ç∏ËøΩÂä†„Å®Èü≥Â£∞ÂÜçÁîü
addMessageToChat(SPEAKERS.NEHORI, control.pendingNehoriQuestion);
await playPreGeneratedAudio(control.pendingNehoriAudio, SPEAKERS.NEHORI);
this.registerSpeechEnd(SPEAKERS.NEHORI, `pending_${context}`);
} catch (error) {
console.error('‚ùå Pending„Éç„Åª„Çä„Éº„ÅÆÂÜçÁîü„Ç®„É©„Éº:', error);
this.registerSpeechEnd(SPEAKERS.NEHORI, `pending_error_${context}`);
}
},
// üîß Êñ∞Ê©üËÉΩ: ÈáçË§áPending„Éá„Éº„Çø„ÅÆÂÆåÂÖ®„ÇØ„É™„Ç¢ÔºàPhase CÂº∑ÂåñÁâàÔºâ
clearAllPendingData(reason = 'cleanup') {
console.log(`üßπ ÂÖ®Pending„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢: ${reason}`);
const control = AppState.conversationControl;
// conversationControl„ÅÆPending„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢
control.pendingNehoriQuestion = null;
control.pendingNehoriAudio = null;
// üîß Phase C: „ÅØ„Åª„Çä„Éº„ÅÆPending„Éá„Éº„Çø„ÇÇ„ÇØ„É™„Ç¢
control.pendingHahoriContent = null;
control.pendingHahoriAudio = null;
// AppState„ÅÆPending„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢Ôºà„É¨„Ç¨„Ç∑„ÉºÂØæÂøúÔºâ
AppState.pendingNehoriQuestion = null;
AppState.pendingNehoriAudio = null;
// Phase3ÊúÄÈÅ©Âåñ„ÅÆPending„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢
VoiceOptimization.phase3.pendingNehoriContent = null;
VoiceOptimization.phase3.pendingNehoriAudio = null;
VoiceOptimization.phase3.shouldPlayNehoriImmediately = false;
// üîß Phase C: ÂèåÊñπÂêëÂÖàË™≠„ÅøÊúÄÈÅ©Âåñ„ÅÆPending„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢
window.DualPreemptiveOptimization.phase1.pendingHahoriContent = null;
window.DualPreemptiveOptimization.phase1.pendingHahoriAudio = null;
window.DualPreemptiveOptimization.phase1.shouldPlayHahoriImmediately = false;
console.log('‚úÖ ÂÖ®Pending„Éá„Éº„Çø„ÅÆ„ÇØ„É™„Ç¢„ÅåÂÆå‰∫Ü');
},
// üîß Êñ∞Ê©üËÉΩ: Pending„Éá„Éº„Çø„ÅÆÁä∂ÊÖãÁ¢∫Ë™çÔºàPhase CÂº∑ÂåñÁâàÔºâ
getPendingStatus() {
const pendingData = this.collectAllPendingData();
const control = AppState.conversationControl;
return {
hasPending: pendingData.hasPending,
source: pendingData.source,
canNehoriPlay: this.canNehoriSpeak('statusCheck'),
canHahoriPlay: this.canHahoriSpeak('statusCheck'),
isKnowledgeConfirmationMode: AppState.voiceRecognitionState.isKnowledgeConfirmationMode,
justPlayedPendingNehori: control.justPlayedPendingNehori,
justPlayedPendingHahori: control.justPlayedPendingHahori
};
}
};
// üîß ConversationGatekeeper„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.ConversationGatekeeper = ConversationGatekeeper;
// üîß „Ç∞„É≠„Éº„Éê„É´„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞: Pending„Ç∑„Çπ„ÉÜ„É†„ÅÆÁ∑äÊÄ•„ÇØ„É™„Ç¢
// „Éá„Éê„ÉÉ„Ç∞„ÇÑÁ∑äÊÄ•ÊôÇ„Å´‰ΩøÁî®
function emergencyClearAllPending(reason = 'emergency') {
console.warn(`üö® Á∑äÊÄ•Pending„ÇØ„É™„Ç¢ÂÆüË°å: ${reason}`);
ConversationGatekeeper.clearAllPendingData(reason);
}
// üîß Phase C: „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞ÂÖ¨ÈñãÔºà„ÉÜ„Çπ„Éà„Éª„Éá„Éê„ÉÉ„Ç∞Áî®Ôºâ
// DualPreemptiveOptimization„ÅØ app/voice-phase2-manager.js „Å´ÁßªÂãïÊ∏à„Åø
window.startHahoriGenerationDuringNehori = startHahoriGenerationDuringNehori;
window.handleHahoriImmediatePlayback = handleHahoriImmediatePlayback;
window.playPendingHahoriIfNeeded = playPendingHahoriIfNeeded;
// üîß Phase C: ÂèåÊñπÂêëÂÖàË™≠„Åø„ÉÜ„Çπ„ÉàÊ©üËÉΩ
window.testDualPreemptiveSystem = async function() {
console.log('üß™ ÂèåÊñπÂêëÂÖàË™≠„Åø„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÈñãÂßã');
try {
// 1. Áä∂Ê≥ÅÂàÜÊûê„ÉÜ„Çπ„Éà
const situation = window.DualPreemptiveOptimization?.phase1.situationAnalyzer.analyzeConversationSituation(SPEAKERS.NEHORI, null);
console.log('üìä Áä∂Ê≥ÅÂàÜÊûêÁµêÊûú:', situation);
// 2. Êà¶Áï•Ê±∫ÂÆö„ÉÜ„Çπ„Éà
const strategy = window.DualPreemptiveOptimization?.phase1.situationAnalyzer.determinePreemptiveStrategy(situation);
console.log('üéØ Êà¶Áï•Ê±∫ÂÆöÁµêÊûú:', strategy);
// 3. PendingÁä∂ÊÖãÁ¢∫Ë™ç
const pendingStatus = ConversationGatekeeper.getPendingStatus();
console.log('üìã PendingÁä∂ÊÖã:', pendingStatus);
// 4. „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàê„ÉÜ„Çπ„ÉàÔºàÊù°‰ª∂„ÅåÊ∫Ä„Åü„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆ„ÅøÔºâ
if (AppState.phase === 'deepdive' && ConversationGatekeeper.canHahoriSpeak('test')) {
console.log('üîÑ „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàê„ÉÜ„Çπ„ÉàÂÆüË°å');
await startHahoriGenerationDuringNehori();
} else {
console.log('‚è∏Ô∏è „ÅØ„Åª„Çä„Éº„ÅÆÂÖàË™≠„ÅøÁîüÊàê„ÉÜ„Çπ„Éà„Çπ„Ç≠„ÉÉ„ÉóÔºàÊù°‰ª∂Êú™Ê∫ÄÔºâ');
}
console.log('‚úÖ ÂèåÊñπÂêëÂÖàË™≠„Åø„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
return { success: true, situation, strategy, pendingStatus };
} catch (error) {
console.error('‚ùå ÂèåÊñπÂêëÂÖàË™≠„Åø„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
return { success: false, error: error.message };
}
};
// üîß Phase C: Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÊ©üËÉΩ
window.testAdaptiveStrategy = function() {
console.log('üß™ Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÈñãÂßã');
const testCases = [
{ speaker: SPEAKERS.NEHORI, input: null, expected: 'nehori_speaking' },
{ speaker: SPEAKERS.HAHORI, input: null, expected: 'hahori_speaking' },
{ speaker: SPEAKERS.NULL, input: '„ÉÜ„Çπ„ÉàÂÖ•Âäõ', expected: 'user_speaking' },
{ speaker: SPEAKERS.NULL, input: '', expected: 'idle' }
];
const results = testCases.map(testCase => {
const actual = window.DualPreemptiveOptimization?.phase1.situationAnalyzer.analyzeConversationSituation(
testCase.speaker,
testCase.input
);
const strategy = window.DualPreemptiveOptimization?.phase1.situationAnalyzer.determinePreemptiveStrategy(actual);
return {
testCase,
actual,
expected: testCase.expected,
strategy,
passed: actual === testCase.expected
};
});
console.log('üìä Áä∂Ê≥ÅÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÁµêÊûú:', results);
return results;
};
// üîß „Ç∞„É≠„Éº„Éê„É´„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞: PendingÁä∂ÊÖã„ÅÆ„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫
function debugPendingStatus() {
const status = ConversationGatekeeper.getPendingStatus();
console.log('üîç Pending„Ç∑„Çπ„ÉÜ„É†„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±:', status);
return status;
}
// üîß Áä∂ÊÖã„Éï„É©„Ç∞ÁÆ°ÁêÜÊîπÂñÑ: „É¨„Ç¨„Ç∑„Éº„Éï„É©„Ç∞„ÅÆÁµ±‰∏Ä„Ç¢„ÇØ„Çª„Çµ
// „Éû„Ç§„ÇØÁä∂ÊÖã„ÅÆÁµ±‰∏ÄÁÆ°ÁêÜ
Object.defineProperty(AppState, 'microphoneActive', {
get() {
// Êñ∞„Åó„ÅÑÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å∏„ÅÆ„Éû„ÉÉ„Éî„É≥„Ç∞
return this.voiceRecognitionStability.isRecognitionActive &&
this.voiceRecognitionStability.micPermissionGranted;
},
set(value) {
console.warn('‚ö†Ô∏è ÈùûÊé®Â•®: AppState.microphoneActive„ÅÆÁõ¥Êé•Ë®≠ÂÆö„ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇConversationGatekeeper„Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
// ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ‰∏ÄÊôÇÁöÑÂØæÂøú
if (value) {
this.voiceRecognitionStability.isRecognitionActive = true;
} else {
this.voiceRecognitionStability.isRecognitionActive = false;
}
},
configurable: true
});
// Pending„Éç„Åª„Çä„Éº„Éï„É©„Ç∞„ÅÆÁµ±‰∏ÄÁÆ°ÁêÜ
Object.defineProperty(AppState, 'justPlayedPendingNehori', {
get() {
return this.conversationControl.justPlayedPendingNehori;
},
set(value) {
console.warn('‚ö†Ô∏è ÈùûÊé®Â•®: AppState.justPlayedPendingNehori„ÅÆÁõ¥Êé•Ë®≠ÂÆö„ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇConversationGatekeeper„Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
this.conversationControl.justPlayedPendingNehori = value;
},
configurable: true
});
// üîß „Ç∞„É≠„Éº„Éê„É´„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞: Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„ÅÆ„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±
function debugStateFlags() {
const flags = {
// Èü≥Â£∞Ë™çË≠òÈñ¢ÈÄ£
voiceRecognition: {
isRecognitionActive: AppState.voiceRecognitionStability.isRecognitionActive,
micPermissionGranted: AppState.voiceRecognitionStability.micPermissionGranted,
consecutiveErrorCount: AppState.voiceRecognitionStability.consecutiveErrorCount,
lastErrorTime: AppState.voiceRecognitionStability.lastErrorTime
},
// ‰ºöË©±Âà∂Âæ°Èñ¢ÈÄ£
conversationControl: {
currentPhase: AppState.conversationControl.currentPhase,
lastSpeaker: AppState.conversationControl.lastSpeaker,
speakingInProgress: AppState.conversationControl.speakingInProgress,
justPlayedPendingNehori: AppState.conversationControl.justPlayedPendingNehori,
preventNehoriInterruption: AppState.conversationControl.preventNehoriInterruption
},
// Áü•Ë¶ãÁ¢∫Ë™çÈñ¢ÈÄ£
knowledgeConfirmation: {
isKnowledgeConfirmationMode: AppState.voiceRecognitionState.isKnowledgeConfirmationMode,
pendingKnowledgeEvaluation: !!AppState.voiceRecognitionState.pendingKnowledgeEvaluation
},
// „É¨„Ç¨„Ç∑„Éº„Éï„É©„Ç∞Ôºà‰∫íÊèõÊÄßÔºâ
legacyFlags: {
microphoneActive: AppState.microphoneActive, // „Ç≤„ÉÉ„Çø„ÉºÁµåÁî±
justPlayedPendingNehori: AppState.justPlayedPendingNehori // „Ç≤„ÉÉ„Çø„ÉºÁµåÁî±
}
};
console.log('üîç Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±:', flags);
return flags;
}
// üîß „Ç∞„É≠„Éº„Éê„É´„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞: „É¨„Ç¨„Ç∑„Éº„Éï„É©„Ç∞„ÅÆÁßªË°åÁä∂ÊÖãÁ¢∫Ë™ç
function checkLegacyFlagMigration() {
const issues = [];
// Pending„Éá„Éº„Çø„ÅÆÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ
const pendingStatus = ConversationGatekeeper.getPendingStatus();
if (pendingStatus.hasPending && pendingStatus.source !== 'conversationControl') {
issues.push(`Pending„Éá„Éº„Çø„ÅåÊñ∞„Ç∑„Çπ„ÉÜ„É†‰ª•Â§ñ„Å´Â≠òÂú®: ${pendingStatus.source}`);
}
// Áõ¥Êé•„Ç¢„ÇØ„Çª„Çπ„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØÔºà„É©„É≥„Çø„Ç§„É†„Åß„ÅØÊ§úÂá∫„Åß„Åç„Å™„ÅÑ„Åå„ÄÅ„É≠„Ç∞„ÅßÁ¢∫Ë™çÂèØËÉΩÔºâ
if (AppState.hasOwnProperty('microphoneActive') &&
typeof AppState.microphoneActive !== 'undefined') {
// „Ç≤„ÉÉ„Çø„Éº/„Çª„ÉÉ„Çø„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç
const descriptor = Object.getOwnPropertyDescriptor(AppState, 'microphoneActive');
if (!descriptor || !descriptor.get) {
issues.push('ÈùûÊé®Â•®: AppState.microphoneActive„ÅåÁõ¥Êé•„Éó„É≠„Éë„ÉÜ„Ç£„Å®„Åó„Å¶Â≠òÂú®');
}
}
if (issues.length > 0) {
console.warn('‚ö†Ô∏è „É¨„Ç¨„Ç∑„Éº„Éï„É©„Ç∞ÁßªË°å„ÅÆÂïèÈ°å„ÅåÁô∫Ë¶ã„Åï„Çå„Åæ„Åó„Åü:', issues);
return { success: false, issues };
} else {
console.log('‚úÖ „É¨„Ç¨„Ç∑„Éº„Éï„É©„Ç∞„ÅÆÁßªË°å„ÅåÊ≠£Â∏∏„Å´ÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Åæ„Åô');
return { success: true, issues: [] };
}
}
// üîß Êñ∞Ê©üËÉΩ: „Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅÁµ±Ë®àÊÉÖÂ†±„Éá„Éê„ÉÉ„Ç∞
function debugMicrophonePermissionStats() {
console.log('üîç „Éû„Ç§„ÇØË®±ÂèØÁµ±Ë®àÊÉÖÂ†±:');
const stateManager = window.AppState?.stateManager || window.stateManager;
if (!stateManager?.recognitionManager) {
console.log('‚ùå Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†Êú™ÂàùÊúüÂåñ');
return;
}
const stats = stateManager.recognitionManager.getMicrophonePermissionStats();
console.log('üìä „Éû„Ç§„ÇØË®±ÂèØÁµ±Ë®à:');
// Êà¶Áï•Âà•„ÅÆÁµ±Ë®àË°®Á§∫
if (stats.strategy === 'continuous') {
console.log(` - Êà¶Áï•: Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÔºàÁúü„ÅÆËß£Ê±∫Á≠ñÔºâ`);
console.log(` - start()Âëº„Å≥Âá∫„Åó: ${stats.startCount}Âõû`);
console.log(` - „Éû„Ç§„ÇØË®±ÂèØË¶ÅÊ±Ç: ${stats.microphonePermissionRequests}Âõû`);
console.log(` - ÁµêÊûúÂá¶ÁêÜ: ${stats.resultProcessedCount}Âõû`);
console.log(` - ÁµêÊûúÁÑ°Ë¶ñ: ${stats.resultIgnoredCount}Âõû`);
console.log(` - ‰∏ÄÊôÇÂÅúÊ≠¢: ${stats.pauseCount}Âõû`);
console.log(` - Âá¶ÁêÜÂÜçÈñã: ${stats.resumeCount}Âõû`);
console.log(` - „Çª„ÉÉ„Ç∑„Éß„É≥ÊôÇÈñì: ${stats.sessionDuration}Áßí`);
console.log(` - ÂäπÁéáÊÄß: ${stats.efficiency}%`);
console.log(` - Á∂ôÁ∂öÊÄß‰øùÊåÅ: ${stats.neverStopped ? '‚úÖ' : '‚ùå'}`);
console.log(` - Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò: ${stats.continuousRecognition ? '‚úÖ' : '‚ùå'}`);
} else if (stats.strategy === 'persistent') {
console.log(` - Êà¶Áï•: ChromeÂ∞ÇÁî®„Ç§„É≥„Çπ„Çø„É≥„Çπ‰∏çÂ§â`);
console.log(` - „Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê: ${stats.instanceCreationCount}Âõû`);
console.log(` - „Éû„Ç§„ÇØË®±ÂèØË¶ÅÊ±Ç: ${stats.microphonePermissionRequests}Âõû`);
console.log(` - Èü≥Â£∞Ë™çË≠òÂÜçÈñã: ${stats.restartCount}Âõû`);
console.log(` - abort()ÂÆüË°å: ${stats.abortCount}Âõû`);
console.log(` - „Çª„ÉÉ„Ç∑„Éß„É≥ÊôÇÈñì: ${stats.sessionDuration}Áßí`);
console.log(` - ÂäπÁéáÊÄß: ${stats.efficiency}%`);
console.log(` - „Ç§„É≥„Çπ„Çø„É≥„ÇπÊ∞∏Á∂öÂåñ: ${stats.instancePersistent ? '‚úÖ' : '‚ùå'}`);
} else {
console.log(` - Êà¶Áï•: ${stats.strategy || 'lightweight'}`);
console.log(` - ÂÆåÂÖ®„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„Éó: ${stats.completeBefore || 0}Âõû`);
console.log(` - ËªΩÈáè„É™„Çπ„Çø„Éº„Éà: ${stats.lightweightCount || 0}Âõû`);
console.log(` - ÊúÄÁµÇÂá¶ÁêÜ: ${stats.lastCleanupType || 'unknown'}`);
console.log(` - „Çª„ÉÉ„Ç∑„Éß„É≥ÊôÇÈñì: ${stats.sessionDuration}Áßí`);
console.log(` - ÂäπÁéáÊÄß: ${stats.efficiency}%`);
}
// ÂäπÁéáÊÄß„Å´Âü∫„Å•„ÅèÊé®Â•®‰∫ãÈ†Ö
if (stats.strategy === 'continuous') {
if (stats.startCount === 1 && stats.microphonePermissionRequests === 1) {
console.log('üéØ ÂÆåÁíß: Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„ÅåÁêÜÊÉ≥ÁöÑ„Å´Âãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åô');
console.log('‚ú® „Éû„Ç§„ÇØË®±ÂèØ„Ç¢„É©„Éº„Éà„ÅØÂÆåÂÖ®„Å´Ëß£Ê∂à„Åï„Çå„Åæ„Åó„Åü');
} else if (stats.startCount <= 3) {
console.log('‚úÖ ËâØÂ•Ω: Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Åå„Åª„ÅºÊ≠£Â∏∏„Å´Âãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åô');
} else {
console.log('‚ö†Ô∏è Ê≥®ÊÑè: Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Åß‰∫àÊúü„Åó„Å™„ÅÑÂÜçÈñã„ÅåÁô∫Áîü„Åó„Å¶„ÅÑ„Åæ„Åô');
console.log('üí° Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞:');
console.log(' - „Éñ„É©„Ç¶„Ç∂„Åæ„Åü„ÅØ„Çø„Éñ„ÇíÂÜçË™≠„ÅøËæº„Åø');
console.log(' - ‰ªñ„ÅÆ„Çø„Éñ„Åß„Éû„Ç§„ÇØ„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç');
}
} else if (stats.efficiency >= 95) {
console.log('üéØ ÂÆåÁíß: „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂÆåÂÖ®„Å´‰øùÊåÅ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
} else if (stats.efficiency >= 80) {
console.log('‚úÖ ÂÑ™ÁßÄ: „Éû„Ç§„ÇØË®±ÂèØ„ÅåÂäπÁéáÁöÑ„Å´‰øùÊåÅ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
} else if (stats.efficiency >= 60) {
console.log('‚ö†Ô∏è ËâØÂ•Ω: „Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅ„Å´Ëã•Âπ≤„ÅÆÊîπÂñÑ‰ΩôÂú∞„Åå„ÅÇ„Çä„Åæ„Åô');
} else {
console.log('‚ùå Ë¶ÅÊîπÂñÑ: „Éû„Ç§„ÇØË®±ÂèØ„Ç¢„É©„Éº„Éà„ÅåÈ†ªÁô∫„Åó„Å¶„ÅÑ„Åæ„Åô');
console.log('üí° Êé®Â•®‰∫ãÈ†Ö:');
console.log(' 1. „Éñ„É©„Ç¶„Ç∂„ÅÆË®≠ÂÆö„Åß„Éû„Ç§„ÇØË®±ÂèØ„ÇíÁ¢∫Ë™ç');
console.log(' 2. „Éö„Éº„Ç∏„ÅÆÂÜçË™≠„ÅøËæº„Åø„ÇíË©¶Ë°å');
console.log(' 3. ‰ªñ„ÅÆ„Çø„Éñ„Åß„Éû„Ç§„ÇØ„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç');
// Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÊà¶Áï•„ÅÆÊé®Â•®
if (stats.strategy !== 'continuous' && navigator.userAgent.includes('Chrome')) {
console.log(' 4. Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÊà¶Áï•„Å´Âàá„ÇäÊõø„Åà: switchMicrophoneStrategy("continuous")');
}
// ChromeÂ∞ÇÁî®Êà¶Áï•„ÅÆÊé®Â•®
else if (stats.strategy !== 'persistent' && navigator.userAgent.includes('Chrome')) {
console.log(' 4. ChromeÂ∞ÇÁî®Êà¶Áï•„Å´Âàá„ÇäÊõø„Åà: switchMicrophoneStrategy("persistent")');
}
}
return stats;
}
// =================================================================================
// VOICE RECOGNITION PATTERNS - Èü≥Â£∞Ë™çË≠ò„Éë„Çø„Éº„É≥
// =================================================================================
// üé§ Èü≥Â£∞„Éë„Çø„Éº„É≥„Å®„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅØprompts.js„Åã„ÇâË™≠„ÅøËæº„Åø
// (ÈáçË§áÂÆöÁæ©„ÇíÈÅø„Åë„Çã„Åü„ÇÅ„ÄÅ„Åì„Åì„Åß„ÅØÂâäÈô§Ê∏à„Åø)
// =================================================================================
// UTILITY FUNCTIONS - „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
// =================================================================================
// DOMUtils„ÅØapp/ui-manager.js„Å´ÁßªÂãïÊ∏à„Åø
const ErrorHandler = {
handle: (error, context = '', userMessage = '') => {
console.error(`‚ùå ${context}„Ç®„É©„Éº:`, error);
const message = userMessage || error.message || '„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü';
window.showMessage('error', message);
},
success: (message) => {
console.log(`‚úÖ ${message}`);
window.showMessage('success', message);
}
};
// =================================================================================
// CORE FUNCTIONS - Âü∫Êú¨Ê©üËÉΩ
// =================================================================================
// showMessageÈñ¢Êï∞„ÅØapp/utils.js„Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// „Éó„É≠„É≥„Éó„ÉàÂèñÂæóÈñ¢Êï∞
function getCharacterPrompt(character) {
// „Åæ„Åöprompts.js„Åã„ÇâÁõ¥Êé•Ë™≠„ÅøËæº„Åø„ÇíË©¶Ë°å
if (window.VoicePresets && window.VoicePresets.default && window.VoicePresets.default.settings[character]) {
const prompt = window.VoicePresets.default.settings[character].prompt;
if (prompt && prompt.trim()) {
return prompt;
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: VoiceSettings„Åã„ÇâÂèñÂæó
if (VoiceSettings[character] && VoiceSettings[character].prompt) {
return VoiceSettings[character].prompt;
}
// „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±
console.log(`‚ö†Ô∏è „Éó„É≠„É≥„Éó„Éà„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì (character: ${character})`);
console.log('window.VoicePresets:', window.VoicePresets);
return '';
}
function getDefaultSystemPrompt(character) {
if (window.AI_PROMPTS) {
return character === SPEAKERS.NEHORI ?
window.AI_PROMPTS.NEHORI_BASE :
window.AI_PROMPTS.HAHORI_BASE;
}
return '';
}
// Èü≥Â£∞Ë®≠ÂÆöÂàùÊúüÂåñ
function initializeVoiceSettings() {
try {
// „Åæ„Åöprompts.js„Åã„ÇâÂü∫Êú¨Ë®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø
if (window.VoicePresets && window.VoicePresets.default) {
Object.assign(VoiceSettings[SPEAKERS.NEHORI], window.VoicePresets.default.settings[SPEAKERS.NEHORI]);
Object.assign(VoiceSettings[SPEAKERS.HAHORI], window.VoicePresets.default.settings[SPEAKERS.HAHORI]);
console.log('‚úÖ prompts.js„Åã„ÇâÈü≥Â£∞Ë®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
}
// Ê¨°„Å´„Ç´„Çπ„Çø„É†Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„Åå„ÅÇ„Çå„Å∞Ë™≠„ÅøËæº„Åø
if (window.CUSTOM_VOICE_CONFIG) {
console.log('üìÑ „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇíÊ§úÂá∫:', window.CUSTOM_VOICE_CONFIG);
if (window.CUSTOM_VOICE_CONFIG.nehori) {
Object.assign(VoiceSettings[SPEAKERS.NEHORI], window.CUSTOM_VOICE_CONFIG.nehori);
}
if (window.CUSTOM_VOICE_CONFIG.hahori) {
Object.assign(VoiceSettings[SPEAKERS.HAHORI], window.CUSTOM_VOICE_CONFIG.hahori);
}
console.log('‚úÖ „Ç´„Çπ„Çø„É†Èü≥Â£∞Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü');
}
// ÊúÄÂæå„Å´„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆË®≠ÂÆö„Åå„ÅÇ„Çå„Å∞‰∏äÊõ∏„Åç
const savedConfig = localStorage.getItem('fukabori_voice_config');
if (savedConfig) {
const config = JSON.parse(savedConfig);
console.log('üìÑ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÇíÊ§úÂá∫:', config);
if (config.nehori) {
Object.assign(VoiceSettings[SPEAKERS.NEHORI], config.nehori);
}
if (config.hahori) {
Object.assign(VoiceSettings[SPEAKERS.HAHORI], config.hahori);
}
console.log('‚úÖ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü');
}
console.log('üéµ ÊúÄÁµÇÁöÑ„Å™Èü≥Â£∞Ë®≠ÂÆö:', VoiceSettings);
// üÜï UI„Å´Ë®≠ÂÆö„ÇíÂèçÊò†
window.updateVoiceSettingsUI();
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë®≠ÂÆöÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}
// üÜï Èü≥Â£∞Ë®≠ÂÆöUI„ÅÆÊõ¥Êñ∞Èñ¢Êï∞
function updateVoiceSettingsUI() {
try {
// prompts.js„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç
let nehoriSettings = VoiceSettings[SPEAKERS.NEHORI];
let hahoriSettings = VoiceSettings[SPEAKERS.HAHORI];
// prompts.js„Åã„ÇâÂÜçË™≠„ÅøËæº„ÅøÔºàÂÑ™ÂÖàÔºâ
if (window.VoicePresets && window.VoicePresets.default) {
nehoriSettings = { ...nehoriSettings, ...window.VoicePresets.default.settings[SPEAKERS.NEHORI] };
hahoriSettings = { ...hahoriSettings, ...window.VoicePresets.default.settings[SPEAKERS.HAHORI] };
console.log('üîÑ prompts.js„Åã„ÇâÈü≥Â£∞Ë®≠ÂÆö„ÇíÂÜçË™≠„ÅøËæº„Åø');
}
// „Å≠„Åª„Çä„Éº„ÅÆË®≠ÂÆö
const nehoriVoice = window.UIManager.DOMUtils.get('nehoriVoice');
const nehoriSpeed = window.UIManager.DOMUtils.get('nehoriSpeed');
const nehoriVolume = window.UIManager.DOMUtils.get('nehoriVolume');
const nehoriSpeedValue = window.UIManager.DOMUtils.get('nehoriSpeedValue');
const nehoriVolumeValue = window.UIManager.DOMUtils.get('nehoriVolumeValue');
if (nehoriVoice) nehoriVoice.value = nehoriSettings.voice || 'sage';
if (nehoriSpeed) nehoriSpeed.value = nehoriSettings.speed || 1.3;
if (nehoriVolume) nehoriVolume.value = Math.min(nehoriSettings.volume || 0.9, 1.0); // ‰∏äÈôê1.0
if (nehoriSpeedValue) nehoriSpeedValue.textContent = nehoriSpeed?.value || '1.3';
if (nehoriVolumeValue) nehoriVolumeValue.textContent = nehoriVolume?.value || '0.9';
// „ÅØ„Åª„Çä„Éº„ÅÆË®≠ÂÆö
const hahoriVoice = window.UIManager.DOMUtils.get('hahoriVoice');
const hahoriSpeed = window.UIManager.DOMUtils.get('hahoriSpeed');
const hahoriVolume = window.UIManager.DOMUtils.get('hahoriVolume');
const hahoriSpeedValue = window.UIManager.DOMUtils.get('hahoriSpeedValue');
const hahoriVolumeValue = window.UIManager.DOMUtils.get('hahoriVolumeValue');
if (hahoriVoice) hahoriVoice.value = hahoriSettings.voice || 'shimmer';
if (hahoriSpeed) hahoriSpeed.value = hahoriSettings.speed || 1.3;
if (hahoriVolume) hahoriVolume.value = Math.min(hahoriSettings.volume || 0.7, 1.0); // ‰∏äÈôê1.0
if (hahoriSpeedValue) hahoriSpeedValue.textContent = hahoriSpeed?.value || '1.3';
if (hahoriVolumeValue) hahoriVolumeValue.textContent = hahoriVolume?.value || '0.7';
// VoiceSettings„ÇÇÊõ¥Êñ∞
VoiceSettings[SPEAKERS.NEHORI] = nehoriSettings;
VoiceSettings[SPEAKERS.HAHORI] = hahoriSettings;
console.log('‚úÖ Èü≥Â£∞Ë®≠ÂÆöUI„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü', { nehoriSettings, hahoriSettings });
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë®≠ÂÆöUIÊõ¥Êñ∞„Ç®„É©„Éº:', error);
}
}
// =================================================================================
// LOGIN & AUTHENTICATION - „É≠„Ç∞„Ç§„É≥„ÉªË™çË®º
// =================================================================================
function loginWithPassword() {
console.log('üí° loginWithPassword „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const passwordInput = window.UIManager.DOMUtils.get('passwordInput');
if (!passwordInput) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const password = passwordInput.value.trim();
if (!password) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
try {
const decryptedKey = window.StorageManager.apiKey.load(password);
AppState.apiKey = decryptedKey;
// üîÑ Êñ∞Ê©üËÉΩ: „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí‰øùÂ≠ò
saveLoginState(true);
// üîß „Éû„Ç§„ÇØË®±ÂèØÊãíÂê¶Áä∂ÊÖã„ÅÆ„É™„Çª„ÉÉ„ÉàÔºà„É≠„Ç∞„Ç§„É≥ÊàêÂäüÊôÇ„Å´ÂÜçË©¶Ë°å„ÇíË®±ÂèØÔºâ
localStorage.removeItem('microphonePermissionDenied');
console.log('üé§ „Éû„Ç§„ÇØË®±ÂèØÊãíÂê¶Áä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åó„ÅüÔºàÂÜçË©¶Ë°åÂèØËÉΩÔºâ');
// üîÑ Êñ∞Ê©üËÉΩ: „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊ¨Ñ„Çí„ÇØ„É™„Ç¢
passwordInput.value = '';
// üîÑ Êñ∞Ê©üËÉΩ: 2„Çπ„ÉÜ„ÉÉ„ÉóUI„ÇíÊõ¥Êñ∞ÔºàÂæìÊù•„ÅÆ„Éú„Çø„É≥Âà∂Âæ°„Åã„ÇâÂ§âÊõ¥Ôºâ
update2StepUI();
window.showMessage('success', '„É≠„Ç∞„Ç§„É≥„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü');
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥ÂÆå‰∫Ü - Áä∂ÊÖã„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
} catch (error) {
console.error('‚ùå „É≠„Ç∞„Ç§„É≥„Ç®„É©„Éº:', error);
// üîß „Éá„Éº„ÇøÂæ©Êóß„ÇíË©¶Ë°å
console.log('üîÑ „Éá„Éº„ÇøÂæ©Êóß„ÇíË©¶Ë°å„Åó„Åæ„Åô...');
const recoverySuccess = window.attemptDataRecovery(password);
if (recoverySuccess) {
console.log('‚úÖ „Éá„Éº„ÇøÂæ©ÊóßÊàêÂäü - ÂÜçÂ∫¶„É≠„Ç∞„Ç§„É≥„ÇíË©¶Ë°å„Åó„Åæ„Åô');
try {
const decryptedKey = window.StorageManager.apiKey.load(password);
AppState.apiKey = decryptedKey;
saveLoginState(true);
localStorage.removeItem('microphonePermissionDenied');
passwordInput.value = '';
update2StepUI();
window.showMessage('success', '„Éá„Éº„ÇøÂæ©ÊóßÂÆå‰∫ÜÔºÅ„É≠„Ç∞„Ç§„É≥„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü');
console.log('‚úÖ Âæ©ÊóßÂæå„É≠„Ç∞„Ç§„É≥ÂÆå‰∫Ü');
return;
} catch (retryError) {
console.error('‚ùå Âæ©ÊóßÂæå„É≠„Ç∞„Ç§„É≥Â§±Êïó:', retryError);
}
}
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Çã„Åã„ÄÅ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
}
}
// üîß UIÊúÄÈÅ©ÂåñPhase1: „É¢„Éº„ÉÄ„É´ÁÆ°ÁêÜÊ©üËÉΩ„Çíapp/ui-advanced.js„Å´ÁßªÂãï
// openAdvancedSettings, closeAdvancedSettings, updateAdvancedSettingsDisplay,
// saveVoicePreset, downloadVoiceConfig, handleEscapeKey
// =================================================================================
// API INTEGRATION - APIÁµ±Âêà
// =================================================================================
// üé≠ Èü≥Â£∞Áî®„ÉÜ„Ç≠„Çπ„ÉàÁü≠Á∏ÆÊ©üËÉΩ
function shortenForSpeech(text, maxLength = 200) {
if (!text || text.length <= maxLength) {
return text;
}
// Âè•Ë™≠ÁÇπ„Åß„ÅÆÂå∫Âàá„Çä„ÇíÂÑ™ÂÖà
const sentences = text.split(/[„ÄÇÔºÅÔºü]/);
let shortened = '';
for (const sentence of sentences) {
const candidate = shortened + sentence + (sentence.endsWith('„ÄÇ') || sentence.endsWith('ÔºÅ') || sentence.endsWith('Ôºü') ? '' : '„ÄÇ');
if (candidate.length <= maxLength) {
shortened = candidate;
} else {
break;
}
}
// „Åæ„Å†Èï∑„ÅÑÂ†¥Âêà„ÅØÂº∑Âà∂ÁöÑ„Å´Âàá„Çã
if (shortened.length > maxLength) {
shortened = text.substring(0, maxLength - 3) + '...';
}
return shortened || text.substring(0, maxLength - 3) + '...';
}
// üé≠ Ë°®Á§∫„Å®Áô∫Â£∞„ÇíÂàÜÈõ¢„Åó„ÅüÁµ±Âêà„É°„ÉÉ„Çª„Éº„Ç∏Âá¶ÁêÜ
async function addMessageToChatWithSpeech(speaker, displayText, speechText = null) {
// „ÉÅ„É£„ÉÉ„ÉàË°®Á§∫ÔºàÈï∑„ÅÑ„ÉÜ„Ç≠„Çπ„ÉàÔºâ
await addMessageToChat(speaker, displayText);
// üÜï „Ç≥„É≥„ÉÜ„Ç≠„Çπ„ÉàÈÄ£Êê∫Áü≠Á∏Æ„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
let textForSpeech;
if (speechText) {
textForSpeech = speechText;
} else if (window.SpeechShorteningEngine && window.SpeechShorteningEngine.enabled) {
// „Ç≥„É≥„ÉÜ„Ç≠„Çπ„ÉàÊÉÖÂ†±„ÇíÂèñÂæó
const context = window.SpeechShorteningEngine.getCurrentContext();
// AIË¶ÅÁ¥Ñ„ÅåÊúâÂäπ„Å™Â†¥Âêà„ÅØÈùûÂêåÊúüÂá¶ÁêÜ
if (window.SpeechShorteningEngine.settings.features.aiSummary) {
textForSpeech = await window.SpeechShorteningEngine.shortenTextWithContext(displayText, context);
} else {
textForSpeech = window.SpeechShorteningEngine.shortenText(displayText, context);
}
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂæìÊù•„ÅÆÁ∞°ÊòìÁü≠Á∏Æ
textForSpeech = shortenForSpeech(displayText);
}
// Áü≠Á∏Æ„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÅÆ„É≠„Ç∞
if (displayText.length > textForSpeech.length) {
const reductionRate = Math.round((1 - textForSpeech.length / displayText.length) * 100);
console.log(`üé§ Èü≥Â£∞Áü≠Á∏ÆÂÆüË°å: ${displayText.length}ÊñáÂ≠ó ‚Üí ${textForSpeech.length}ÊñáÂ≠ó (${reductionRate}%Áü≠Á∏Æ)`);
console.log(`üìù Ë°®Á§∫: ${displayText.substring(0, 100)}${displayText.length > 100 ? '...' : ''}`);
console.log(`üîä Áô∫Â£∞: ${textForSpeech}`);
} else {
console.log('üìù Èü≥Â£∞Áü≠Á∏Æ„Å™„ÅóÔºàÂÖÉ„ÉÜ„Ç≠„Çπ„Éà„Çí„Åù„ÅÆ„Åæ„Åæ‰ΩøÁî®Ôºâ');
console.log(`üìÑ „ÉÜ„Ç≠„Çπ„Éà: ${displayText.substring(0, 100)}${displayText.length > 100 ? '...' : ''}`);
}
try {
const audioBlob = await ttsTextToAudioBlob(textForSpeech, speaker);
await playPreGeneratedAudio(audioBlob, speaker);
} catch (error) {
console.error('‚ùå Èü≥Â£∞ÁîüÊàê„Ç®„É©„Éº:', error);
window.showMessage('error', 'Èü≥Â£∞„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
async function ttsTextToAudioBlob(text, character) {
if (!AppState.apiKey) {
throw new Error('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// üéØ Phase 1: Èü≥Â£∞ÁîüÊàêÂâç„Å´Áü≠Á∏Æ„Ç®„É≥„Ç∏„É≥„ÇíÈÅ©Áî®
let textForSpeech = text;
try {
// SpeechShorteningManager„Çí‰ΩøÁî®„Åó„Å¶Áü≠Á∏ÆÂá¶ÁêÜ
if (window.SpeechShorteningManager && window.SpeechShorteningManager.settings.enabled) {
const originalLength = text.length;
textForSpeech = await window.SpeechShorteningManager.processTextWithShortening(text, character);
if (originalLength !== textForSpeech.length) {
const reduction = Math.round((1 - textForSpeech.length / originalLength) * 100);
console.log(`üéØ TTSÁü≠Á∏ÆÈÅ©Áî®: ${originalLength}‚Üí${textForSpeech.length}ÊñáÂ≠ó (${reduction}%Áü≠Á∏Æ)`);
}
}
} catch (error) {
console.warn('‚ö†Ô∏è TTSÁü≠Á∏Æ„Ç®„É≥„Ç∏„É≥ÈÅ©Áî®„Ç®„É©„Éº:', error);
textForSpeech = text; // „Ç®„É©„ÉºÊôÇ„ÅØÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®
}
const voiceSettings = getVoiceSettings(character);
try {
const response = await fetch('https://api.openai.com/v1/audio/speech', {
method: 'POST',
headers: {
'Authorization': `Bearer ${AppState.apiKey}`,
'Content-Type': 'application/json'
},
body: JSON.stringify({
model: 'gpt-4o-mini-tts',
input: textForSpeech, // Áü≠Á∏Æ„Åï„Çå„Åü„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®
voice: voiceSettings.voice,
speed: voiceSettings.speed,
response_format: 'mp3',
instructions: `${voiceSettings.voice}Èü≥Â£∞„Åß„ÄÅÊ∑±Â†Ä„Ç§„É≥„Çø„Éì„É•„ÉºAI„Å®„Åó„Å¶Ë¶™„Åó„Åø„ÇÑ„Åô„Åè„ÄÅËÅû„ÅçÊâã„Å´ÂØÑ„ÇäÊ∑ª„ÅÜ„Çà„ÅÜ„Å´Ë©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`
})
});
if (!response.ok) {
const errorData = await response.json();
throw new Error(`TTS API Error: ${errorData.error?.message || response.statusText}`);
}
return await response.blob();
} catch (error) {
console.error('TTS APIÂëº„Å≥Âá∫„Åó„Ç®„É©„Éº:', error);
throw error;
}
}
async function gptMessagesToCharacterResponse(messages, character) {
console.warn('‚ö†Ô∏è gptMessagesToCharacterResponse „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇAIManager.sendToCharacter „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// AIManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager && window.AIManager.isInitialized) {
try {
return await window.AIManager.sendToCharacter(messages, character);
} catch (error) {
console.error('‚ùå AIManager.sendToCharacterÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàAIManagerÊú™‰ΩøÁî®ÊôÇÔºâ
console.warn('‚ö†Ô∏è AIManager„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅ„ÄÅ„É¨„Ç¨„Ç∑„ÉºÂÆüË£Ö„Çí‰ΩøÁî®„Åó„Åæ„Åô');
if (!AppState.apiKey) {
throw new Error('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
let characterPrompt;
// Knowledge DNA„Ç∑„Çπ„ÉÜ„É†Á≠â„ÅÆ„Ç∑„Çπ„ÉÜ„É†Âëº„Å≥Âá∫„ÅóÂØæÂøú
if (character === 'system' || !VoiceSettings || !VoiceSettings[character]) {
characterPrompt = '„ÅÇ„Å™„Åü„ÅØÊ∑±Â†Ä„Åè„Çì„ÅÆÁü•Ë¶ãÂàÜÊûê„ÇíÊãÖÂΩì„Åô„ÇãAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Åß„Åô„ÄÇÊ≠£Á¢∫„ÅßÊúâÁî®„Å™ÂàÜÊûê„ÇíÊèê‰æõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
} else if (VoiceSettings[character] && VoiceSettings[character].prompt && VoiceSettings[character].prompt.trim()) {
characterPrompt = VoiceSettings[character].prompt;
} else {
characterPrompt = getDefaultSystemPrompt(character);
}
try {
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Authorization': `Bearer ${AppState.apiKey}`,
'Content-Type': 'application/json'
},
body: JSON.stringify({
model: 'gpt-4o-mini',
messages: [
{ role: 'system', content: characterPrompt },
...messages
],
max_tokens: 300,
temperature: 0.7
})
});
if (!response.ok) {
const errorData = await response.json();
throw new Error(`GPT API Error: ${errorData.error?.message || response.statusText}`);
}
const result = await response.json();
return result.choices[0].message.content;
} catch (error) {
console.error('GPT APIÂëº„Å≥Âá∫„Åó„Ç®„É©„Éº:', error);
throw error;
}
}
// =================================================================================
// AUDIO MANAGEMENT - Èü≥Â£∞ÁÆ°ÁêÜ
// =================================================================================
// üîß ÊîπÂñÑÁâà: ÂÆâÂÆö„Åó„Åü„Éû„Ç§„ÇØÂàùÊúüÂåñÈñ¢Êï∞Ôºà„Éû„Ç§„ÇØË®±ÂèØ„ÅØ‰∏ÄÂõû„Å†„Åë„É´„Éº„É´ÈÅµÂÆàÔºâ
async function initializeMicrophoneRecording(forceRecheck = false) {
console.log('üé§ „Éû„Ç§„ÇØÂàùÊúüÂåñÈñãÂßã', { forceRecheck });
// üõ°Ô∏è ÈáçË§á„É™„ÇØ„Ç®„Çπ„ÉàÈò≤Ê≠¢ÔºàÁµ∂ÂØæ„É´„Éº„É´Ôºâ
if (AppState.voiceRecognitionStability.permissionRequestInProgress) {
console.log('üö´ „Éû„Ç§„ÇØË®±ÂèØ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÊó¢„Å´ÈÄ≤Ë°å‰∏≠ - ÈáçË§áÈò≤Ê≠¢');
return AppState.voiceRecognitionStability.micPermissionGranted;
}
// üõ°Ô∏è Êó¢„Å´Ë®±ÂèØÂèñÂæóÊ∏à„Åø„ÅÆÂ†¥Âêà„ÅØÁµ∂ÂØæ„Å´ÂÜçÂèñÂæó„Åó„Å™„ÅÑ
if (AppState.voiceRecognitionStability.micPermissionGranted && !forceRecheck) {
console.log('‚úÖ „Éû„Ç§„ÇØË®±ÂèØ„ÅØÊó¢„Å´ÂèñÂæóÊ∏à„Åø - ÂÜçÂèñÂæó„ÅØ„Åó„Åæ„Åõ„Çì');
await initializeSpeechRecognition();
return true;
}
AppState.voiceRecognitionStability.permissionRequestInProgress = true;
try {
// üõ°Ô∏è ‰øùÂ≠ò„Åï„Çå„ÅüË®±ÂèØÁä∂ÊÖã„ÇíÊúÄÂÑ™ÂÖà„ÅßÁ¢∫Ë™ç
const storedPermission = localStorage.getItem('microphonePermissionGranted');
const hasStoredPermission = storedPermission === 'true';
if (hasStoredPermission && !forceRecheck) {
console.log('‚úÖ ‰øùÂ≠ò„Åï„Çå„Åü„Éû„Ç§„ÇØË®±ÂèØ„Çí‰ΩøÁî® - Êñ∞„Åü„Å™Ë®±ÂèØË¶ÅÊ±Ç„ÅØ„Åó„Åæ„Åõ„Çì');
AppState.voiceRecognitionStability.micPermissionGranted = true;
} else {
// üõ°Ô∏è „Éû„Ç§„ÇØË®±ÂèØ„ÅØ‰∏ÄÂõû„Å†„Åë - Áµ∂ÂØæ„É´„Éº„É´
console.log('üîÑ „Éû„Ç§„ÇØË®±ÂèØ„Çí‰∏ÄÂõû„Å†„ÅëÂèñÂæó„Åó„Åæ„ÅôÔºàÁµ∂ÂØæ„É´„Éº„É´ÈÅµÂÆàÔºâ');
// üõ°Ô∏è Ë®±ÂèØÁä∂ÊÖã„Çí‰∫ãÂâç„ÉÅ„Çß„ÉÉ„ÇØ
const permissionStatus = await navigator.permissions.query({ name: 'microphone' }).catch(() => null);
if (permissionStatus && permissionStatus.state === 'granted') {
console.log('‚úÖ „Éñ„É©„Ç¶„Ç∂„É¨„Éô„É´„Åß„Éû„Ç§„ÇØË®±ÂèØÊ∏à„Åø');
localStorage.setItem('microphonePermissionGranted', 'true');
AppState.voiceRecognitionStability.micPermissionGranted = true;
} else {
// üõ°Ô∏è ‰∏ÄÂõû„Å†„Åë„ÅÆË®±ÂèØÂèñÂæó
const stream = await navigator.mediaDevices.getUserMedia({
audio: {
echoCancellation: true,
noiseSuppression: true,
autoGainControl: true
}
});
if (stream) {
// „Çπ„Éà„É™„Éº„É†„ÇíÂç≥Â∫ß„Å´ÂÅúÊ≠¢ÔºàË®±ÂèØ„ÅÆ„Åø„ÅåÁõÆÁöÑÔºâ
stream.getTracks().forEach(track => track.stop());
localStorage.setItem('microphonePermissionGranted', 'true');
AppState.voiceRecognitionStability.micPermissionGranted = true;
console.log('‚úÖ „Éû„Ç§„ÇØË®±ÂèØ„Çí‰∏ÄÂõû„Å†„ÅëÂèñÂæó„Åó„ÄÅÊ∞∏Á∂ö‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
}
}
}
// SpeechRecognition„ÅÆÂàùÊúüÂåñÔºàË®±ÂèØ„ÅåÂèñ„Çå„ÅüÂ†¥Âêà„ÅÆ„ÅøÔºâ
if (AppState.voiceRecognitionStability.micPermissionGranted) {
await initializeSpeechRecognition();
}
AppState.voiceRecognitionStability.permissionRequestInProgress = false;
return AppState.voiceRecognitionStability.micPermissionGranted;
} catch (error) {
console.error('‚ùå „Éû„Ç§„ÇØÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
AppState.voiceRecognitionStability.micPermissionGranted = false;
AppState.voiceRecognitionStability.permissionRequestInProgress = false;
// üõ°Ô∏è Ë®±ÂèØÊãíÂê¶„ÅÆÂ†¥Âêà„ÅØ‰øùÂ≠ò„Åó„ÅüË®±ÂèØ„ÇÇÂâäÈô§„Åó„ÄÅ‰∫åÂ∫¶„Å®Ë¶ÅÊ±Ç„Åó„Å™„ÅÑ
if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {
localStorage.removeItem('microphonePermissionGranted');
localStorage.setItem('microphonePermissionDenied', 'true'); // ÊãíÂê¶Áä∂ÊÖã„ÇíË®òÈå≤
window.showMessage('error', '„Éû„Ç§„ÇØ„ÅÆ‰ΩøÁî®Ë®±ÂèØ„ÅåÊãíÂê¶„Åï„Çå„Åæ„Åó„Åü„ÄÇ„Éñ„É©„Ç¶„Ç∂„ÅÆË®≠ÂÆö„ÅßË®±ÂèØ„Åó„ÄÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
} else {
window.showMessage('error', '„Éû„Ç§„ÇØ„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
}
return false;
}
}
// üîß Êñ∞Èñ¢Êï∞: SpeechRecognition„ÅÆÂÆâÂÆö„Åó„ÅüÂàùÊúüÂåñ
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: initializeSpeechRecognitionÈñ¢Êï∞„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: handleRealtimeSpeechResultÈñ¢Êï∞„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: handleImprovedSpeechErrorÈñ¢Êï∞„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: scheduleRecognitionRestartÈñ¢Êï∞„ÅÆÊÆã„ÇäÈÉ®ÂàÜ„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: handleImprovedSpeechEndÈñ¢Êï∞„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üóëÔ∏è Êóß„Ç∑„Çπ„ÉÜ„É†ÂâäÈô§: handleSpeechStartÈñ¢Êï∞„ÅØÊñ∞„Ç∑„Çπ„ÉÜ„É†„Å´ÁΩÆ„ÅçÊèõ„ÅàÊ∏à„Åø
// üîß Áµ±ÂêàÁâà: Èü≥Â£∞Ë™çË≠òÈñãÂßãÈñ¢Êï∞ÔºàÊñ∞Êóß„Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÔºâ
function safeStartSpeechRecognition(reason = 'unknown') {
console.log(`üîç Áµ±ÂêàÈü≥Â£∞Ë™çË≠òÈñãÂßãË©¶Ë°å: ${reason}`);
// üõ°Ô∏è Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
if (window.stateManager && window.stateManager.recognitionManager) {
console.log('‚úÖ Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†„ÅßÈñãÂßã');
return window.stateManager.startRecognition();
}
console.error('‚ùå Áµ±ÂêàÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅåÊú™ÂàùÊúüÂåñ„Åß„Åô');
return false;
}
// üîß Êñ∞Èñ¢Êï∞: Èü≥Â£∞Ë™çË≠ò„ÇíÂÆâÂÖ®„Å´ÂÅúÊ≠¢
function safeStopSpeechRecognition(reason = 'unknown') {
console.log(`üõë Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢: ${reason}`);
const stability = AppState.voiceRecognitionStability;
if (!AppState.speechRecognition || !stability.isRecognitionActive) {
console.log('‚úÖ Èü≥Â£∞Ë™çË≠ò„ÅØÊó¢„Å´ÂÅúÊ≠¢„Åó„Å¶„ÅÑ„Åæ„Åô');
return true;
}
try {
AppState.speechRecognition.abort();
stability.isRecognitionActive = false;
console.log('‚úÖ Èü≥Â£∞Ë™çË≠ò„ÇíÂÅúÊ≠¢„Åó„Åæ„Åó„Åü');
return true;
} catch (error) {
console.error('üò® Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢„Ç®„É©„Éº:', error);
stability.isRecognitionActive = false; // Âº∑Âà∂„É™„Çª„ÉÉ„Éà
return false;
}
}
function restartSpeechRecognition() {
console.log('üîÑ Èü≥Â£∞Ë™çË≠òÂÜçÈñãÂá¶ÁêÜÈñãÂßãÔºàÊà¶Áï•Âà•ÂØæÂøúÔºâ');
// AIÁô∫Ë®ÄÁµÇ‰∫ÜÂæå„Å´Èü≥Â£∞Ë™çË≠ò„ÇíÁ¢∫ÂÆü„Å´ÂÜçÈñã„Åô„ÇãÈñ¢Êï∞
const stability = AppState.voiceRecognitionStability;
// üîß Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆË®±ÂèØÁä∂ÊÖã„ÇÇÁ¢∫Ë™ç
const newSystemPermission = window.stateManager?.permissionManager?.state === 'granted';
const legacyPermission = stability.micPermissionGranted;
if (!legacyPermission && !newSystemPermission) {
console.log('üìµ „Éû„Ç§„ÇØË®±ÂèØÊú™ÂèñÂæó„ÅÆ„Åü„ÇÅÂÜçÈñã„Çí„Çπ„Ç≠„ÉÉ„Éó');
return;
}
if (newSystemPermission && !legacyPermission) {
console.log('üîÑ Êñ∞„Ç∑„Çπ„ÉÜ„É†„ÅÆË®±ÂèØÁä∂ÊÖã„ÇíÊóß„Ç∑„Çπ„ÉÜ„É†„Å´ÂêåÊúü');
stability.micPermissionGranted = true;
}
// üîß ÈáçË¶Å: „Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅ„ÇíÂÑ™ÂÖà„Åó„ÅüÊà¶Áï•Âà•ÂÜçÈñãÂá¶ÁêÜ
if (window.stateManager && window.stateManager.recognitionManager) {
const recognitionManager = window.stateManager.recognitionManager;
const currentState = recognitionManager.state;
const strategy = window.CURRENT_MICROPHONE_STRATEGY;
console.log(`üîç ÁèæÂú®„ÅÆÈü≥Â£∞Ë™çË≠òÁä∂ÊÖã: ${currentState}, Êà¶Áï•: ${strategy}`);
// üîÑ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÊà¶Áï•: ÁµêÊûúÂá¶ÁêÜÂÜçÈñã„ÅÆ„Åø
if (strategy === MICROPHONE_STRATEGY.CONTINUOUS) {
console.log('üîÑ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò - ÁµêÊûúÂá¶ÁêÜÂÜçÈñãÔºàÈü≥Â£∞Ë™çË≠ò„ÅØÁ∂ôÁ∂ö‰∏≠Ôºâ');
if (recognitionManager.resumeProcessing) {
recognitionManager.resumeProcessing('AIÂøúÁ≠îÁµÇ‰∫Ü');
console.log('‚úÖ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„ÅÆÁµêÊûúÂá¶ÁêÜÂÜçÈñãÂÆå‰∫Ü');
} else {
console.warn('‚ö†Ô∏è Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òManagerÊú™ÂØæÂøú - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ');
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Å®„Åó„Å¶ÈÄöÂ∏∏„ÅÆÈñãÂßãÂá¶ÁêÜÔºà„Éû„Ç§„ÇØË®±ÂèØÁ¢∫Ë™ç‰ªò„ÅçÔºâ
if (stability.micPermissionGranted) {
recognitionManager.start();
} else {
console.log('üö´ „Éû„Ç§„ÇØË®±ÂèØ„Åå„Å™„ÅÑ„Åü„ÇÅÈü≥Â£∞Ë™çË≠òÈñãÂßã„Çí„Çπ„Ç≠„ÉÉ„Éó');
}
}
return;
}
// üîß „Åù„ÅÆ‰ªñ„ÅÆÊà¶Áï•: ËªΩÈáè„É™„Çπ„Çø„Éº„ÉàÂÑ™ÂÖàÔºà„Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅÔºâ
if (recognitionManager.microphonePermissionManager?.canPerformLightweightRestart) {
console.log('üîÑ ËªΩÈáè„É™„Çπ„Çø„Éº„ÉàÂÆüË°åÔºà„Éû„Ç§„ÇØË®±ÂèØ‰øùÊåÅÔºâ');
// ÁèæÂú®„ÅÆÁä∂ÊÖã„Å´Âøú„Åò„Å¶Âá¶ÁêÜ
if (currentState === 'active') {
// ËªΩÈáè„É™„Çπ„Çø„Éº„ÉàÂÆüË°å
recognitionManager.performLightweightRestart();
} else if (currentState === 'idle') {
// Áõ¥Êé•ÈñãÂßãÔºàËªΩÈáè„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÈÅ©Áî®Ôºâ
recognitionManager.start();
} else {
// ÂÅúÊ≠¢ÂÆå‰∫Ü„ÇíÂæÖÊ©ü„Åó„Å¶„Åã„ÇâËªΩÈáè„É™„Çπ„Çø„Éº„Éà
setTimeout(() => {
if (recognitionManager.state === 'idle') {
recognitionManager.start();
}
}, 300); // Áü≠ÊôÇÈñìÂæÖÊ©ü
}
return;
}
// üîß „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂæìÊù•„ÅÆÂá¶ÁêÜÔºàÂÆåÂÖ®„ÇØ„É™„Éº„É≥„Ç¢„ÉÉ„ÉóÔºâ
console.log('‚ö†Ô∏è ËªΩÈáè„É™„Çπ„Çø„Éº„Éà‰∏çÂèØ - ÂæìÊù•Âá¶ÁêÜ„ÅßÂÜçÈñã');
if (currentState !== 'idle') {
console.log('üõë ÁèæÂú®„ÅÆÈü≥Â£∞Ë™çË≠ò„ÇíÂÅúÊ≠¢‰∏≠...');
window.stateManager.stopRecognition();
// ÂÅúÊ≠¢ÂÆå‰∫Ü„ÇíÂæÖÊ©ü„Åó„Å¶„Åã„ÇâÂÜçÈñã
setTimeout(() => {
console.log('‚ú® Èü≥Â£∞Ë™çË≠òÂÜçÈñãÂÆüË°å');
if (stability.micPermissionGranted) {
safeStartSpeechRecognition('restartSpeechRecognition');
} else {
console.log('üö´ ÂÜçÈñãÊôÇ„ÅÆË®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ„ÅßNG - „Çπ„Ç≠„ÉÉ„Éó');
}
}, 800); // ÂÅúÊ≠¢ÊôÇÈñì„Çí800ms„Å´Âª∂Èï∑
} else {
// Êó¢„Å´idle„ÅÆÂ†¥Âêà„ÅØÂç≥Â∫ß„Å´ÂÜçÈñã
setTimeout(() => {
console.log('‚ú® Èü≥Â£∞Ë™çË≠òÂç≥Â∫ßÂÜçÈñã');
if (stability.micPermissionGranted) {
safeStartSpeechRecognition('restartSpeechRecognition');
} else {
console.log('üö´ ÂÜçÈñãÊôÇ„ÅÆË®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ„ÅßNG - „Çπ„Ç≠„ÉÉ„Éó');
}
}, 200);
}
} else {
// Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Å™„ÅÑÂ†¥Âêà„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
console.warn('‚ö†Ô∏è Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†Êú™ÂàùÊúüÂåñ - „É¨„Ç¨„Ç∑„ÉºÂÜçÈñãÂá¶ÁêÜ');
setTimeout(() => {
if (stability.micPermissionGranted) {
safeStartSpeechRecognition('restartSpeechRecognition');
} else {
console.log('üö´ ÂÜçÈñãÊôÇ„ÅÆË®±ÂèØ„ÉÅ„Çß„ÉÉ„ÇØ„ÅßNG - „Çπ„Ç≠„ÉÉ„Éó');
}
}, 500);
}
}
function updateTranscriptDisplay() {
const transcriptDisplay = window.UIManager.DOMUtils.get('transcriptDisplay');
if (transcriptDisplay) {
// üöÄ ÂΩπÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂêë„ÅëÊúÄÈÅ©ÂåñÔºöÈùûÂêåÊúüDOMÊõ¥Êñ∞Ôºà‰ΩìÊÑüÈÄüÂ∫¶Âêë‰∏äÔºâ
requestAnimationFrame(() => {
if (AppState.currentTranscript) {
// „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÔºàÁ¢∫ÂÆöÊ∏à„Åø + ÂÖ•Âäõ‰∏≠Ôºâ„ÇíË°®Á§∫
transcriptDisplay.textContent = AppState.currentTranscript;
} else if (AppState.transcriptHistory.length > 0) {
// Á¢∫ÂÆöÊ∏à„Åø„ÅÆÊñáÂ≠óËµ∑„Åì„Åó„ÅÆ„Åø„ÇíË°®Á§∫
const allText = AppState.transcriptHistory.join(' ');
transcriptDisplay.textContent = allText;
} else {
// ÁèæÂú®„ÅÆÁä∂ÊÖã„Å´Âøú„Åò„Åü„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫
if (AppState.currentSpeaker !== SPEAKERS.NULL) {
transcriptDisplay.textContent = 'AIÂøúÁ≠î‰∏≠...Èü≥Â£∞Ë™çË≠ò„ÅØ‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠„Åß„Åô';
} else if (AppState.sessionActive) {
transcriptDisplay.textContent = 'Èü≥Â£∞Ë™çË≠òÂæÖÊ©ü‰∏≠...Ôºà„Äå„Å©„ÅÜ„Åû„Äç„Å®Ë®Ä„ÅÜ„Å®AI„ÅåÂøúÁ≠î„Åó„Åæ„ÅôÔºâ';
} else {
transcriptDisplay.textContent = '„Çª„ÉÉ„Ç∑„Éß„É≥Êú™ÈñãÂßã';
}
}
});
}
}
// =================================================================================
// Phase 1: VoiceProcessingManager Áµ±Âêà
// =================================================================================
// ÂÖÉ„ÅÆprocessFinalTranscriptÈñ¢Êï∞„Çí„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó
async function processFinalTranscriptOriginal(text) {
if (AppState.currentSpeaker !== SPEAKERS.NULL) {
return;
}
// üé® Êñ∞Ê©üËÉΩ: „É¶„Éº„Ç∂„ÉºÁô∫Ë©±ÊôÇ„ÅÆË©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„Éà„ÇíÁô∫Ë°å
if (window.dispatchEvent) {
const speakerChangeEvent = new CustomEvent('speaker-change', {
detail: { speaker: SPEAKERS.USER }
});
window.dispatchEvent(speakerChangeEvent);
console.log(`üé® Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„ÉàÁô∫Ë°å: ${SPEAKERS.USER} („É¶„Éº„Ç∂„ÉºÁô∫Ë©±ÈñãÂßã)`);
}
// üîß Á¢∫Ë™çÂøúÁ≠î„ÅÆÈô§Âéª
if (AppState.waitingForClearConfirmation && (text.includes("„ÅØ„ÅÑ") || text.includes("„ÅÜ„Çì"))) {
// "„ÅØ„ÅÑ"„ÇÇÊñáÂ≠óËµ∑„Åì„Åó„Åã„ÇâÈô§Âéª
if (AppState.transcriptHistory.length > 0) {
AppState.transcriptHistory.pop(); // ÊúÄÊñ∞„ÅÆ"„ÅØ„ÅÑ"„Ç®„É≥„Éà„É™„ÇíÂâäÈô§
}
AppState.currentTranscript = AppState.transcriptHistory.join(" ");
window.updateTranscriptDisplay();
console.log("üéØ Á¢∫Ë™çÂøúÁ≠î„Äå„ÅØ„ÅÑ„Äç„ÇíÊñáÂ≠óËµ∑„Åì„Åó„Åã„ÇâÈô§Âéª");
}
// üîß Phase B: Èü≥Â£∞Ë™çË≠òË®ÇÊ≠£Ê©üËÉΩÔºà„Äå„Å©„ÅÜ„Åû„Äç„ÅØÈô§Â§ñÔºâ
// ÁâπÂà•„Å™„Ç≥„Éû„É≥„ÉâÔºà„Å©„ÅÜ„Åû„ÄÅ„ÉÜ„Éº„ÉûÂ§âÊõ¥Á≠âÔºâ„ÇíÂÖà„Å´Âá¶ÁêÜ
if (text.includes('„Å©„ÅÜ„Åû') || text.includes('„Éâ„Ç¶„Çæ') || text.includes('„Å©„Éº„Åû') ||
text.includes('„ÉÜ„Éº„ÉûÂ§âÊõ¥') || text.includes('„ÉÜ„Éº„Éû„ÇíÂ§â„Åà') ||
text.includes('Ë≥™ÂïèÂ§âÊõ¥') || text.includes('Ë≥™Âïè„ÇíÂ§â„Åà') || text.includes('Âà•„ÅÆË≥™Âïè') ||
text.includes('ÁµÇ‰∫Ü„Åó„Å¶') || text.includes('„Åä„Çè„Çä„Åó„Å¶') || text.includes('„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü')) {
// ÁâπÂà•„Ç≥„Éû„É≥„Éâ„ÅØË®ÇÊ≠£Âá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Å¶ÂæìÊù•Âá¶ÁêÜ„Å∏
console.log('üéØ ÁâπÂà•„Ç≥„Éû„É≥„ÉâÊ§úÂá∫„ÄÅË®ÇÊ≠£Âá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó:', text);
} else {
// ÈÄöÂ∏∏„ÅÆÈü≥Â£∞Ë®ÇÊ≠£Ê©üËÉΩ
const correctionCommand = SpeechCorrectionSystem.detectCorrectionCommand(text);
if (correctionCommand.type === 'deletion' || correctionCommand.type === 'replacement') {
console.log('üîß Èü≥Â£∞Ë®ÇÊ≠£„Ç≥„Éû„É≥„ÉâÊ§úÂá∫:', correctionCommand);
// üéØ „Ç∑„É≥„Éó„É´‰øÆÊ≠£ÔºöÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§Âéª
if (correctionCommand.type === "deletion" && correctionCommand.action === "delete_characters") {
// Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Éë„Çø„Éº„É≥„ÇíÈô§Âéª
const cleanedText = removeVoiceCommand(text, correctionCommand.count);
// transcriptHistory„ÅÆÊúÄÊñ∞„Ç®„É≥„Éà„É™„ÇíÁΩÆ„ÅçÊèõ„Åà
if (AppState.transcriptHistory.length > 0) {
AppState.transcriptHistory[AppState.transcriptHistory.length - 1] = cleanedText;
}
console.log(`üéØ Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§Âéª: "${text}" ‚Üí "${cleanedText}"`);
}
// ÁèæÂú®„ÅÆÂÖ•Âäõ„ÇíË®≠ÂÆöÔºàÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÊ∏à„ÅøÔºâ
const currentInput = AppState.transcriptHistory.join(" ");
SpeechCorrectionSystem.setCurrentInput(currentInput);
// Ë®ÇÊ≠£„Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å
const result = await SpeechCorrectionSystem.executeCorrectionCommand(correctionCommand);
if (result.success) {
// Ë®ÇÊ≠£ÁµêÊûú„ÇíÂèçÊò†
const correctedText = SpeechCorrectionSystem.getCurrentInput();
AppState.transcriptHistory = correctedText ? [correctedText] : [];
AppState.currentTranscript = correctedText || '';
window.updateTranscriptDisplay();
// ÊàêÂäüÊôÇ„ÅÆÈü≥Â£∞„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
await provideCorrectionFeedback(result.feedback);
return;
} else {
// Â§±ÊïóÊôÇ„ÅÆ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
await provideCorrectionFeedback(result.message);
return;
}
}
}
// üîß ÂæìÊù•„ÅÆÂâäÈô§„Ç≥„Éû„É≥„ÉâÂá¶ÁêÜ„ÅØ SpeechCorrectionSystem „Å´Áµ±‰∏Ä„Åï„Çå„Åæ„Åó„Åü
if (text.includes('„ÉÜ„Éº„ÉûÂ§âÊõ¥') || text.includes('„ÉÜ„Éº„Éû„ÇíÂ§â„Åà')) {
await handleThemeChange();
return;
}
if (text.includes('Ë≥™ÂïèÂ§âÊõ¥') || text.includes('Ë≥™Âïè„ÇíÂ§â„Åà') || text.includes('Âà•„ÅÆË≥™Âïè')) {
await handleQuestionChange();
return;
}
if (text.includes('ÁµÇ‰∫Ü„Åó„Å¶') || text.includes('„Åä„Çè„Çä„Åó„Å¶') || text.includes('„Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü')) {
await handleSessionEnd();
return;
}
const hasPermission = text.includes('„Å©„ÅÜ„Åû') || text.includes('„Éâ„Ç¶„Çæ') || text.includes('„Å©„Éº„Åû');
if (hasPermission) {
AppState.waitingForPermission = false;
// üéØ Phase 2: „Éá„Éº„ÇøÂèñÂæóÊ∫ê‰øÆÊ≠£ - Á∑®ÈõÜ„Åï„Çå„ÅüÂÜÖÂÆπ„ÇíÁ¢∫ÂÆü„Å´ÂèñÂæó
let fullText;
// Phase 2A: currentTranscript„ÇíÂÑ™ÂÖàÁöÑ„Å´‰ΩøÁî®ÔºàÁ∑®ÈõÜ„Åï„Çå„ÅüÂÜÖÂÆπ„ÇíÂèçÊò†Ôºâ
if (AppState.currentTranscript && AppState.currentTranscript.trim()) {
fullText = AppState.currentTranscript.trim();
console.log('üéØ Phase 2: currentTranscript„Åã„ÇâÂèñÂæó:', fullText);
}
// Phase 2B: „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ - transcriptHistory„Åã„ÇâÂèñÂæó
else if (AppState.transcriptHistory && AppState.transcriptHistory.length > 0) {
fullText = AppState.transcriptHistory.join(' ').trim();
console.log('üéØ Phase 2: transcriptHistoryÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ„Åã„ÇâÂèñÂæó:', fullText);
}
// Phase 2C: Á∑äÊÄ•„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ - Á©∫ÊñáÂ≠óÂàó
else {
fullText = '';
console.warn('‚ö†Ô∏è Phase 2: „Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì - Á©∫ÊñáÂ≠óÂàó„Çí‰ΩøÁî®');
}
// Phase 2D: ÂèñÂæó„Åó„Åü„Éá„Éº„Çø„ÅÆÊ§úË®º
if (fullText) {
// üîß Phase B: ÁèæÂú®„ÅÆÂÖ•Âäõ„ÇíË®ÇÊ≠£„Ç∑„Çπ„ÉÜ„É†„Å´Ë®≠ÂÆö
SpeechCorrectionSystem.setCurrentInput(fullText);
// Phase 2E: „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Âá∫Âäõ
console.log('üéØ Phase 2 „Éá„Éº„ÇøÂèñÂæóÂÆå‰∫Ü:', {
source: AppState.currentTranscript ? 'currentTranscript' : 'transcriptHistory',
data: fullText,
currentTranscript: AppState.currentTranscript,
transcriptHistory: AppState.transcriptHistory
});
await handleUserTextInput(fullText);
} else {
console.error('‚ùå Phase 2: Âá¶ÁêÜ„Åô„Çã„ÉÜ„Ç≠„Çπ„Éà„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
}
} else if (!AppState.waitingForPermission) {
// üéØ Phase 2: ÈùûË®±ÂèØÂæÖÊ©üÊôÇ„ÇÇÂêåÊßò„ÅÆ‰øÆÊ≠£„ÇíÈÅ©Áî®
let fullText;
if (AppState.currentTranscript && AppState.currentTranscript.trim()) {
fullText = AppState.currentTranscript.trim();
} else {
fullText = AppState.transcriptHistory.join(' ').trim();
}
if (fullText) {
// üîß Phase B: ÁèæÂú®„ÅÆÂÖ•Âäõ„ÇíË®ÇÊ≠£„Ç∑„Çπ„ÉÜ„É†„Å´Ë®≠ÂÆö
SpeechCorrectionSystem.setCurrentInput(fullText);
await handleUserTextInput(fullText);
}
} else {
console.log('„Äå„Å©„ÅÜ„Åû„Äç„ÇíÂæÖÊ©ü‰∏≠ - ÊñáÂ≠óËµ∑„Åì„ÅóËìÑÁ©ç:', text);
// üéØ Phase 2: ÂæÖÊ©ü‰∏≠„ÅÆË°®Á§∫„ÇÇ‰øÆÊ≠£„Åï„Çå„Åü„Éá„Éº„Çø„Çí‰ΩøÁî®
const displayText = AppState.currentTranscript || AppState.transcriptHistory.join(' ');
console.log('ÁèæÂú®„ÅÆÁ¥ØÁ©çÊñáÂ≠óËµ∑„Åì„Åó:', displayText);
}
}
// =================================================================================
// Phase 1: Êñ∞„Åó„ÅÑprocessFinalTranscriptÈñ¢Êï∞ÔºàVoiceProcessingManagerÁµåÁî±Ôºâ
// =================================================================================
async function processFinalTranscript(text) {
try {
// VoiceProcessingManager„ÅåÂà©Áî®ÂèØËÉΩ„ÅãÁ¢∫Ë™ç
if (window.VoiceProcessingManager) {
// VoiceProcessingManager„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàêÔºàÂàùÂõû„ÅÆ„ÅøÔºâ
if (!window.voiceProcessingManagerInstance) {
window.voiceProcessingManagerInstance = new window.VoiceProcessingManager();
const initialized = await window.voiceProcessingManagerInstance.initialize();
if (!initialized) {
console.warn('[VoiceProcessingManager] ÂàùÊúüÂåñÂ§±Êïó - „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Çí‰ΩøÁî®');
}
}
// VoiceProcessingManager„ÇíÁµåÁî±„Åó„Å¶Âá¶ÁêÜ
return await window.voiceProcessingManagerInstance.processFinalTranscript(text);
} else {
console.warn('[VoiceProcessingManager] Âà©Áî®‰∏çÂèØ - ÂæìÊù•Âá¶ÁêÜ„ÇíÁõ¥Êé•ÂÆüË°å');
return await processFinalTranscriptOriginal(text);
}
} catch (error) {
console.error('[VoiceProcessingManager] „Ç®„É©„Éº:', error);
// „Ç®„É©„ÉºÊôÇ„ÅØÂæìÊù•Âá¶ÁêÜ„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
return await processFinalTranscriptOriginal(text);
}
}
// üîß Phase B: Èü≥Â£∞Ë®ÇÊ≠£„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
async function provideCorrectionFeedback(message) {
console.log('üîß Èü≥Â£∞Ë®ÇÊ≠£„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ:', message);
try {
// „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÁ∞°ÊΩî„Å™„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
const audioBlob = await ttsTextToAudioBlob(message, SPEAKERS.HAHORI);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
// ÁîªÈù¢„Å´„ÇÇ„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
window.showMessage('info', message);
} catch (error) {
console.error('‚ùå Èü≥Â£∞Ë®ÇÊ≠£„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
window.showMessage('info', message);
}
}
async function handleUserTextInput(text) {
if (!text || AppState.currentSpeaker !== SPEAKERS.NULL) return;
await addMessageToChat(SPEAKERS.USER, text);
// ‰ºöË©±Ê¨Ñ„Å´ÂèçÊò†Âæå„ÄÅÊñáÂ≠óËµ∑„Åì„ÅóÊ¨Ñ„Çí„ÇØ„É™„Ç¢
AppState.transcriptHistory = [];
AppState.currentTranscript = '';
window.updateTranscriptDisplay();
try {
// üé§ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÂÑ™ÂÖà: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°„ÅÆÂøúÁ≠îÂá¶ÁêÜ
if (AppState.voiceRecognitionState.isKnowledgeConfirmationMode) {
await processKnowledgeConfirmation(text);
return;
}
switch (AppState.phase) {
case 'warmup':
await processWarmupUserResponse(text);
break;
case 'deepdive':
await processDeepdiveUserResponse(text);
break;
case 'summary':
await processSummaryUserResponse(text);
break;
case 'knowledge_confirmation':
await processKnowledgeConfirmation(text);
break;
}
} catch (error) {
window.showMessage('error', `ÂøúÁ≠îÂá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
async function processWarmupUserResponse(text) {
const confirmation = `„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ„Åù„Çå„Åß„ÅØ„Äå${AppState.currentTheme}„Äç„Å´„Å§„ÅÑ„Å¶Ê∑±„ÅèÊéò„Çä‰∏ã„Åí„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ„Å≠„Åª„Çä„Éº„ÅÆ„Åã„ÇâË≥™Âïè„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ`;
const [, audioBlob] = await Promise.all([
addMessageToChat(SPEAKERS.HAHORI, confirmation),
ttsTextToAudioBlob(confirmation, SPEAKERS.HAHORI)
]);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
// „Éï„Çß„Éº„Ç∫ÈÅ∑Áßª„ÅØPhaseManager„Å´ÂßîË≠≤
if (window.PhaseManager) {
await window.PhaseManager.transitionToPhase('deepdive', { theme: AppState.currentTheme });
} else {
AppState.phase = 'deepdive';
}
AppState.waitingForPermission = true;
await startDeepdivePhase();
}
async function startDeepdivePhase() {
updateSessionStatus('Ê∑±Êéò„Çä‰∏≠', AppState.currentTheme);
try {
if (!window.AI_PROMPTS || !window.AI_PROMPTS.DEEPDIVE_FIRST) {
console.error('‚ùå AI_PROMPTS.DEEPDIVE_FIRST „ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
window.showMessage('error', '„Éó„É≠„É≥„Éó„ÉàË®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
const prompt = window.AI_PROMPTS.DEEPDIVE_FIRST(
AppState.currentTheme,
AppState.selectedThemeDetails,
AppState.themeSummaries
);
const firstQuestion = await gptMessagesToCharacterResponse([
{ role: 'user', content: prompt }
], SPEAKERS.NEHORI);
await addMessageToChat(SPEAKERS.NEHORI, firstQuestion);
const audio = await ttsTextToAudioBlob(firstQuestion, SPEAKERS.NEHORI);
await playPreGeneratedAudio(audio, SPEAKERS.NEHORI);
AppState.waitingForPermission = true;
} catch (error) {
window.showMessage('error', `Ê∑±Êéò„Çä„Éï„Çß„Éº„Ç∫„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
async function processDeepdiveUserResponse(text) {
try {
if (text.length > 50) {
// üéØ Êñ∞Ê©üËÉΩ: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
const conversationContext = AppState.conversationHistory.slice(-3)
.map(msg => `${msg.speaker}: ${msg.content}`)
.join('\n');
console.log('üîç Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†ÈñãÂßã...');
const voiceResult = await VoiceKnowledgeSystem.processKnowledgeWithVoiceEvaluation(text, conversationContext);
// voiceResult„Åånull„ÅÆÂ†¥Âêà„ÅØÊâãÂãïÁ¢∫Ë™çÂæÖÊ©ü‰∏≠ÔºàÈü≥Â£∞ÂøúÁ≠îÂæÖ„Å°Ôºâ
if (voiceResult === null) {
// Â∑¶„Éö„Ç§„É≥„ÅÆÈü≥Â£∞„Ç≥„Éû„É≥„ÉâË°®Á§∫„ÇíÊõ¥Êñ∞
updateVoiceCommandsDisplay();
// Âè≥„Éö„Ç§„É≥„ÅÆÁµ±Ë®àË°®Á§∫„ÇíÊõ¥Êñ∞
updateKnowledgeSettingsDisplay();
// üö´ ÈáçË¶Å: Áü•Ë¶ãÁ¢∫Ë™çÂæÖÊ©ü‰∏≠„ÅØ„Å≠„Åª„Çä„Éº„ÅÆ„ÅÆÊ¨°„ÅÆË≥™Âïè„ÇíÁîüÊàê„Åó„Å™„ÅÑ
console.log('üîÑ Áü•Ë¶ãÁ¢∫Ë™çÂæÖÊ©ü‰∏≠ - „Å≠„Åª„Çä„Éº„ÅÆ„ÅÆË≥™ÂïèÁîüÊàê„ÇíÂÅúÊ≠¢');
AppState.waitingForPermission = true;
return;
}
if (voiceResult.accepted) {
// ‚úÖ Áü•Ë¶ã„ÅåÊâøË™ç„Åï„Çå„ÅüÂ†¥ÂêàÔºàËá™Âãï„Åæ„Åü„ÅØÊâãÂãïÔºâ
const summary = voiceResult.summary || voiceResult.evaluation?.summary || text.substring(0, 50) + '...';
// üîÑ ÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆ‰∫íÊèõÊÄß: extractedKnowledge„Å´ËøΩÂä†
AppState.extractedKnowledge.push({
content: text,
summary: summary,
timestamp: new Date(),
point: AppState.currentPoint,
// üÜï Êñ∞Ê©üËÉΩ: ÂìÅË≥™Ë©ï‰æ°„Éá„Éº„Çø„ÇíËøΩÂä†
quality_evaluation: voiceResult.evaluation,
acceptance_reason: voiceResult.reason,
score: Math.round(voiceResult.evaluation.overall * 100)
});
// üîÑ Êñ∞Ê©üËÉΩ: Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å®ÈÄ£Êê∫
if (window.KnowledgeState.currentSession) {
KnowledgeFileManager.addInsight(
text,
{
situation: conversationContext,
related_conversation: AppState.conversationHistory.slice(-2)
},
voiceResult.evaluation
);
console.log('‚úÖ Áü•Ë¶ã„Éï„Ç°„Ç§„É´„Ç∑„Çπ„ÉÜ„É†„Å´‰øùÂ≠òÂÆå‰∫Ü');
}
window.updateKnowledgeDisplay();
updateKnowledgeSettingsDisplay();
// Ê¨°„ÅÆË≥™Âïè„Å∏
await askNextQuestionInDeepDive();
} else {
// ‚ùå Áü•Ë¶ã„ÅåÂç¥‰∏ã„Åï„Çå„ÅüÂ†¥Âêà
const reason = voiceResult?.reason || 'unknown_error';
const details = voiceResult?.details || '';
console.log(`‚ùå Áü•Ë¶ãÂç¥‰∏ã: ${reason}${details ? ' - ' + details : ''}`);
// „Ç®„É©„Éº„ÅÆÁ®ÆÈ°û„Å´Âøú„Åò„ÅüÂá¶ÁêÜ
if (reason === 'prerequisites_not_met') {
window.showMessage('warning', `Áü•Ë¶ãË©ï‰æ°„ÅÆÂâçÊèêÊù°‰ª∂„Ç®„É©„Éº: ${details}`);
} else if (reason === 'process_error') {
window.showMessage('error', `Áü•Ë¶ãË©ï‰æ°Âá¶ÁêÜ„Ç®„É©„Éº: ${details}`);
} else if (reason === 'manual_fallback_error') {
window.showMessage('error', 'Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇÂæå„Åß„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ');
} else if (reason === 'manual_rejection') {
window.showMessage('info', 'Áü•Ë¶ã„ÅØ‰øùÂ≠ò„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ');
} else {
console.log(`‚ùå Áü•Ë¶ãÂç¥‰∏ã: ${reason}`);
}
updateKnowledgeSettingsDisplay();
// Ê¨°„ÅÆË≥™Âïè„Å∏
await askNextQuestionInDeepDive();
}
AppState.waitingForPermission = true;
} else {
// Áü≠„ÅÑÂõûÁ≠î„ÅÆÂ†¥ÂêàÔºö„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Â£∞„Å™„Åó„ÄÅ„Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÁîüÊàê„ÉªÁô∫Â£∞
if (VoiceOptimization.phase3.isActive) {
await generateAndPlayNehoriImmediately();
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂæìÊù•„ÅÆÂá¶ÁêÜ
const prompt = window.AI_PROMPTS.DEEPDIVE_FOLLOWUP ?
window.AI_PROMPTS.DEEPDIVE_FOLLOWUP(text, '') :
`ÂõûÁ≠î„Äå${text}„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„Åï„Çâ„Å´Ê∑±„ÅèÊéò„Çä‰∏ã„Åí„ÇãË≥™Âïè„Çí„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂÖ∑‰ΩìÁöÑ„Å™„Ç®„Éî„ÇΩ„Éº„Éâ„ÄÅÊÑüÊÉÖ„ÄÅÂ≠¶„Å≥„ÄÅËÉåÊôØ„Å™„Å©„Çí„Çà„ÇäË©≥Á¥∞„Å´Âºï„ÅçÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
const followUp = await gptMessagesToCharacterResponse([
{ role: 'user', content: prompt }
], SPEAKERS.NEHORI);
await addMessageToChat(SPEAKERS.NEHORI, followUp);
const audio = await ttsTextToAudioBlob(followUp, SPEAKERS.NEHORI);
await playPreGeneratedAudio(audio, SPEAKERS.NEHORI);
}
AppState.waitingForPermission = true;
}
} catch (error) {
window.showMessage('error', `Ê∑±Êéò„ÇäÂøúÁ≠îÂá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
async function askNextQuestionInDeepDive() {
if (AppState.justPlayedPendingNehori) {
return;
}
const isConfirmation = AppState.voiceRecognitionState.isKnowledgeConfirmationMode;
try {
const recentConversation = AppState.conversationHistory
.slice(-6)
.map(msg => `${msg.sender}: ${msg.content}`)
.join('\n');
const knowledgeContext = AppState.extractedKnowledge
.map((knowledge, index) => `Áü•Ë¶ã${index + 1}: ${knowledge.summary}`)
.join('\n');
if (!window.AI_PROMPTS || !window.AI_PROMPTS.DEEPDIVE_NEXT) {
console.error('‚ùå AI_PROMPTS.DEEPDIVE_NEXT „ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
window.showMessage('error', '„Éó„É≠„É≥„Éó„ÉàË®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
const nextQuestionPrompt = window.AI_PROMPTS.DEEPDIVE_NEXT(
AppState.currentTheme,
recentConversation,
knowledgeContext,
AppState.selectedThemeDetails,
AppState.themeSummaries
);
const nextQuestion = await gptMessagesToCharacterResponse([
{ role: 'user', content: nextQuestionPrompt }
], SPEAKERS.NEHORI);
const audio = await ttsTextToAudioBlob(nextQuestion, SPEAKERS.NEHORI);
if (isConfirmation) {
AppState.pendingNehoriQuestion = nextQuestion;
AppState.pendingNehoriAudio = audio;
return;
}
await addMessageToChat(SPEAKERS.NEHORI, nextQuestion);
await playPreGeneratedAudio(audio, SPEAKERS.NEHORI);
} catch (error) {
window.showMessage('error', `Ê¨°„ÅÆË≥™ÂïèÁîüÊàê„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
async function processSummaryUserResponse(text) {
// „Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫„ÅÆÂá¶ÁêÜ
console.log('„Åæ„Å®„ÇÅ„Éï„Çß„Éº„Ç∫„ÅÆÂøúÁ≠î:', text);
}
async function processKnowledgeConfirmation(text) {
console.log('üé§ Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãÁ¢∫Ë™ç:', text);
if (!AppState.voiceRecognitionState.pendingKnowledgeEvaluation) {
console.warn('‚ö†Ô∏è ‰øùÁïô‰∏≠„ÅÆÁü•Ë¶ãË©ï‰æ°„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return;
}
const evaluation = AppState.voiceRecognitionState.pendingKnowledgeEvaluation;
const userInput = text.toLowerCase().trim();
// ÈñæÂÄ§Â§âÊõ¥„Ç≥„Éû„É≥„Éâ„ÅÆÁ¢∫Ë™ç
if (await handleThresholdChangeCommand(userInput)) {
return;
}
// Ë®≠ÂÆöÁ¢∫Ë™ç„Ç≥„Éû„É≥„Éâ„ÅÆÁ¢∫Ë™ç
if (handleSettingsInquiry(userInput)) {
return;
}
// Ë©≥Á¥∞Ë™¨ÊòéË¶ÅÊ±Ç„ÅÆÁ¢∫Ë™ç
if (VoicePatterns.DETAIL_PATTERNS.some(pattern => userInput.includes(pattern))) {
await handleDetailedExplanation(evaluation);
return;
}
// ÊâøË™ç„Éë„Çø„Éº„É≥„ÅÆÁ¢∫Ë™ç
if (VoicePatterns.APPROVAL_PATTERNS.some(pattern => userInput.includes(pattern))) {
await handleKnowledgeApproval(evaluation);
return;
}
// ÊãíÂê¶„Éë„Çø„Éº„É≥„ÅÆÁ¢∫Ë™ç
if (VoicePatterns.REJECTION_PATTERNS.some(pattern => userInput.includes(pattern))) {
await handleKnowledgeRejection();
return;
}
// Ë™çË≠ò„Åß„Åç„Å™„ÅÑÂ†¥Âêà
await handleUnrecognizedResponse();
}
// =================================================================================
// SESSION MANAGEMENT - „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ
// =================================================================================
// üîß „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÂá¶ÁêÜ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.startSession „Åß‰øùË®º
// üîß „Ç¶„Ç©„Éº„É†„Ç¢„ÉÉ„Éó„Éï„Çß„Éº„Ç∫ÈñãÂßãÂá¶ÁêÜ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.startWarmupPhase „Åß‰øùË®º
// =================================================================================
// UI MANAGEMENT - UIÁÆ°ÁêÜ
// =================================================================================
async function addMessageToChat(speaker, message) {
// üö´ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅØ„Å≠„Åª„Çä„Éº„ÅÆ„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫„ÇíÁµ∂ÂØæ„Å´Ë°å„Çè„Å™„ÅÑ
if (speaker === SPEAKERS.NEHORI && AppState.voiceRecognitionState.isKnowledgeConfirmationMode) {
return;
}
const messagesContainer = window.UIManager.DOMUtils.get('messagesContainer');
if (messagesContainer) {
const messageDiv = document.createElement('div');
messageDiv.className = `message ${speaker}`;
const speakerName = {
[SPEAKERS.NEHORI]: '„Å≠„Åª„Çä„Éº„ÅÆ',
[SPEAKERS.HAHORI]: '„ÅØ„Åª„Çä„Éº„ÅÆ',
[SPEAKERS.USER]: '„ÅÇ„Å™„Åü'
}[speaker];
messageDiv.innerHTML = `
<div class="message-header">${speakerName}</div>
<div class="message-content">${message}</div>
`;
messagesContainer.appendChild(messageDiv);
messagesContainer.scrollTop = messagesContainer.scrollHeight;
// ‰ºöË©±Â±•Ê≠¥„Å´ËøΩÂä†
AppState.conversationHistory.push({
sender: speaker,
content: message,
timestamp: new Date()
});
console.log(`‚úÖ „É°„ÉÉ„Çª„Éº„Ç∏ËøΩÂä†: ${speakerName} - ${message.substring(0, 50)}...`);
}
// „É°„ÉÉ„Çª„Éº„Ç∏ËøΩÂä†Âæå„Å´AIÂøúÁ≠î‰∏≠Ë°®Á§∫„ÇíÂà∂Âæ°
if (speaker === SPEAKERS.NEHORI || speaker === SPEAKERS.HAHORI) {
setTimeout(() => {
AppState.currentSpeaker = SPEAKERS.NULL;
window.updateTranscriptDisplay();
}, 100);
}
}
// üîß Phase B: Èü≥Â£∞Âà∂Âæ°ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const AudioControlManager = {
// ÁèæÂú®ÂÜçÁîü‰∏≠„ÅÆÈü≥Â£∞„ÇíËøΩË∑°
activeAudioSources: new Set(),
// Èü≥Â£∞ÁôªÈå≤
registerAudio(audioElement, source, speaker) {
const audioData = {
audio: audioElement,
source: source,
speaker: speaker,
startTime: Date.now(),
id: `audio_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
};
this.activeAudioSources.add(audioData);
console.log(`üéµ Èü≥Â£∞ÁôªÈå≤: ${speaker} (ID: ${audioData.id})`);
// Èü≥Â£∞ÁµÇ‰∫ÜÊôÇ„ÅÆËá™ÂãïÂâäÈô§
audioElement.addEventListener('ended', () => {
this.unregisterAudio(audioData);
});
audioElement.addEventListener('error', () => {
this.unregisterAudio(audioData);
});
return audioData.id;
},
// Èü≥Â£∞ÁôªÈå≤Ëß£Èô§
unregisterAudio(audioData) {
this.activeAudioSources.delete(audioData);
console.log(`üîá Èü≥Â£∞ÁôªÈå≤Ëß£Èô§: ${audioData.speaker} (ID: ${audioData.id})`);
},
// ÂÖ®Èü≥Â£∞Âº∑Âà∂ÂÅúÊ≠¢
forceStopAllAudio(reason = 'user_request') {
console.log(`üõë ÂÖ®Èü≥Â£∞Âº∑Âà∂ÂÅúÊ≠¢ÈñãÂßã: ${reason} (ÂØæË±°: ${this.activeAudioSources.size}‰ª∂)`);
let stoppedCount = 0;
this.activeAudioSources.forEach(audioData => {
try {
audioData.audio.pause();
audioData.audio.currentTime = 0;
URL.revokeObjectURL(audioData.audio.src);
stoppedCount++;
console.log(`üîá ÂÅúÊ≠¢: ${audioData.speaker} (ÂÜçÁîüÊôÇÈñì: ${Date.now() - audioData.startTime}ms)`);
} catch (error) {
console.warn(`‚ö†Ô∏è Èü≥Â£∞ÂÅúÊ≠¢„Ç®„É©„Éº (${audioData.speaker}):`, error);
}
});
this.activeAudioSources.clear();
AppState.currentSpeaker = SPEAKERS.NULL;
console.log(`‚úÖ ÂÖ®Èü≥Â£∞ÂÅúÊ≠¢ÂÆå‰∫Ü: ${stoppedCount}‰ª∂ÂÅúÊ≠¢ (ÁêÜÁî±: ${reason})`);
// „É¶„Éº„Ç∂„ÉºÂêë„Åë„É°„ÉÉ„Çª„Éº„Ç∏
if (stoppedCount > 0 && reason === 'user_request') {
window.showMessage('info', `${stoppedCount}‰ª∂„ÅÆÈü≥Â£∞ÂÜçÁîü„ÇíÂÅúÊ≠¢„Åó„Åæ„Åó„Åü`);
}
return stoppedCount;
},
// ÁâπÂÆöË©±ËÄÖ„ÅÆÈü≥Â£∞ÂÅúÊ≠¢
stopSpeakerAudio(speaker, reason = 'speaker_control') {
let stoppedCount = 0;
const audioToStop = Array.from(this.activeAudioSources).filter(audioData => audioData.speaker === speaker);
audioToStop.forEach(audioData => {
try {
audioData.audio.pause();
audioData.audio.currentTime = 0;
URL.revokeObjectURL(audioData.audio.src);
this.activeAudioSources.delete(audioData);
stoppedCount++;
console.log(`üîá ${speaker}Èü≥Â£∞ÂÅúÊ≠¢: ${audioData.id}`);
} catch (error) {
console.warn(`‚ö†Ô∏è ${speaker}Èü≥Â£∞ÂÅúÊ≠¢„Ç®„É©„Éº:`, error);
}
});
if (AppState.currentSpeaker === speaker) {
AppState.currentSpeaker = SPEAKERS.NULL;
}
console.log(`‚úÖ ${speaker}Èü≥Â£∞ÂÅúÊ≠¢ÂÆå‰∫Ü: ${stoppedCount}‰ª∂ (ÁêÜÁî±: ${reason})`);
return stoppedCount;
},
// „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Èü≥Â£∞ÊÉÖÂ†±ÂèñÂæó
getActiveAudioInfo() {
return Array.from(this.activeAudioSources).map(audioData => ({
speaker: audioData.speaker,
source: audioData.source,
duration: Date.now() - audioData.startTime,
id: audioData.id
}));
}
};
async function playPreGeneratedAudio(audioBlob, speaker) {
// üö´ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ‰∏≠„ÅØ„Å≠„Åª„Çä„Éº„ÅÆ„ÅÆÈü≥Â£∞ÂÜçÁîü„ÇíÁµ∂ÂØæ„Å´Ë°å„Çè„Å™„ÅÑ
if (speaker === SPEAKERS.NEHORI && AppState.voiceRecognitionState.isKnowledgeConfirmationMode) {
return;
}
return new Promise((resolve, reject) => {
const audio = new Audio();
audio.src = URL.createObjectURL(audioBlob);
// üîß Phase B: Èü≥Â£∞ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÁôªÈå≤
const audioId = AudioControlManager.registerAudio(audio, 'tts_generated', speaker);
// Èü≥ÈáèË®≠ÂÆö„ÇíÈÅ©Áî®
const voiceSettings = getVoiceSettings(speaker);
audio.volume = voiceSettings.volume;
AppState.currentSpeaker = speaker;
// üé® Êñ∞Ê©üËÉΩ: Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„Éà„ÇíÁô∫Ë°åÔºàÂè≥„Éë„Éç„É´ËÉåÊôØÂ§âÂåñ„ÅÆ„Åü„ÇÅÔºâ
if (window.dispatchEvent) {
const speakerChangeEvent = new CustomEvent('speaker-change', {
detail: { speaker: speaker }
});
window.dispatchEvent(speakerChangeEvent);
console.log(`üé® Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„ÉàÁô∫Ë°å: ${speaker}`);
}
// Phase 3: „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Â£∞ÈñãÂßãÊôÇ„Å´„Å≠„Åª„Çä„Éº„ÅÆÁîüÊàê„ÇíÈñãÂßã
if (speaker === SPEAKERS.HAHORI && VoiceOptimization.phase3.isActive) {
VoiceOptimization.phase3.hahoriSpeechStartTime = Date.now();
startNehoriGenerationDuringHahori();
}
audio.onended = async () => {
AppState.currentSpeaker = SPEAKERS.NULL;
URL.revokeObjectURL(audio.src);
// üé® Êñ∞Ê©üËÉΩ: Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„Éà„ÇíÁô∫Ë°åÔºàÁô∫Ë©±ÁµÇ‰∫ÜÊôÇÔºâ
if (window.dispatchEvent) {
const speakerChangeEvent = new CustomEvent('speaker-change', {
detail: { speaker: null }
});
window.dispatchEvent(speakerChangeEvent);
console.log('üé® Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„ÉàÁô∫Ë°å: null (Áô∫Ë©±ÁµÇ‰∫Ü)');
}
// Phase 3: „ÅØ„Åª„Çä„Éº„ÅÆÁô∫Â£∞ÁµÇ‰∫ÜÂæå„ÄÅ„Å≠„Åª„Çä„Éº„ÅÆ„ÇíÂç≥Â∫ß„Å´ÂÜçÁîü
if (speaker === SPEAKERS.HAHORI && VoiceOptimization.phase3.shouldPlayNehoriImmediately) {
await handleNehoriImmediatePlayback();
}
// AIÁô∫Ë®ÄÁµÇ‰∫ÜÂæå„ÄÅÈü≥Â£∞Ë™çË≠ò„ÇíÁ¢∫ÂÆü„Å´ÂÜçÈñã
restartSpeechRecognition();
resolve();
};
audio.onerror = (error) => {
AppState.currentSpeaker = SPEAKERS.NULL;
URL.revokeObjectURL(audio.src);
// üé® Êñ∞Ê©üËÉΩ: Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„Éà„ÇíÁô∫Ë°åÔºà„Ç®„É©„ÉºÊôÇÔºâ
if (window.dispatchEvent) {
const speakerChangeEvent = new CustomEvent('speaker-change', {
detail: { speaker: null }
});
window.dispatchEvent(speakerChangeEvent);
console.log('üé® Ë©±ËÄÖÂ§âÂåñ„Ç§„Éô„É≥„ÉàÁô∫Ë°å: null („Ç®„É©„Éº)');
}
reject(error);
};
audio.play().catch(reject);
});
}
// =================================================================================
// VOICE OPTIMIZATION PHASE 3 - Èü≥Â£∞ÊúÄÈÅ©Âåñ Phase 3
// =================================================================================
// üîß ÊîπÂñÑÁâà: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆ„Å≠„Åª„Çä„Éº„ÅÆË≥™ÂïèÁîüÊàê
// üîß „Å≠„Åª„Çä„ÉºÈñ¢Êï∞Áæ§: startNehoriGenerationDuringHahori „ÅØ app/voice-phase2-manager.js „Å´ÂàÜÈõ¢Ê∏à„Åø
// ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÄÅÊó¢Â≠òÂèÇÁÖß„ÅØ window.startNehoriGenerationDuringHahori „ÅßÁ∂≠ÊåÅ
// üîß ÊîπÂñÑÁâà: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆ„Å≠„Åª„Çä„Éº„ÅÆÂç≥Â∫ßÂÜçÁîü
// üîß „Å≠„Åª„Çä„ÉºÈñ¢Êï∞Áæ§: ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅØ app/voice-phase2-manager.js „Å´ÂàÜÈõ¢Ê∏à„Åø
// - handleNehoriImmediatePlayback
// - generateAndPlayNehoriImmediately
// - playPendingNehoriIfNeeded
// ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÄÅÊó¢Â≠òÂèÇÁÖß„ÅØ window.* „ÅßÁ∂≠ÊåÅ
// üîß „ÅØ„Åª„Çä„ÉºÈñ¢Êï∞Áæ§: ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅØ app/voice-phase2-manager.js „Å´ÂàÜÈõ¢Ê∏à„Åø
// - startHahoriGenerationDuringNehori
// - handleHahoriImmediatePlayback
// - playPendingHahoriIfNeeded
// ÂÆåÂÖ®ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÄÅÊó¢Â≠òÂèÇÁÖß„ÅØ window.* „ÅßÁ∂≠ÊåÅ
// =================================================================================
// DATA EXPORT - „Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà
// =================================================================================
function downloadMarkdownReport() {
console.log('üí° downloadMarkdownReport „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
try {
const markdown = generateMarkdownReport();
const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19);
const filename = `Ê∑±Â†Ä„Çª„ÉÉ„Ç∑„Éß„É≥_${timestamp}.md`;
downloadTextFile(markdown, filename);
window.showMessage('success', '„É¨„Éù„Éº„Éà„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„Åü');
console.log('‚úÖ „É¨„Éù„Éº„Éà„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „É¨„Éù„Éº„Éà„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
window.showMessage('error', '„É¨„Éù„Éº„Éà„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
// =================================================================================
// KNOWLEDGE PERSISTENCE SYSTEM - Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üß¨ ÂÖ®Áü•Ë¶ãÊ∞∏Á∂öÂåñ„Éá„Éº„Çø„Éô„Éº„ÇπÁÆ°ÁêÜ - knowledge-management.js„Å´ÁßªÂãï
// üß¨ ÂÖ®Áü•Ë¶ã„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩ - knowledge-management.js„Å´ÁßªÂãï
// AIÊï¥ÁêÜ„Å´„Çà„ÇãÂÖ®Áü•Ë¶ã„ÅÆÊã°ÂºµÂá¶ÁêÜ - knowledge-management.js„Å´ÁßªÂãï
// ÂÖ®Áü•Ë¶ã„Ç¢„Éº„Ç´„Ç§„Éñ„Éï„Ç°„Ç§„É´ÂÜÖÂÆπÊßãÁØâ - knowledge-management.js„Å´ÁßªÂãï
// üîÑ ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆ„É©„ÉÉ„Éë„ÉºÈñ¢Êï∞ÔºàexportAllData ‚Üí downloadAllKnowledgeÔºâ
async function exportAllData() {
console.log('üí° exportAllData „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„ÅüÔºàdownloadAllKnowledge„Å∏„É™„ÉÄ„Ç§„É¨„ÇØ„ÉàÔºâ');
await downloadAllKnowledge();
}
function generateMarkdownReport() {
let markdown = `# Ê∑±Â†Ä„Çª„ÉÉ„Ç∑„Éß„É≥ „É¨„Éù„Éº„Éà\n\n`;
markdown += `**„ÉÜ„Éº„Éû:** ${AppState.currentTheme}\n`;
markdown += `**ÈñãÂßãÊôÇÂàª:** ${AppState.sessionStartTime ? AppState.sessionStartTime.toLocaleString('ja-JP') : '‰∏çÊòé'}\n`;
markdown += `**ÁîüÊàêÊôÇÂàª:** ${new Date().toLocaleString('ja-JP')}\n\n`;
if (AppState.conversationHistory.length > 0) {
markdown += `## ‰ºöË©±Â±•Ê≠¥\n\n`;
AppState.conversationHistory.forEach((msg, index) => {
const senderName = {
[SPEAKERS.NEHORI]: '„Å≠„Åª„Çä„Éº„ÅÆ',
[SPEAKERS.HAHORI]: '„ÅØ„Åª„Çä„Éº„ÅÆ',
[SPEAKERS.USER]: '„ÅÇ„Å™„Åü'
}[msg.sender];
markdown += `### ${index + 1}. ${senderName}\n`;
markdown += `${msg.content}\n\n`;
});
}
if (AppState.extractedKnowledge.length > 0) {
markdown += `## ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã\n\n`;
AppState.extractedKnowledge.forEach((knowledge, index) => {
markdown += `### Áü•Ë¶ã ${index + 1}\n`;
markdown += `**Ë¶ÅÁ¥Ñ:** ${knowledge.summary}\n\n`;
markdown += `**Ë©≥Á¥∞:**\n${knowledge.content}\n\n`;
if (knowledge.timestamp) {
markdown += `**Ë®òÈå≤ÊôÇÂàª:** ${knowledge.timestamp.toLocaleString('ja-JP')}\n\n`;
}
markdown += `---\n\n`;
});
}
return markdown;
}
// downloadTextFileÈñ¢Êï∞„ÅØapp/utils.js„Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// =================================================================================
// CRYPTO UTILITIES - ÊöóÂè∑Âåñ„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£
// =================================================================================
// LocalStorageÊìç‰ΩúÈñ¢Êï∞„ÅØapp/storage-manager.js„Å´ÁßªÂãïÊ∏à„Åø
// üîß 2„Çπ„ÉÜ„ÉÉ„ÉóÁä∂ÊÖãË©ï‰æ°„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.evaluate2StepStatus „Åß‰øùË®º
// üîß 2„Çπ„ÉÜ„ÉÉ„ÉóUIÊõ¥Êñ∞Ê©üËÉΩ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.update2StepUI „Åß‰øùË®º
// üîß „Éï„Ç©„Éº„Ç´„ÇπÂà∂Âæ°Èñ¢Êï∞„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.focusPasswordInput„ÄÅwindow.focusThemeInput „Åß‰øùË®º
// üîß „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇØ„É™„Ç¢Âá¶ÁêÜ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.handleLogout „Åß‰øùË®º
// üîß „ÉÜ„Éº„Éû„ÇØ„É™„Ç¢Âá¶ÁêÜ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.handleThemeClear „Åß‰øùË®º
// üîß „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÅÆÁä∂ÊÖãÊõ¥Êñ∞„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.updateSessionStartButton „Åß‰øùË®º
// üîÑ „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Áä∂ÊÖãÂæ©ÂÖÉÊ©üËÉΩ
async function restoreApplicationState() {
try {
console.log('üìã „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Áä∂ÊÖãÂæ©ÂÖÉÈñãÂßã...');
// 1. „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÅÆÂæ©ÂÖÉ
const isLoggedIn = loadLoginState();
if (isLoggedIn) {
console.log('üîê „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„ÇíÂæ©ÂÖÉ‰∏≠...');
// ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„Åå„ÅÇ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
const savedHashes = getPasswordHashList();
if (savedHashes.length > 0) {
// API„Ç≠„Éº„ÅØÊó¢„Å´ÊöóÂè∑Âåñ„Åï„Çå„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅ„Åì„Åì„Åß„ÅØÁä∂ÊÖã„ÅÆ„ÅøË®≠ÂÆö
console.log('‚úÖ „É≠„Ç∞„Ç§„É≥Áä∂ÊÖãÂæ©ÂÖÉ: API„Ç≠„Éº„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
// Ê≥®ÊÑè: AppState.apiKey„ÅØÂÆüÈöõ„ÅÆ„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•ÂäõÊôÇ„Å´Ë®≠ÂÆö„Åï„Çå„Çã
} else {
// ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„Åå„Å™„ÅÑÂ†¥Âêà„ÅØ„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢
clearLoginState();
console.log('‚ö†Ô∏è API„Ç≠„Éº„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢');
}
}
// 2. „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖã„ÅÆÂæ©ÂÖÉ
const savedTheme = loadThemeInputState();
if (savedTheme) {
const themeInput = window.UIManager.DOMUtils.get('themeInput');
if (themeInput) {
themeInput.value = savedTheme;
console.log(`üé® „ÉÜ„Éº„ÉûÂÖ•ÂäõÁä∂ÊÖãÂæ©ÂÖÉ: "${savedTheme}"`);
}
}
// 3. Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Ë®≠ÂÆö„ÅÆÂæ©ÂÖÉ
loadKnowledgeSettings();
updateKnowledgeSettingsDisplay();
console.log('üéØ Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Ë®≠ÂÆöÂæ©ÂÖÉÂÆå‰∫Ü');
// 4. 2„Çπ„ÉÜ„ÉÉ„ÉóUI„ÅÆÂàùÊúüÊõ¥Êñ∞
update2StepUI();
// 5. „Éï„Ç°„Ç§„É´ÂÖ•Âäõ„ÅÆÂàùÊúüÁä∂ÊÖãË®≠ÂÆö
setTimeout(() => {
updateFileInputDisplay();
}, 100);
console.log('‚úÖ „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Áä∂ÊÖãÂæ©ÂÖÉÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Áä∂ÊÖãÂæ©ÂÖÉ„Ç®„É©„Éº:', error);
// „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÅØÁä∂ÊÖã„Çí„ÇØ„É™„Ç¢
clearLoginState();
clearThemeInputState();
update2StepUI();
}
}
// =================================================================================
// API KEY MANAGEMENT - API„Ç≠„ÉºÁÆ°ÁêÜ
// =================================================================================
async function setupApiKey() {
console.log('üí° setupApiKey „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const elements = window.UIManager.DOMUtils.getAll(['apiKeyInput', 'apiPasswordInput', 'testApiButton', 'startButton']);
if (!elements.apiKeyInput || !elements.apiPasswordInput) {
window.showMessage('error', 'ÂÖ•ÂäõÊ¨Ñ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const apiKey = elements.apiKeyInput.value.trim();
const password = elements.apiPasswordInput.value.trim();
if (!password) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
if (apiKey && !apiKey.startsWith('sk-')) {
window.showMessage('error', 'Ê≠£„Åó„ÅÑOpenAI API„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ (sk-...„ÅßÂßã„Åæ„Çã)');
return;
}
try {
if (apiKey) {
console.log('üîç Êñ∞„Åó„ÅÑAPI„Ç≠„Éº„ÅÆÊé•Á∂ö„ÉÜ„Çπ„Éà„ÇíÂÆüË°å‰∏≠...');
if (hasApiKeyForPassword(password)) {
const overwrite = confirm(`„Åì„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„Å´„ÅØÊó¢„Å´API„Ç≠„Éº„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n‰∏äÊõ∏„Åç„Åó„Åæ„Åô„ÅãÔºü`);
if (!overwrite) {
window.showMessage('info', 'API„Ç≠„Éº„ÅÆË®≠ÂÆö„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Åæ„Åó„Åü');
return;
}
}
window.showMessage('info', 'API„Ç≠„ÉºÊé•Á∂ö„ÉÜ„Çπ„Éà‰∏≠...');
AppState.apiKey = apiKey;
const isValid = await testApiConnection();
if (isValid) {
saveEncryptedApiKey(apiKey, password);
window.showMessage('success', '‚úÖ API„Ç≠„ÉºÊé•Á∂ö„ÉÜ„Çπ„ÉàÊàêÂäüÔºÅÊöóÂè∑Âåñ‰øùÂ≠ò„Åï„Çå„Åæ„Åó„Åü');
elements.apiKeyInput.value = '';
updateApiKeyStatusDisplay();
if (elements.startButton) {
elements.startButton.disabled = false;
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÇíÊúâÂäπÂåñ„Åó„Åæ„Åó„Åü');
}
} else {
AppState.apiKey = null;
window.showMessage('error', '‚ùå API„Ç≠„Éº„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇÊ≠£„Åó„ÅÑ„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
if (elements.startButton) {
elements.startButton.disabled = true;
}
return;
}
} else {
console.log('üîç ‰øùÂ≠òÊ∏à„ÅøAPI„Ç≠„Éº„ÅÆË™≠„ÅøËæº„Åø„Å®Êé•Á∂ö„ÉÜ„Çπ„Éà‰∏≠...');
window.showMessage('info', '‰øùÂ≠òÊ∏à„ÅøAPI„Ç≠„Éº„ÅÆÊé•Á∂ö„ÉÜ„Çπ„Éà‰∏≠...');
const decryptedKey = loadEncryptedApiKey(password);
AppState.apiKey = decryptedKey;
const isValid = await testApiConnection();
if (isValid) {
window.showMessage('success', '‚úÖ ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„ÅüÔºàÊé•Á∂öÁ¢∫Ë™çÊ∏à„ÅøÔºâ');
if (elements.startButton) {
elements.startButton.disabled = false;
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÇíÊúâÂäπÂåñ„Åó„Åæ„Åó„Åü');
}
} else {
AppState.apiKey = null;
window.showMessage('error', '‚ùå ‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇÊñ∞„Åó„ÅÑ„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
clearSavedApiKey(password);
console.log('üóëÔ∏è ÁÑ°Âäπ„Å™API„Ç≠„Éº„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü');
if (elements.startButton) {
elements.startButton.disabled = true;
}
return;
}
}
elements.apiPasswordInput.value = '';
if (elements.testApiButton) {
elements.testApiButton.disabled = false;
}
console.log('‚úÖ API„Ç≠„ÉºË®≠ÂÆöÂÆå‰∫Ü');
} catch (error) {
AppState.apiKey = null;
if (elements.startButton) {
elements.startButton.disabled = true;
}
console.error('‚ùå API„Ç≠„ÉºË®≠ÂÆö„Ç®„É©„Éº:', error);
window.showMessage('error', 'API„Ç≠„ÉºË®≠ÂÆö„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
}
async function testApiConnection() {
console.log('üîç testApiConnection „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
// üîê Âüã„ÇÅËæº„ÅøAPI KeyÁµ±Âêà: ÂÑ™ÂÖàÈ†Ü‰ΩçÂà∂Âæ°„ÅßAPI KeyÂèñÂæó
let apiKeyToTest = AppState.apiKey;
if (!apiKeyToTest && window.StorageManager && window.StorageManager.apiKey.getWithPriority) {
apiKeyToTest = window.StorageManager.apiKey.getWithPriority();
if (apiKeyToTest) {
console.log('üè¢ Âüã„ÇÅËæº„ÅøAPI Key„Åß„ÉÜ„Çπ„ÉàÂÆüË°å');
// AppState„ÇÇÊõ¥Êñ∞
AppState.apiKey = apiKeyToTest;
AppState.apiKeySource = 'embedded';
}
}
if (!apiKeyToTest) {
console.log('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
try {
console.log('APIÊé•Á∂ö„ÉÜ„Çπ„Éà„ÇíÈñãÂßã„Åó„Åæ„Åô');
const response = await fetch('https://api.openai.com/v1/chat/completions', {
method: 'POST',
headers: {
'Authorization': `Bearer ${apiKeyToTest}`,
'Content-Type': 'application/json'
},
body: JSON.stringify({
model: 'gpt-4o-mini',
messages: [{ role: 'user', content: 'Hello' }],
max_tokens: 5
})
});
if (response.ok) {
console.log('‚úÖ APIÊé•Á∂ö„ÉÜ„Çπ„ÉàÊàêÂäü');
return true;
} else {
const errorData = await response.json();
console.error('‚ùå APIÊé•Á∂ö„ÉÜ„Çπ„ÉàÂ§±Êïó:', errorData);
return false;
}
} catch (error) {
console.error('‚ùå APIÊé•Á∂ö„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
return false;
}
}
async function testApiKey() {
console.log('üí° testApiKey „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
if (!AppState.apiKey) {
window.showMessage('error', 'API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return;
}
window.showMessage('info', 'APIÊé•Á∂ö„ÉÜ„Çπ„Éà‰∏≠...');
const isValid = await testApiConnection();
if (isValid) {
window.showMessage('success', 'APIÊé•Á∂ö„ÉÜ„Çπ„ÉàÊàêÂäüÔºÅ„Ç≠„Éº„ÅØÊúâÂäπ„Åß„Åô');
const startButton = document.getElementById('startButton');
if (startButton) {
startButton.disabled = false;
console.log('‚úÖ „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÇíÊúâÂäπÂåñ„Åó„Åæ„Åó„Åü');
}
} else {
window.showMessage('error', 'APIÊé•Á∂öÂ§±ÊïóÔºö„Ç≠„Éº„ÅåÁÑ°Âäπ„Åß„Åô');
const startButton = document.getElementById('startButton');
if (startButton) {
startButton.disabled = true;
console.log('‚ùå „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã„Éú„Çø„É≥„ÇíÁÑ°ÂäπÂåñ„Åó„Åæ„Åó„Åü');
}
}
}
function clearSavedApiKey(password = null) {
if (password) {
const passwordHash = window.hashPassword(password);
const keyId = `fukabori_encrypted_key_${passwordHash}`;
const timestampId = `fukabori_key_timestamp_${passwordHash}`;
localStorage.removeItem(keyId);
localStorage.removeItem(timestampId);
console.log(`üóëÔ∏è API„Ç≠„Éº„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü („Éë„Çπ„ÉØ„Éº„ÉâID: ${passwordHash})`);
}
}
/**
* API„Ç≠„ÉºÂâäÈô§Ê©üËÉΩÔºàUI„Éú„Çø„É≥Áî®Ôºâ
*/
function clearApiKey() {
try {
console.log('üí° clearApiKey „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const passwordInput = document.getElementById('apiPasswordInput');
if (!passwordInput) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const password = passwordInput.value.trim();
if (!password) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åã„ÇâAPI„Ç≠„Éº„ÇíÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// Ë©≤ÂΩì„Åô„ÇãAPI„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!hasApiKeyForPassword(password)) {
window.showMessage('error', '„Åù„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„Å´ÂØæÂøú„Åô„ÇãAPI„Ç≠„Éº„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü');
return;
}
// Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞
if (confirm('‰øùÂ≠ò„Åï„Çå„ÅüAPI„Ç≠„Éº„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü\n„Åì„ÅÆÊìç‰Ωú„ÅØÂèñ„ÇäÊ∂à„Åõ„Åæ„Åõ„Çì„ÄÇ')) {
// API„Ç≠„Éº„ÇíÂâäÈô§
clearSavedApiKey(password);
// „Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•„É™„Çπ„Éà„Åã„Çâ„ÇÇÂâäÈô§
const passwordHash = window.hashPassword(password);
const hashList = getPasswordHashList();
const updatedList = hashList.filter(hash => hash !== passwordHash);
localStorage.setItem('fukabori_password_hashes', JSON.stringify(updatedList));
// ÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„Çí„ÇØ„É™„Ç¢
passwordInput.value = '';
// ÁèæÂú®„É≠„Ç∞„Ç§„É≥„Åó„Å¶„ÅÑ„ÇãAPI„Ç≠„Éº„ÅåÂâäÈô§„Åï„Çå„ÅüÂ†¥Âêà„ÅÆÂá¶ÁêÜ
if (AppState.apiKey && loadEncryptedApiKey(password) === AppState.apiKey) {
AppState.apiKey = '';
AppState.sessionActive = false;
// „É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢
clearLoginState();
}
// Step0„ÅÆË°®Á§∫Áä∂ÊÖã„ÇíÊõ¥Êñ∞
if (typeof updateStep0Visibility === 'function') {
updateStep0Visibility();
}
// UIÊõ¥Êñ∞
updateApiKeyStatusDisplay();
update2StepUI();
window.showMessage('success', 'API„Ç≠„Éº„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü');
console.log('‚úÖ API„Ç≠„ÉºÂâäÈô§ÂÆå‰∫Ü');
}
} catch (error) {
console.error('‚ùå API„Ç≠„ÉºÂâäÈô§„Ç®„É©„Éº:', error);
window.showMessage('error', 'API„Ç≠„Éº„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
}
/**
* „Éë„Çπ„ÉØ„Éº„ÉâÂ§âÊõ¥Ê©üËÉΩ
*/
function changePassword() {
try {
console.log('üí° changePassword „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
const passwordInput = document.getElementById('apiPasswordInput');
if (!passwordInput) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
const currentPassword = passwordInput.value.trim();
if (!currentPassword) {
window.showMessage('error', 'ÁèæÂú®„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// ÁèæÂú®„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„ÅßAPI„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (!hasApiKeyForPassword(currentPassword)) {
window.showMessage('error', 'ÁèæÂú®„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„Å´ÂØæÂøú„Åô„ÇãAPI„Ç≠„Éº„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
return;
}
// ÁèæÂú®„ÅÆAPI„Ç≠„Éº„ÇíË™≠„ÅøËæº„Åø
const currentApiKey = loadEncryptedApiKey(currentPassword);
if (!currentApiKey) {
window.showMessage('error', 'ÁèæÂú®„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„ÅßAPI„Ç≠„Éº„ÇíÂæ©Âè∑„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü');
return;
}
// Êñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„ÅÆÂÖ•Âäõ
const newPassword = prompt('Êñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:');
if (!newPassword) {
return; // „Ç≠„É£„É≥„Çª„É´„Åï„Çå„Åü
}
if (newPassword.length < 4) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÅØ4ÊñáÂ≠ó‰ª•‰∏ä„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
// „Éë„Çπ„ÉØ„Éº„ÉâÁ¢∫Ë™ç
const confirmPassword = prompt('Êñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÜçÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:');
if (newPassword !== confirmPassword) {
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì');
return;
}
// Êñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„ÅßÊó¢„Å´API„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (hasApiKeyForPassword(newPassword)) {
window.showMessage('error', '„Åù„ÅÆ„Éë„Çπ„ÉØ„Éº„Éâ„ÅØÊó¢„Å´‰ΩøÁî®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô');
return;
}
// Âè§„ÅÑAPI„Ç≠„Éº„ÇíÂâäÈô§
clearSavedApiKey(currentPassword);
// Âè§„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„Éè„ÉÉ„Ç∑„É•„Çí„É™„Çπ„Éà„Åã„ÇâÂâäÈô§
const oldPasswordHash = window.hashPassword(currentPassword);
const hashList = getPasswordHashList();
const filteredList = hashList.filter(hash => hash !== oldPasswordHash);
// Êñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„Åß‰øùÂ≠ò
saveEncryptedApiKey(currentApiKey, newPassword);
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÇíÊñ∞„Åó„ÅÑ„Éë„Çπ„ÉØ„Éº„Éâ„Å´Êõ¥Êñ∞
passwordInput.value = newPassword;
// UIÊõ¥Êñ∞
updateApiKeyStatusDisplay();
window.showMessage('success', '„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂ§âÊõ¥„Åó„Åæ„Åó„Åü');
console.log('üîê „Éë„Çπ„ÉØ„Éº„ÉâÂ§âÊõ¥ÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå „Éë„Çπ„ÉØ„Éº„ÉâÂ§âÊõ¥„Ç®„É©„Éº:', error);
window.showMessage('error', '„Éë„Çπ„ÉØ„Éº„Éâ„ÅÆÂ§âÊõ¥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
}
// =================================================================================
// ADDITIONAL FUNCTIONS - ËøΩÂä†Ê©üËÉΩ
// =================================================================================
function handleModalBackgroundClick(event) {
if (event.target === event.currentTarget) {
closeAdvancedSettings();
}
}
function toggleMicrophone() {
console.log('üí° toggleMicrophone „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü');
// üìù Á∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÊâãÂãïÊìç‰Ωú„ÇíÈÄöÁü•
if (window.transcriptEditManager) {
window.transcriptEditManager.lastManualActionTime = Date.now();
console.log('üìù Á∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÊâãÂãïÊìç‰Ωú„ÇíÈÄöÁü•');
}
try {
// üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - Ê≠£„Åó„ÅÑ„Ç¢„ÇØ„Çª„ÇπÊñπÊ≥ï
if (!window.unifiedStateManager) {
throw new Error('Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅåÊú™ÂàùÊúüÂåñ');
}
const voiceModule = window.unifiedStateManager.modules.get('voice');
if (!voiceModule) {
throw new Error('Èü≥Â£∞„É¢„Ç∏„É•„Éº„É´„ÅåÂà©Áî®‰∏çÂèØ - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†Êú™ÂàùÊúüÂåñ');
}
const state = voiceModule.getState();
console.log('üîÑ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†‰ΩøÁî®:', state.recognitionState);
if (state.recognitionState === 'active') {
console.log('‚è∏Ô∏è ÊâãÂãï‰∏ÄÊôÇÂÅúÊ≠¢ÔºàÈÄèÊòéÁ∂ôÁ∂öÁÑ°ÂäπÔºâ');
voiceModule.pauseRecognition();
} else if (state.recognitionState === 'paused' || state.recognitionState === 'idle' || state.recognitionState === 'stopping') {
console.log('‚ñ∂Ô∏è ÊâãÂãïÂÜçÈñã');
voiceModule.resumeRecognition();
}
// UIÊõ¥Êñ∞
updatePauseResumeButton();
} catch (error) {
console.error('‚ùå Èü≥Â£∞Âà∂Âæ°„Ç®„É©„Éº:', error.message);
console.log('üîÑ Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ‰∏≠„ÅÆÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô - ÂÜçË©¶Ë°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Áõ¥Êé•Èü≥Â£∞Ë™çË≠ò„ÇíË©¶Ë°å
if (window.recognition) {
try {
window.recognition.stop();
console.log('üîÑ „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈü≥Â£∞Ë™çË≠òÂÅúÊ≠¢');
} catch (fallbackError) {
console.log('üé§ „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈü≥Â£∞Ë™çË≠òÈñãÂßãË©¶Ë°å');
// ÈÄöÂ∏∏„ÅØ‰Ωï„ÇÇ„Åó„Å™„ÅÑÔºà„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂæÖ„Å°Ôºâ
}
}
}
}
// üîß „É¨„Ç¨„Ç∑„ÉºÈñ¢Êï∞„ÅØÂâäÈô§ - toggleMicrophone„Å´Áµ±‰∏Ä
// =================================================================================
// VOICE CONTROL - „Ç∑„É≥„Éó„É´Èü≥Â£∞Âà∂Âæ°„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
/**
* ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„ÅÆ„Ç∑„É≥„Éó„É´UIÊõ¥Êñ∞
* UnifiedStateManager„ÅÆÁä∂ÊÖã„ÅÆ„Åø„Å´Âü∫„Å•„ÅèËªΩÈáèÂÆüË£Ö
*/
function updatePauseResumeButton() {
const pauseBtn = document.getElementById('pauseResumeBtn');
if (!pauseBtn) return;
try {
let isActive = false;
// üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - Ê≠£„Åó„ÅÑ„Ç¢„ÇØ„Çª„ÇπÊñπÊ≥ï
if (window.unifiedStateManager) {
const voiceModule = window.unifiedStateManager.modules.get('voice');
if (voiceModule) {
const state = voiceModule.getState();
isActive = state && state.recognitionState === 'active';
// pausedÁä∂ÊÖã„ÅÆÂ†¥Âêà„ÅØÊòéÁ§∫ÁöÑ„Å´ÂÜçÈñãË°®Á§∫
if (state && state.recognitionState === 'paused') {
isActive = false; // ‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠„ÅØÂÜçÈñã„Éú„Çø„É≥„ÇíË°®Á§∫
}
}
}
// „Éú„Çø„É≥„ÅÆË°®Á§∫„Å®„Çπ„Çø„Ç§„É´„ÇíÊõ¥Êñ∞
if (isActive) {
// Èü≥Â£∞Ë™çË≠ò‰∏≠ = ‰∏ÄÊôÇÂÅúÊ≠¢ÂèØËÉΩ
pauseBtn.innerHTML = '‚è∏Ô∏è ‰∏ÄÊôÇÂÅúÊ≠¢';
pauseBtn.style.backgroundColor = ''; // ÈÄöÂ∏∏Ëâ≤ÔºàCSS„Éá„Éï„Ç©„É´„ÉàÔºâ
pauseBtn.style.color = '';
} else {
// Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢‰∏≠ = ÂÜçÈñãÂèØËÉΩ
pauseBtn.innerHTML = '‚ñ∂Ô∏è ÂÜçÈñã';
pauseBtn.style.backgroundColor = '#4CAF50'; // Á∑ëËâ≤
pauseBtn.style.color = 'white';
}
} catch (error) {
// „Ç®„É©„Éº„ÅØÈùô„Åã„Å´„É≠„Ç∞„ÅÆ„Åø
console.debug('‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥Êõ¥Êñ∞„Ç®„É©„Éº:', error);
}
}
/**
* ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥„ÅÆÂÆöÊúüÊõ¥Êñ∞„ÇíÈñãÂßã
* „Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßãÊôÇ„Å´Âëº„Å≥Âá∫„Åï„Çå„Çã
*/
function startPauseButtonMonitoring() {
if (window.pauseButtonMonitoringInterval) {
clearInterval(window.pauseButtonMonitoringInterval);
}
window.pauseButtonMonitoringInterval = setInterval(() => {
updatePauseResumeButton();
}, 1000); // 1ÁßíÈñìÈöî„ÅßÊõ¥Êñ∞ÔºàËªΩÈáèÂåñÔºâ
console.log('‚úÖ ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥Áõ£Ë¶ñÈñãÂßã');
}
// üîß Áõ£Ë¶ñ„Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÂÆå‰∫Ü: VoiceUIManager„ÅÆÊó¢Â≠ò500msÁõ£Ë¶ñ„Å´Áµ±ÂêàÊ∏à„Åø
// setupPauseResumeButtonMonitoring() - ÂâäÈô§ÔºàÈáçË§áÁõ£Ë¶ñ„ÅÆÈô§ÂéªÔºâ
// üîß Áµ±‰∏Ä„Ç∑„Çπ„ÉÜ„É†ÂØæÂøú: AppStateÂ§âÂåñÊôÇ„ÅÆ‰∏ÄÊôÇÂÅúÊ≠¢„Éú„Çø„É≥Êõ¥Êñ∞
if (typeof window !== 'undefined') {
window.addEventListener('appStateChanged', () => {
setTimeout(() => updatePauseResumeButton(), 100);
});
}
// forceStopAllActivityÈñ¢Êï∞„ÇíÂâäÈô§ - „Éû„ÉÉ„ÉÅ„Éù„É≥„ÉóË®≠Ë®à„ÅÆÊ†πÊú¨ÂéüÂõ†„Åß„ÅÇ„Å£„Åü„Åü„ÇÅÂÆåÂÖ®Èô§Âéª
// =================================================================================
// SESSION MANAGEMENT - „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üîß „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Ç∑„Çπ„ÉÜ„É†„ÅØ app/session-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ‰ª•‰∏ã„ÅÆÈñ¢Êï∞Áæ§„ÅØÊñ∞„É¢„Ç∏„É•„Éº„É´„Å´Áµ±Âêà„Åï„Çå„Å¶„ÅÑ„Åæ„Åô:
// - generateFinalSummary() ‚Üí SessionEndManager.generateFinalSummary()
// - generateFinalGreeting() ‚Üí SessionEndManager.generateFinalGreeting()
// - handleSessionEnd() ‚Üí SessionEndManager.handleSessionEndCommand()
// - endConversationSession() ‚Üí SessionEndManager.endSession()
// - returnToLogin() ‚Üí SessionEndManager.returnToLogin()
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.endConversationSession Á≠â„ÅÆ„É©„ÉÉ„Éë„ÉºÈñ¢Êï∞„Åß‰øùË®º
// =================================================================================
// MISSING FUNCTIONS - ‰∏çË∂≥„Åó„Å¶„ÅÑ„ÅüÈñ¢Êï∞
// =================================================================================
async function testCharacterVoice(character) {
console.log('üí° testCharacterVoice „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü:', character);
console.log('ÁèæÂú®„ÅÆAPI„Ç≠„ÉºÁä∂ÊÖã:', !!AppState.apiKey);
if (!AppState.apiKey) {
console.log('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
window.showMessage('error', '„Åæ„ÅöAPI„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return;
}
try {
console.log('Èü≥Â£∞„ÉÜ„Çπ„Éà„ÇíÈñãÂßã„Åó„Åæ„Åô');
let testMessage;
if (window.AI_PROMPTS && window.AI_PROMPTS.TEST_MESSAGES) {
testMessage = window.AI_PROMPTS.TEST_MESSAGES[character];
} else {
testMessage = character === SPEAKERS.NEHORI ?
'„Åì„Çì„Å´„Å°„ÅØÔºÅ„Å≠„Åª„Çä„Éº„ÅÆ„Åß„Åô„ÄÇ‰ªä„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÅØ„ÅÑ„Åã„Åå„Åß„Åó„Çá„ÅÜ„ÅãÔºü' :
'„ÅØ„Åª„Çä„Éº„ÅÆ„Å®Áî≥„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÅßÈÄ≤Ë°å„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ';
}
console.log('„ÉÜ„Çπ„Éà„É°„ÉÉ„Çª„Éº„Ç∏:', testMessage);
const audioBlob = await ttsTextToAudioBlob(testMessage, character);
await playPreGeneratedAudio(audioBlob, character);
window.showMessage('success', `${character}„ÅÆÈü≥Â£∞„ÉÜ„Çπ„Éà„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü`);
console.log('Èü≥Â£∞„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
} catch (error) {
console.error('Èü≥Â£∞„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
window.showMessage('error', `Èü≥Â£∞„ÉÜ„Çπ„Éà„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
function changeTheme(newTheme) {
console.log('üí° changeTheme „ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü:', newTheme);
if (newTheme && newTheme !== currentTheme) {
currentTheme = newTheme;
// „ÉÜ„Éº„ÉûÈÅ©Áî®
document.body.className = `theme-${newTheme}`;
// „ÉÜ„Éº„ÉûË®≠ÂÆö„Çí‰øùÂ≠ò
localStorage.setItem('fukabori_theme', newTheme);
console.log(`‚úÖ „ÉÜ„Éº„Éû„Çí„Äå${newTheme}„Äç„Å´Â§âÊõ¥„Åó„Åæ„Åó„Åü`);
window.showMessage('success', `„ÉÜ„Éº„Éû„Çí„Äå${newTheme}„Äç„Å´Â§âÊõ¥„Åó„Åæ„Åó„Åü`);
}
}
async function handleThemeChange() {
const themeChangeMessage = `„ÉÜ„Éº„Éû„ÅÆÂ§âÊõ¥„Çí„ÅîÂ∏åÊúõ„Åß„Åô„Å≠„ÄÇÊñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„ÄåÊñ∞„Åó„ÅÑ„ÉÜ„Éº„Éû„ÅØ‚óã‚óã„Åß„Åô„ÄÅ„Å©„ÅÜ„Åû„Äç„Å®„Åä„Å£„Åó„ÇÉ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`;
const [, audioBlob] = await Promise.all([
addMessageToChat(SPEAKERS.HAHORI, themeChangeMessage),
ttsTextToAudioBlob(themeChangeMessage, SPEAKERS.HAHORI)
]);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
AppState.waitingForPermission = true;
}
async function handleQuestionChange() {
const questionChangeMessage = `Ë≥™Âïè„ÇíÂ§âÊõ¥„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇÊñ∞„Åó„ÅÑËßíÂ∫¶„Åã„ÇâË≥™Âïè„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„Å≠„ÄÇ`;
const [, audioBlob] = await Promise.all([
addMessageToChat(SPEAKERS.HAHORI, questionChangeMessage),
ttsTextToAudioBlob(questionChangeMessage, SPEAKERS.HAHORI)
]);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
await askNextQuestion();
}
async function askNextQuestion() {
console.log('üéØ Ê¨°„ÅÆË≥™Âïè„ÇíÁîüÊàê„Åó„Åæ„Åô');
if (window.AI_PROMPTS && window.AI_PROMPTS.DEEPDIVE_NEXT) {
const conversationContext = AppState.conversationHistory.map(msg => msg.content).join(' ');
const knowledgeContext = AppState.extractedKnowledge.map(k => k.summary).join(' ');
const prompt = window.AI_PROMPTS.DEEPDIVE_NEXT(
AppState.currentTheme,
conversationContext,
knowledgeContext,
AppState.selectedThemeDetails,
AppState.themeSummaries
);
const question = await gptMessagesToCharacterResponse([
{ role: 'user', content: prompt }
], SPEAKERS.NEHORI);
await addMessageToChat(SPEAKERS.NEHORI, question);
const audio = await ttsTextToAudioBlob(question, SPEAKERS.NEHORI);
await playPreGeneratedAudio(audio, SPEAKERS.NEHORI);
}
}
function loadSavedTheme() {
const savedTheme = window.StorageManager.theme.loadSaved();
if (savedTheme) {
currentTheme = savedTheme;
document.body.className = `theme-${savedTheme}`;
console.log(`‚úÖ ‰øùÂ≠ò„Åï„Çå„Åü„ÉÜ„Éº„Éû„Äå${savedTheme}„Äç„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü`);
}
}
// =================================================================================
// FILE HANDLING FUNCTIONS - „Éï„Ç°„Ç§„É´Âá¶ÁêÜÊ©üËÉΩ
// =================================================================================
// üõ°Ô∏è „Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÂâç„ÅÆ„É≠„Ç∞„Ç§„É≥„ÉÅ„Çß„ÉÉ„ÇØ
// =============================
// 5678Ë°åÁõÆ - 7218Ë°åÁõÆ
// „Éï„Ç°„Ç§„É´Âá¶ÁêÜÈñ¢ÈÄ£„ÅÆÂÖ®Èñ¢Êï∞„ÅØ
// app/file-processing.js„Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// =============================
// =================================================================================
// GLOBAL FUNCTIONS - „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞ÂÖ¨Èñã
// =================================================================================
// HTML„Åã„ÇâÂëº„Å≥Âá∫„Åï„Çå„ÇãÈñ¢Êï∞„Çí„Ç∞„É≠„Éº„Éê„É´„Å´ÂÖ¨Èñã
window.loginWithPassword = loginWithPassword;
window.openAdvancedSettings = openAdvancedSettings;
window.closeAdvancedSettings = closeAdvancedSettings;
window.setupApiKey = setupApiKey;
window.testApiKey = testApiKey;
window.handleModalBackgroundClick = handleModalBackgroundClick;
window.startSession = startSession;
window.toggleMicrophone = toggleMicrophone;
// window.forceStopAllActivity = forceStopAllActivity; // „Éû„ÉÉ„ÉÅ„Éù„É≥„ÉóË®≠Ë®àÈô§Âéª„ÅÆ„Åü„ÇÅÂâäÈô§
window.updatePauseResumeButton = updatePauseResumeButton;
window.startPauseButtonMonitoring = startPauseButtonMonitoring;
window.endConversationSession = endConversationSession;
window.downloadMarkdownReport = downloadMarkdownReport;
window.downloadKnowledgeFile = downloadKnowledgeFile;
window.downloadAllKnowledge = downloadAllKnowledge;
window.FukaboriKnowledgeDatabase = FukaboriKnowledgeDatabase;
window.exportAllData = exportAllData;
window.returnToLogin = returnToLogin;
window.testCharacterVoice = testCharacterVoice;
window.changeTheme = changeTheme;
// „Çª„ÉÉ„Ç∑„Éß„É≥ÁµÇ‰∫ÜÈñ¢Êï∞„ÇíÂÖ¨Èñã
window.handleSessionEnd = handleSessionEnd;
// üîß Phase B: Èü≥Â£∞Âà∂Âæ°Ê©üËÉΩ„ÇíÂÖ¨Èñã
window.AudioControlManager = AudioControlManager;
window.stopAllAudio = () => AudioControlManager.forceStopAllAudio('user_request');
window.stopSpeakerAudio = (speaker) => AudioControlManager.stopSpeakerAudio(speaker, 'user_request');
window.getActiveAudioInfo = () => AudioControlManager.getActiveAudioInfo();
// üé® Phase B: „Çπ„Éû„Éº„ÉàÈü≥Â£∞Êìç‰Ωú„Éë„Éç„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const SmartVoicePanelManager = {
isExpanded: false,
// Êäò„Çä„Åü„Åü„Åø/Â±ïÈñãÂàá„ÇäÊõø„Åà
toggle() {
this.isExpanded = !this.isExpanded;
this.updateDisplay();
},
// Ë°®Á§∫Êõ¥Êñ∞
updateDisplay() {
const compactPanel = document.getElementById('smartVoiceCompact');
const expandedPanel = document.getElementById('smartVoiceExpanded');
const toggleIcon = document.getElementById('smartVoiceToggle');
if (this.isExpanded) {
// Â±ïÈñãË°®Á§∫
if (compactPanel) compactPanel.classList.add('hidden');
if (expandedPanel) expandedPanel.classList.remove('hidden');
if (toggleIcon) toggleIcon.textContent = '[‚ñ≤]';
} else {
// Á∞°ÊòìË°®Á§∫
if (compactPanel) compactPanel.classList.remove('hidden');
if (expandedPanel) expandedPanel.classList.add('hidden');
if (toggleIcon) toggleIcon.textContent = '[‚ñº]';
}
console.log(`üé§ „Çπ„Éû„Éº„ÉàÈü≥Â£∞„Éë„Éç„É´: ${this.isExpanded ? 'Â±ïÈñã' : 'Êäò„Çä„Åü„Åü„Åø'}`);
},
// Âà©Áî®ÂèØËÉΩ„Ç≥„Éû„É≥„Éâ„ÅÆÂãïÁöÑÊõ¥Êñ∞
updateAvailableCommands(commands) {
const availableCommandsElement = document.getElementById('availableCommands');
if (availableCommandsElement) {
const commandText = Array.isArray(commands) ? commands.join('„ÄÅ') : commands;
availableCommandsElement.textContent = `ÁèæÂú®Âà©Áî®ÂèØËÉΩ: ${commandText}`;
}
},
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å„Å´Âøú„Åò„Åü„Ç≥„Éû„É≥„ÉâÂà§ÂÆö
getContextualCommands() {
const commands = [];
// Âü∫Êú¨„Ç≥„Éû„É≥„Éâ
if (AppState.sessionActive) {
if (AppState.waitingForPermission) {
commands.push('„Å©„ÅÜ„Åû');
}
commands.push('ÁµÇ‰∫Ü„Åó„Å¶');
}
// ÊñáÂ≠óË®ÇÊ≠£„Ç≥„Éû„É≥„ÉâÔºàÂ∏∏„Å´Âà©Áî®ÂèØËÉΩÔºâ
commands.push('ÂâäÈô§');
commands.push('ÁΩÆÊèõ');
// „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ËøΩÂä†
if (AppState.sessionActive) {
commands.push('Ë≥™ÂïèÂ§âÊõ¥');
if (AppState.currentTheme) {
commands.push('„ÉÜ„Éº„ÉûÂ§âÊõ¥');
}
}
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ„ÅÆÂ†¥Âêà
if (AppState.voiceRecognitionState?.isKnowledgeConfirmationMode) {
commands.push('„ÅØ„ÅÑ/„ÅÑ„ÅÑ„Åà');
commands.push('Ë©≥„Åó„Åè');
}
return commands;
},
// Ëá™ÂãïÊõ¥Êñ∞
autoUpdate() {
const contextualCommands = this.getContextualCommands();
this.updateAvailableCommands(contextualCommands);
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ„ÅÆË°®Á§∫Âà∂Âæ°
const knowledgeCommands = document.getElementById('knowledgeCommands');
if (knowledgeCommands) {
if (AppState.voiceRecognitionState?.isKnowledgeConfirmationMode) {
knowledgeCommands.classList.remove('hidden');
} else {
knowledgeCommands.classList.add('hidden');
}
}
},
// ÂàùÊúüÂåñ
init() {
this.updateDisplay();
this.autoUpdate();
// ÂÆöÊúüÁöÑ„Å™Ëá™ÂãïÊõ¥Êñ∞Ôºà5ÁßíÈñìÈöîÔºâ
setInterval(() => {
this.autoUpdate();
}, 5000);
console.log('üé§ „Çπ„Éû„Éº„ÉàÈü≥Â£∞Êìç‰Ωú„Éë„Éç„É´ÂàùÊúüÂåñÂÆå‰∫Ü');
}
};
// üß™ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„ÉÜ„Çπ„Éà„É¢„Éº„Éâ
async function testVoiceCommands() {
console.log('üß™ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„ÉÜ„Çπ„Éà„É¢„Éº„ÉâÈñãÂßã');
const testCommands = [
{ command: '„Å©„ÅÜ„Åû', description: 'Áô∫Ë©±Ë®±ÂèØ„Ç≥„Éû„É≥„Éâ' },
{ command: '3ÊñáÂ≠óÂâäÈô§', description: 'ÈÉ®ÂàÜÂâäÈô§„Ç≥„Éû„É≥„Éâ' },
{ command: 'ËªäÂÜÖ„ÇíÁ§æÂÜÖ„Å´„Åó„Å¶', description: 'Âü∫Êú¨ÁΩÆÊèõ„Ç≥„Éû„É≥„Éâ' },
{ command: 'ËªäÂÜÖ„ÅØ‰ºöÁ§æ„ÅÆÁ§æÂÜÖ„Å´„Åó„Å¶', description: 'ÊñáËÑàÁΩÆÊèõ„Ç≥„Éû„É≥„Éâ' },
{ command: 'ÂâäÈô§', description: 'ÂÖ®ÂâäÈô§„Ç≥„Éû„É≥„Éâ' }
];
let testResults = [];
for (const test of testCommands) {
try {
if (test.command === '„Å©„ÅÜ„Åû') {
// ÁâπÂà•„Ç≥„Éû„É≥„Éâ„ÅÆ„ÉÜ„Çπ„Éà
testResults.push({
command: test.command,
result: '‚úÖ ÁâπÂà•„Ç≥„Éû„É≥„ÉâÔºàÂæìÊù•Âá¶ÁêÜÔºâ',
description: test.description
});
} else {
// Èü≥Â£∞Ë®ÇÊ≠£„Ç≥„Éû„É≥„Éâ„ÅÆ„ÉÜ„Çπ„Éà
const result = SpeechCorrectionSystem.detectCorrectionCommand(test.command);
testResults.push({
command: test.command,
result: result.type !== 'normal' ? `‚úÖ ${result.type}` : '‚ùå Ë™çË≠òÂ§±Êïó',
description: test.description
});
}
} catch (error) {
testResults.push({
command: test.command,
result: '‚ùå „Ç®„É©„Éº',
description: test.description
});
}
}
// „ÉÜ„Çπ„ÉàÁµêÊûúË°®Á§∫
const resultMessage = testResults.map(test =>
`${test.result} ${test.command} (${test.description})`
).join('\n');
console.log('üß™ „ÉÜ„Çπ„ÉàÁµêÊûú:\n' + resultMessage);
// „É¶„Éº„Ç∂„Éº„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ
window.showMessage('info', `Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„ÉÜ„Çπ„ÉàÂÆå‰∫Ü: ${testResults.length}‰ª∂‰∏≠${testResults.filter(t => t.result.includes('‚úÖ')).length}‰ª∂ÊàêÂäü`);
// Ë©≥Á¥∞„Çí„Ç≥„É≥„ÇΩ„Éº„É´„Å´Âá∫Âäõ
console.table(testResults);
}
// üìñ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Éò„É´„ÉóË°®Á§∫
function showVoiceCommandHelp() {
const helpContent = `
üìñ **Èü≥Â£∞„Ç≥„Éû„É≥„Éâ‰Ωø„ÅÑÊñπ„Ç¨„Ç§„Éâ**
üéØ **Âü∫Êú¨ÁöÑ„Å™‰Ωø„ÅÑÊñπ**
1. „Éû„Ç§„ÇØ„Éú„Çø„É≥„ÅåÈùíËâ≤„ÅÆÊôÇ„Å´Èü≥Â£∞„ÅßË©±„Åó„Åã„Åë„Å¶„Åè„Å†„Åï„ÅÑ
2. „Ç≥„Éû„É≥„Éâ„ÅØÊó•Êú¨Ë™û„ÅßËá™ÁÑ∂„Å´Ë©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ
3. „Äå„Å©„ÅÜ„Åû„Äç„ÅßAI„ÅÆÂøúÁ≠î„ÇíÈñãÂßã„Åß„Åç„Åæ„Åô
‚úèÔ∏è **ÊñáÂ≠óË®ÇÊ≠£Ê©üËÉΩ (NEW!)**
‚Ä¢ ÂÖ®ÂâäÈô§: „ÄåÂâäÈô§„Äç„Äå„ÇØ„É™„Ç¢„Äç
‚Ä¢ ÈÉ®ÂàÜÂâäÈô§: „Äå3ÊñáÂ≠óÂâäÈô§„Äç„ÄåÊúÄÂæå„ÅÆ5ÊñáÂ≠óÂâäÈô§„Äç
‚Ä¢ ÁΩÆÊèõ: „ÄåA„ÇíB„Å´„Åó„Å¶„Äç
‚Ä¢ ÊñáËÑàÁΩÆÊèõ: „ÄåA„ÅØB„ÅÆC„Å´„Åó„Å¶„Äç
üìù **ÂÆüÁî®‰æã**
‚Ä¢ „ÄåËªäÂÜÖ„ÇíÁ§æÂÜÖ„Å´„Åó„Å¶„Äç‚Üí ËªäÂÜÖ„ÅåÁ§æÂÜÖ„Å´Â§âÊõ¥
‚Ä¢ „ÄåËªäÂÜÖ„ÅØ‰ºöÁ§æ„ÅÆÁ§æÂÜÖ„Å´„Åó„Å¶„Äç‚Üí ÊñáËÑà„ÇíÁêÜËß£„Åó„Å¶Â§âÊõ¥
‚Ä¢ „ÄåÊúÄÂæå„ÅÆ3ÊñáÂ≠óÂâäÈô§„Äç‚Üí Êú´Â∞æ3ÊñáÂ≠ó„ÇíÂâäÈô§
üé§ **Èü≥Â£∞Ë™çË≠ò„ÅÆ„Ç≥„ÉÑ**
‚Ä¢ „ÇÜ„Å£„Åè„Çä„ÅØ„Å£„Åç„Çä„Å®Ë©±„Åô
‚Ä¢ ÈõëÈü≥„ÅÆÂ∞ë„Å™„ÅÑÁí∞Â¢É„Åß‰ΩøÁî®
‚Ä¢ „Éû„Ç§„ÇØ„Å´Ëøë„Å•„Åç„Åô„Åé„Å™„ÅÑ
üß™ **„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ**
‚Ä¢ „Éñ„É©„Ç¶„Ç∂„ÅÆ„Ç≥„É≥„ÇΩ„Éº„É´(F12)„ÅßË©≥Á¥∞Á¢∫Ë™çÂèØËÉΩ
‚Ä¢ window.testCorrectionCommand('„ÉÜ„Çπ„Éà„ÉÜ„Ç≠„Çπ„Éà')„Åß„ÉÜ„Çπ„ÉàÂèØËÉΩ
`;
console.log(helpContent);
alert(helpContent.replace(/\*\*/g, '').replace(/‚Ä¢/g, '„Éª'));
window.showMessage('info', 'Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Éò„É´„Éó„Çí„Ç≥„É≥„ÇΩ„Éº„É´„Å´Ë°®Á§∫„Åó„Åæ„Åó„ÅüÔºàF12„ÅßÁ¢∫Ë™çÔºâ');
}
// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
window.toggleSmartVoicePanel = () => SmartVoicePanelManager.toggle();
window.testVoiceCommands = testVoiceCommands;
window.showVoiceCommandHelp = showVoiceCommandHelp;
window.SmartVoicePanelManager = SmartVoicePanelManager;
// üîß Phase B: Èü≥Â£∞Ë™çË≠òË®ÇÊ≠£„Ç∑„Çπ„ÉÜ„É†
const SpeechCorrectionSystem = {
// ÂâäÈô§„Ç≥„Éû„É≥„Éâ„Éë„Çø„Éº„É≥ÔºàÈÄöÂ∏∏‰ºöË©±„Åß„ÅÆË™§Âãï‰ΩúÈò≤Ê≠¢„ÅÆ„Åü„ÇÅÂé≥ÂØÜÂåñÔºâ
deletionPatterns: [
/^ÂâäÈô§$/, // „ÄåÂâäÈô§„ÄçÂçò‰Ωì
/^„ÇØ„É™„Ç¢$/, // „Äå„ÇØ„É™„Ç¢„ÄçÂçò‰Ωì
/^ÂÖ®ÂâäÈô§$/, // „ÄåÂÖ®ÂâäÈô§„Äç
/^ÂÖ®ÈÉ®ÂâäÈô§$/, // „ÄåÂÖ®ÈÉ®ÂâäÈô§„Äç
/^ÂÖ®„Å¶ÂâäÈô§$/, // „ÄåÂÖ®„Å¶ÂâäÈô§„Äç
/^„É™„Çª„ÉÉ„Éà$/, // „Äå„É™„Çª„ÉÉ„Éà„ÄçÂçò‰Ωì
/^ÊñáÂ≠óÊ∂à„Åó„Å¶$/, // „ÄåÊñáÂ≠óÊ∂à„Åó„Å¶„ÄçÂçò‰Ωì
/^„ÇÇ„Åò„Åë„Åó„Å¶$/, // „Äå„ÇÇ„Åò„Åë„Åó„Å¶„ÄçÂçò‰Ωì
/^„ÇØ„É™„Ç¢„Åó„Å¶$/, // „Äå„ÇØ„É™„Ç¢„Åó„Å¶„ÄçÂçò‰Ωì
/ÊñáÂ≠óËµ∑„Åì„Åó„Çí?ÂâäÈô§/, // „ÄåÊñáÂ≠óËµ∑„Åì„Åó„ÇíÂâäÈô§„Äç
/ÊñáÂ≠óËµ∑„Åì„Åó„Çí?„ÇØ„É™„Ç¢/, // „ÄåÊñáÂ≠óËµ∑„Åì„Åó„Çí„ÇØ„É™„Ç¢„Äç
/^ÈñìÈÅï„ÅÑ$/, // „ÄåÈñìÈÅï„ÅÑ„ÄçÂçò‰Ωì
/^„ÇÑ„ÇäÁõ¥„Åó$/ // „Äå„ÇÑ„ÇäÁõ¥„Åó„ÄçÂçò‰Ωì
],
// ÈÉ®ÂàÜÂâäÈô§„Éë„Çø„Éº„É≥ÔºàÊ≠£Ë¶èË°®ÁèæÔºâ
partialDeletionPatterns: [
/ÊúÄÂæå„ÅÆ(\d+)ÊñáÂ≠ó?ÂâäÈô§/,
/ÊúÄÂæå„ÅÆ(\d+)ÊñáÂ≠ó?Ê∂à„Åó„Å¶/,
/(\d+)ÊñáÂ≠ó?ÂâäÈô§/,
/(\d+)ÊñáÂ≠ó?Ê∂à„Åó„Å¶/,
/„Äå(.+?)„ÄçÂâäÈô§/,
/„Äå(.+?)„ÄçÊ∂à„Åó„Å¶/,
/„Äå(.+?)„Äç„ÇíÂâäÈô§/,
/„Äå(.+?)„Äç„ÇíÊ∂à„Åó„Å¶/
],
// ÁΩÆÊèõ„Éë„Çø„Éº„É≥
replacementPatterns: [
/^(.+?)„ÅØ(.+?)„ÅÆ(.+?)„Å´„Åó„Å¶$/,
/^(.+?)„Çí(.+?)„Å´„Åó„Å¶$/,
/^(.+?)„ÅØ(.+?)„Å´„Åó„Å¶$/,
/^(.+?)„Çí(.+?)„Å´Â§â„Åà„Å¶$/,
/^(.+?)„Çí(.+?)„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶$/
],
// ÁèæÂú®„ÅÆÂÖ•ÂäõÂ±•Ê≠¥
currentInput: '',
// Ë®ÇÊ≠£„Ç≥„Éû„É≥„ÉâÊ§úÂá∫
detectCorrectionCommand(text) {
const cleanText = text.trim();
// 1. ÂâäÈô§„Ç≥„Éû„É≥„Éâ„ÉÅ„Çß„ÉÉ„ÇØ
const deletionResult = this.checkDeletionCommand(cleanText);
if (deletionResult) {
return { type: 'deletion', ...deletionResult };
}
// 2. ÁΩÆÊèõ„Ç≥„Éû„É≥„Éâ„ÉÅ„Çß„ÉÉ„ÇØ
const replacementResult = this.checkReplacementCommand(cleanText);
if (replacementResult) {
return { type: 'replacement', ...replacementResult };
}
// 3. ÈÄöÂ∏∏„ÅÆÂÖ•Âäõ„Å®„Åó„Å¶Âá¶ÁêÜ
return { type: 'normal', text: cleanText };
},
// ÂâäÈô§„Ç≥„Éû„É≥„ÉâÊ§úÂá∫ÔºàÂÑ™ÂÖàÈ†Ü‰Ωç: Êï∞ÂÄ§ÂâäÈô§ > ÂÖ®ÂâäÈô§ > ÊñáÂ≠óÂàóÂâäÈô§Ôºâ
checkDeletionCommand(text) {
const cleanText = text.toLowerCase().trim();
// üéØ ÂÑ™ÂÖàÂ∫¶1: Êï∞ÂÄ§ÊåáÂÆöÂâäÈô§ÔºàÊúÄÂÑ™ÂÖàÔºâ
for (const pattern of this.partialDeletionPatterns) {
const match = text.match(pattern);
if (match) {
if (match[1] && !isNaN(match[1])) {
// Êï∞Â≠óÊåáÂÆöÂâäÈô§
const count = parseInt(match[1]);
return {
action: 'delete_characters',
count: count,
requiresConfirmation: count > 30 // 30ÊñáÂ≠ó‰ª•‰∏ä„ÅØÁ¢∫Ë™ç
};
} else if (match[1]) {
// ÊåáÂÆöÊñáÂ≠óÂàóÂâäÈô§
return {
action: 'delete_string',
target: match[1],
requiresConfirmation: false
};
}
}
}
// üéØ ÂÑ™ÂÖàÂ∫¶2: ÂÖ®ÂâäÈô§ÔºàÁ¢∫Ë™ç‰ªò„ÅçÔºâ
for (const pattern of this.deletionPatterns) {
if (pattern.test(cleanText)) {
return {
action: 'clear_all',
requiresConfirmation: true // ÂÖ®ÂâäÈô§„ÅØÂøÖ„ÅöÁ¢∫Ë™ç
};
}
}
return null;
},
// ÁΩÆÊèõ„Ç≥„Éû„É≥„ÉâÊ§úÂá∫
checkReplacementCommand(text) {
for (const pattern of this.replacementPatterns) {
const match = text.match(pattern);
if (match) {
if (match.length === 4) {
// „ÄåA„ÅØB„ÅÆC„Å´„Åó„Å¶„Äç„Éë„Çø„Éº„É≥
return {
action: 'replace_text',
target: match[1],
replacement: match[3],
context: match[2]
};
} else if (match.length === 3) {
// „ÄåA„ÇíB„Å´„Åó„Å¶„Äç„Éë„Çø„Éº„É≥
return {
action: 'replace_text',
target: match[1],
replacement: match[2]
};
}
}
}
return null;
},
// Ë®ÇÊ≠£Âá¶ÁêÜ„ÅÆÂÆüË°åÔºàÁ¢∫Ë™çÊ©üËÉΩ‰ªò„ÅçÔºâ
async executeCorrectionCommand(command) {
console.log('üîß Èü≥Â£∞Ë®ÇÊ≠£„Ç≥„Éû„É≥„ÉâÂÆüË°å:', command);
// Á¢∫Ë™ç„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅÆÂá¶ÁêÜ
if (command.requiresConfirmation) {
let confirmMessage = '';
if (command.action === 'clear_all') {
confirmMessage = 'ÂÖ®„Å¶„ÅÆÊñáÂ≠óËµ∑„Åì„Åó„ÇíÂâäÈô§„Åó„Åæ„Åô„ÄÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü';
} else if (command.action === 'delete_characters') {
confirmMessage = `${command.count}ÊñáÂ≠ó„ÇíÂâäÈô§„Åó„Åæ„Åô„ÄÇÂ§ß„Åç„Å™Êï∞ÂÄ§„Åß„Åô„Åå„ÄÅ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü`;
}
const confirmed = confirm(confirmMessage);
if (!confirmed) {
return {
success: true,
message: 'ÂâäÈô§„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Åæ„Åó„Åü',
feedback: 'ÂâäÈô§„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Åæ„Åó„Åü'
};
}
}
switch (command.action) {
case 'clear_all':
return this.clearAllText();
case 'delete_characters':
return this.deleteLastCharacters(command.count);
case 'delete_string':
return this.deleteSpecificString(command.target);
case 'replace_text':
return this.replaceText(command.target, command.replacement, command.context);
default:
return { success: false, message: '‰∏çÊòé„Å™Ë®ÇÊ≠£„Ç≥„Éû„É≥„Éâ„Åß„Åô' };
}
},
// ÂÖ®ÊñáÂâäÈô§
clearAllText() {
this.currentInput = '';
this.updateInputDisplay();
return {
success: true,
message: 'ÂÖ®„Å¶„ÅÆÊñáÂ≠ó„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü',
feedback: 'ÂÖ®„Å¶ÂâäÈô§„Åó„Åæ„Åó„Åü'
};
},
// ÊúÄÂæå„ÅÆNÊñáÂ≠óÂâäÈô§ÔºàÁΩÆ„ÅçÊèõ„ÅàÂá¶ÁêÜÁâàÔºâ
deleteLastCharacters(count) {
if (count <= 0) return { success: false, message: "ÂâäÈô§„Åô„ÇãÊñáÂ≠óÊï∞„Åå‰∏çÊ≠£„Åß„Åô" };
const originalLength = this.currentInput.length;
const deleteCount = Math.min(count, originalLength);
this.currentInput = this.currentInput.slice(0, -deleteCount);
this.updateInputDisplay();
return {
success: true,
message: `ÊúÄÂæå„ÅÆ${deleteCount}ÊñáÂ≠ó„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü`,
feedback: `${deleteCount}ÊñáÂ≠óÂâäÈô§„Åó„Åæ„Åó„Åü`
};
},
// ÊåáÂÆöÊñáÂ≠óÂàóÂâäÈô§
deleteSpecificString(target) {
if (!this.currentInput.includes(target)) {
return {
success: false,
message: `„Äå${target}„Äç„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`,
feedback: `„Äå${target}„Äç„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`
};
}
this.currentInput = this.currentInput.replace(target, '');
this.updateInputDisplay();
return {
success: true,
message: `„Äå${target}„Äç„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü`,
feedback: `„Äå${target}„Äç„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü`
};
},
// ÊñáÂ≠óÂàóÁΩÆÊèõ
replaceText(target, replacement, context = null) {
if (!this.currentInput.includes(target)) {
return {
success: false,
message: `„Äå${target}„Äç„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`,
feedback: `„Äå${target}„Äç„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`
};
}
this.currentInput = this.currentInput.replace(target, replacement);
this.updateInputDisplay();
const contextMsg = context ? `Ôºà${context}„ÅÆÊÑèÂë≥„ÅßÔºâ` : '';
return {
success: true,
message: `„Äå${target}„Äç„Çí„Äå${replacement}„Äç„Å´ÁΩÆ„ÅçÊèõ„Åà„Åæ„Åó„Åü${contextMsg}`,
feedback: `„Äå${target}„Äç„Çí„Äå${replacement}„Äç„Å´Â§âÊõ¥„Åó„Åæ„Åó„Åü`
};
},
// ÂÖ•ÂäõË°®Á§∫Êõ¥Êñ∞
updateInputDisplay() {
const userInput = document.getElementById('userInput');
if (userInput) {
userInput.value = this.currentInput;
}
// Èü≥Â£∞Ë™çË≠òÁµêÊûúË°®Á§∫„ÇÇÊõ¥Êñ∞
const transcriptDisplay = document.getElementById('transcriptDisplay');
if (transcriptDisplay) {
transcriptDisplay.textContent = this.currentInput;
}
},
// ÂÖ•ÂäõÂÜÖÂÆπË®≠ÂÆö
setCurrentInput(text) {
this.currentInput = text;
this.updateInputDisplay();
},
// ÂÖ•ÂäõÂÜÖÂÆπÂèñÂæó
getCurrentInput() {
return this.currentInput;
}
};
// üîß Phase B: Èü≥Â£∞Ë™çË≠òË®ÇÊ≠£Ê©üËÉΩ„ÇíÂÖ¨Èñã
window.SpeechCorrectionSystem = SpeechCorrectionSystem;
window.testCorrectionCommand = (text) => SpeechCorrectionSystem.detectCorrectionCommand(text);
window.executeCorrectionCommand = (command) => SpeechCorrectionSystem.executeCorrectionCommand(command);
window.provideCorrectionFeedback = provideCorrectionFeedback;
// üéØ „Ç∑„É≥„Éó„É´‰øÆÊ≠£ÔºöÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§ÂéªÈñ¢Êï∞
window.removeVoiceCommand = function(text, expectedCount) {
// ‚úÖ ÊîπËâØÔºö„Äå„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄçÂØæÂøú„ÅÆÈü≥Â£∞„Ç≥„Éû„É≥„ÉâÈô§Âéª„Éë„Çø„Éº„É≥
const voiceCommandPatterns = [
new RegExp(`(.+?)\\s+(${expectedCount})ÊñáÂ≠óÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?$`), // "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠óÂâäÈô§", "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠óÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+(${expectedCount})ÊñáÂ≠óÊ∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?$`), // "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠óÊ∂à„Åó„Å¶", "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠óÊ∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+(${expectedCount})ÊñáÂ≠ó\\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?$`), // "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠ó ÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+(${expectedCount})ÊñáÂ≠ó\\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?$`), // "„ÉÜ„Ç≠„Çπ„Éà 3ÊñáÂ≠ó Ê∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+ÊúÄÂæå„ÅÆ(${expectedCount})ÊñáÂ≠ó\\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?$`), // "„ÉÜ„Ç≠„Çπ„Éà ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+ÊúÄÂæå„ÅÆ(${expectedCount})ÊñáÂ≠ó\\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?$`), // "„ÉÜ„Ç≠„Çπ„Éà ÊúÄÂæå„ÅÆ3ÊñáÂ≠óÊ∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+(${expectedCount})\\s*ÊñáÂ≠ó\\s*ÂâäÈô§(?:„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?)?$`), // "„ÉÜ„Ç≠„Çπ„Éà 3 ÊñáÂ≠ó ÂâäÈô§„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
new RegExp(`(.+?)\\s+(${expectedCount})\\s*ÊñáÂ≠ó\\s*Ê∂à„Åó„Å¶(?:„Åè„Å†„Åï„ÅÑ)?$`) // "„ÉÜ„Ç≠„Çπ„Éà 3 ÊñáÂ≠ó Ê∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
];
for (const pattern of voiceCommandPatterns) {
const match = text.match(pattern);
if (match) {
return match[1].trim(); // Èü≥Â£∞„Ç≥„Éû„É≥„ÉâÂâç„ÅÆÈÉ®ÂàÜ„ÅÆ„ÅøËøî„Åô
}
}
return text; // „Éë„Çø„Éº„É≥„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØÂÖÉ„ÅÆ„Åæ„Åæ
}
// „Éò„É´„Éó„Ç¨„Ç§„ÉâÂàá„ÇäÊõø„ÅàÈñ¢Êï∞
// üîß UIÊúÄÈÅ©ÂåñPhase1: „Éò„É´„Éó„Ç¨„Ç§„ÉâÁÆ°ÁêÜÊ©üËÉΩ„Çíapp/ui-advanced.js„Å´ÁßªÂãï
// toggleVoiceGuide
// üéØ Êñ∞Ê©üËÉΩ: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Èñ¢Êï∞„ÇíÂÖ¨Èñã
window.updateThresholdFromInput = updateThresholdFromInput;
// „Çª„ÉÉ„Ç∑„Éß„É≥ÈÄ≤Ë°åÁä∂Ê≥Å„ÇíÊõ¥Êñ∞„Åô„ÇãÈñ¢Êï∞
// Èü≥Â£∞Ë®≠ÂÆö„Çπ„É©„Ç§„ÉÄ„Éº„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíË®≠ÂÆö
function initializeVoiceSliders() {
// „Å≠„Åª„Çä„Éº„ÅÆË®≠ÂÆö
const nehoriSpeed = window.UIManager.DOMUtils.get('nehoriSpeed');
const nehoriVolume = window.UIManager.DOMUtils.get('nehoriVolume');
const nehoriSpeedValue = window.UIManager.DOMUtils.get('nehoriSpeedValue');
const nehoriVolumeValue = window.UIManager.DOMUtils.get('nehoriVolumeValue');
if (nehoriSpeed && nehoriSpeedValue) {
nehoriSpeed.addEventListener('input', function() {
nehoriSpeedValue.textContent = this.value;
console.log(`„Å≠„Åª„Çä„Éº„ÅÆÈÄüÂ∫¶: ${this.value}`);
});
}
if (nehoriVolume && nehoriVolumeValue) {
nehoriVolume.addEventListener('input', function() {
nehoriVolumeValue.textContent = this.value;
console.log(`„Å≠„Åª„Çä„Éº„ÅÆÈü≥Èáè: ${this.value}`);
});
}
// „ÅØ„Åª„Çä„Éº„ÅÆË®≠ÂÆö
const hahoriSpeed = window.UIManager.DOMUtils.get('hahoriSpeed');
const hahoriVolume = window.UIManager.DOMUtils.get('hahoriVolume');
const hahoriSpeedValue = window.UIManager.DOMUtils.get('hahoriSpeedValue');
const hahoriVolumeValue = window.UIManager.DOMUtils.get('hahoriVolumeValue');
if (hahoriSpeed && hahoriSpeedValue) {
hahoriSpeed.addEventListener('input', function() {
hahoriSpeedValue.textContent = this.value;
console.log(`„ÅØ„Åª„Çä„Éº„ÅÆÈÄüÂ∫¶: ${this.value}`);
});
}
if (hahoriVolume && hahoriVolumeValue) {
hahoriVolume.addEventListener('input', function() {
hahoriVolumeValue.textContent = this.value;
console.log(`„ÅØ„Åª„Çä„Éº„ÅÆÈü≥Èáè: ${this.value}`);
});
}
console.log('‚úÖ Èü≥Â£∞Ë®≠ÂÆö„Çπ„É©„Ç§„ÉÄ„Éº„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíÂàùÊúüÂåñ„Åó„Åæ„Åó„Åü');
}
// ÁèæÂú®„ÅÆÈü≥Â£∞Ë®≠ÂÆö„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞
function getVoiceSettings(speaker) {
if (speaker === SPEAKERS.NEHORI) {
const speedElement = window.UIManager.DOMUtils.get('nehoriSpeed');
const volumeElement = window.UIManager.DOMUtils.get('nehoriVolume');
const voiceElement = window.UIManager.DOMUtils.get('nehoriVoice');
return {
voice: voiceElement?.value || VoiceSettings[SPEAKERS.NEHORI].voice || 'sage',
speed: parseFloat(speedElement?.value || VoiceSettings[SPEAKERS.NEHORI].speed || '1.3'),
volume: Math.min(parseFloat(volumeElement?.value || VoiceSettings[SPEAKERS.NEHORI].volume || '0.9'), 1.0) // ‰∏äÈôê1.0
};
} else if (speaker === SPEAKERS.HAHORI) {
const speedElement = window.UIManager.DOMUtils.get('hahoriSpeed');
const volumeElement = window.UIManager.DOMUtils.get('hahoriVolume');
const voiceElement = window.UIManager.DOMUtils.get('hahoriVoice');
return {
voice: voiceElement?.value || VoiceSettings[SPEAKERS.HAHORI].voice || 'shimmer',
speed: parseFloat(speedElement?.value || VoiceSettings[SPEAKERS.HAHORI].speed || '1.3'),
volume: Math.min(parseFloat(volumeElement?.value || VoiceSettings[SPEAKERS.HAHORI].volume || '0.7'), 1.0) // ‰∏äÈôê1.0
};
}
// „Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö
return {
voice: 'sage',
speed: 1.0,
volume: 0.8
};
}
// =================================================================================
// INITIALIZATION - ÂàùÊúüÂåñÂá¶ÁêÜ
// =================================================================================
document.addEventListener('DOMContentLoaded', async function() {
console.log('üöÄ Ê∑±Â†Ä„Åè„Çì„Ç¢„Éó„É™„ÅåËµ∑Âãï„Åó„Åæ„Åó„Åü');
try {
// üîÑ Êñ∞Ê©üËÉΩ: Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñÔºàÊúÄÂàù„Å´ÂÆüË°åÔºâ
console.log('üìö Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
await initializeKnowledgeManagement();
console.log('‚úÖ Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
// üé§ Êñ∞„Ç∑„Çπ„ÉÜ„É†: StateManagerÂàùÊúüÂåñ
console.log('üé§ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
if (!initializeVoiceSystem()) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂ§±Êïó');
window.showMessage('error', 'Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
// üéØ Step 1: ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
console.log('üîÑ ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
initializeMigrationSystem();
console.log('‚úÖ ÊÆµÈöéÁöÑÁßªË°å„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
// üìù „É™„Ç¢„É´„Çø„Ç§„É†ÊñáÂ≠óËµ∑„Åì„ÅóÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
console.log('‚úèÔ∏è transcriptÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
await initializeTranscriptEditSystem();
console.log('‚úÖ transcriptÁ∑®ÈõÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.showMessage('error', '„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
// ÂàùÊúüÂåñÂá¶ÁêÜ
initializeVoiceSliders();
loadSavedTheme();
updateSessionStatus('Ê∫ñÂÇô‰∏≠...', 'Êú™Ë®≠ÂÆö');
window.updateKnowledgeDisplay();
// üîß Step 3.1: Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫„ÅÆÂàùÊúüÂåñ
if (typeof window.initializeRightPaneSessionDisplay === 'function') {
try {
const rightPaneInitialized = window.initializeRightPaneSessionDisplay();
if (rightPaneInitialized) {
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫ÂàùÊúüÂåñÂÆå‰∫Ü');
// Ëá™ÂãïÊõ¥Êñ∞„ÇíÈñãÂßã
if (typeof window.startRightPaneSessionDisplayUpdates === 'function') {
window.startRightPaneSessionDisplayUpdates();
console.log('‚úÖ Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Ëá™ÂãïÊõ¥Êñ∞ÈñãÂßã');
}
} else {
console.warn('‚ö†Ô∏è Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫ÂàùÊúüÂåñÂ§±Êïó');
}
} catch (error) {
console.error('‚ùå Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
} else {
console.warn('‚ö†Ô∏è Âè≥„Éö„Ç§„É≥„Çª„ÉÉ„Ç∑„Éß„É≥Áä∂Ê≥ÅË°®Á§∫Èñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
// üéØ Êñ∞Ê©üËÉΩ: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°Ë®≠ÂÆöÂàùÊúüÂåñ
loadKnowledgeSettings();
updateKnowledgeSettingsDisplay();
// üîÑ Êñ∞Ê©üËÉΩ: Áä∂ÊÖãÂæ©ÂÖÉÂá¶ÁêÜ
await restoreApplicationState();
// „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„ÅÆEnter„Ç≠„ÉºÂØæÂøú
const passwordInput = document.getElementById('passwordInput');
if (passwordInput) {
passwordInput.addEventListener('keypress', function(e) {
if (e.key === 'Enter') {
loginWithPassword();
}
});
}
// üîÑ Êñ∞Ê©üËÉΩ: „ÉÜ„Éº„ÉûÂÖ•ÂäõÁõ£Ë¶ñ
const themeInput = document.getElementById('themeInput');
if (themeInput) {
// „ÉÜ„Éº„ÉûÂÖ•Âäõ„ÅÆÂ§âÊõ¥Áõ£Ë¶ñ
themeInput.addEventListener('input', function() {
const themeText = themeInput.value.trim();
saveThemeInputState(themeText);
update2StepUI();
});
// Enter„Ç≠„Éº„Åß„Çª„ÉÉ„Ç∑„Éß„É≥ÈñãÂßã
themeInput.addEventListener('keypress', function(e) {
if (e.key === 'Enter') {
const status = evaluate2StepStatus();
if (status.allComplete) {
startSession();
} else {
if (!status.loginComplete) {
focusPasswordInput();
}
}
}
});
}
// Esc„Ç≠„Éº„Åß„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„ÇãÔºàui-advanced.js„Åã„ÇâÂèÇÁÖßÔºâ
if (window.UIAdvanced && window.UIAdvanced.Modal && window.UIAdvanced.Modal.handleEscapeKey) {
document.addEventListener('keydown', window.UIAdvanced.Modal.handleEscapeKey);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Âü∫Êú¨ÁöÑ„Å™Escape„Ç≠„Éº„Éè„É≥„Éâ„É©„Éº
document.addEventListener('keydown', function(event) {
if (event.key === 'Escape') {
if (window.closeAdvancedSettings) {
window.closeAdvancedSettings();
}
}
});
}
// üéØ SessionControllerÂàùÊúüÂåñ
if (typeof SessionController !== 'undefined') {
try {
SessionController.init();
console.log('‚úÖ SessionControllerÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå SessionControllerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}
// üìä Phase 2-2: DataManagerÂàùÊúüÂåñ
if (typeof window.initializeDataManager === 'function') {
try {
await window.initializeDataManager();
console.log('‚úÖ DataManagerÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå DataManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
} else {
console.warn('‚ö†Ô∏è DataManager „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
// üìÑ Phase 2-3: FileManagerÂàùÊúüÂåñ
if (typeof window.initializeFileManager === 'function') {
try {
await window.initializeFileManager();
console.log('‚úÖ FileManagerÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå FileManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
} else {
console.warn('‚ö†Ô∏è FileManager „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
// ü§ñ Phase 2-4: AIManagerÂàùÊúüÂåñ
if (typeof window.initializeAIManager === 'function') {
try {
await window.initializeAIManager();
console.log('‚úÖ AIManagerÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå AIManagerÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
} else {
console.warn('‚ö†Ô∏è AIManager „ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì');
}
// üé§ Phase B: „Çπ„Éû„Éº„ÉàÈü≥Â£∞Êìç‰Ωú„Éë„Éç„É´„ÅÆÂàùÊúüÂåñ
if (typeof SmartVoicePanelManager !== 'undefined') {
SmartVoicePanelManager.init();
}
// üîß VoiceUIManagerÂâäÈô§ÂÆå‰∫Ü - Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„Å´ÂÆåÂÖ®ÁßªË°å
console.log('‚úÖ ÂàùÊúüÂåñÂÆå‰∫ÜÔºàÁä∂ÊÖãÁÆ°ÁêÜ„ÉªÁü•Ë¶ãÁÆ°ÁêÜ„ÉªSessionController„Éª„Çπ„Éû„Éº„ÉàÈü≥Â£∞„Éë„Éç„É´„ÉªÊñ∞UIÊ©üËÉΩ‰ªò„ÅçÔºâ');
});
// =================================================================================
// KNOWLEDGE MANAGEMENT SYSTEM - Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üìÇ CSVÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - knowledge-management.js„Å´ÁßªÂãï
// üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„ÉºÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - knowledge-management.js„Å´ÁßªÂãï
// üë§ „É¶„Éº„Ç∂„ÉºÂêçÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É† - knowledge-management.js„Å´ÁßªÂãï
// üìÑ Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
const KnowledgeFileManager = {
// ‰æùÂ≠òÈñ¢‰øÇ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
interface: null,
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÂàùÊúüÂåñ
_ensureInterface() {
if (!this.interface) {
this.interface = window.KnowledgeFileManagerInterface;
if (!this.interface) {
throw new Error('KnowledgeFileManagerInterface „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}
return this.interface;
},
// „Çª„ÉÉ„Ç∑„Éß„É≥ÁÆ°ÁêÜÊ©üËÉΩ„ÅØSessionController„Å´ÁßªÂãï„Åï„Çå„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆËª¢ÈÄÅ„É°„ÇΩ„ÉÉ„Éâ
async createSessionFile(sessionMeta) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.createSessionFile „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.createSessionFile „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
if (!window.SessionController) {
throw new Error('SessionController „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
return await window.SessionController.createSessionFile(sessionMeta);
},
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆËª¢ÈÄÅ„É°„ÇΩ„ÉÉ„Éâ
formatTimestamp(date) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.formatTimestamp „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.formatTimestamp „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
if (!window.SessionController) {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£Ö
const yy = String(date.getFullYear()).slice(2);
const mm = String(date.getMonth() + 1).padStart(2, '0');
const dd = String(date.getDate()).padStart(2, '0');
const hh = String(date.getHours()).padStart(2, '0');
const min = String(date.getMinutes()).padStart(2, '0');
const ss = String(date.getSeconds()).padStart(2, '0');
return `${yy}${mm}${dd}-${hh}${min}${ss}`;
}
return window.SessionController.formatTimestamp(date);
},
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÅÆËª¢ÈÄÅ„É°„ÇΩ„ÉÉ„Éâ
generateTitleSummary(theme) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.generateTitleSummary „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇSessionController.generateTitleSummary „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
if (!window.SessionController) {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£Ö
if (!theme) return '„Çª„ÉÉ„Ç∑„Éß„É≥Ë®òÈå≤';
let summary = theme.replace(/[„Äå„Äç]/g, '').trim();
if (summary.length > 20) {
summary = summary.substring(0, 17) + '...';
}
return summary;
}
return window.SessionController.generateTitleSummary(theme);
},
// Áü•Ë¶ã„ÅÆËøΩÂä†ÔºàDataManager„Å´ÁßªË≠≤Ôºâ
addInsight(insight, context, quality) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.addInsight „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇDataManager.addInsight „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// DataManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.DataManager && window.DataManager.isInitialized()) {
try {
return window.DataManager.addInsight(insight, context, quality);
} catch (error) {
console.error('‚ùå DataManager.addInsightÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàDataManagerÊú™‰ΩøÁî®ÊôÇÔºâ
const iface = this._ensureInterface();
const currentSession = iface.state.getCurrentSession();
if (!currentSession) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return false;
}
const insightEntry = {
id: `insight_${Date.now()}`,
content: insight,
context: context,
quality_scores: quality,
timestamp: new Date().toISOString(),
conversation_context: context.related_conversation || []
};
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁµåÁî±„ÅßÁü•Ë¶ã„ÇíËøΩÂä†
const success = iface.state.addInsightToSession(insightEntry);
if (!success) {
console.error('‚ùå Áü•Ë¶ã„ÅÆËøΩÂä†„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return false;
}
console.log('‚úÖ Áü•Ë¶ã„ÇíËøΩÂä†:', insight.substring(0, 50) + '...');
return true;
},
// „Éï„Ç°„Ç§„É´ÁîüÊàêÔºàFileManager„Å´ÁßªË≠≤Ôºâ
async generateKnowledgeFile(sessionData = null) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.generateKnowledgeFile „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇFileManager.generateKnowledgeFile „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// FileManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.FileManager) {
try {
return await window.FileManager.generateKnowledgeFile(sessionData);
} catch (error) {
console.error('‚ùå FileManager.generateKnowledgeFileÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàFileManagerÊú™‰ΩøÁî®ÊôÇÔºâ
const iface = this._ensureInterface();
const session = sessionData || iface.state.getCurrentSession();
if (!session) {
console.warn('‚ö†Ô∏è „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çª„ÉÉ„Ç∑„Éß„É≥„Åå„ÅÇ„Çä„Åæ„Åõ„Çì');
return null;
}
const content = this.buildFileContent(session);
// „Éï„Ç°„Ç§„É´Âêç„ÅÆÁîüÊàêÔºàKnowledge DNAÁµ±Âêà„ÅÆÂ†¥Âêà„ÅØÁâπÂà•„Å™„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„ÇπÔºâ
const timestamp = this.formatTimestamp(new Date());
const dnaPrefix = session.knowledge_graph ? 'KnowledgeDNA_' : 'Áü•Ë¶ã_';
const filename = `${dnaPrefix}${session.meta.title}_${timestamp}.md`;
// „Ç§„É≥„Çø„Éº„Éï„Çß„Éº„ÇπÁµåÁî±„Åß„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
const success = iface.file.downloadFile(content, filename);
if (!success) {
console.error('‚ùå „Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return null;
}
console.log('‚úÖ Áü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàêÂÆå‰∫Ü:', filename);
return filename;
},
// „Éï„Ç°„Ç§„É´ÂÜÖÂÆπ„ÅÆÊßãÁØâÔºàFileManager„Å´ÁßªË≠≤Ôºâ
buildFileContent(session) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.buildFileContent „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇFileManager.buildFileContent „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// FileManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.FileManager) {
try {
return window.FileManager.buildFileContent(session);
} catch (error) {
console.error('‚ùå FileManager.buildFileContentÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàFileManagerÊú™‰ΩøÁî®ÊôÇÔºâ
const meta = session.meta;
const insights = session.insights;
let content = '---\n';
content += '# „É°„Çø„Éá„Éº„Çø\n';
content += `meta:\n`;
content += ` session_id: "${meta.session_id}"\n`;
content += ` date: "${meta.date}"\n`;
content += ` category: "${meta.category}"\n`;
content += ` title: "${meta.title}"\n`;
content += ` participant: "${meta.participant}"\n`;
content += ` participant_role: "${meta.participant_role}"\n`;
content += ` theme: "${meta.theme}"\n`;
content += ` knowledge_dna_version: "1.0"\n`;
content += '\n';
content += '# „Çª„ÉÉ„Ç∑„Éß„É≥Ê¶ÇË¶Å\n';
content += `summary:\n`;
content += ` overview: "${meta.theme}„Å´„Å§„ÅÑ„Å¶Ê∑±Êéò„Çä„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÂÆüÊñΩ"\n`;
content += ` insights_count: ${insights.length}\n`;
content += ` enhanced_by_ai: true\n`;
content += '\n';
content += '# ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ãÔºàÁîü„Éá„Éº„ÇøÔºâ\n';
content += `raw_insights:\n`;
insights.forEach((insight, index) => {
content += ` - id: "${insight.id}"\n`;
content += ` content: "${insight.content}"\n`;
content += ` timestamp: "${insight.timestamp}"\n`;
if (insight.quality_scores) {
content += ` quality_scores:\n`;
content += ` confidence: ${insight.quality_scores.confidence || 0.5}\n`;
content += ` importance: ${insight.quality_scores.importance || 0.5}\n`;
}
content += '\n';
});
content += '---\n\n';
content += `# ${meta.title}\n\n`;
content += `**ÂèÇÂä†ËÄÖ**: ${meta.participant}\n`;
content += `**Êó•ÊôÇ**: ${new Date(meta.date).toLocaleString('ja-JP')}\n`;
content += `**„Ç´„ÉÜ„Ç¥„É™„Éº**: ${meta.category}\n`;
content += `**„ÉÜ„Éº„Éû**: ${meta.theme}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÁü•Ë¶ã„Çª„ÇØ„Ç∑„Éß„É≥
content += '## üß¨ Knowledge DNA - AIÊï¥ÁêÜ„Åï„Çå„ÅüÁü•Ë¶ã\n\n';
content += '> ‰ª•‰∏ã„ÅÆÁü•Ë¶ã„ÅØ„ÄÅÊ∑±Â†Ä„Åè„Çì„ÅÆKnowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Å£„Å¶Êï¥ÁêÜ„Éª„É™„É©„Ç§„Éà„Åï„Çå„ÅüÂÜÖÂÆπ„Åß„Åô„ÄÇ\n\n';
// ÊßãÈÄ†Âåñ„Åï„Çå„ÅüÁü•Ë¶ã„ÇíË°®Á§∫
insights.forEach((insight, index) => {
content += `### üìò Áü•Ë¶ã ${index + 1}\n\n`;
// AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ„ÇíË°®Á§∫ÔºàÂà©Áî®ÂèØËÉΩ„Å™Â†¥ÂêàÔºâ
if (insight.enhanced_content && insight.dna_enhanced) {
content += `**üìù AIÊï¥ÁêÜ„Åï„Çå„ÅüÂÜÖÂÆπ**\n`;
// enhanced_content „Åå JSONÊñáÂ≠óÂàó„ÅÆÂ†¥Âêà„ÅØËß£Êûê„ÇíË©¶Ë°å
let enhancedText = insight.enhanced_content;
if (typeof enhancedText === 'string' && enhancedText.startsWith('{')) {
try {
const parsed = JSON.parse(enhancedText);
if (parsed.enhanced) {
enhancedText = parsed.enhanced;
}
} catch (e) {
// JSONËß£ÊûêÂ§±ÊïóÊôÇ„ÅØ„Åù„ÅÆ„Åæ„Åæ‰ΩøÁî®
console.warn('Enhanced content JSONËß£ÊûêÂ§±Êïó:', e);
}
}
content += `${enhancedText}\n\n`;
if (insight.summary && insight.summary !== 'AIÊï¥ÁêÜÊ∏à„Åø') {
content += `**üìã Ë¶ÅÁ¥Ñ**\n`;
content += `${insight.summary}\n\n`;
}
if (insight.background && insight.background.trim()) {
content += `**üîç ËÉåÊôØ„ÉªÂâçÊèê**\n`;
content += `${insight.background}\n\n`;
}
if (insight.actionable_points && insight.actionable_points.length > 0) {
content += `**üí° ÂÆüË°åÂèØËÉΩ„Å™„Éù„Ç§„É≥„Éà**\n`;
insight.actionable_points.forEach(point => {
content += `- ${point}\n`;
});
content += `\n`;
}
if (insight.keywords && insight.keywords.length > 0) {
content += `**üè∑Ô∏è „Ç≠„Éº„ÉØ„Éº„Éâ**\n`;
content += `${insight.keywords.join(', ')}\n\n`;
}
if (insight.related_concepts && insight.related_concepts.length > 0) {
content += `**üîó Èñ¢ÈÄ£Ê¶ÇÂøµ**\n`;
content += `${insight.related_concepts.join(', ')}\n\n`;
}
} else {
// ÂæìÊù•„ÅÆË°®Á§∫ÂΩ¢Âºè
content += `**üìù ÂÜÖÂÆπ**\n`;
content += `${insight.content}\n\n`;
if (insight.context) {
content += `**üîç ËÉåÊôØ„ÉªÁä∂Ê≥Å**\n`;
content += `${insight.context.situation || 'Ë©≥Á¥∞„Å™ËÉåÊôØÊÉÖÂ†±„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô'}\n\n`;
}
}
// Knowledge DNAÊÉÖÂ†±
content += `**üß¨ Knowledge DNA**\n`;
content += `- üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„Éº: ${meta.category}\n`;
if (insight.categories && insight.categories.length > 0) {
content += `- üéØ AIÂàÜÊûê„Ç´„ÉÜ„Ç¥„É™„Éº: ${insight.categories.join(', ')}\n`;
}
content += `- ‚≠ê ÈáçË¶ÅÂ∫¶: ${insight.quality_scores?.importance ? Math.round(insight.quality_scores.importance * 100) : 50}%\n`;
content += `- üéØ ‰ø°È†ºÂ∫¶: ${insight.quality_scores?.confidence ? Math.round(insight.quality_scores.confidence * 100) : 50}%\n`;
content += `- üîó „Çª„ÉÉ„Ç∑„Éß„É≥ID: ${meta.session_id}\n`;
content += `- üìÖ ÊäΩÂá∫Êó•ÊôÇ: ${insight.timestamp}\n`;
content += `- ü§ñ AIÊï¥ÁêÜ: ${insight.dna_enhanced ? '‚úÖ ÂÆå‰∫Ü' : '‚ùå Êú™ÂÆüË°å'}\n`;
content += `\n---\n\n`;
});
// „Éä„É¨„ÉÉ„Ç∏„Ç∞„É©„ÉïÊÉÖÂ†±ÔºàAIÂàÜÊûêÁµêÊûúÔºâ
content += '## üï∏Ô∏è Knowledge GraphÔºà„Éä„É¨„ÉÉ„Ç∏„Ç∞„É©„ÉïÔºâ\n\n';
content += '> Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÁü•Ë¶ãÈñì„ÅÆÈñ¢‰øÇÊÄßÂàÜÊûê\n\n';
// „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à
content += `**üìä „Çª„ÉÉ„Ç∑„Éß„É≥Áµ±Ë®à**\n`;
content += `- Á∑èÁü•Ë¶ãÊï∞: ${insights.length}\n`;
content += `- Âπ≥ÂùáÈáçË¶ÅÂ∫¶: ${this.calculateAverageImportance(insights)}%\n`;
content += `- AIÊï¥ÁêÜÊ∏à„Åø: ${insights.filter(i => i.dna_enhanced).length}/${insights.length}\n`;
content += `- „ÉÜ„Éº„Éû„Ç´„ÉÜ„Ç¥„É™„Éº: ${meta.category}\n`;
content += `- ÂèÇÂä†ËÄÖ: ${meta.participant}\n\n`;
// Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê
if (session.knowledge_graph && session.knowledge_graph.clusters && session.knowledge_graph.clusters.length > 0) {
content += `**üîó Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê**\n`;
session.knowledge_graph.clusters.forEach((cluster, index) => {
content += `${index + 1}. **${cluster.theme}**\n`;
content += ` - ÂØæË±°Áü•Ë¶ã: ${cluster.insights.map(i => i + 1).join(', ')}\n`;
content += ` - Ë™¨Êòé: ${cluster.description}\n\n`;
});
} else {
content += `**üîó Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê**\n`;
if (insights.length < 2) {
content += `- Âçò‰∏Ä„ÅÆÁü•Ë¶ã„ÅÆ„Åü„ÇÅ„ÄÅ„ÇØ„É©„Çπ„Çø„ÉºÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n\n`;
} else {
content += `- Èñ¢‰øÇÊÄßÂàÜÊûê‰∏≠„ÄÅ„Åæ„Åü„ÅØAI„Å´„Çà„ÇãËá™ÂãïÂàÜÊûê„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì\n`;
content += `- ‰ªäÂæå„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅßÈ´òÂ∫¶„Å™Áü•Ë¶ã„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô\n\n`;
}
}
// Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß
if (session.knowledge_graph && session.knowledge_graph.relationships && session.knowledge_graph.relationships.length > 0) {
content += `**üîÑ Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß**\n`;
session.knowledge_graph.relationships.forEach((rel, index) => {
content += `${index + 1}. Áü•Ë¶ã${rel.from + 1} ‚Üí Áü•Ë¶ã${rel.to + 1} (${rel.type})\n`;
content += ` - ${rel.description}\n\n`;
});
} else {
content += `**üîÑ Áü•Ë¶ãÈñìÈñ¢‰øÇÊÄß**\n`;
if (insights.length < 2) {
content += `- Âçò‰∏Ä„ÅÆÁü•Ë¶ã„ÅÆ„Åü„ÇÅ„ÄÅÈñ¢‰øÇÊÄßÂàÜÊûê„ÅØÂÆüË°å„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n\n`;
} else {
content += `- ÁèæÂú®ÂàÜÊûê‰∏≠„ÄÅ„Åæ„Åü„ÅØÈñ¢‰øÇÊÄß„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n`;
content += `- „Çà„ÇäÂ§ö„Åè„ÅÆÁü•Ë¶ã„ÅåËìÑÁ©ç„Åï„Çå„Çã„Å®„ÄÅÁü•Ë¶ãÈñì„ÅÆÂõ†ÊûúÈñ¢‰øÇ„ÉªË£úÂÆåÈñ¢‰øÇ„ÅåÊäΩÂá∫„Åï„Çå„Åæ„Åô\n\n`;
}
}
// ÂÖ±ÈÄö„ÉÜ„Éº„Éû
if (session.knowledge_graph && session.knowledge_graph.themes && session.knowledge_graph.themes.length > 0) {
content += `**üéØ ÂÖ±ÈÄö„ÉÜ„Éº„ÉûÂàÜÊûê**\n`;
session.knowledge_graph.themes.forEach((theme, index) => {
content += `${index + 1}. **${theme.name}** (Âá∫ÁèæÈ†ªÂ∫¶: ${theme.frequency})\n`;
content += ` - ${theme.description}\n\n`;
});
} else {
content += `**üéØ ÂÖ±ÈÄö„ÉÜ„Éº„ÉûÂàÜÊûê**\n`;
// Áü•Ë¶ã„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„Åã„ÇâÂÖ±ÈÄö„ÉÜ„Éº„Éû„ÇíÊâãÂãïÁîüÊàê
const allKeywords = insights.flatMap(i => i.keywords || []);
const keywordFreq = {};
allKeywords.forEach(keyword => {
keywordFreq[keyword] = (keywordFreq[keyword] || 0) + 1;
});
const commonKeywords = Object.entries(keywordFreq)
.filter(([_, freq]) => freq > 1)
.sort((a, b) => b[1] - a[1])
.slice(0, 5);
if (commonKeywords.length > 0) {
content += `- Ëá™ÂãïÊ§úÂá∫„Åï„Çå„ÅüÂÖ±ÈÄö„ÉÜ„Éº„Éû:\n`;
commonKeywords.forEach(([keyword, freq], index) => {
content += ` ${index + 1}. **${keyword}** (Âá∫Áèæ: ${freq}Âõû)\n`;
});
content += `\n`;
} else {
content += `- „É°„Ç§„É≥„ÉÜ„Éº„Éû: ${meta.theme}\n`;
content += `- „Åì„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆÁü•Ë¶ã„ÅØÂ§öÊßòÊÄß„Å´ÂØå„Çì„Åß„Åä„Çä„ÄÅÁâπÂÆö„ÅÆÂÖ±ÈÄö„ÉÜ„Éº„Éû„ÅØÊ§úÂá∫„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü\n`;
content += `- „Çà„ÇäÂ§ö„Åè„ÅÆÁü•Ë¶ã„ÅåËìÑÁ©ç„Åï„Çå„Çã„Å®„ÄÅË©≥Á¥∞„Å™„ÉÜ„Éº„ÉûÂàÜÊûê„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô\n\n`;
}
}
// Áü•Ë¶ãÁ∂ôÊâøDNA
content += `**üß¨ Áü•Ë¶ãÁ∂ôÊâøDNA**\n`;
content += `- Áü•Ë¶ãÁ≥ªÁµ±: ${meta.theme} > ${meta.category}\n`;
content += `- Á∂ôÊâøÂèØËÉΩÊÄß: ${insights.filter(i => i.dna_enhanced).length > 0 ? 'È´òÔºàAIÊï¥ÁêÜÊ∏à„ÅøÔºâ' : '‰∏≠ÔºàÂü∫Êú¨ÊßãÈÄ†ÂåñÊ∏à„ÅøÔºâ'}\n`;
content += `- AIÂ≠¶ÁøíÈÅ©Áî®: ${insights.filter(i => i.dna_enhanced).length > 0 ? '‚úÖ ÈÅ©Áî®Ê∏à„Åø' : '‚è≥ Ê∫ñÂÇô‰∏≠'}\n`;
content += `- ÁµÑÁπîÁü•Âåñ„É¨„Éô„É´: ${insights.length >= 3 ? 'È´ò' : insights.length >= 2 ? '‰∏≠' : '‰Ωé'}\n`;
const uniqueKeywords = [...new Set(insights.flatMap(i => i.keywords || []))];
if (uniqueKeywords.length > 0) {
content += `- Áü•Ë¶ã„Ç≠„Éº„ÉØ„Éº„Éâ: ${uniqueKeywords.slice(0, 10).join(', ')}${uniqueKeywords.length > 10 ? '...' : ''}\n`;
}
content += `\n`;
return content;
},
// Âπ≥ÂùáÈáçË¶ÅÂ∫¶Ë®àÁÆóÔºàFileManager„Å´ÁßªË≠≤Ôºâ
calculateAverageImportance(insights) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.calculateAverageImportance „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇFileManager.calculateAverageImportance „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// FileManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.FileManager) {
try {
return window.FileManager.calculateAverageImportance(insights);
} catch (error) {
console.error('‚ùå FileManager.calculateAverageImportanceÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàFileManagerÊú™‰ΩøÁî®ÊôÇÔºâ
if (insights.length === 0) return 0;
const total = insights.reduce((sum, insight) => {
return sum + (insight.quality_scores?.importance || 0.5);
}, 0);
return Math.round((total / insights.length) * 100);
},
// AIÁü•Ë¶ãÊï¥ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÔºàAIManager„Å´ÁßªË≠≤Ôºâ
async enhanceKnowledgeWithAI(session, showProgress = true) {
console.warn('‚ö†Ô∏è KnowledgeFileManager.enhanceKnowledgeWithAI „ÅØÈùûÊé®Â•®„Åß„Åô„ÄÇAIManager.enhanceKnowledgeWithAI „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
// AIManager„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager && window.AIManager.isInitialized) {
try {
return await window.AIManager.enhanceKnowledgeWithAI(session, showProgress);
} catch (error) {
console.error('‚ùå AIManager.enhanceKnowledgeWithAIÂÆüË°å„Ç®„É©„Éº:', error);
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Å∏
}
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË£ÖÔºàAIManagerÊú™‰ΩøÁî®ÊôÇÔºâ
console.warn('‚ö†Ô∏è AIManager„ÅåÊú™ÂàùÊúüÂåñ„ÅÆ„Åü„ÇÅ„ÄÅÂü∫Êú¨ÂÆüË£Ö„Çí‰ΩøÁî®„Åó„Åæ„Åô');
try {
// API„Ç≠„Éº„ÅÆÁ¢∫Ë™ç
if (!window.AppState?.apiKey) {
console.warn('‚ö†Ô∏è API key not available for knowledge enhancement');
return session;
}
console.log('ü§ñ AIÁü•Ë¶ãÊï¥ÁêÜÈñãÂßãÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ...');
if (showProgress && window.showMessage) {
window.showMessage('info', 'üß¨ Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÁü•Ë¶ãÊï¥ÁêÜ‰∏≠...');
}
// Âü∫Êú¨ÁöÑ„Å™Áü•Ë¶ãÊï¥ÁêÜ„ÅÆ„ÅøÂÆüË°å
const enhancedSession = { ...session };
enhancedSession.insights = session.insights.map(insight => ({
...insight,
enhanced_content: insight.content,
summary: insight.content.substring(0, 100) + (insight.content.length > 100 ? '...' : ''),
dna_enhanced: false,
categories: [],
keywords: []
}));
console.log('‚úÖ AIÁü•Ë¶ãÊï¥ÁêÜÂÆå‰∫ÜÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ');
if (showProgress && window.showMessage) {
window.showMessage('success', 'Âü∫Êú¨ÁöÑ„Å™Áü•Ë¶ãÊï¥ÁêÜ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü');
}
return enhancedSession;
} catch (error) {
console.error('‚ùå AIÁü•Ë¶ãÊï¥ÁêÜ„Ç®„É©„ÉºÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ:', error);
if (showProgress && window.showMessage) {
window.showMessage('warning', 'AIÊï¥ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„Åå„ÄÅÂü∫Êú¨„ÅÆÁü•Ë¶ã„ÅØ‰øùÂ≠ò„Åï„Çå„Åæ„Åô');
}
return session;
}
}
};
// üîß KnowledgeFileManager„Çí„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.KnowledgeFileManager = KnowledgeFileManager;
// üéØ Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ
async function initializeKnowledgeManagement() {
try {
console.log('üìö Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã...');
// CSV „Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø
await CategoryManager.loadCategories();
await UserManager.loadUsers();
window.KnowledgeState.isInitialized = true;
console.log('‚úÖ Áü•Ë¶ã„Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Áü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.KnowledgeState.isInitialized = false;
}
}
// üîß Áü•Ë¶ã„Çª„ÉÉ„Ç∑„Éß„É≥ÂàùÊúüÂåñÂá¶ÁêÜ„ÅØ app/session-start-manager.js „Å´ÁßªÂãï„Åó„Åæ„Åó„Åü
// ÂæåÊñπ‰∫íÊèõÊÄß„ÅØ window.initializeKnowledgeSession „Åß‰øùË®º
// üë§ „É¶„Éº„Ç∂„ÉºË≠òÂà•„Éó„É≠„É≥„Éó„Éà
async function promptUserIdentification() {
try {
// Á∞°ÊòìÁöÑ„Å™ÂÖ•ÂäõÔºàÂæå„Åß„Çà„ÇäËâØ„ÅÑUI„Å´ÊîπËâØÔºâ
const nickname = prompt('„ÅÇ„Å™„Åü„ÅÆ„ÅäÂêçÂâç„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑÔºà„Éã„ÉÉ„ÇØ„Éç„Éº„É†„Åß„ÇÇÁµêÊßã„Åß„ÅôÔºâ:') || '„Ç≤„Çπ„Éà';
const user = await UserManager.confirmUser(nickname);
if (user) {
return user;
}
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
return {
nickname: nickname,
formal_name: nickname,
role: 'ÂèÇÂä†ËÄÖ',
department: 'Êú™Ë®≠ÂÆö'
};
} catch (error) {
console.error('‚ùå „É¶„Éº„Ç∂„ÉºË≠òÂà•„Ç®„É©„Éº:', error);
return {
nickname: '„Ç≤„Çπ„Éà',
formal_name: '„Ç≤„Çπ„Éà„É¶„Éº„Ç∂„Éº',
role: 'ÂèÇÂä†ËÄÖ',
department: 'Êú™Ë®≠ÂÆö'
};
}
}
// üè∑Ô∏è „Ç´„ÉÜ„Ç¥„É™„ÉºÈÅ∏Êäû„Éó„É≠„É≥„Éó„Éà
async function promptCategorySelection() {
try {
const categories = window.KnowledgeState.categories;
if (categories.length === 0) {
return '„Åù„ÅÆ‰ªñ';
}
// Á∞°ÊòìÁöÑ„Å™ÈÅ∏ÊäûÔºàÂæå„Åß„Çà„ÇäËâØ„ÅÑUI„Å´ÊîπËâØÔºâ
const categoryNames = categories.map(cat => cat.category_name);
const options = categoryNames.map((name, i) => `${i + 1}. ${name}`).join('\n');
const selection = prompt(`Áü•Ë¶ã„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\n${options}\n\nÁï™Âè∑„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ (1-${categoryNames.length}):`);
const index = parseInt(selection) - 1;
if (index >= 0 && index < categoryNames.length) {
return categoryNames[index];
}
// „Éá„Éï„Ç©„É´„ÉàÈÅ∏Êäû
return categoryNames[0];
} catch (error) {
console.error('‚ùå „Ç´„ÉÜ„Ç¥„É™„ÉºÈÅ∏Êäû„Ç®„É©„Éº:', error);
return '„Åù„ÅÆ‰ªñ';
}
}
// =================================================================================
// KNOWLEDGE DNA SYSTEM - Áü•Ë¶ãDNA„Ç∑„Çπ„ÉÜ„É† - knowledge-management.js„Å´ÁßªÂãï
// =================================================================================
// =================================================================================
// QUALITY ASSESSMENT SYSTEM - ÂìÅË≥™Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É† - knowledge-management.js„Å´ÁßªÂãï
// =================================================================================
// =================================================================================
// VOICE-BASED KNOWLEDGE EVALUATION SYSTEM - Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
const VoiceKnowledgeSystem = {
// üéØ „É°„Ç§„É≥Âá¶ÁêÜ: Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°
async processKnowledgeWithVoiceEvaluation(insightText, conversationContext) {
try {
console.log('üéØ Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°ÈñãÂßã...');
// 1. ÂâçÊèêÊù°‰ª∂„ÅÆÁ¢∫Ë™ç
const prerequisites = await this._checkEvaluationPrerequisites();
if (!prerequisites.canProceed) {
console.warn('‚ö†Ô∏è Áü•Ë¶ãË©ï‰æ°„ÅÆÂâçÊèêÊù°‰ª∂„ÅåÊ∫Ä„Åü„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì:', prerequisites.reason);
return { accepted: false, reason: 'prerequisites_not_met', details: prerequisites.reason };
}
// 2. „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÂìÅË≥™Ë©ï‰æ°ÔºàAIManagerÁµ±‰∏ÄÔºâ
let qualityEvaluation = null;
// AIManager„Å´„Çà„ÇãÁµ±‰∏ÄË©ï‰æ°Âá¶ÁêÜ
if (window.AIManager) {
try {
console.log('üéØ AIManagerÁµ±‰∏ÄË©ï‰æ°Âá¶ÁêÜÈñãÂßã...');
// ÂàùÊúüÂåñÂÆå‰∫Ü„ÇíÂæÖÊ©üÔºà„Çø„Ç§„É†„Ç¢„Ç¶„Éà‰ªò„ÅçÔºâ
await window.AIManager.waitForInitialization(10000);
// ÂìÅË≥™Ë©ï‰æ°ÂÆüË°å
qualityEvaluation = await window.AIManager.evaluateInsightQuality(insightText, conversationContext);
console.log('‚úÖ AIManagerÁµ±‰∏ÄË©ï‰æ°ÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå AIManagerË©ï‰æ°„Ç®„É©„Éº:', error);
// „Ç®„É©„Éº„ÅÆË©≥Á¥∞„Çí„É≠„Ç∞„Å´Ë®òÈå≤
if (error.message?.includes('ÂàùÊúüÂåñ')) {
console.warn('‚ö†Ô∏è AIManagerÂàùÊúüÂåñ„Ç®„É©„Éº - ÊâãÂãïË©ï‰æ°„Å´ÁßªË°å');
} else if (error.message?.includes('API')) {
console.warn('‚ö†Ô∏è APIÈÄö‰ø°„Ç®„É©„Éº - ÊâãÂãïË©ï‰æ°„Å´ÁßªË°å');
} else {
console.warn('‚ö†Ô∏è ‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº - ÊâãÂãïË©ï‰æ°„Å´ÁßªË°å');
}
}
} else {
console.warn('‚ö†Ô∏è AIManager„ÅåÊú™ÂÆöÁæ© - ÊâãÂãïË©ï‰æ°„Å´ÁßªË°å');
}
// AIË©ï‰æ°Â§±ÊïóÊôÇ„ÅØÊâãÂãïË©ï‰æ°
if (!qualityEvaluation) {
console.log('üîÑ ÊâãÂãïË©ï‰æ°„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË°å');
return await this._handleManualEvaluationFallback(insightText, conversationContext);
}
// Áµ±Ë®àÊõ¥Êñ∞
AppState.sessionStats.totalKnowledge++;
this.updateAverageScore(qualityEvaluation.overall);
const totalScore = Math.round(qualityEvaluation.overall * 100);
const threshold = AppState.knowledgeSettings.autoRecordThreshold;
// 3. ÈñæÂÄ§„Å´„Çà„ÇãËá™ÂãïÂà§ÂÆö
if (totalScore >= threshold) {
return await this.handleAutoRecord(qualityEvaluation, insightText, totalScore);
} else {
return await this.handleManualConfirmation(qualityEvaluation, insightText, totalScore);
}
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Éô„Éº„ÇπÁü•Ë¶ãË©ï‰æ°„Ç®„É©„Éº:', error);
return { accepted: false, reason: 'process_error', details: error.message };
}
},
// ü§ñ Ëá™ÂãïË®òÈå≤Âá¶ÁêÜ
async handleAutoRecord(evaluation, insightText, totalScore) {
console.log('‚úÖ È´òË©ï‰æ°Áü•Ë¶ã: Ëá™ÂãïË®òÈå≤');
// Áµ±Ë®àÊõ¥Êñ∞
AppState.sessionStats.autoRecorded++;
// Èü≥Â£∞ÈÄöÁü•
if (AppState.knowledgeSettings.showAutoRecordNotice) {
const message = VoiceTemplates.AUTO_RECORD(evaluation.summary, totalScore);
await this.speakAsHahori(message);
}
// Âè≥„Éö„Ç§„É≥„Å´Ë©≥Á¥∞Ë°®Á§∫
this.updateDetailedEvaluation(evaluation, totalScore, 'auto');
return {
accepted: true,
reason: 'auto_accept',
evaluation: evaluation,
summary: evaluation.summary
};
},
// üé§ ÊâãÂãïÁ¢∫Ë™çÂá¶ÁêÜ
async handleManualConfirmation(evaluation, insightText, totalScore) {
console.log('ü§î ‰∏≠Á®ãÂ∫¶ÂìÅË≥™: Èü≥Â£∞Á¢∫Ë™çÂÆüÊñΩ');
// Ë©≥Á¥∞Ë°®Á§∫Áâà„ÅßÁ¢∫Ë™çË¶ÅÊ±Ç
await this.speakKnowledgeEvaluation(evaluation, totalScore);
// Âè≥„Éö„Ç§„É≥„Å´Ë©≥Á¥∞Ë°®Á§∫
this.updateDetailedEvaluation(evaluation, totalScore, 'pending');
// üîß ÊîπÂñÑÁâà: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„Éº„Ç∑„Çπ„ÉÜ„É†„ÅßÁü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÈñãÂßã
ConversationGatekeeper.enterKnowledgeConfirmationMode('manualConfirmation');
// ‰øùÁïô‰∏≠„ÅÆÁü•Ë¶ãË©ï‰æ°„ÇíË®≠ÂÆö
AppState.voiceRecognitionState.pendingKnowledgeEvaluation = {
...evaluation,
insightText: insightText,
totalScore: totalScore
};
// Èü≥Â£∞Ë™çË≠ò„ÅÆÂÜçÈñã„ÇíÁ¢∫ÂÆü„Å´Ë°å„ÅÜ
restartSpeechRecognition();
// „Åì„ÅÆÊôÇÁÇπ„Åß„ÅØÁµêÊûú„ÇíËøî„Åï„Åö„ÄÅÈü≥Â£∞ÂøúÁ≠î„ÇíÂæÖ„Å§
return null;
},
// üéµ „ÅØ„Åª„Çä„Éº„ÅÆ„ÅÆÈü≥Â£∞Áô∫Ë©±ÔºàÁü•Ë¶ãË©ï‰æ°ÊôÇ„ÅØË©≥Á¥∞Ë°®Á§∫ÁâàÔºâ
async speakAsHahori(message) {
try {
await addMessageToChat(SPEAKERS.HAHORI, message);
const audioBlob = await ttsTextToAudioBlob(message, SPEAKERS.HAHORI);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
} catch (error) {
console.error('‚ùå „ÅØ„Åª„Çä„Éº„ÅÆÈü≥Â£∞Áô∫Ë©±„Ç®„É©„Éº:', error);
}
},
// üéµ „ÅØ„Åª„Çä„Éº„ÅÆÁü•Ë¶ãË©ï‰æ°Áô∫Ë©±ÔºàË©≥Á¥∞Ë°®Á§∫ÁâàÔºâ
async speakKnowledgeEvaluation(evaluation, totalScore) {
try {
// Èü≥Â£∞Áî®„ÅÆ„Ç∑„É≥„Éó„É´„Å™„É°„ÉÉ„Çª„Éº„Ç∏
const voiceMessage = VoiceTemplates.CONFIRMATION_REQUEST(evaluation.summary, totalScore);
// ‰ºöË©±Ê¨ÑÁî®„ÅÆË©≥Á¥∞Ë°®Á§∫„É°„ÉÉ„Çª„Éº„Ç∏
const detailedMessage = this.createDetailedEvaluationMessage(evaluation, totalScore);
// Ë©≥Á¥∞Áâà„Çí‰ºöË©±Ê¨Ñ„Å´Ë°®Á§∫
await addMessageToChat(SPEAKERS.HAHORI, detailedMessage);
// „Ç∑„É≥„Éó„É´Áâà„ÇíÈü≥Â£∞„ÅßÁô∫Ë©±
const audioBlob = await ttsTextToAudioBlob(voiceMessage, SPEAKERS.HAHORI);
await playPreGeneratedAudio(audioBlob, SPEAKERS.HAHORI);
} catch (error) {
console.error('‚ùå „ÅØ„Åª„Çä„Éº„ÅÆÁü•Ë¶ãË©ï‰æ°Áô∫Ë©±„Ç®„É©„Éº:', error);
}
},
// üìä Ë©≥Á¥∞Ë©ï‰æ°„É°„ÉÉ„Çª„Éº„Ç∏‰ΩúÊàê
createDetailedEvaluationMessage(evaluation, totalScore) {
const getStars = (score) => {
const starCount = Math.round(score * 5);
return '‚òÖ'.repeat(starCount) + '‚òÜ'.repeat(5 - starCount);
};
const confidenceScore = Math.round(evaluation.confidence * 100);
const importanceScore = Math.round(evaluation.importance * 100);
const actionabilityScore = Math.round(evaluation.actionability * 100);
return `„Äå${evaluation.summary}„Äç„Å®„ÅÑ„ÅÜÁü•Ë¶ã„ÇíÊäΩÂá∫„Åó„Åæ„Åó„Åü„ÄÇË©ï‰æ°„ÅØ${totalScore}ÁÇπ„Åß„Åô„ÄÇ
üìä Ë©≥Á¥∞Ë©ï‰æ°:
‚Ä¢ ‰ø°È†ºÊÄß: ${confidenceScore}ÁÇπ ${getStars(evaluation.confidence)}
‚Ä¢ ÈáçË¶ÅÊÄß: ${importanceScore}ÁÇπ ${getStars(evaluation.importance)}
‚Ä¢ ÂÆüË°åÊÄß: ${actionabilityScore}ÁÇπ ${getStars(evaluation.actionability)}
„Åì„ÅÆÁü•Ë¶ã„ÇíË®òÈå≤„Åó„Åæ„Åô„ÅãÔºü„Äå„ÅØ„ÅÑ„Äç„Åæ„Åü„ÅØ„Äå„ÅÑ„ÅÑ„Åà„Äç„Åß„ÅäÁ≠î„Åà„Åè„Å†„Åï„ÅÑ„ÄÇ`;
},
// üìä Âè≥„Éö„Ç§„É≥Ë©≥Á¥∞Ë©ï‰æ°Ë°®Á§∫
updateDetailedEvaluation(evaluation, totalScore, status) {
if (!AppState.knowledgeSettings.showDetailedEvaluation) return;
// Êó¢Â≠ò„ÅÆÁü•Ë¶ãË°®Á§∫„ÇíÊõ¥Êñ∞ÔºàË©≥Á¥∞ÊÉÖÂ†±‰ªò„ÅçÔºâ
const extractedKnowledge = window.UIManager.DOMUtils.get('extractedKnowledge');
if (!extractedKnowledge) return;
const statusIcon = {
'auto': '‚úÖ',
'pending': '‚è≥',
'approved': 'üëç',
'rejected': '‚ùå'
}[status] || 'üìä';
const evaluationHtml = `
<div style="padding: 8px 10px; margin-bottom: 6px; background: rgba(255, 255, 255, 0.15); border-radius: 8px; font-size: 11px; border-left: 3px solid #06b6d4;">
<div style="font-weight: 600; color: #06b6d4; line-height: 1.4; margin-bottom: 4px;">
${statusIcon} ${evaluation.summary}
</div>
<div style="display: flex; justify-content: space-between; font-size: 9px; color: #999;">
<span>‰ø°È†ºÊÄß:${Math.round(evaluation.confidence * 100)}%</span>
<span>ÈáçË¶ÅÊÄß:${Math.round(evaluation.importance * 100)}%</span>
<span>ÂÆüË°åÊÄß:${Math.round(evaluation.actionability * 100)}%</span>
</div>
<div style="text-align: center; margin-top: 2px; font-weight: 600; color: ${totalScore >= AppState.knowledgeSettings.autoRecordThreshold ? '#4caf50' : '#ffa500'};">
Á∑èÂêà: ${totalScore}ÁÇπ
</div>
</div>
`;
if (status === 'pending') {
// ‰øùÁïô‰∏≠„ÅÆÂ†¥Âêà„ÅØ‰∏ÄÊôÇÁöÑ„Å´Ë°®Á§∫
extractedKnowledge.innerHTML = evaluationHtml + extractedKnowledge.innerHTML;
}
},
// üìà Âπ≥Âùá„Çπ„Ç≥„Ç¢Êõ¥Êñ∞
updateAverageScore(newScore) {
const total = AppState.sessionStats.totalKnowledge;
const currentAvg = AppState.sessionStats.averageScore;
AppState.sessionStats.averageScore = ((currentAvg * (total - 1)) + newScore) / total;
},
// üîß Áü•Ë¶ãË©ï‰æ°ÂâçÊèêÊù°‰ª∂„ÉÅ„Çß„ÉÉ„ÇØ
async _checkEvaluationPrerequisites() {
const issues = [];
// API„Ç≠„Éº„ÅÆÁ¢∫Ë™ç
if (!window.AppState?.apiKey) {
issues.push('API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// ÂÖ•Âäõ„ÉÜ„Ç≠„Çπ„Éà„ÅÆÁ¢∫Ë™ç
if (!window.AppState?.voiceRecognitionState?.pendingKnowledgeEvaluation?.insightText) {
// ÂÆüÈöõ„ÅÆË©ï‰æ°ÂÆüË°åÊôÇ„Å´ÂÜç„ÉÅ„Çß„ÉÉ„ÇØ
}
// AIManager„ÅÆÂ≠òÂú®Á¢∫Ë™ç
if (!window.AIManager) {
issues.push('AIManager„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// QualityAssessmentSystem„ÅÆÁ¢∫Ë™ç
if (!window.QualityAssessmentSystem) {
issues.push('QualityAssessmentSystem„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
// AI_PROMPTS„ÅÆÁ¢∫Ë™ç
if (!window.AI_PROMPTS) {
issues.push('AI_PROMPTS„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
}
return {
canProceed: issues.length === 0,
reason: issues.length > 0 ? issues.join(', ') : null,
issues: issues
};
},
// üîß ÊâãÂãïË©ï‰æ°„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜÔºàÊîπÂñÑÁâàÔºâ
async _handleManualEvaluationFallback(insightText, conversationContext) {
try {
console.log('üîÑ ÊâãÂãïË©ï‰æ°„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÈñãÂßã...');
// „ÅØ„Åª„Çä„Éº„ÅÆ„Å´„Çà„ÇãÈü≥Â£∞Ë™¨Êòé
const explanationMessage = `AIË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„Åå‰∏ÄÊôÇÁöÑ„Å´Âà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇÊâãÂãï„ÅßË©ï‰æ°„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ`;
await this.speakAsHahori(explanationMessage);
// Áü•Ë¶ãÂÜÖÂÆπ„ÅÆÁ¢∫Ë™ç
const knowledgePreview = insightText.length > 100 ?
insightText.substring(0, 100) + '...' : insightText;
const confirmationMessage = `„Äå${knowledgePreview}„Äç„Å®„ÅÑ„ÅÜÁü•Ë¶ã„ÅåÊäΩÂá∫„Åï„Çå„Åæ„Åó„Åü„ÄÇ„Åì„ÅÆÁü•Ë¶ã„Çí‰øùÂ≠ò„Åó„Åæ„Åô„ÅãÔºü„Äå„ÅØ„ÅÑ„Äç„Åæ„Åü„ÅØ„Äå„ÅÑ„ÅÑ„Åà„Äç„Åß„ÅäÁ≠î„Åà„Åè„Å†„Åï„ÅÑ„ÄÇ`;
await this.speakAsHahori(confirmationMessage);
// ÊâãÂãïÁ¢∫Ë™ç„É¢„Éº„Éâ„Å´ÂÖ•„Çã
ConversationGatekeeper.enterKnowledgeConfirmationMode('manualFallback');
// ÊâãÂãïË©ï‰æ°Áî®„ÅÆË©ï‰æ°„Éá„Éº„Çø„ÇíÊ∫ñÂÇô
const manualEvaluation = {
confidence: 0.75,
importance: 0.75,
actionability: 0.75,
overall: 0.75,
summary: knowledgePreview,
reason: 'AIË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†Âà©Áî®‰∏çÂèØ„ÅÆ„Åü„ÇÅÊâãÂãïË©ï‰æ°',
recommendation: 'MANUAL_CONFIRM'
};
// ‰øùÁïô‰∏≠„ÅÆÁü•Ë¶ãË©ï‰æ°„ÇíË®≠ÂÆöÔºàÈü≥Â£∞ÂøúÁ≠î„ÇíÂæÖ„Å§Ôºâ
AppState.voiceRecognitionState.pendingKnowledgeEvaluation = {
...manualEvaluation,
insightText: insightText,
totalScore: 75, // ‰∏≠ÈñìÂÄ§„Å®„Åó„Å¶75ÁÇπ
isManualFallback: true
};
// Èü≥Â£∞Ë™çË≠ò„ÅÆÂÜçÈñã
restartSpeechRecognition();
// „Åì„ÅÆÊôÇÁÇπ„Åß„ÅØÁµêÊûú„ÇíËøî„Åï„Åö„ÄÅÈü≥Â£∞ÂøúÁ≠î„ÇíÂæÖ„Å§
return null;
} catch (error) {
console.error('‚ùå ÊâãÂãïË©ï‰æ°„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
// „Ç®„É©„ÉºÊôÇ„ÅÆÁ∑äÊÄ•Âá¶ÁêÜ
const errorMessage = `Ë©ï‰æ°Âá¶ÁêÜ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇÁü•Ë¶ã„Çí‰øùÂ≠ò„Åõ„Åö„Å´Á∂öË°å„Åó„Åæ„Åô„ÄÇ`;
if (window.showMessage) {
window.showMessage('error', errorMessage);
}
return {
accepted: false,
reason: 'manual_fallback_error',
evaluation: null,
summary: '„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜ„Åß„Ç®„É©„ÉºÁô∫Áîü'
};
}
},
// üß™ Phase 4: „Ç∑„Çπ„ÉÜ„É†ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØÊ©üËÉΩ
async performSystemHealthCheck() {
console.log('üîç Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØÈñãÂßã...');
const healthReport = {
timestamp: new Date().toISOString(),
aiManager: false,
apiConnection: false,
voiceSystem: false,
overall: false,
errors: [],
recommendations: []
};
try {
// 1. AIManagerÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
if (window.AIManager) {
try {
await window.AIManager.waitForInitialization(5000);
if (window.AIManager.isInitialized) {
healthReport.aiManager = true;
console.log('‚úÖ AIManager: Ê≠£Â∏∏');
} else {
healthReport.errors.push('AIManagerÂàùÊúüÂåñÊú™ÂÆå‰∫Ü');
healthReport.recommendations.push('„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
} catch (error) {
healthReport.errors.push(`AIManagerÂàùÊúüÂåñ„Ç®„É©„Éº: ${error.message}`);
healthReport.recommendations.push('AIManagerÂàùÊúüÂåñ„ÇíÊâãÂãïÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
} else {
healthReport.errors.push('AIManager„ÅåÊú™ÂÆöÁæ©');
healthReport.recommendations.push('AIManager„É¢„Ç∏„É•„Éº„É´„ÅÆË™≠„ÅøËæº„Åø„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
// 2. APIÊé•Á∂ö„ÉÅ„Çß„ÉÉ„ÇØÔºàËªΩÈáèÔºâ
if (window.AppState?.apiKey) {
healthReport.apiConnection = true;
console.log('‚úÖ APIË®≠ÂÆö: Ê≠£Â∏∏');
} else {
healthReport.errors.push('API„Ç≠„Éº„ÅåÊú™Ë®≠ÂÆö');
healthReport.recommendations.push('API„Ç≠„Éº„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
// 3. Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÉÅ„Çß„ÉÉ„ÇØ
if (window.stateManager?.recognitionManager) {
const voiceState = window.stateManager.recognitionManager.state;
if (voiceState === 'idle' || voiceState === 'active') {
healthReport.voiceSystem = true;
console.log('‚úÖ Èü≥Â£∞Ë™çË≠ò: Ê≠£Â∏∏');
} else {
healthReport.errors.push(`Èü≥Â£∞Ë™çË≠òÁä∂ÊÖãÁï∞Â∏∏: ${voiceState}`);
healthReport.recommendations.push('Èü≥Â£∞Ë™çË≠ò„ÇíÂÜçÈñã„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
} else {
healthReport.errors.push('Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÊú™ÂàùÊúüÂåñ');
healthReport.recommendations.push('Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÇíÂÜçÂàùÊúüÂåñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
// 4. Á∑èÂêàÂà§ÂÆö
healthReport.overall = healthReport.aiManager && healthReport.apiConnection && healthReport.voiceSystem;
console.log('üìä ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØÁµêÊûú:', {
overall: healthReport.overall ? '‚úÖ Ê≠£Â∏∏' : '‚ùå ÂïèÈ°å„ÅÇ„Çä',
components: {
aiManager: healthReport.aiManager ? '‚úÖ' : '‚ùå',
apiConnection: healthReport.apiConnection ? '‚úÖ' : '‚ùå',
voiceSystem: healthReport.voiceSystem ? '‚úÖ' : '‚ùå'
},
errors: healthReport.errors.length,
recommendations: healthReport.recommendations.length
});
return healthReport;
} catch (error) {
console.error('‚ùå ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº:', error);
healthReport.errors.push(`ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØÂÆüË°å„Ç®„É©„Éº: ${error.message}`);
healthReport.recommendations.push('„Ç∑„Çπ„ÉÜ„É†„ÇíÂÜçËµ∑Âãï„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
return healthReport;
}
},
// üîß Phase 4: Ëá™ÂãïÂõûÂæ©Âá¶ÁêÜ
async performAutoRecovery() {
console.log('üöë Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†Ëá™ÂãïÂõûÂæ©ÈñãÂßã...');
const recoveryReport = {
timestamp: new Date().toISOString(),
attempted: [],
successful: [],
failed: [],
overall: false
};
try {
// 1. AIManagerÂõûÂæ©Ë©¶Ë°å
if (!window.AIManager?.isInitialized) {
recoveryReport.attempted.push('AIManagerÂàùÊúüÂåñ');
try {
if (typeof initializeAIManager === 'function') {
await initializeAIManager();
recoveryReport.successful.push('AIManagerÂàùÊúüÂåñÊàêÂäü');
console.log('‚úÖ AIManagerÂõûÂæ©ÊàêÂäü');
} else {
recoveryReport.failed.push('initializeAIManagerÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çâ„Å™„ÅÑ');
}
} catch (error) {
recoveryReport.failed.push(`AIManagerÂàùÊúüÂåñÂ§±Êïó: ${error.message}`);
}
}
// 2. Èü≥Â£∞Ë™çË≠òÂõûÂæ©Ë©¶Ë°å
if (!window.stateManager?.recognitionManager ||
window.stateManager.recognitionManager.state === 'error') {
recoveryReport.attempted.push('Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†ÂõûÂæ©');
try {
if (window.stateManager) {
await window.stateManager.recognitionManager.stop();
await new Promise(resolve => setTimeout(resolve, 1000));
await window.stateManager.startRecognition();
recoveryReport.successful.push('Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†ÂõûÂæ©ÊàêÂäü');
console.log('‚úÖ Èü≥Â£∞Ë™çË≠òÂõûÂæ©ÊàêÂäü');
} else {
recoveryReport.failed.push('StateManager„ÅåÊú™ÂàùÊúüÂåñ');
}
} catch (error) {
recoveryReport.failed.push(`Èü≥Â£∞Ë™çË≠òÂõûÂæ©Â§±Êïó: ${error.message}`);
}
}
// 3. ÂõûÂæ©ÁµêÊûúÂà§ÂÆö
recoveryReport.overall = recoveryReport.failed.length === 0 && recoveryReport.attempted.length > 0;
console.log('üöë Ëá™ÂãïÂõûÂæ©ÁµêÊûú:', {
overall: recoveryReport.overall ? '‚úÖ ÊàêÂäü' : (recoveryReport.attempted.length === 0 ? 'üìù ‰∏çË¶Å' : '‚ùå Â§±Êïó'),
attempted: recoveryReport.attempted.length,
successful: recoveryReport.successful.length,
failed: recoveryReport.failed.length
});
return recoveryReport;
} catch (error) {
console.error('‚ùå Ëá™ÂãïÂõûÂæ©„Ç®„É©„Éº:', error);
recoveryReport.failed.push(`Ëá™ÂãïÂõûÂæ©ÂÆüË°å„Ç®„É©„Éº: ${error.message}`);
return recoveryReport;
}
},
// üß™ Phase 4: Áü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„ÉàÊ©üËÉΩ
async testInsightEvaluation(testInsight = null) {
console.log('üß™ Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„ÉÜ„Çπ„ÉàÈñãÂßã...');
const testData = testInsight || {
text: '„Åì„Çå„ÅØ„ÉÜ„Çπ„ÉàÁî®„ÅÆÁü•Ë¶ã„Åß„Åô„ÄÇAI„Éû„Éç„Éº„Ç∏„É£„Éº„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÅÆ„Åü„ÇÅ„Å´‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇ',
context: { phase: 'test', user: 'system' }
};
const testReport = {
timestamp: new Date().toISOString(),
testInput: testData,
healthCheck: null,
evaluationResult: null,
duration: 0,
success: false,
errors: []
};
const startTime = Date.now();
try {
// 1. ‰∫ãÂâçÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
testReport.healthCheck = await this.performSystemHealthCheck();
if (!testReport.healthCheck.overall) {
console.log('‚ö†Ô∏è „Ç∑„Çπ„ÉÜ„É†ÂÅ•ÂÖ®ÊÄß„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇËá™ÂãïÂõûÂæ©„ÇíË©¶Ë°å...');
const recoveryResult = await this.performAutoRecovery();
if (!recoveryResult.overall && recoveryResult.attempted.length > 0) {
throw new Error('„Ç∑„Çπ„ÉÜ„É†ÂõûÂæ©„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
// ÂõûÂæ©ÂæåÂÜç„ÉÅ„Çß„ÉÉ„ÇØ
testReport.healthCheck = await this.performSystemHealthCheck();
}
// 2. ÂÆüÈöõ„ÅÆÁü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„ÉàÔºàÈùûÁ†¥Â£äÁöÑÔºâ
if (testReport.healthCheck.overall) {
console.log('üîÑ Áü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„ÉàÂÆüË°å‰∏≠...');
// „ÉÜ„Çπ„ÉàÁî®„Å´Ë©ï‰æ°„ÅÆ„ÅøÂÆüË°åÔºàÂÆüÈöõ„ÅÆ‰øùÂ≠ò„ÅØ„Åó„Å™„ÅÑÔºâ
if (window.AIManager && window.AIManager.isInitialized) {
const evaluation = await window.AIManager.evaluateInsightQuality(
testData.text,
testData.context
);
testReport.evaluationResult = evaluation;
testReport.success = evaluation !== null && evaluation.overall !== undefined;
} else {
testReport.evaluationResult = 'AIManagerÂà©Áî®‰∏çÂèØ';
testReport.success = false;
}
console.log('‚úÖ Áü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„ÉàÂÆå‰∫Ü');
} else {
throw new Error('„Ç∑„Çπ„ÉÜ„É†ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ„Å´Â§±Êïó');
}
} catch (error) {
console.error('‚ùå Áü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
testReport.errors.push(error.message);
testReport.success = false;
} finally {
testReport.duration = Date.now() - startTime;
}
console.log('üß™ „ÉÜ„Çπ„ÉàÁµêÊûú„Çµ„Éû„É™„Éº:', {
success: testReport.success ? '‚úÖ ÊàêÂäü' : '‚ùå Â§±Êïó',
duration: `${testReport.duration}ms`,
healthStatus: testReport.healthCheck?.overall ? '‚úÖ Ê≠£Â∏∏' : '‚ùå ÂïèÈ°å„ÅÇ„Çä',
evaluationCompleted: testReport.evaluationResult ? '‚úÖ ÂÆå‰∫Ü' : '‚ùå Â§±Êïó',
errors: testReport.errors.length
});
return testReport;
}
};
// üé§ Èü≥Â£∞„Ç≥„Éû„É≥„Éâ„Éè„É≥„Éâ„É©„ÉºÈñ¢Êï∞Áæ§
async function handleThresholdChangeCommand(userInput) {
for (const pattern of VoicePatterns.THRESHOLD_PATTERNS) {
const match = userInput.match(pattern);
if (match) {
const newThreshold = parseInt(match[1]);
if (newThreshold >= 0 && newThreshold <= 100) {
AppState.knowledgeSettings.autoRecordThreshold = newThreshold;
// Ë®≠ÂÆö‰øùÂ≠ò
if (AppState.knowledgeSettings.saveThresholdChanges) {
saveKnowledgeSettings();
}
// Èü≥Â£∞Á¢∫Ë™ç
const message = VoiceTemplates.THRESHOLD_CHANGE(newThreshold);
await VoiceKnowledgeSystem.speakAsHahori(message);
// Âè≥„Éö„Ç§„É≥Ë®≠ÂÆöË°®Á§∫Êõ¥Êñ∞
updateKnowledgeSettingsDisplay();
// Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫Ü
resetKnowledgeConfirmationMode();
console.log(`‚úÖ ÈñæÂÄ§„Çí${newThreshold}ÁÇπ„Å´Â§âÊõ¥`);
return true;
}
}
}
return false;
}
function handleSettingsInquiry(userInput) {
if (VoicePatterns.SETTINGS_INQUIRY_PATTERNS.some(pattern => userInput.includes(pattern))) {
const threshold = AppState.knowledgeSettings.autoRecordThreshold;
const message = VoiceTemplates.CURRENT_SETTINGS(threshold);
VoiceKnowledgeSystem.speakAsHahori(message);
return true;
}
if (VoicePatterns.DEFAULT_RESET_PATTERNS.some(pattern => userInput.includes(pattern))) {
AppState.knowledgeSettings.autoRecordThreshold = 70;
saveKnowledgeSettings();
const message = VoiceTemplates.THRESHOLD_CHANGE(70);
VoiceKnowledgeSystem.speakAsHahori(message);
updateKnowledgeSettingsDisplay();
resetKnowledgeConfirmationMode();
return true;
}
if (VoicePatterns.AUTO_RECORD_OFF_PATTERNS.some(pattern => userInput.includes(pattern))) {
AppState.knowledgeSettings.autoRecordThreshold = 0;
saveKnowledgeSettings();
const message = `ÊâøÁü•„ÅÑ„Åü„Åó„Åæ„Åó„Åü„ÄÇ‰ªäÂæå„ÅØÂÖ®„Å¶„ÅÆÁü•Ë¶ã„ÇíÊâãÂãïÁ¢∫Ë™ç„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ`;
VoiceKnowledgeSystem.speakAsHahori(message);
updateKnowledgeSettingsDisplay();
resetKnowledgeConfirmationMode();
return true;
}
return false;
}
async function handleDetailedExplanation(evaluation) {
const message = VoiceTemplates.DETAILED_EXPLANATION(evaluation);
await VoiceKnowledgeSystem.speakAsHahori(message);
// Ë©≥Á¥∞Ë™¨ÊòéÂæå„ÄÅÂÜçÂ∫¶Á¢∫Ë™ç„ÇíÊ±Ç„ÇÅ„Çã
const confirmMessage = `Êîπ„ÇÅ„Å¶„Åä‰º∫„ÅÑ„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÁü•Ë¶ã„ÇíË®òÈå≤„Åó„Åæ„Åô„ÅãÔºü`;
await VoiceKnowledgeSystem.speakAsHahori(confirmMessage);
}
async function handleKnowledgeApproval(evaluation) {
console.log('‚úÖ „É¶„Éº„Ç∂„ÉºÊâøË™ç: Áü•Ë¶ãË®òÈå≤');
// Áµ±Ë®àÊõ¥Êñ∞
AppState.sessionStats.manualConfirmed++;
// Áü•Ë¶ã„ÇíË®òÈå≤
AppState.extractedKnowledge.push({
summary: evaluation.summary,
timestamp: new Date(),
score: evaluation.totalScore,
evaluation: evaluation,
method: 'manual_approved'
});
// Ë°®Á§∫Êõ¥Êñ∞
window.updateKnowledgeDisplay();
VoiceKnowledgeSystem.updateDetailedEvaluation(evaluation, evaluation.totalScore, 'approved');
// Á¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫Ü
resetKnowledgeConfirmationMode();
// Ê¨°„ÅÆË≥™Âïè„Å∏
await askNextQuestionInDeepDive();
}
async function handleKnowledgeRejection() {
console.log('‚ùå „É¶„Éº„Ç∂„ÉºÊãíÂê¶: Áü•Ë¶ãË®òÈå≤„Åõ„Åö');
// Áµ±Ë®àÊõ¥Êñ∞
AppState.sessionStats.rejected++;
// Èü≥Â£∞Á¢∫Ë™ç
const message = VoiceTemplates.KNOWLEDGE_REJECTED();
await VoiceKnowledgeSystem.speakAsHahori(message);
// Á¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫Ü
resetKnowledgeConfirmationMode();
// Ê¨°„ÅÆË≥™Âïè„Å∏
await askNextQuestionInDeepDive();
}
async function handleUnrecognizedResponse() {
console.warn('‚ö†Ô∏è Èü≥Â£∞Ë™çË≠ò„Åß„Åç„Åö: ÂÜçÁ¢∫Ë™ç');
const message = VoiceTemplates.RECOGNITION_ERROR();
await VoiceKnowledgeSystem.speakAsHahori(message);
// üîß ‰øÆÊ≠£: Áµ±ÂêàÈü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅßÂÜçÈñãÔºàÁü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÂØæÂøúÔºâ
if (window.stateManager?.recognitionManager) {
console.log('üîÑ Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†„ÅßÈü≥Â£∞Ë™çË≠òÂÜçÈñãÔºàÁü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÔºâ');
// Áü≠ÊôÇÈñìÂæÖÊ©üÂæå„Å´ÂÜçÈñãÔºà„ÅØ„Åª„Çä„Éº„ÅÆÁô∫Ë©±ÁµÇ‰∫Ü„ÇíÂæÖ„Å§Ôºâ
setTimeout(() => {
window.stateManager.recognitionManager.start();
}, 1000);
} else {
// „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: Êóß„Ç∑„Çπ„ÉÜ„É†„ÅßÂÜçÈñã
restartSpeechRecognition();
}
}
// üîß „É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
// üîß ÊîπÂñÑÁâà: „Ç≤„Éº„Éà„Ç≠„Éº„Éë„ÉºÂØæÂøú„ÅÆÁü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„Éâ„É™„Çª„ÉÉ„Éà
function resetKnowledgeConfirmationMode() {
console.log('üèÅ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫ÜÂá¶ÁêÜÈñãÂßã');
// „Ç≤„Éº„Éà„Ç≠„Éº„Éë„Éº„Ç∑„Çπ„ÉÜ„É†„ÇíÈÄö„Åò„Å¶ÂÆâÂÖ®„Å´„É¢„Éº„Éâ„ÇíÁµÇ‰∫Ü
ConversationGatekeeper.exitKnowledgeConfirmationMode('resetFunction');
// „É¨„Ç¨„Ç∑„ÉºÁä∂ÊÖã„ÇÇ„ÇØ„É™„Ç¢Ôºà‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅÔºâ
AppState.waitingForPermission = true;
console.log('‚úÖ Áü•Ë¶ãÁ¢∫Ë™ç„É¢„Éº„ÉâÁµÇ‰∫ÜÂá¶ÁêÜÂÆå‰∫Ü');
}
// Áü•Ë¶ãË®≠ÂÆö‰øùÂ≠òÔºàStorageManagerÁµåÁî±Ôºâ
function saveKnowledgeSettings() {
try {
window.StorageManager.knowledge.save(AppState.knowledgeSettings);
} catch (error) {
console.error('‚ùå Áü•Ë¶ãË®≠ÂÆö‰øùÂ≠ò„Ç®„É©„Éº:', error);
}
}
// Áü•Ë¶ãË®≠ÂÆöË™≠„ÅøËæº„ÅøÔºàStorageManagerÁµåÁî±Ôºâ
function loadKnowledgeSettings() {
try {
const settings = window.StorageManager.knowledge.load();
if (settings) {
Object.assign(AppState.knowledgeSettings, settings);
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
}
} catch (error) {
console.error('‚ùå Áü•Ë¶ãË®≠ÂÆöË™≠„ÅøËæº„Åø„Ç®„É©„Éº:', error);
}
}
// üéØ Âè≥„Éö„Ç§„É≥Ë®≠ÂÆöË°®Á§∫Êõ¥Êñ∞
function updateKnowledgeSettingsDisplay() {
const thresholdInput = window.UIManager.DOMUtils.get('thresholdInput');
const autoRecordCount = window.UIManager.DOMUtils.get('autoRecordCount');
const manualConfirmCount = window.UIManager.DOMUtils.get('manualConfirmCount');
const rejectedCount = window.UIManager.DOMUtils.get('rejectedCount');
if (thresholdInput) {
thresholdInput.value = AppState.knowledgeSettings.autoRecordThreshold;
}
if (autoRecordCount) {
autoRecordCount.textContent = AppState.sessionStats.autoRecorded;
}
if (manualConfirmCount) {
manualConfirmCount.textContent = AppState.sessionStats.manualConfirmed;
}
if (rejectedCount) {
rejectedCount.textContent = AppState.sessionStats.rejected;
}
console.log('‚úÖ Áü•Ë¶ãË®≠ÂÆöË°®Á§∫„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü');
}
// üéØ HTMLÂÖ•Âäõ„Å´„Çà„ÇãÈñæÂÄ§Â§âÊõ¥
function updateThresholdFromInput() {
const thresholdInput = window.UIManager.DOMUtils.get('thresholdInput');
if (!thresholdInput) return;
const newThreshold = parseInt(thresholdInput.value);
if (newThreshold >= 0 && newThreshold <= 100) {
AppState.knowledgeSettings.autoRecordThreshold = newThreshold;
if (AppState.knowledgeSettings.saveThresholdChanges) {
saveKnowledgeSettings();
}
console.log(`‚úÖ ÈñæÂÄ§„Çí${newThreshold}ÁÇπ„Å´Â§âÊõ¥ÔºàHTMLÂÖ•ÂäõÔºâ`);
// Èü≥Â£∞ÈÄöÁü•Ôºà„Çª„ÉÉ„Ç∑„Éß„É≥‰∏≠„ÅÆ„ÅøÔºâ
if (AppState.sessionActive) {
const message = VoiceTemplates.THRESHOLD_CHANGE(newThreshold);
VoiceKnowledgeSystem.speakAsHahori(message);
}
} else {
// ÁÑ°Âäπ„Å™ÂÄ§„ÅÆÂ†¥Âêà„ÅØÂÖÉ„Å´Êàª„Åô
thresholdInput.value = AppState.knowledgeSettings.autoRecordThreshold;
window.showMessage('error', 'ÈñæÂÄ§„ÅØ0-100„ÅÆÁØÑÂõ≤„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
}
// üéØ Â∑¶„Éö„Ç§„É≥Èü≥Â£∞„Ç≥„Éû„É≥„ÉâË°®Á§∫Âà∂Âæ°
// üì• Áü•Ë¶ã„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊ©üËÉΩÔºàKnowledge DNAÁµ±ÂêàÔºâ
async function downloadKnowledgeFile() {
try {
// üîß Phase A‰øÆÊ≠£: ÊâãÂãï‰øùÂ≠òÁü•Ë¶ãÁµ±Âêà„ÉÅ„Çß„ÉÉ„ÇØ
const sessionInsights = window.KnowledgeState.currentSession ? window.KnowledgeState.currentSession.insights : [];
const manualInsights = AppState.extractedKnowledge || [];
console.log(`üìä Áü•Ë¶ãÁµ±Âêà„ÉÅ„Çß„ÉÉ„ÇØ: „Çª„ÉÉ„Ç∑„Éß„É≥${sessionInsights.length}‰ª∂, ÊâãÂãï${manualInsights.length}‰ª∂`);
if (sessionInsights.length === 0 && manualInsights.length === 0) {
window.showMessage('warning', 'Áü•Ë¶ã„Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Çª„ÉÉ„Ç∑„Éß„É≥‰∏≠„Å´ÊäΩÂá∫„Åï„Çå„ÅüÁü•Ë¶ã„Åå„ÅÇ„Çã„Å®„Åç„Å´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Åç„Åæ„Åô„ÄÇ');
return;
}
console.log('üì• Knowledge DNAÁµ±Âêà Áü•Ë¶ã„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÈñãÂßã...');
window.showMessage('info', 'üß¨ Knowledge DNA„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„ÇãÁü•Ë¶ã„Éï„Ç°„Ç§„É´ÁîüÊàê‰∏≠...');
// üîß Phase A‰øÆÊ≠£: ÊâãÂãï‰øùÂ≠ò„Åï„Çå„ÅüÁü•Ë¶ã„Çí„Çª„ÉÉ„Ç∑„Éß„É≥„Å´Áµ±Âêà
let workingSession;
if (!window.KnowledgeState.currentSession) {
// „Çª„ÉÉ„Ç∑„Éß„É≥„ÅåÂ≠òÂú®„Åó„Å™„ÅÑÂ†¥Âêà„ÅØÊâãÂãïÁü•Ë¶ã„ÅÆ„Åø„Åß‰ΩúÊàê
workingSession = {
meta: {
session_id: `manual_${Date.now()}`,
theme: AppState.currentTheme || 'ÊâãÂãï‰øùÂ≠òÁü•Ë¶ã',
timestamp: new Date().toISOString(),
participant: '„É¶„Éº„Ç∂„Éº',
category: '„Åù„ÅÆ‰ªñ'
},
insights: []
};
} else {
workingSession = { ...window.KnowledgeState.currentSession };
}
// ÊâãÂãï‰øùÂ≠òÁü•Ë¶ã„ÅÆÁµ±ÂêàÂá¶ÁêÜ
const manualInsightsConverted = manualInsights.map((insight, index) => ({
id: `manual_${index}`,
content: insight.summary || insight.content || 'ÂÜÖÂÆπ‰∏çÊòé',
timestamp: insight.timestamp || new Date(),
context: 'manual_approval',
importance: insight.score || 70,
source: 'manual_confirmed',
method: insight.method || 'manual_approved',
evaluation: insight.evaluation || null,
// üîß ÊâãÂãï‰øùÂ≠òÊ∏à„Åø„Éï„É©„Ç∞„ÇíË®≠ÂÆöÔºà„É™„É©„Ç§„ÉàÂá¶ÁêÜ„ÅØÈÄöÂ∏∏ÈÄö„ÇäÂÆüË°åÔºâ
is_manually_approved: true
}));
// „Çª„ÉÉ„Ç∑„Éß„É≥Áü•Ë¶ã„Å®ÊâãÂãïÁü•Ë¶ã„ÅÆÁµ±Âêà
workingSession.insights = [...workingSession.insights, ...manualInsightsConverted];
console.log(`‚úÖ Áü•Ë¶ãÁµ±ÂêàÂÆå‰∫Ü: ÂêàË®à${workingSession.insights.length}‰ª∂`);
// Phase 1: Knowledge DNA„Å´„Çà„ÇãÁü•Ë¶ãÊï¥ÁêÜÔºàÊâãÂãï‰øùÂ≠òÁü•Ë¶ã„ÇÇÈÄöÂ∏∏Âá¶ÁêÜ„ÇíÈÅ©Áî®Ôºâ
const enhancedSession = await KnowledgeFileManager.enhanceKnowledgeWithAI(
workingSession,
true // „Éó„É≠„Ç∞„É¨„ÇπË°®Á§∫ON
);
// Phase 2: Êã°Âºµ„Åï„Çå„Åü„Çª„ÉÉ„Ç∑„Éß„É≥„Åß„Éï„Ç°„Ç§„É´ÁîüÊàê
window.showMessage('info', 'üìÑ ÊßãÈÄ†Âåñ„Éï„Ç°„Ç§„É´„ÇíÁîüÊàê‰∏≠...');
const filename = await KnowledgeFileManager.generateKnowledgeFile(enhancedSession);
if (filename) {
window.showMessage('success', `üéâ Knowledge DNAÁµ±ÂêàÁü•Ë¶ã„Éï„Ç°„Ç§„É´„Äå${filename}„Äç„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Åæ„Åó„ÅüÔºÅ`);
console.log('‚úÖ Knowledge DNAÁµ±Âêà Áü•Ë¶ã„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÂÆå‰∫Ü:', filename);
// üîß Phase A‰øÆÊ≠£: Áµ±Ë®àÊÉÖÂ†±„ÅÆÊîπËâØ
const stats = {
total_insights: enhancedSession.insights.length,
session_insights: sessionInsights.length,
manual_insights: manualInsights.length,
ai_enhanced: enhancedSession.insights.filter(i => i.dna_enhanced).length,
manually_approved: enhancedSession.insights.filter(i => i.is_manually_approved).length,
has_relationships: enhancedSession.knowledge_graph?.relationships?.length > 0,
has_clusters: enhancedSession.knowledge_graph?.clusters?.length > 0
};
console.log('üìä Áü•Ë¶ãÂá¶ÁêÜÁµ±Ë®à:', stats);
} else {
window.showMessage('error', 'Áü•Ë¶ã„Éï„Ç°„Ç§„É´„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');
}
} catch (error) {
console.error('‚ùå Knowledge DNAÁü•Ë¶ã„Éï„Ç°„Ç§„É´„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº:', error);
window.showMessage('error', `Áü•Ë¶ã„Éï„Ç°„Ç§„É´„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}`);
}
}
// =================================================================================
// SAFETY BACKUP SYSTEM - Êó¢Â≠òÊ©üËÉΩ‰øùË≠∑„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// Ê≥®ÊÑè: SafetyBackup„Ç∑„Çπ„ÉÜ„É†„ÅØÁã¨Á´ã„Éï„Ç°„Ç§„É´ config/safety_backup.js „Å´ÁßªË°åÊ∏à„Åø
// „Åì„Åì„Åß„ÅØÂâäÈô§„Åï„Çå„Å¶„ÅÑ„Åæ„Åô
// =================================================================================
// GLOBAL EXPORTS - „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞ÂÖ¨Èñã
// =================================================================================
// HTML„Åã„ÇâÁõ¥Êé•Âëº„Å≥Âá∫„Åï„Çå„ÇãÈñ¢Êï∞„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ¨Èñã
window.loginWithPassword = loginWithPassword;
window.openAdvancedSettings = openAdvancedSettings;
window.closeAdvancedSettings = closeAdvancedSettings;
window.setupApiKey = setupApiKey;
window.testApiKey = testApiKey;
window.startSession = startSession;
window.toggleMicrophone = toggleMicrophone;
window.handleUserTextInput = handleUserTextInput;
window.update2StepUI = update2StepUI;
window.handleLogout = handleLogout;
window.handleThemeClear = handleThemeClear;
window.saveVoicePreset = saveVoicePreset;
window.testCharacterVoice = testCharacterVoice;
window.checkLoginBeforeFileSelect = checkLoginBeforeFileSelect;
window.triggerFileInput = triggerFileInput;
window.downloadMarkdownReport = downloadMarkdownReport;
window.exportAllData = exportAllData;
window.handleModalBackgroundClick = handleModalBackgroundClick;
window.closeFileErrorModal = closeFileErrorModal;
window.returnToLoginFromError = returnToLoginFromError;
window.closeThemeSelection = closeThemeSelection;
window.selectAllThemes = selectAllThemes;
window.deselectAllThemes = deselectAllThemes;
window.confirmThemeSelection = confirmThemeSelection;
window.toggleVoiceGuide = toggleVoiceGuide;
window.updateThresholdFromInput = updateThresholdFromInput;
window.downloadKnowledgeFile = downloadKnowledgeFile;
window.downloadAllKnowledge = downloadAllKnowledge;
window.FukaboriKnowledgeDatabase = FukaboriKnowledgeDatabase;
// =================================================================================
// PHASE 1: SPEECH SHORTENING INTEGRATION - Áô∫Â£∞Áü≠Á∏ÆÁµ±Âêà„Ç∑„Çπ„ÉÜ„É†
// =================================================================================
// üîß Phase 1: Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆöÁÆ°ÁêÜ
const SpeechShorteningManager = {
// Ë®≠ÂÆöÁä∂ÊÖã
settings: {
enabled: false,
level: 3,
maxCharacters: 150,
options: {
shortenGreetings: true,
shortenHonorific: true,
shortenThemes: true,
removeRedundancy: true
}
},
// ÂàùÊúüÂåñ
init() {
console.log('üîß Phase 1: Áô∫Â£∞Áü≠Á∏ÆÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ‰∏≠...');
this.loadSettings();
// UIÊõ¥Êñ∞„ÅØui-advanced.js„ÅÆUIAdvanced„Å´ÂßîË≠≤
if (window.UIAdvanced && window.UIAdvanced.SpeechShorteningUI) {
window.UIAdvanced.SpeechShorteningUI.updateUI();
} else {
console.warn('‚ö†Ô∏è UIAdvanced.SpeechShorteningUI„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì - UIÊõ¥Êñ∞„Çí„Çπ„Ç≠„ÉÉ„Éó');
}
console.log('‚úÖ Phase 1: Áô∫Â£∞Áü≠Á∏ÆÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
},
// Ë®≠ÂÆö„ÅÆ‰øùÂ≠ò
saveSettings() {
try {
localStorage.setItem('speechShorteningSettings', JSON.stringify(this.settings));
console.log('üíæ Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü', this.settings);
} catch (error) {
console.error('‚ùå Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó:', error);
}
},
// Ë®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø
loadSettings() {
try {
const saved = localStorage.getItem('speechShorteningSettings');
if (saved) {
const parsed = JSON.parse(saved);
this.settings = { ...this.settings, ...parsed };
console.log('üìÇ Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü', this.settings);
}
} catch (error) {
console.error('‚ùå Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó:', error);
// „Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö„Çí‰ΩøÁî®
}
},
// UIÊõ¥Êñ∞
// üîß UIÊúÄÈÅ©ÂåñPhase1: UIÈñ¢ÈÄ£„É°„ÇΩ„ÉÉ„Éâ„Çíapp/ui-advanced.js„Å´ÁßªÂãï
// updateUI, toggleEnabled, updateLevel, updateMaxCharacters, resetSettings
// Áµ±ÂêàÂá¶ÁêÜ: Áô∫Â£∞Áü≠Á∏Æ„Ç®„É≥„Ç∏„É≥„Å®„ÅÆÈÄ£Êê∫
async processTextWithShortening(originalText, speaker) {
if (!this.settings.enabled) {
console.log('üö´ Phase 1: Áô∫Â£∞Áü≠Á∏ÆÁÑ°Âäπ„ÅÆ„Åü„ÇÅÂÖÉ„ÉÜ„Ç≠„Çπ„Éà„ÇíËøîÂç¥');
return originalText; // ÁÑ°ÂäπÊôÇ„ÅØÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çí„Åù„ÅÆ„Åæ„ÅæËøî„Åô
}
console.log('üîß Phase 1: Áô∫Â£∞Áü≠Á∏ÆÂá¶ÁêÜÈñãÂßã', {
enabled: this.settings.enabled,
level: this.settings.level,
maxCharacters: this.settings.maxCharacters,
options: this.settings.options
});
try {
// Phase 0„ÅßÂÆüË£Ö„Åó„ÅüÁô∫Â£∞Áü≠Á∏Æ„Ç®„É≥„Ç∏„É≥„Çí‰ΩøÁî®
if (window.SpeechShorteningEngine) {
// üîß Âº∑Âà∂Ë®≠ÂÆöÂêåÊúüÔºàÊØéÂõûÂÆüË°å„Åó„Å¶Á¢∫ÂÆü„Å´ÂêåÊúüÔºâ
window.SpeechShorteningEngine.enabled = this.settings.enabled;
window.SpeechShorteningEngine.settings.level = this.settings.level;
window.SpeechShorteningEngine.settings.maxLength = this.settings.maxCharacters;
// ÂÄãÂà•„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÂº∑Âà∂ÂêåÊúü
if (this.settings.options) {
const options = this.settings.options;
window.SpeechShorteningEngine.settings.features.greetingShortening = options.shortenGreetings !== false;
window.SpeechShorteningEngine.settings.features.politeSimplification = options.shortenHonorific !== false;
window.SpeechShorteningEngine.settings.features.themeShortening = options.shortenThemes !== false;
window.SpeechShorteningEngine.settings.features.redundancyRemoval = options.removeRedundancy !== false;
window.SpeechShorteningEngine.settings.features.characterLimit = true;
}
console.log('üîÑ Phase 1‚ÜíPhase 0 Ë®≠ÂÆöÂº∑Âà∂ÂêåÊúüÂÆå‰∫Ü', {
engineEnabled: window.SpeechShorteningEngine.enabled,
engineLevel: window.SpeechShorteningEngine.settings.level,
engineMaxLength: window.SpeechShorteningEngine.settings.maxLength,
engineFeatures: window.SpeechShorteningEngine.settings.features
});
// Phase 0„Ç®„É≥„Ç∏„É≥„ÅÆÂëº„Å≥Âá∫„ÅóÔºàÂºïÊï∞„Çí‰øÆÊ≠£Ôºâ
const shortenedText = window.SpeechShorteningEngine.shortenText(originalText);
// „É≠„Ç∞Âá∫ÂäõÔºàÂ∏∏„Å´Ë°®Á§∫Ôºâ
const reductionRate = Math.round((1 - shortenedText.length / originalText.length) * 100);
console.log(`üé§ Phase 1 Áô∫Â£∞Áü≠Á∏ÆÂÆüË°å:`);
console.log(`üìù ÂÖÉÊñáÂ≠óÊï∞: ${originalText.length}ÊñáÂ≠ó`);
console.log(`üîä Áü≠Á∏ÆÂæå: ${shortenedText.length}ÊñáÂ≠ó`);
console.log(`üìâ Áü≠Á∏ÆÁéá: ${reductionRate}%`);
if (reductionRate === 0) {
console.warn('‚ö†Ô∏è Áü≠Á∏ÆÁéá0% - Phase 0„Ç®„É≥„Ç∏„É≥„ÅÆË®≠ÂÆö„Åæ„Åü„ÅØÁü≠Á∏Æ„É´„Éº„É´„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
}
return shortenedText;
} else {
console.log('üìù Áô∫Â£∞Áü≠Á∏Æ„Ç®„É≥„Ç∏„É≥„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì - ÂÜÖËîµÁü≠Á∏ÆÊ©üËÉΩ„Çí‰ΩøÁî®');
return shortenForSpeech(originalText, this.settings.maxCharacters);
}
} catch (error) {
console.error('‚ùå Áô∫Â£∞Áü≠Á∏ÆÂá¶ÁêÜ„Ç®„É©„Éº:', error);
// „Ç®„É©„ÉºÊôÇ„ÅØÊó¢Â≠ò„ÅÆÁü≠Á∏ÆÂá¶ÁêÜ„Çí‰ΩøÁî®Ôºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
return shortenForSpeech(originalText, this.settings.maxCharacters);
}
},
// UIÈñ¢ÈÄ£„É°„ÇΩ„ÉÉ„ÉâÔºàapp/ui-advanced.js„Åã„ÇâÂëº„Å≥Âá∫„ÅóÔºâ
toggleEnabled() {
this.settings.enabled = !this.settings.enabled;
this.saveSettings();
const status = this.settings.enabled ? 'ÊúâÂäπ' : 'ÁÑ°Âäπ';
console.log(`üîÑ Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ: ${status}`);
window.showMessage('success', `Áô∫Â£∞Áü≠Á∏ÆÊ©üËÉΩ„Çí${status}„Å´„Åó„Åæ„Åó„Åü`);
},
updateLevel(level) {
this.settings.level = parseInt(level);
this.saveSettings();
console.log(`üìä Áô∫Â£∞Áü≠Á∏Æ„É¨„Éô„É´: ${this.settings.level}`);
},
updateMaxCharacters(maxChars) {
this.settings.maxCharacters = parseInt(maxChars);
this.saveSettings();
console.log(`üìè ÊúÄÂ§ßÊñáÂ≠óÊï∞: ${this.settings.maxCharacters}`);
},
resetSettings() {
this.settings = {
enabled: false,
level: 3,
maxCharacters: 150,
options: {
shortenGreetings: true,
shortenHonorific: true,
shortenThemes: true,
removeRedundancy: true
}
};
this.saveSettings();
window.showMessage('success', 'Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åó„Åü');
console.log('üîÑ Áô∫Â£∞Áü≠Á∏ÆË®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà');
}
};
// üîß Phase 1: Áµ±ÂêàÁô∫Ë©±Âá¶ÁêÜ„ÅÆÊîπËâØÁâà
async function addMessageToChatWithSmartShortening(speaker, displayText, speechText = null) {
console.log('üöÄ Phase 1: Áµ±ÂêàÁô∫Ë©±Âá¶ÁêÜÈñãÂßã', {
speaker,
displayLength: displayText.length,
customSpeech: !!speechText
});
// „ÉÅ„É£„ÉÉ„ÉàË°®Á§∫ÔºàÈï∑„ÅÑ„ÉÜ„Ç≠„Çπ„ÉàÔºâ
await addMessageToChat(speaker, displayText);
try {
// Èü≥Â£∞Áî®„ÉÜ„Ç≠„Çπ„Éà„ÅÆÊ±∫ÂÆö
let textForSpeech;
if (speechText) {
// „Ç´„Çπ„Çø„É†Èü≥Â£∞„ÉÜ„Ç≠„Çπ„Éà„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà
textForSpeech = speechText;
console.log('üìù „Ç´„Çπ„Çø„É†Èü≥Â£∞„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®');
} else {
// Phase 1: Áô∫Â£∞Áü≠Á∏Æ„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
textForSpeech = await SpeechShorteningManager.processTextWithShortening(displayText, speaker);
}
// Áü≠Á∏ÆÁµ±Ë®à„ÅÆË°®Á§∫
if (displayText.length > textForSpeech.length) {
const reduction = Math.round((1 - textForSpeech.length / displayText.length) * 100);
console.log(`‚úÇÔ∏è Phase 1: Áô∫Â£∞Áü≠Á∏ÆÂÆüË°å ${displayText.length}‚Üí${textForSpeech.length}ÊñáÂ≠ó (${reduction}%Áü≠Á∏Æ)`);
}
// Èü≥Â£∞ÁîüÊàê„ÉªÂÜçÁîü
const audioBlob = await ttsTextToAudioBlob(textForSpeech, speaker);
await playPreGeneratedAudio(audioBlob, speaker);
console.log('‚úÖ Phase 1: Áµ±ÂêàÁô∫Ë©±Âá¶ÁêÜÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Phase 1: Áµ±ÂêàÁô∫Ë©±Âá¶ÁêÜ„Ç®„É©„Éº:', error);
window.showMessage('error', 'Èü≥Â£∞„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
// Á∑äÊÄ•„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: ÂÆâÂÖ®„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®
if (window.FukaboriSafetySystem) {
console.log('üõ°Ô∏è ÂÆâÂÖ®„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Çã„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆüË°å');
await window.FukaboriSafetySystem.fallbackTextToSpeech(displayText, speaker);
}
}
}
// =================================================================================
// PHASE 1: UI EVENT HANDLERS - UI „Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
// =================================================================================
// üîß UIÊúÄÈÅ©ÂåñPhase1: Áô∫Â£∞Áü≠Á∏ÆUIÈñ¢Êï∞„Çíapp/ui-advanced.js„Å´ÁßªÂãï
// toggleSpeechShortening, updateShorteningLevel, updateMaxCharacters,
// resetShorteningSettings, testSpeechShortening
// =================================================================================
// PHASE 1: INITIALIZATION - Phase 1 ÂàùÊúüÂåñ
// =================================================================================
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.SpeechShorteningManager = SpeechShorteningManager;
// DOMContentLoaded„Ç§„Éô„É≥„Éà„ÅßPhase 1„Ç∑„Çπ„ÉÜ„É†„ÇíÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
// Phase 1„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñÔºàÂÆâÂÖ®„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂæå„Å´ÂÆüË°åÔºâ
setTimeout(() => {
if (typeof SpeechShorteningManager !== 'undefined') {
SpeechShorteningManager.init();
console.log('üöÄ Phase 1: Áô∫Â£∞Áü≠Á∏ÆÁµ±Âêà„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
}
}, 100);
});
console.log('‚úÖ „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ¨Èñã„Åó„Åæ„Åó„Åü');
console.log('üöÄ Phase 1: Áô∫Â£∞Áü≠Á∏ÆÁµ±Âêà„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
// =================================================================================
// PHASE 1: „Éá„Éê„ÉÉ„Ç∞„Éª‰øÆÂæ©UIÊ©üËÉΩ
// =================================================================================
// Ë®≠ÂÆöÂêåÊúüÁä∂Ê≥ÅÁ¢∫Ë™ç
window.checkShorteningSync = function() {
const debugInfo = document.getElementById('debugInfoContent');
const debugDisplay = document.getElementById('shorteningDebugInfo');
const info = {
timestamp: new Date().toLocaleString(),
phase1: {
enabled: SpeechShorteningManager.settings.enabled,
level: SpeechShorteningManager.settings.level,
maxCharacters: SpeechShorteningManager.settings.maxCharacters,
options: SpeechShorteningManager.settings.options
},
phase0: {
available: !!window.SpeechShorteningEngine,
enabled: window.SpeechShorteningEngine ? window.SpeechShorteningEngine.enabled : 'N/A',
level: window.SpeechShorteningEngine ? window.SpeechShorteningEngine.settings.level : 'N/A',
maxLength: window.SpeechShorteningEngine ? window.SpeechShorteningEngine.settings.maxLength : 'N/A',
features: window.SpeechShorteningEngine ? window.SpeechShorteningEngine.settings.features : 'N/A'
},
syncStatus: '„ÉÅ„Çß„ÉÉ„ÇØ‰∏≠...'
};
// ÂêåÊúüÁä∂Ê≥ÅÂà§ÂÆö
if (!window.SpeechShorteningEngine) {
info.syncStatus = '‚ùå Phase 0„Ç®„É≥„Ç∏„É≥„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì';
} else if (info.phase1.enabled !== info.phase0.enabled) {
info.syncStatus = '‚ö†Ô∏è ÊúâÂäπÁä∂ÊÖã„Åå‰∏ç‰∏ÄËá¥';
} else if (info.phase1.enabled && info.phase0.enabled && info.phase1.level !== info.phase0.level) {
info.syncStatus = '‚ö†Ô∏è Áü≠Á∏Æ„É¨„Éô„É´„Åå‰∏ç‰∏ÄËá¥';
} else if (info.phase1.enabled && info.phase0.enabled) {
info.syncStatus = '‚úÖ ÂêåÊúüÊ∏à„ÅøÔºàÁü≠Á∏Æ„ÅåÂãï‰Ωú„Åó„Å™„ÅÑÂ†¥Âêà„ÅØÂº∑Âà∂ÂêåÊúü„ÇíÂÆüË°åÔºâ';
} else {
info.syncStatus = 'üîÑ ‰∏°Êñπ„Å®„ÇÇÁÑ°ÂäπÁä∂ÊÖã';
}
debugInfo.textContent = JSON.stringify(info, null, 2);
debugDisplay.style.display = 'block';
window.showMessage('info', 'Ë®≠ÂÆöÂêåÊúüÁä∂Ê≥Å„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Åü„ÄÇ‰∏ãË®ò„ÅÆ„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
};
// Âº∑Âà∂ÂêåÊúü‰øÆÂæ©
window.forceShorteningSync = function() {
if (!window.SpeechShorteningEngine) {
window.showMessage('error', 'Phase 0„Ç®„É≥„Ç∏„É≥„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
return;
}
try {
// Phase 1„ÅÆË®≠ÂÆö„ÇíPhase 0„Å´Âº∑Âà∂ÂêåÊúü
window.SpeechShorteningEngine.enabled = SpeechShorteningManager.settings.enabled;
window.SpeechShorteningEngine.settings.level = SpeechShorteningManager.settings.level;
window.SpeechShorteningEngine.settings.maxLength = SpeechShorteningManager.settings.maxCharacters;
// ÂÄãÂà•„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÂêåÊúü
if (SpeechShorteningManager.settings.options) {
const options = SpeechShorteningManager.settings.options;
window.SpeechShorteningEngine.settings.features.greetingShortening = options.shortenGreetings || true;
window.SpeechShorteningEngine.settings.features.politeSimplification = options.shortenHonorific || true;
window.SpeechShorteningEngine.settings.features.themeShortening = options.shortenThemes || true;
window.SpeechShorteningEngine.settings.features.redundancyRemoval = options.removeRedundancy || true;
window.SpeechShorteningEngine.settings.features.characterLimit = true;
}
console.log('üîß Âº∑Âà∂ÂêåÊúüÂÆüË°åÂÆå‰∫Ü');
console.log('Phase 1 enabled:', SpeechShorteningManager.settings.enabled);
console.log('Phase 0 enabled:', window.SpeechShorteningEngine.enabled);
console.log('Phase 1 level:', SpeechShorteningManager.settings.level);
console.log('Phase 0 level:', window.SpeechShorteningEngine.settings.level);
window.showMessage('success', 'Ë®≠ÂÆöÂêåÊúü‰øÆÂæ©„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇÂÜçÂ∫¶„ÉÜ„Çπ„Éà„ÇíÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
// ÂêåÊúüÂæå„ÅÆÁä∂Ê≥ÅÁ¢∫Ë™ç
setTimeout(() => {
window.checkShorteningSync();
}, 500);
} catch (error) {
console.error('‚ùå Âº∑Âà∂ÂêåÊúü„Ç®„É©„Éº:', error);
window.showMessage('error', 'ÂêåÊúü‰øÆÂæ©„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
};
// „Ç®„É≥„Ç∏„É≥Áõ¥Êé•„ÉÜ„Çπ„Éà
window.directShorteningTest = function() {
if (!window.SpeechShorteningEngine) {
window.showMessage('error', 'Phase 0„Ç®„É≥„Ç∏„É≥„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ');
return;
}
const testText = '„Åì„Çì„Å´„Å°„ÅØ„ÄÅÁßÅ„ÅØÊ∑±Â†ÄAI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„ÅÆ„Å≠„Åª„Çä„Éº„ÅÆ„Åß„Åô„ÄÇÊú¨Êó•„ÅØ„ÅäÂøô„Åó„ÅÑ‰∏≠„ÄÅË≤¥Èáç„Å™„ÅäÊôÇÈñì„Çí„ÅÑ„Åü„Å†„Åç„ÄÅË™†„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ';
try {
// „Ç®„É≥„Ç∏„É≥„ÇíÂº∑Âà∂ÊúâÂäπÂåñ„Åó„Å¶„ÉÜ„Çπ„Éà
const originalEnabled = window.SpeechShorteningEngine.enabled;
window.SpeechShorteningEngine.enabled = true;
const result = window.SpeechShorteningEngine.shortenText(testText);
// ÁµêÊûú„Çí„Éá„Éê„ÉÉ„Ç∞Ë°®Á§∫„Å´Âá∫Âäõ
const debugInfo = document.getElementById('debugInfoContent');
const debugDisplay = document.getElementById('shorteningDebugInfo');
const testResult = {
timestamp: new Date().toLocaleString(),
engineStatus: '‚úÖ Phase 0„Ç®„É≥„Ç∏„É≥Áõ¥Êé•„ÉÜ„Çπ„Éà',
originalText: testText,
originalLength: testText.length,
shortenedText: result,
shortenedLength: result.length,
reductionRate: Math.round((1 - result.length / testText.length) * 100) + '%',
engineEnabled: window.SpeechShorteningEngine.enabled,
engineLevel: window.SpeechShorteningEngine.settings.level,
features: window.SpeechShorteningEngine.settings.features
};
debugInfo.textContent = JSON.stringify(testResult, null, 2);
debugDisplay.style.display = 'block';
// ÂÖÉ„ÅÆË®≠ÂÆö„Å´Êàª„Åô
window.SpeechShorteningEngine.enabled = originalEnabled;
if (result === testText) {
window.showMessage('warning', '„Ç®„É≥„Ç∏„É≥„ÅØÂãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„Åô„ÅåÁü≠Á∏Æ„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÁü≠Á∏Æ„É´„Éº„É´„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
} else {
window.showMessage('success', `„Ç®„É≥„Ç∏„É≥Áõ¥Êé•„ÉÜ„Çπ„ÉàÂÆå‰∫Ü: ${testResult.reductionRate}Áü≠Á∏Æ„Åï„Çå„Åæ„Åó„Åü„ÄÇ`);
}
} catch (error) {
console.error('‚ùå Áõ¥Êé•„ÉÜ„Çπ„Éà„Ç®„É©„Éº:', error);
window.showMessage('error', 'Áõ¥Êé•„ÉÜ„Çπ„Éà„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
};
// „Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢
window.clearShorteningCache = function() {
try {
// localStorage „ÇØ„É™„Ç¢
localStorage.removeItem('speechShorteningEnabled');
localStorage.removeItem('speechShorteningSettings');
localStorage.removeItem('speechShorteningEmergencyDisabled');
// Phase 1Ë®≠ÂÆö„Çí„Éá„Éï„Ç©„É´„Éà„Å´„É™„Çª„ÉÉ„Éà
SpeechShorteningManager.settings = {
enabled: false,
level: 3,
maxCharacters: 150,
options: {
shortenGreetings: true,
shortenHonorific: true,
shortenThemes: true,
removeRedundancy: true
}
};
// Phase 0Ë®≠ÂÆö„Çí„Éá„Éï„Ç©„É´„Éà„Å´„É™„Çª„ÉÉ„Éà
if (window.SpeechShorteningEngine) {
window.SpeechShorteningEngine.enabled = false;
window.SpeechShorteningEngine.settings.level = 1;
window.SpeechShorteningEngine.settings.maxLength = 200;
}
// UIÊõ¥Êñ∞
SpeechShorteningManager.updateUI();
// „Éá„Éê„ÉÉ„Ç∞Ë°®Á§∫„Çí„ÇØ„É™„Ç¢
const debugDisplay = document.getElementById('shorteningDebugInfo');
if (debugDisplay) {
debugDisplay.style.display = 'none';
}
window.showMessage('success', '„Ç≠„É£„ÉÉ„Ç∑„É•„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü„ÄÇË®≠ÂÆö„Çí„É™„Çª„ÉÉ„Éà„Åó„Å¶„Åã„ÇâÂÜçÂ∫¶ÊúâÂäπÂåñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
} catch (error) {
console.error('‚ùå „Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢„Ç®„É©„Éº:', error);
window.showMessage('error', '„Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + error.message);
}
};
console.log('üîß „Éá„Éê„ÉÉ„Ç∞„Éª‰øÆÂæ©UIÊ©üËÉΩ„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü');
window.clearApiKey = clearApiKey;
window.changePassword = changePassword;
window.updateSessionStartButton = updateSessionStartButton;
window.update2StepUI = update2StepUI;
// LocalStorageÊìç‰ΩúÈñ¢Êï∞„ÅØapp/storage-manager.js„Å´ÁßªÂãïÊ∏à„Åø
console.log('‚úÖ Step0: API„Ç≠„ÉºË®≠ÂÆö„Ç∑„Çπ„ÉÜ„É†„ÅÆÈñ¢Êï∞„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ¨Èñã„Åó„Åæ„Åó„Åü');
console.log('‚úÖ LocalStorageÊìç‰ΩúÈñ¢Êï∞„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ¨Èñã„Åó„Åæ„Åó„Åü');
// =================================================================================
// Êñ∞Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂá¶ÁêÜ
// =================================================================================
// StateManager„ÅÆÂàùÊúüÂåñ
function initializeVoiceSystem() {
console.log('üöÄ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
try {
// StateManager„ÇØ„É©„Çπ„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof StateManager === 'undefined') {
console.error('‚ùå StateManager„ÇØ„É©„Çπ„ÅåÊú™ÂÆöÁæ©„Åß„Åô');
return false;
}
// „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞„Å®„Åó„Å¶ÂàùÊúüÂåñ
window.stateManager = new StateManager();
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
return true;
} catch (error) {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
window.showMessage('error', 'Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
return false;
}
}
// Êó¢Â≠ò„ÅÆÂàùÊúüÂåñÈñ¢Êï∞„ÇíÁΩÆ„ÅçÊèõ„Åà
function initializeMicrophoneRecording(forceRecheck = false) {
console.log('üé§ „Éû„Ç§„ÇØÂàùÊúüÂåñË¶ÅÊ±ÇÔºàÊñ∞„Ç∑„Çπ„ÉÜ„É†Ôºâ');
// StateManager„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof window.stateManager === 'undefined') {
console.error('‚ùå StateManager„ÅåÊú™ÂÆöÁæ©„Åß„Åô');
return Promise.resolve(false);
}
if (!window.stateManager) {
console.error('‚ùå StateManager„ÅåÊú™ÂàùÊúüÂåñ');
// ÂàùÊúüÂåñ„ÇíË©¶Ë°å
if (initializeVoiceSystem()) {
console.log('‚úÖ StateManagerÂàùÊúüÂåñÊàêÂäü');
} else {
console.error('‚ùå StateManagerÂàùÊúüÂåñÂ§±Êïó');
return Promise.resolve(false);
}
}
return window.stateManager.permissionManager.getPermission();
}
function initializeSpeechRecognition() {
console.log('üîÑ SpeechRecognitionÂàùÊúüÂåñË¶ÅÊ±ÇÔºàÊñ∞„Ç∑„Çπ„ÉÜ„É†Ôºâ');
// StateManager„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if (typeof window.stateManager === 'undefined') {
console.error('‚ùå StateManager„ÅåÊú™ÂÆöÁæ©„Åß„Åô');
return Promise.resolve();
}
if (!window.stateManager) {
console.error('‚ùå StateManager„ÅåÊú™ÂàùÊúüÂåñ');
return Promise.resolve();
}
return window.stateManager.startRecognition();
}
// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
window.initializeVoiceSystem = initializeVoiceSystem;
window.initializeKnowledgeManagement = initializeKnowledgeManagement;
window.initializeKnowledgeSession = initializeKnowledgeSession;
// üß™ Phase 4: „ÉÜ„Çπ„Éà„ÉªÊ§úË®ºÊ©üËÉΩ„Çí„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.testInsightEvaluation = () => VoiceKnowledgeSystem.testInsightEvaluation();
window.performSystemHealthCheck = () => VoiceKnowledgeSystem.performSystemHealthCheck();
window.performAutoRecovery = () => VoiceKnowledgeSystem.performAutoRecovery();
// üõ†Ô∏è „Éá„Éê„ÉÉ„Ç∞Áî®„Ç≥„É≥„ÇΩ„Éº„É´Ê©üËÉΩ
window.debugInsightEvaluation = async function() {
console.log('üõ†Ô∏è Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„Éá„Éê„ÉÉ„Ç∞ÈñãÂßã...');
try {
// 1. ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
console.log('1. „Ç∑„Çπ„ÉÜ„É†ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ');
const healthReport = await VoiceKnowledgeSystem.performSystemHealthCheck();
// 2. ÂøÖË¶Å„Å´Âøú„Åò„Å¶Ëá™ÂãïÂõûÂæ©
if (!healthReport.overall) {
console.log('2. Ëá™ÂãïÂõûÂæ©Ë©¶Ë°å');
const recoveryReport = await VoiceKnowledgeSystem.performAutoRecovery();
console.log('ÂõûÂæ©ÁµêÊûú:', recoveryReport);
}
// 3. „ÉÜ„Çπ„ÉàÂÆüË°å
console.log('3. Áü•Ë¶ãË©ï‰æ°„ÉÜ„Çπ„ÉàÂÆüË°å');
const testReport = await VoiceKnowledgeSystem.testInsightEvaluation();
// 4. ÁµêÊûú„Åæ„Å®„ÇÅ
console.log('üìä „Éá„Éê„ÉÉ„Ç∞ÁµêÊûú„Åæ„Å®„ÇÅ:', {
ÂÅ•ÂÖ®ÊÄß„ÉÅ„Çß„ÉÉ„ÇØ: healthReport.overall ? '‚úÖ Ê≠£Â∏∏' : '‚ùå ÂïèÈ°å„ÅÇ„Çä',
„ÉÜ„Çπ„ÉàÂÆüË°å: testReport.success ? '‚úÖ ÊàêÂäü' : '‚ùå Â§±Êïó',
ÂÆüË°åÊôÇÈñì: `${testReport.duration}ms`,
„Ç®„É©„ÉºÊï∞: testReport.errors.length
});
if (testReport.success) {
console.log('üéâ Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„ÅØÊ≠£Â∏∏„Å´Âãï‰Ωú„Åó„Å¶„ÅÑ„Åæ„ÅôÔºÅ');
} else {
console.log('‚ö†Ô∏è Áü•Ë¶ãË©ï‰æ°„Ç∑„Çπ„ÉÜ„É†„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇË©≥Á¥∞„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
console.log('„Ç®„É©„ÉºË©≥Á¥∞:', testReport.errors);
if (healthReport.recommendations.length > 0) {
console.log('Êé®Â•®ÂØæÂá¶Ê≥ï:', healthReport.recommendations);
}
}
return {
ÂÅ•ÂÖ®ÊÄß: healthReport,
„ÉÜ„Çπ„ÉàÁµêÊûú: testReport
};
} catch (error) {
console.error('‚ùå „Éá„Éê„ÉÉ„Ç∞ÂÆüË°å„Ç®„É©„Éº:', error);
return { error: error.message };
}
};
// DataManagerÂàùÊúüÂåñ
async function initializeDataManager() {
console.log('üìä DataManager ÂàùÊúüÂåñÈñãÂßã...');
try {
if (window.DataManager) {
const success = await window.DataManager.initialize();
if (success) {
console.log('‚úÖ DataManager ÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.error('‚ùå DataManager ÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
} else {
console.error('‚ùå DataManager „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.error('‚ùå DataManager ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}
// FileManagerÂàùÊúüÂåñ
async function initializeFileManager() {
console.log('üìÑ FileManager ÂàùÊúüÂåñÈñãÂßã...');
try {
if (window.FileManager) {
const success = await window.FileManager.initialize();
if (success) {
console.log('‚úÖ FileManager ÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.error('‚ùå FileManager ÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
}
} else {
console.error('‚ùå FileManager „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
} catch (error) {
console.error('‚ùå FileManager ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}
// Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÅÆËá™ÂãïÂàùÊúüÂåñ
document.addEventListener('DOMContentLoaded', function() {
// üîß Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñÔºàÈü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Ââç„Å´ÂÆüË°åÔºâ
setTimeout(async () => {
console.log('üèóÔ∏è Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÈñãÂßã');
try {
await initializeUnifiedStateManager();
console.log('‚úÖ Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
} catch (error) {
console.error('‚ùå Áµ±‰∏ÄÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
}, 30);
// Â∞ë„ÅóÈÅÖÂª∂„Åï„Åõ„Å¶‰ªñ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂàùÊúüÂåñ„ÇíÂæÖ„Å§
setTimeout(() => {
console.log('üöÄ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Ëá™ÂãïÂàùÊúüÂåñÈñãÂßã');
const initialized = initializeVoiceSystem();
if (initialized) {
console.log('‚úÖ Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Ëá™ÂãïÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.error('‚ùå Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†Ëá™ÂãïÂàùÊúüÂåñÂ§±Êïó');
}
}, 50);
// AIManager„ÅÆÂàùÊúüÂåñ
setTimeout(async () => {
console.log('ü§ñ AIManagerËá™ÂãïÂàùÊúüÂåñÈñãÂßã');
if (typeof initializeAIManager === 'function') {
try {
const initialized = await initializeAIManager();
if (initialized) {
console.log('‚úÖ AIManagerËá™ÂãïÂàùÊúüÂåñÂÆå‰∫Ü');
} else {
console.error('‚ùå AIManagerËá™ÂãïÂàùÊúüÂåñÂ§±Êïó');
}
} catch (error) {
console.error('‚ùå AIManagerËá™ÂãïÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
}
} else {
console.error('‚ùå initializeAIManagerÈñ¢Êï∞„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
}
}, 100);
});
console.log('‚úÖ Êñ∞Èü≥Â£∞„Ç∑„Çπ„ÉÜ„É†„ÉªÁü•Ë¶ãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÈñ¢Êï∞„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ¨Èñã„Åó„Åæ„Åó„Åü');
// =================================================================================
// CHROMEÂ∞ÇÁî®„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ - A/B„ÉÜ„Çπ„Éà„Éª„Éû„Ç§„ÇØË®±ÂèØÊúÄÈÅ©Âåñ
// =================================================================================
// üîß ChromeÂ∞ÇÁî®: „Éñ„É©„Ç¶„Ç∂Âà§ÂÆö„Å®ÊúÄÈÅ©Âåñ
function detectBrowserAndOptimize() {
const userAgent = navigator.userAgent;
const isChrome = userAgent.includes('Chrome') && !userAgent.includes('Edge');
const isSafari = userAgent.includes('Safari') && !userAgent.includes('Chrome');
const isFirefox = userAgent.includes('Firefox');
const isEdge = userAgent.includes('Edge');
console.log('üîç „Éñ„É©„Ç¶„Ç∂Âà§ÂÆö:');
console.log(` - Chrome: ${isChrome ? '‚úÖ' : '‚ùå'}`);
console.log(` - Safari: ${isSafari ? '‚úÖ' : '‚ùå'}`);
console.log(` - Firefox: ${isFirefox ? '‚úÖ' : '‚ùå'}`);
console.log(` - Edge: ${isEdge ? '‚úÖ' : '‚ùå'}`);
// ChromeÂ∞ÇÁî®ÊúÄÈÅ©Âåñ„ÅÆËá™ÂãïÈÅ©Áî®
if (isChrome && window.CURRENT_MICROPHONE_STRATEGY !== MICROPHONE_STRATEGY.CONTINUOUS) {
console.log('üéØ ChromeÊ§úÂá∫ - Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÊé®Â•®ÔºàÁúü„ÅÆËß£Ê±∫Á≠ñÔºâ');
console.log('üí° Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Å´Âàá„ÇäÊõø„Åà„Çã„Å´„ÅØ: switchMicrophoneStrategy("continuous")');
}
return {
isChrome,
isSafari,
isFirefox,
isEdge,
userAgent,
recommendation: isChrome ? 'continuous' : 'lightweight'
};
}
// üîß A/B„ÉÜ„Çπ„Éà: Êà¶Áï•Âàá„ÇäÊõø„ÅàÈñ¢Êï∞Ôºà„Ç∞„É≠„Éº„Éê„É´Ôºâ
function switchMicrophoneStrategy(strategy) {
const stateManager = window.AppState?.stateManager || window.stateManager;
if (!stateManager) {
console.error('‚ùå StateManager„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
const validStrategies = Object.values(MICROPHONE_STRATEGY);
if (!validStrategies.includes(strategy)) {
console.error(`‚ùå ÁÑ°Âäπ„Å™Êà¶Áï•: ${strategy}`);
console.log(`üí° ÊúâÂäπ„Å™Êà¶Áï•: ${validStrategies.join(', ')}`);
return false;
}
const success = stateManager.switchStrategy(strategy);
if (success) {
console.log(`‚úÖ Êà¶Áï•Âàá„ÇäÊõø„ÅàÊàêÂäü: ${strategy}`);
console.log('üí° ÂäπÊûú„ÇíÁ¢∫Ë™ç„Åô„Çã„Å´„ÅØ: debugMicrophonePermissionStats()');
}
return success;
}
// üîß A/B„ÉÜ„Çπ„Éà: ÁèæÂú®„ÅÆÊà¶Áï•Ë°®Á§∫
function showCurrentStrategy() {
const strategy = window.CURRENT_MICROPHONE_STRATEGY || 'unknown';
const browserInfo = detectBrowserAndOptimize();
console.log('üéØ ÁèæÂú®„ÅÆ„Éû„Ç§„ÇØË®±ÂèØÊà¶Áï•:');
console.log(` - Êà¶Áï•: ${strategy}`);
console.log(` - „Éñ„É©„Ç¶„Ç∂: ${browserInfo.userAgent}`);
console.log(` - Êé®Â•®Êà¶Áï•: ${browserInfo.recommendation}`);
if (strategy !== browserInfo.recommendation) {
console.log(`üí° Êé®Â•®Êà¶Áï•„Å´Âàá„ÇäÊõø„Åà: switchMicrophoneStrategy("${browserInfo.recommendation}")`);
}
return { strategy, browserInfo };
}
// üîß ChromeÂ∞ÇÁî®: Áµ±Ë®à„É™„Çª„ÉÉ„ÉàÊ©üËÉΩ
function resetMicrophoneStats() {
const stateManager = window.AppState?.stateManager || window.stateManager;
if (!stateManager?.recognitionManager) {
console.error('‚ùå Èü≥Â£∞Ë™çË≠ò„Ç∑„Çπ„ÉÜ„É†„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
return false;
}
const manager = stateManager.recognitionManager;
// PersistentRecognitionManager„ÅÆÂ†¥Âêà
if (manager.stats) {
manager.stats.restartCount = 0;
manager.stats.abortCount = 0;
manager.stats.startTime = Date.now();
manager.stats.lastRestartTime = 0;
console.log('üîÑ ChromeÂ∞ÇÁî®Áµ±Ë®à„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
}
// ÂæìÊù•„ÅÆRecognitionManager„ÅÆÂ†¥Âêà
else if (manager.microphonePermissionManager) {
manager.microphonePermissionManager.completeBefore = 0;
manager.microphonePermissionManager.lightweightCount = 0;
manager.microphonePermissionManager.sessionStartTime = Date.now();
console.log('üîÑ ËªΩÈáè„É™„Çπ„Çø„Éº„ÉàÁµ±Ë®à„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
}
console.log('‚úÖ Áµ±Ë®à„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü - Êñ∞„Åó„ÅÑ„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÈñãÂßã');
return true;
}
// üîß Êñ∞Ê©üËÉΩÔºöÁ∞°Âçò„ÉÜ„Çπ„ÉàÁî®Áµ±Ë®à„É™„Çª„ÉÉ„Éà
function quickResetStats() {
console.log('üöÄ „ÇØ„Ç§„ÉÉ„ÇØÁµ±Ë®à„É™„Çª„ÉÉ„ÉàÈñãÂßã');
// Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„ÅÆÂ†¥Âêà
if (window.stateManager?.recognitionManager?.resetStats) {
const success = window.stateManager.recognitionManager.resetStats();
if (success) {
console.log('üéØ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òÁµ±Ë®à„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
console.log('üí° ÁèæÂú®„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥„ÅØÁ∂ôÁ∂ö‰∏≠ - Ê¨°„ÅÆÁô∫Ë©±„Åã„ÇâÊñ∞„Åó„ÅÑÁµ±Ë®àÈñãÂßã');
console.log('üìä 1-2Âõû„ÅÆÁü≠„ÅÑÁô∫Ë©±„ÅßÂäπÊûú„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
console.log('üîç Á¢∫Ë™çÊñπÊ≥ï: debugMicrophonePermissionStats()');
return true;
}
}
// ÂæìÊù•„ÅÆÊñπÊ≥ï„ÇÇ„Çµ„Éù„Éº„Éà
const legacySuccess = resetMicrophoneStats();
if (legacySuccess) {
console.log('üéØ ÂæìÊù•Áµ±Ë®à„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
return true;
}
console.log('‚ùå Áµ±Ë®à„É™„Çª„ÉÉ„ÉàÂ§±Êïó');
return false;
}
// üîß ChromeÂ∞ÇÁî®: ÂåÖÊã¨ÁöÑ„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ
function debugChromeOptimization() {
console.log('üéØ ChromeÂ∞ÇÁî®„Éû„Ç§„ÇØË®±ÂèØÊúÄÈÅ©Âåñ„Éá„Éê„ÉÉ„Ç∞:');
// „Éñ„É©„Ç¶„Ç∂Âà§ÂÆö
const browserInfo = detectBrowserAndOptimize();
console.log('');
// ÁèæÂú®„ÅÆÊà¶Áï•Ë°®Á§∫
const strategyInfo = showCurrentStrategy();
console.log('');
// Áµ±Ë®àÊÉÖÂ†±Ë°®Á§∫
const stats = debugMicrophonePermissionStats();
console.log('');
// Êé®Â•®‰∫ãÈ†Ö
console.log('üéØ ÊúÄÈÅ©ÂåñÊé®Â•®‰∫ãÈ†Ö:');
if (browserInfo.isChrome && strategyInfo.strategy !== 'persistent') {
console.log(' 1. ChromeÂ∞ÇÁî®Êà¶Áï•„Å´Âàá„ÇäÊõø„Åà: switchMicrophoneStrategy("persistent")');
}
if (stats && stats.efficiency < 80) {
console.log(' 2. Áµ±Ë®à„Çí„É™„Çª„ÉÉ„Éà: resetMicrophoneStats()');
console.log(' 3. „Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø');
}
if (browserInfo.isChrome && strategyInfo.strategy === 'persistent') {
console.log(' ‚úÖ Êó¢„Å´ChromeÂ∞ÇÁî®Êà¶Áï•„ÅßÊúÄÈÅ©ÂåñÊ∏à„Åø');
}
return {
browser: browserInfo,
strategy: strategyInfo,
stats: stats
};
}
// üîß ChromeÂ∞ÇÁî®: Ëá™ÂãïÊúÄÈÅ©ÂåñÊ©üËÉΩ
function autoOptimizeChromeStrategy() {
const browserInfo = detectBrowserAndOptimize();
if (browserInfo.isChrome && window.CURRENT_MICROPHONE_STRATEGY !== MICROPHONE_STRATEGY.CONTINUOUS) {
console.log('üéØ ChromeÊ§úÂá∫ - Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠òËá™ÂãïÈÅ©Áî®ÔºàÁúü„ÅÆËß£Ê±∫Á≠ñÔºâ');
const success = switchMicrophoneStrategy('continuous');
if (success) {
console.log('‚úÖ Á∂ôÁ∂öÁöÑÈü≥Â£∞Ë™çË≠ò„Å´Ëá™ÂãïÂàá„ÇäÊõø„ÅàÂÆå‰∫Ü');
console.log('üí° ÂäπÊûú„ÇíÁ¢∫Ë™ç„Åô„Çã„Å´„ÅØ: debugMicrophonePermissionStats()');
console.log('üéØ „Åì„Çå„Åß„Éû„Ç§„ÇØË®±ÂèØ„Ç¢„É©„Éº„Éà„ÅØÂÆåÂÖ®„Å´Ëß£Ê∂à„Åï„Çå„Åæ„Åô');
}
return success;
}
console.log('‚ö†Ô∏è Chrome‰ª•Â§ñ„ÅÆ„Éñ„É©„Ç¶„Ç∂„Åæ„Åü„ÅØÊó¢„Å´ÊúÄÈÅ©ÂåñÊ∏à„Åø');
return false;
}
// „Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.detectBrowserAndOptimize = detectBrowserAndOptimize;
window.switchMicrophoneStrategy = switchMicrophoneStrategy;
window.showCurrentStrategy = showCurrentStrategy;
window.resetMicrophoneStats = resetMicrophoneStats;
window.quickResetStats = quickResetStats;
window.debugChromeOptimization = debugChromeOptimization;
window.autoOptimizeChromeStrategy = autoOptimizeChromeStrategy;
console.log('üéØ ChromeÂ∞ÇÁî®„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ„ÇíÂÖ¨Èñã„Åó„Åæ„Åó„Åü');
console.log('üí° ChromeÊúÄÈÅ©Âåñ: autoOptimizeChromeStrategy() | ÂåÖÊã¨„Éá„Éê„ÉÉ„Ç∞: debugChromeOptimization()');
console.log('üöÄ Á∞°Âçò„ÉÜ„Çπ„Éà: quickResetStats() | Áµ±Ë®àÁ¢∫Ë™ç: debugMicrophonePermissionStats()');
// ChromeËá™ÂãïÊúÄÈÅ©Âåñ
if (navigator.userAgent.includes('Chrome')) {
console.log('üéØ ChromeÊ§úÂá∫ - Ëá™ÂãïÊúÄÈÅ©Âåñ„ÇíÊèêÊ°à„Åó„Åæ„Åô');
console.log('üí° Ëá™ÂãïÊúÄÈÅ©Âåñ„ÇíÂÆüË°å„Åô„Çã„Å´„ÅØ: autoOptimizeChromeStrategy()');
}
// =================================================================================
// VoicePhase2ManagerÁî®„ÅÆÈñ¢Êï∞„Çí„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
// =================================================================================
// üîß VoicePhase2ManagerÁî®„ÅÆÈñ¢Êï∞„Çí„Ç∞„É≠„Éº„Éê„É´ÂÖ¨Èñã
window.gptMessagesToCharacterResponse = gptMessagesToCharacterResponse;
window.ttsTextToAudioBlob = ttsTextToAudioBlob;
window.addMessageToChat = addMessageToChat;
window.playPreGeneratedAudio = playPreGeneratedAudio;
console.log('‚úÖ VoicePhase2Manager‰æùÂ≠òÈñ¢Êï∞„Çí„Ç∞„É≠„Éº„Éê„É´ÂÖ¨ÈñãÂÆå‰∫Ü');
// =================================================================================
// üß™ Ëá™Âãï„ÉÜ„Çπ„Éà„ÉªÁõ£Ë¶ñ„Ç∑„Çπ„ÉÜ„É† - „É¶„Éº„Ç∂„Éº„ÉÜ„Çπ„ÉàË≤†Ëç∑ËªΩÊ∏õ
// =================================================================================
</script>
</body>
</html>