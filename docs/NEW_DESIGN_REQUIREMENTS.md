# 新デザイン要件と実装方針

## 🎯 基本方針
- **ユーザー中心設計**: 企業セッションでの実用性を最優先
- **シンプル操作**: 必要最小限の操作で最大の効果
- **モバイルフレンドリー**: 様々なデバイスでの使いやすさ
- **視覚的フィードバック**: 状態を色とテキストで明確に表示

## 🔧 システム構成

### 1. 音声認識システム
- **完全移行**: 新システムへの完全移行、既存コード削除
- **統一状態管理**: 6つの音声認識状態を統一管理
- **自動復旧**: エラー時の自動再開機能

### 2. UI構成

#### 中央下部（統合コントロール）
- **マイク状態表示**
  - アイコンサイズ: 適度なサイズ（色で判別重視）
  - 状態テキスト: マイク横に常時表示
  - 背景色: マイク色と連動させない（視覚的ノイズ回避）
- **操作ボタン**
  - 一時停止/再開（トグル）
  - セッション終了

#### 右パネル（情報表示）
1. ロゴ
2. キャラクター状態（話者による背景変化）
3. 抽出された知見
4. 知見記録設定
5. データ管理

#### 下部（リアルタイム音声認識）
- 会話エリアとは分離
- リアルタイム更新必須

## 🎨 視覚的フィードバック

### マイク状態表示
```
Gray + 'starting': '認識を開始中...'
Green + 'active': '認識中'
Yellow + 'stopping': '認識を一時停止中 - →で再開'
Red + 'error': '認識エラー - 自動再開試行中'
Red + 'network-error': 'エラー - 自動再開試行中'
Red + 'permission-denied': 'マイクの許可が必要です'
```

### 右パネル背景変化
- **はほりー話中**: 薄い青背景 + 微妙な脈動効果
- **ねほりー話中**: 薄い緑背景 + 微妙な脈動効果
- **アニメーション**: 軽い実装でパフォーマンス重視

## 🔄 機能仕様

### 1. 音声認識エラー対応
- **自動復旧**: エラー時に自動的に再開を試行
- **状態表示**: 自動再開試行中の明確な表示
- **手動復旧**: 自動再開失敗時のユーザー操作対応

### 2. セッション終了
- **確認ダイアログ**: 「セッションを終了しますか？」
- **知見保存**: 常に自動保存

### 3. モバイル対応
- **パネル制御**: 左/右パネルの開閉機能
- **折りたたみ**: 不要（シンプル化）
- **詳細実装**: 後回し

## 🚫 削除要素
- ログインデモ
- 重複状態表示
- 混乱を招くメッセージ
- 不要な設定項目

## 🔧 技術的確認事項

### 実装済み確認
- ✅ 新システム移行: 既存音声認識コード完全削除OK
- ✅ 縦700px対応: OK
- ✅ モバイル対応: 後回しでOK

### 実装必要項目
- **状態管理**: 6つの音声認識状態の統一管理
- **リアルタイム更新**: 音声認識テキストの即座更新
- **パフォーマンス**: 軽いアニメーション実装
- **自動復旧**: エラー時の自動再開ロジック

## 📋 実装優先順位

### Phase 1: 核心機能
1. 音声認識システム統一
2. マイク状態表示
3. 基本操作（一時停止/再開/終了）
4. リアルタイム音声認識表示

### Phase 2: 視覚的改善
1. 右パネル背景変化
2. 脈動アニメーション
3. 状態テキスト表示

### Phase 3: 最適化
1. 自動復旧システム
2. エラーハンドリング
3. パフォーマンス調整

## 🎯 設計原則
- **一貫性**: 全ての状態表示で統一されたデザイン
- **明確性**: ユーザーが現在の状態を即座に理解できる
- **応答性**: 状態変化に対する即座のフィードバック
- **信頼性**: エラー時の自動復旧で中断のない体験 