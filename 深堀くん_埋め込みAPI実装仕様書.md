# æ·±å €ãã‚“v2.0 - åŸ‹ã‚è¾¼ã¿API Keyå®Ÿè£…ä»•æ§˜æ›¸

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ç›®çš„**: ä¼æ¥­é…å¸ƒå‘ã‘ã®æš—å·åŒ–API KeyåŸ‹ã‚è¾¼ã¿æ©Ÿèƒ½ã‚’æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã«çµ±åˆ  
**æ–¹é‡**: æœ€å¤§é™ã®ãƒªã‚¹ã‚¯ãƒ˜ãƒƒã‚¸ãƒ»æ®µéšçš„å®Ÿè£…ãƒ»æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ æœ€å¤§æ´»ç”¨  
**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: åˆ©ä¾¿æ€§é‡è¦–ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã¯æ‰¿çŸ¥ã®ä¸Šï¼‰

---

## ğŸ” æš—å·åŒ–ä»•æ§˜

### **äºŒé‡æš—å·åŒ–ã‚·ã‚¹ãƒ†ãƒ **
```
[API Key] 
    â†“ åŸ‹ã‚è¾¼ã¿æ™‚æš—å·åŒ–ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: "irobakuf"ï¼‰
[åŸ‹ã‚è¾¼ã¿æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿] 
    â†“ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ™‚å¾©å·åŒ–
[ç”ŸAPI Key] 
    â†“ ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜æ™‚å†æš—å·åŒ–ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼‰ 
[LocalStorageæš—å·åŒ–ãƒ‡ãƒ¼ã‚¿]
```

### **å¾©å·åŒ–ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**
- **å›ºå®šãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `"irobakuf"`
- **ç”¨é€”**: ã‚¢ãƒ—ãƒªåŸ‹ã‚è¾¼ã¿æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ã®å¾©å·åŒ–
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›**: Step0ç”»é¢ã§ã€Œä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ã¨ã—ã¦å…¥åŠ›

---

## ğŸ“‹ å®Œå…¨TODOä¸€è¦§

### **Phase 0: å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»æº–å‚™ãƒ•ã‚§ãƒ¼ã‚º**
- [ ] **backup_001**: å®Ÿè£…å‰å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ - å…¨ãƒ•ã‚¡ã‚¤ãƒ«
- [ ] **backup_002**: git stash/commit ã§ç¾åœ¨çŠ¶æ…‹ä¿å­˜
- [ ] **backup_003**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ã®å‹•ä½œç¢ºèªãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ’®å½±
- [ ] **analysis_001**: API keyé–¢é€£ã®å…¨é–¢æ•°ãƒ»ä¾å­˜é–¢ä¿‚ã®æœ€çµ‚ç¢ºèª
- [ ] **analysis_002**: æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè¡Œãƒ»çµæœè¨˜éŒ²
- [ ] **preparation_001**: æš—å·åŒ–ç”¨ãƒ†ã‚¹ãƒˆAPI keyæº–å‚™
- [ ] **preparation_002**: ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèªï¼ˆ"irobakuf"ï¼‰

### **Phase 1: æš—å·åŒ–åŸºç›¤æ§‹ç¯‰ãƒ•ã‚§ãƒ¼ã‚º**
- [ ] **phase1_001**: æš—å·åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ (tools/encrypt-api-key.js)
- [ ] **phase1_002**: åŸ‹ã‚è¾¼ã¿API keyç®¡ç†ã‚¯ãƒ©ã‚¹è¨­è¨ˆãƒ»å®Ÿè£… (app/embedded-api-manager.js)
- [ ] **phase1_003**: æ—¢å­˜CryptoJSæ´»ç”¨ã®æš—å·åŒ–ãƒ»å¾©å·åŒ–ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [ ] **phase1_004**: å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆãƒ»å®Ÿè¡Œ (tests/embedded-api-test.html)
- [ ] **phase1_005**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ (å¾©å·åŒ–æˆåŠŸãƒ»å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³)
- [ ] **phase1_006**: ãƒ¡ãƒ¢ãƒªã‚¯ãƒªã‚¢æ©Ÿèƒ½å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆ

### **Phase 2: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ•ã‚§ãƒ¼ã‚º**
- [ ] **phase2_001**: StorageManageræ‹¡å¼µ - åŸ‹ã‚è¾¼ã¿API keyã‚µãƒãƒ¼ãƒˆè¿½åŠ 
- [ ] **phase2_002**: å„ªå…ˆé †ä½åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£… (getApiKeyWithPriority)
- [ ] **phase2_003**: isApiKeyConfiguredé–¢æ•°æ‹¡å¼µ - åŸ‹ã‚è¾¼ã¿API keyè€ƒæ…®
- [ ] **phase2_004**: AppStateæ‹¡å¼µ - apiKeySourceãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- [ ] **phase2_005**: testApiConnectionçµ±åˆ - åŸ‹ã‚è¾¼ã¿API keyå¯¾å¿œ
- [ ] **phase2_006**: çµ±åˆãƒ†ã‚¹ãƒˆ - æ—¢å­˜æ©Ÿèƒ½ã¨ã®æ•´åˆæ€§ç¢ºèª

### **Phase 3: UIçµ±åˆãƒ»Step0æ‹¡å¼µãƒ•ã‚§ãƒ¼ã‚º**
- [ ] **phase3_001**: Step0ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µ - ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 
- [ ] **phase3_002**: æ·±å €ãã‚“.htmlä¿®æ­£ - ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰UIè¿½åŠ 
- [ ] **phase3_003**: ApiKeySetupModuleæ‹¡å¼µ - ä¼æ¥­èªè¨¼æ©Ÿèƒ½è¿½åŠ 
- [ ] **phase3_004**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºçµ±åˆ - ä¼æ¥­èªè¨¼ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ 
- [ ] **phase3_005**: UIãƒ†ã‚¹ãƒˆ - ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ•ãƒ­ãƒ¼ç¢ºèª
- [ ] **phase3_006**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ç¢ºèª - ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºãƒ†ã‚¹ãƒˆ

### **Phase 4: æœ€çµ‚ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ã‚§ãƒ¼ã‚º**
- [ ] **phase4_001**: ç·åˆãƒ†ã‚¹ãƒˆ - å…¨ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] **phase4_002**: å›å¸°ãƒ†ã‚¹ãƒˆ - æ—¢å­˜æ©Ÿèƒ½å…¨ä½“ã®å‹•ä½œç¢ºèª
- [ ] **phase4_003**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ - èµ·å‹•æ™‚é–“ãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç¢ºèª
- [ ] **phase4_004**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ - ä¸æ­£ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç­‰
- [ ] **phase4_005**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ - ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚¬ã‚¤ãƒ‰
- [ ] **phase4_006**: ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †æ›¸ä½œæˆ - ç·Šæ€¥æ™‚å¾©æ—§æ–¹æ³•

---

## ğŸ—ï¸ æŠ€è¡“ä»•æ§˜è©³ç´°

### **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ æ´»ç”¨**
- **æš—å·åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: æ—¢å­˜CryptoJS (https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js)
- **æš—å·åŒ–æ–¹å¼**: æ—¢å­˜AES + PBKDF2 (1000å›åå¾©)
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥**: æ—¢å­˜hashPasswordé–¢æ•°æ´»ç”¨
- **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º**: æ—¢å­˜window.showMessageæ´»ç”¨
- **UI**: æ—¢å­˜Step0ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µ

### **å„ªå…ˆé †ä½åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯**
```javascript
function getApiKeyWithPriority() {
    // 1. è¨­å®šç”»é¢API key (æœ€å„ªå…ˆ)
    if (window.StorageManager.apiKey.getCount() > 0) {
        return loadUserApiKey();
    }
    
    // 2. åŸ‹ã‚è¾¼ã¿ä¼æ¥­API key
    if (isEmbeddedApiKeyAuthenticated()) {
        return getEmbeddedApiKey();
    }
    
    // 3. æœªè¨­å®š
    return null;
}
```

### **çŠ¶æ…‹ç®¡ç†æ‹¡å¼µ**
```javascript
// AppStateæ‹¡å¼µï¼ˆæœ€å°é™ï¼‰
AppState.apiKeySource = 'user' | 'embedded' | null;
AppState.embeddedAuthenticated = false;

// LocalStorageè¿½åŠ é …ç›®
localStorage: {
    'fukabori_embedded_auth': 'authenticated' | null,
    'fukabori_embedded_feature': 'true' | 'false'
}
```

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
æ·±å €ã‚¢ãƒ—ãƒª/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ embedded-api-manager.js     # æ–°è¦ï¼šåŸ‹ã‚è¾¼ã¿APIç®¡ç†
â”‚   â”œâ”€â”€ storage-manager.js          # æ‹¡å¼µï¼šå„ªå…ˆé †ä½åˆ¶å¾¡è¿½åŠ 
â”‚   â”œâ”€â”€ api-key-setup.js           # æ‹¡å¼µï¼šä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¯¾å¿œ
â”‚   â””â”€â”€ script.js                  # è»½å¾®ä¿®æ­£ï¼šçµ±åˆå‘¼ã³å‡ºã—
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ encrypt-api-key.js         # æ–°è¦ï¼šæš—å·åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ embedded-api-test.html     # æ–°è¦ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ integration-test.html      # æ‹¡å¼µï¼šçµ±åˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ æ·±å €ãã‚“.html                  # è»½å¾®ä¿®æ­£ï¼šUIæ‹¡å¼µ
```

---

## ğŸ›¡ï¸ ãƒªã‚¹ã‚¯ãƒ˜ãƒƒã‚¸æˆ¦ç•¥

### **1. å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**
```bash
# å®Ÿè£…å‰å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
backup_embedded_api_$(date +%Y%m%d_%H%M%S)/
â”œâ”€â”€ å…¨ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ ç¾åœ¨ã®Liveç’°å¢ƒã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ  
â”œâ”€â”€ æ—¢å­˜ãƒ†ã‚¹ãƒˆçµæœ
â””â”€â”€ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¾¤
```

### **2. æ©Ÿèƒ½ãƒ•ãƒ©ã‚°åˆ¶å¾¡**
```javascript
// ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨é–¢æ•°ï¼ˆå¸¸æ™‚åˆ©ç”¨å¯èƒ½ï¼‰
window.emergencyRollback = function() {
    localStorage.setItem('fukabori_embedded_feature', 'false');
    localStorage.removeItem('fukabori_embedded_auth');
    location.reload();
};
```

### **3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
```javascript
// å…¨ã¦ã®æ–°æ©Ÿèƒ½ã‚’try-catchå›²ã„
try {
    // æ–°æ©Ÿèƒ½å®Ÿè¡Œ
} catch (error) {
    console.error('åŸ‹ã‚è¾¼ã¿APIæ©Ÿèƒ½ã‚¨ãƒ©ãƒ¼:', error);
    // æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    return fallbackToOriginalSystem();
}
```

---

## ğŸ“š æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ å‚è€ƒè³‡æ–™

### **é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§**
| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | é‡è¦åº¦ |
|----------|------|--------|
| `app/storage-manager.js` | æš—å·åŒ–ãƒ»LocalStorageç®¡ç† | â­â­â­â­â­ |
| `app/api-key-setup.js` | Step0ã‚·ã‚¹ãƒ†ãƒ ãƒ»åˆå›è¨­å®š | â­â­â­â­â­ |
| `æ·±å €ãã‚“.html` | UIãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«å®šç¾© | â­â­â­â­ |
| `app/script.js` | ãƒ¡ã‚¤ãƒ³å‡¦ç†ãƒ»APIæ¥ç¶šãƒ†ã‚¹ãƒˆ | â­â­â­â­ |
| `app/utils.js` | ãƒãƒƒã‚·ãƒ¥åŒ–ãƒ»æš—å·åŒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | â­â­â­ |

### **æ—¢å­˜æš—å·åŒ–ã‚·ã‚¹ãƒ†ãƒ **
```javascript
// app/storage-manager.js - è¡Œ48-61
function encryptApiKey(apiKey, password) {
    const key = CryptoJS.PBKDF2(password, 'fukabori-salt', {
        keySize: 256/32,
        iterations: 1000
    });
    const encrypted = CryptoJS.AES.encrypt(apiKey, key.toString());
    return encrypted.toString();
}
```

### **æ—¢å­˜ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥**
```javascript
// app/utils.js - è¡Œ115-130
function hashPassword(password) {
    let hash = 0;
    for (let i = 0; i < password.length; i++) {
        const char = password.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
    }
    return Math.abs(hash).toString(36);
}
```

### **æ—¢å­˜APIæ¥ç¶šãƒ†ã‚¹ãƒˆ**
```javascript
// app/script.js - è¡Œ3302-3370
async function testApiConnection() {
    if (!AppState.apiKey) {
        return false;
    }
    
    try {
        const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${AppState.apiKey}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                model: 'gpt-4o-mini',
                messages: [{ role: 'user', content: 'Hello' }],
                max_tokens: 5
            })
        });
        
        return response.ok;
    } catch (error) {
        console.error('âŒ APIæ¥ç¶šãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼:', error);
        return false;
    }
}
```

---

## ğŸ” æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç®¡ç†

### **AppStateæ§‹é€ **
```javascript
// app/script.jså†…ã§å®šç¾©
const AppState = {
    apiKey: null,           // ç¾åœ¨ã®API key
    sessionActive: false,   // ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹
    currentTheme: null,     // ç¾åœ¨ã®ãƒ†ãƒ¼ãƒ
    // æ‹¡å¼µäºˆå®š
    apiKeySource: null,     // 'user' | 'embedded' | null
    embeddedAuthenticated: false
};
```

### **LocalStorageä½¿ç”¨çŠ¶æ³**
```javascript
// æ—¢å­˜ã®LocalStorageã‚­ãƒ¼
'fukabori_encrypted_key_${passwordHash}' // æš—å·åŒ–API key
'fukabori_key_timestamp_${passwordHash}' // API keyä¿å­˜æ™‚åˆ»
'fukabori_password_hashes'               // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ãƒªã‚¹ãƒˆ
'fukabori_login_state'                   // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹
'fukabori_theme_input'                   // ãƒ†ãƒ¼ãƒå…¥åŠ›çŠ¶æ…‹

// è¿½åŠ äºˆå®šã‚­ãƒ¼
'fukabori_embedded_auth'                 // ä¼æ¥­èªè¨¼çŠ¶æ…‹
'fukabori_embedded_feature'              // æ©Ÿèƒ½æœ‰åŠ¹/ç„¡åŠ¹ãƒ•ãƒ©ã‚°
```

---

## ğŸš€ å®Ÿè£…é–‹å§‹æ‰‹é †

### **é–‹ç™ºç’°å¢ƒæº–å‚™**
1. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼èµ·å‹•: `python3 -m http.server 8000`
2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹: `http://localhost:8000/æ·±å €ãã‚“.html`
3. é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«é–‹ã: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ç¢ºèª

### **Phase 0ã‹ã‚‰é–‹å§‹**
```bash
# å®Ÿè£…å‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
mkdir backup_embedded_api_$(date +%Y%m%d_%H%M%S)
cp -r app/ backup_embedded_api_*/
cp æ·±å €ãã‚“.html backup_embedded_api_*/

# ç¾åœ¨ã®å‹•ä½œç¢ºèªãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ’®å½±
# â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã§æ·±å €ãã‚“.htmlã‚’é–‹ã„ã¦å‹•ä½œç¢ºèª
```

---

## âš¡ é‡è¦ãªå®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ

### **1. æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å…±å­˜**
- æ—¢å­˜ã®API keyç®¡ç†æ©Ÿèƒ½ã¯å®Œå…¨ä¿æŒ
- æ–°æ©Ÿèƒ½ã¯æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ã‚’ä¸ãˆãªã„è¨­è¨ˆ
- å„ªå…ˆé †ä½: è¨­å®šç”»é¢API key > åŸ‹ã‚è¾¼ã¿API key

### **2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é…æ…®ï¼ˆç¾å®Ÿçš„ç¯„å›²ï¼‰**
- å¾©å·åŒ–å¾Œã¯æ—¢å­˜ã®æš—å·åŒ–ã‚·ã‚¹ãƒ†ãƒ ã§å†ä¿è­·
- ãƒ¡ãƒ¢ãƒªã‚¯ãƒªã‚¢æ©Ÿèƒ½å®Ÿè£…
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ï¼ˆ30åˆ†ï¼‰
- æ©Ÿèƒ½ç„¡åŠ¹åŒ–ãƒ•ãƒ©ã‚°

### **3. UI/UXçµ±åˆ**
- æ—¢å­˜Step0ã‚·ã‚¹ãƒ†ãƒ ã®è‡ªç„¶ãªæ‹¡å¼µ
- æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨æ´»ç”¨
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€è²«æ€§

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### **ç·Šæ€¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œ
window.emergencyRollback();
```

### **ãƒ‡ãƒãƒƒã‚°ç”¨é–¢æ•°**
```javascript
// é–‹ç™ºä¸­ã®ãƒ‡ãƒãƒƒã‚°ç”¨
window.debugEmbeddedApi = function() {
    console.log('AppState:', AppState);
    console.log('LocalStorage keys:', Object.keys(localStorage));
    console.log('Embedded auth:', localStorage.getItem('fukabori_embedded_auth'));
};
```

---

## âœ… å®Ÿè£…å®Œäº†åŸºæº–

- [ ] å…¨TODOã‚¢ã‚¤ãƒ†ãƒ ã®å®Œäº†
- [ ] æ—¢å­˜æ©Ÿèƒ½ã®å®Œå…¨å‹•ä½œç¢ºèª
- [ ] ä¼æ¥­ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å‹•ä½œç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œãªã—
- [ ] ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã®å‹•ä½œç¢ºèª

---

**å®Ÿè£…é–‹å§‹æº–å‚™å®Œäº†ï¼Phase 0ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰æ®µéšçš„ã«é–‹å§‹ã—ã¦ãã ã•ã„ã€‚** 